#!/usr/bin/env node

import { createRequire } from 'module';
const require = createRequire(import.meta.url);

var MS=Object.create;var Fu=Object.defineProperty;var US=Object.getOwnPropertyDescriptor;var NS=Object.getOwnPropertyNames;var $S=Object.getPrototypeOf,LS=Object.prototype.hasOwnProperty;var Ae=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var j=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),qS=(e,t)=>{for(var r in t)Fu(e,r,{get:t[r],enumerable:!0})},zS=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of NS(t))!LS.call(e,s)&&s!==r&&Fu(e,s,{get:()=>t[s],enumerable:!(n=US(t,s))||n.enumerable});return e};var Te=(e,t,r)=>(r=e!=null?MS($S(e)):{},zS(t||!e||!e.__esModule?Fu(r,"default",{value:e,enumerable:!0}):r,e));var $m=j((Jo,Nm)=>{(function(e,t){typeof Jo=="object"&&typeof Nm<"u"?t(Jo):typeof define=="function"&&define.amd?define(["exports"],t):t(e.URI=e.URI||{})})(Jo,(function(e){"use strict";function t(){for(var w=arguments.length,_=Array(w),S=0;S<w;S++)_[S]=arguments[S];if(_.length>1){_[0]=_[0].slice(0,-1);for(var D=_.length-1,U=1;U<D;++U)_[U]=_[U].slice(1,-1);return _[D]=_[D].slice(1),_.join("")}else return _[0]}function r(w){return"(?:"+w+")"}function n(w){return w===void 0?"undefined":w===null?"null":Object.prototype.toString.call(w).split(" ").pop().split("]").shift().toLowerCase()}function s(w){return w.toUpperCase()}function i(w){return w!=null?w instanceof Array?w:typeof w.length!="number"||w.split||w.setInterval||w.call?[w]:Array.prototype.slice.call(w):[]}function a(w,_){var S=w;if(_)for(var D in _)S[D]=_[D];return S}function o(w){var _="[A-Za-z]",S="[\\x0D]",D="[0-9]",U="[\\x22]",re=t(D,"[A-Fa-f]"),me="[\\x0A]",ke="[\\x20]",Ce=r(r("%[EFef]"+re+"%"+re+re+"%"+re+re)+"|"+r("%[89A-Fa-f]"+re+"%"+re+re)+"|"+r("%"+re+re)),rt="[\\:\\/\\?\\#\\[\\]\\@]",we="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",He=t(rt,we),st=w?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",qe=w?"[\\uE000-\\uF8FF]":"[]",Se=t(_,D,"[\\-\\.\\_\\~]",st),Je=r(_+t(_,D,"[\\+\\-\\.]")+"*"),Re=r(r(Ce+"|"+t(Se,we,"[\\:]"))+"*"),Js=r(r("25[0-5]")+"|"+r("2[0-4]"+D)+"|"+r("1"+D+D)+"|"+r("[1-9]"+D)+"|"+D),Kt=r(r("25[0-5]")+"|"+r("2[0-4]"+D)+"|"+r("1"+D+D)+"|"+r("0?[1-9]"+D)+"|0?0?"+D),tr=r(Kt+"\\."+Kt+"\\."+Kt+"\\."+Kt),Oe=r(re+"{1,4}"),Wt=r(r(Oe+"\\:"+Oe)+"|"+tr),rr=r(r(Oe+"\\:")+"{6}"+Wt),Or=r("\\:\\:"+r(Oe+"\\:")+"{5}"+Wt),Ks=r(r(Oe)+"?\\:\\:"+r(Oe+"\\:")+"{4}"+Wt),ts=r(r(r(Oe+"\\:")+"{0,1}"+Oe)+"?\\:\\:"+r(Oe+"\\:")+"{3}"+Wt),Ji=r(r(r(Oe+"\\:")+"{0,2}"+Oe)+"?\\:\\:"+r(Oe+"\\:")+"{2}"+Wt),_o=r(r(r(Oe+"\\:")+"{0,3}"+Oe)+"?\\:\\:"+Oe+"\\:"+Wt),bo=r(r(r(Oe+"\\:")+"{0,4}"+Oe)+"?\\:\\:"+Wt),Ln=r(r(r(Oe+"\\:")+"{0,5}"+Oe)+"?\\:\\:"+Oe),qn=r(r(r(Oe+"\\:")+"{0,6}"+Oe)+"?\\:\\:"),rs=r([rr,Or,Ks,ts,Ji,_o,bo,Ln,qn].join("|")),zn=r(r(Se+"|"+Ce)+"+"),qu=r(rs+"\\%25"+zn),Ws=r(rs+r("\\%25|\\%(?!"+re+"{2})")+zn),RS=r("[vV]"+re+"+\\."+t(Se,we,"[\\:]")+"+"),IS=r("\\["+r(Ws+"|"+rs+"|"+RS)+"\\]"),em=r(r(Ce+"|"+t(Se,we))+"*"),Ki=r(IS+"|"+tr+"(?!"+em+")|"+em),Wi=r(D+"*"),tm=r(r(Re+"@")+"?"+Ki+r("\\:"+Wi)+"?"),Gi=r(Ce+"|"+t(Se,we,"[\\:\\@]")),OS=r(Gi+"*"),rm=r(Gi+"+"),TS=r(r(Ce+"|"+t(Se,we,"[\\@]"))+"+"),ss=r(r("\\/"+OS)+"*"),Fn=r("\\/"+r(rm+ss)+"?"),zu=r(TS+ss),wo=r(rm+ss),Vn="(?!"+Gi+")",uM=r(ss+"|"+Fn+"|"+zu+"|"+wo+"|"+Vn),Bn=r(r(Gi+"|"+t("[\\/\\?]",qe))+"*"),Zi=r(r(Gi+"|[\\/\\?]")+"*"),sm=r(r("\\/\\/"+tm+ss)+"|"+Fn+"|"+wo+"|"+Vn),jS=r(Je+"\\:"+sm+r("\\?"+Bn)+"?"+r("\\#"+Zi)+"?"),DS=r(r("\\/\\/"+tm+ss)+"|"+Fn+"|"+zu+"|"+Vn),AS=r(DS+r("\\?"+Bn)+"?"+r("\\#"+Zi)+"?"),dM=r(jS+"|"+AS),hM=r(Je+"\\:"+sm+r("\\?"+Bn)+"?"),fM="^("+Je+")\\:"+r(r("\\/\\/("+r("("+Re+")@")+"?("+Ki+")"+r("\\:("+Wi+")")+"?)")+"?("+ss+"|"+Fn+"|"+wo+"|"+Vn+")")+r("\\?("+Bn+")")+"?"+r("\\#("+Zi+")")+"?$",pM="^(){0}"+r(r("\\/\\/("+r("("+Re+")@")+"?("+Ki+")"+r("\\:("+Wi+")")+"?)")+"?("+ss+"|"+Fn+"|"+zu+"|"+Vn+")")+r("\\?("+Bn+")")+"?"+r("\\#("+Zi+")")+"?$",mM="^("+Je+")\\:"+r(r("\\/\\/("+r("("+Re+")@")+"?("+Ki+")"+r("\\:("+Wi+")")+"?)")+"?("+ss+"|"+Fn+"|"+wo+"|"+Vn+")")+r("\\?("+Bn+")")+"?$",gM="^"+r("\\#("+Zi+")")+"?$",yM="^"+r("("+Re+")@")+"?("+Ki+")"+r("\\:("+Wi+")")+"?$";return{NOT_SCHEME:new RegExp(t("[^]",_,D,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",Se,we),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",Se,we),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",Se,we),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",Se,we),"g"),NOT_QUERY:new RegExp(t("[^\\%]",Se,we,"[\\:\\@\\/\\?]",qe),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",Se,we,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",Se,we),"g"),UNRESERVED:new RegExp(Se,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",Se,He),"g"),PCT_ENCODED:new RegExp(Ce,"g"),IPV4ADDRESS:new RegExp("^("+tr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+rs+")"+r(r("\\%25|\\%(?!"+re+"{2})")+"("+zn+")")+"?\\]?$")}}var l=o(!1),c=o(!0),u=(function(){function w(_,S){var D=[],U=!0,re=!1,me=void 0;try{for(var ke=_[Symbol.iterator](),Ce;!(U=(Ce=ke.next()).done)&&(D.push(Ce.value),!(S&&D.length===S));U=!0);}catch(rt){re=!0,me=rt}finally{try{!U&&ke.return&&ke.return()}finally{if(re)throw me}}return D}return function(_,S){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return w(_,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),d=function(w){if(Array.isArray(w)){for(var _=0,S=Array(w.length);_<w.length;_++)S[_]=w[_];return S}else return Array.from(w)},h=2147483647,f=36,p=1,g=26,y=38,v=700,C=72,x=128,k="-",A=/^xn--/,q=/[^\0-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=f-p,b=Math.floor,P=String.fromCharCode;function R(w){throw new RangeError(N[w])}function E(w,_){for(var S=[],D=w.length;D--;)S[D]=_(w[D]);return S}function $(w,_){var S=w.split("@"),D="";S.length>1&&(D=S[0]+"@",w=S[1]),w=w.replace(L,".");var U=w.split("."),re=E(U,_).join(".");return D+re}function H(w){for(var _=[],S=0,D=w.length;S<D;){var U=w.charCodeAt(S++);if(U>=55296&&U<=56319&&S<D){var re=w.charCodeAt(S++);(re&64512)==56320?_.push(((U&1023)<<10)+(re&1023)+65536):(_.push(U),S--)}else _.push(U)}return _}var Y=function(_){return String.fromCodePoint.apply(String,d(_))},J=function(_){return _-48<10?_-22:_-65<26?_-65:_-97<26?_-97:f},G=function(_,S){return _+22+75*(_<26)-((S!=0)<<5)},ee=function(_,S,D){var U=0;for(_=D?b(_/v):_>>1,_+=b(_/S);_>O*g>>1;U+=f)_=b(_/O);return b(U+(O+1)*_/(_+y))},X=function(_){var S=[],D=_.length,U=0,re=x,me=C,ke=_.lastIndexOf(k);ke<0&&(ke=0);for(var Ce=0;Ce<ke;++Ce)_.charCodeAt(Ce)>=128&&R("not-basic"),S.push(_.charCodeAt(Ce));for(var rt=ke>0?ke+1:0;rt<D;){for(var we=U,He=1,st=f;;st+=f){rt>=D&&R("invalid-input");var qe=J(_.charCodeAt(rt++));(qe>=f||qe>b((h-U)/He))&&R("overflow"),U+=qe*He;var Se=st<=me?p:st>=me+g?g:st-me;if(qe<Se)break;var Je=f-Se;He>b(h/Je)&&R("overflow"),He*=Je}var Re=S.length+1;me=ee(U-we,Re,we==0),b(U/Re)>h-re&&R("overflow"),re+=b(U/Re),U%=Re,S.splice(U++,0,re)}return String.fromCodePoint.apply(String,S)},de=function(_){var S=[];_=H(_);var D=_.length,U=x,re=0,me=C,ke=!0,Ce=!1,rt=void 0;try{for(var we=_[Symbol.iterator](),He;!(ke=(He=we.next()).done);ke=!0){var st=He.value;st<128&&S.push(P(st))}}catch(Ws){Ce=!0,rt=Ws}finally{try{!ke&&we.return&&we.return()}finally{if(Ce)throw rt}}var qe=S.length,Se=qe;for(qe&&S.push(k);Se<D;){var Je=h,Re=!0,Js=!1,Kt=void 0;try{for(var tr=_[Symbol.iterator](),Oe;!(Re=(Oe=tr.next()).done);Re=!0){var Wt=Oe.value;Wt>=U&&Wt<Je&&(Je=Wt)}}catch(Ws){Js=!0,Kt=Ws}finally{try{!Re&&tr.return&&tr.return()}finally{if(Js)throw Kt}}var rr=Se+1;Je-U>b((h-re)/rr)&&R("overflow"),re+=(Je-U)*rr,U=Je;var Or=!0,Ks=!1,ts=void 0;try{for(var Ji=_[Symbol.iterator](),_o;!(Or=(_o=Ji.next()).done);Or=!0){var bo=_o.value;if(bo<U&&++re>h&&R("overflow"),bo==U){for(var Ln=re,qn=f;;qn+=f){var rs=qn<=me?p:qn>=me+g?g:qn-me;if(Ln<rs)break;var zn=Ln-rs,qu=f-rs;S.push(P(G(rs+zn%qu,0))),Ln=b(zn/qu)}S.push(P(G(Ln,0))),me=ee(re,rr,Se==qe),re=0,++Se}}}catch(Ws){Ks=!0,ts=Ws}finally{try{!Or&&Ji.return&&Ji.return()}finally{if(Ks)throw ts}}++re,++U}return S.join("")},_e=function(_){return $(_,function(S){return A.test(S)?X(S.slice(4).toLowerCase()):S})},Ee=function(_){return $(_,function(S){return q.test(S)?"xn--"+de(S):S})},ue={version:"2.1.0",ucs2:{decode:H,encode:Y},decode:X,encode:de,toASCII:Ee,toUnicode:_e},De={};function Pe(w){var _=w.charCodeAt(0),S=void 0;return _<16?S="%0"+_.toString(16).toUpperCase():_<128?S="%"+_.toString(16).toUpperCase():_<2048?S="%"+(_>>6|192).toString(16).toUpperCase()+"%"+(_&63|128).toString(16).toUpperCase():S="%"+(_>>12|224).toString(16).toUpperCase()+"%"+(_>>6&63|128).toString(16).toUpperCase()+"%"+(_&63|128).toString(16).toUpperCase(),S}function Xe(w){for(var _="",S=0,D=w.length;S<D;){var U=parseInt(w.substr(S+1,2),16);if(U<128)_+=String.fromCharCode(U),S+=3;else if(U>=194&&U<224){if(D-S>=6){var re=parseInt(w.substr(S+4,2),16);_+=String.fromCharCode((U&31)<<6|re&63)}else _+=w.substr(S,6);S+=6}else if(U>=224){if(D-S>=9){var me=parseInt(w.substr(S+4,2),16),ke=parseInt(w.substr(S+7,2),16);_+=String.fromCharCode((U&15)<<12|(me&63)<<6|ke&63)}else _+=w.substr(S,9);S+=9}else _+=w.substr(S,3),S+=3}return _}function Jt(w,_){function S(D){var U=Xe(D);return U.match(_.UNRESERVED)?U:D}return w.scheme&&(w.scheme=String(w.scheme).replace(_.PCT_ENCODED,S).toLowerCase().replace(_.NOT_SCHEME,"")),w.userinfo!==void 0&&(w.userinfo=String(w.userinfo).replace(_.PCT_ENCODED,S).replace(_.NOT_USERINFO,Pe).replace(_.PCT_ENCODED,s)),w.host!==void 0&&(w.host=String(w.host).replace(_.PCT_ENCODED,S).toLowerCase().replace(_.NOT_HOST,Pe).replace(_.PCT_ENCODED,s)),w.path!==void 0&&(w.path=String(w.path).replace(_.PCT_ENCODED,S).replace(w.scheme?_.NOT_PATH:_.NOT_PATH_NOSCHEME,Pe).replace(_.PCT_ENCODED,s)),w.query!==void 0&&(w.query=String(w.query).replace(_.PCT_ENCODED,S).replace(_.NOT_QUERY,Pe).replace(_.PCT_ENCODED,s)),w.fragment!==void 0&&(w.fragment=String(w.fragment).replace(_.PCT_ENCODED,S).replace(_.NOT_FRAGMENT,Pe).replace(_.PCT_ENCODED,s)),w}function Ut(w){return w.replace(/^0*(.*)/,"$1")||"0"}function $e(w,_){var S=w.match(_.IPV4ADDRESS)||[],D=u(S,2),U=D[1];return U?U.split(".").map(Ut).join("."):w}function Ie(w,_){var S=w.match(_.IPV6ADDRESS)||[],D=u(S,3),U=D[1],re=D[2];if(U){for(var me=U.toLowerCase().split("::").reverse(),ke=u(me,2),Ce=ke[0],rt=ke[1],we=rt?rt.split(":").map(Ut):[],He=Ce.split(":").map(Ut),st=_.IPV4ADDRESS.test(He[He.length-1]),qe=st?7:8,Se=He.length-qe,Je=Array(qe),Re=0;Re<qe;++Re)Je[Re]=we[Re]||He[Se+Re]||"";st&&(Je[qe-1]=$e(Je[qe-1],_));var Js=Je.reduce(function(rr,Or,Ks){if(!Or||Or==="0"){var ts=rr[rr.length-1];ts&&ts.index+ts.length===Ks?ts.length++:rr.push({index:Ks,length:1})}return rr},[]),Kt=Js.sort(function(rr,Or){return Or.length-rr.length})[0],tr=void 0;if(Kt&&Kt.length>1){var Oe=Je.slice(0,Kt.index),Wt=Je.slice(Kt.index+Kt.length);tr=Oe.join(":")+"::"+Wt.join(":")}else tr=Je.join(":");return re&&(tr+="%"+re),tr}else return w}var er=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,F="".match(/(){0}/)[1]===void 0;function z(w){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S={},D=_.iri!==!1?c:l;_.reference==="suffix"&&(w=(_.scheme?_.scheme+":":"")+"//"+w);var U=w.match(er);if(U){F?(S.scheme=U[1],S.userinfo=U[3],S.host=U[4],S.port=parseInt(U[5],10),S.path=U[6]||"",S.query=U[7],S.fragment=U[8],isNaN(S.port)&&(S.port=U[5])):(S.scheme=U[1]||void 0,S.userinfo=w.indexOf("@")!==-1?U[3]:void 0,S.host=w.indexOf("//")!==-1?U[4]:void 0,S.port=parseInt(U[5],10),S.path=U[6]||"",S.query=w.indexOf("?")!==-1?U[7]:void 0,S.fragment=w.indexOf("#")!==-1?U[8]:void 0,isNaN(S.port)&&(S.port=w.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?U[4]:void 0)),S.host&&(S.host=Ie($e(S.host,D),D)),S.scheme===void 0&&S.userinfo===void 0&&S.host===void 0&&S.port===void 0&&!S.path&&S.query===void 0?S.reference="same-document":S.scheme===void 0?S.reference="relative":S.fragment===void 0?S.reference="absolute":S.reference="uri",_.reference&&_.reference!=="suffix"&&_.reference!==S.reference&&(S.error=S.error||"URI is not a "+_.reference+" reference.");var re=De[(_.scheme||S.scheme||"").toLowerCase()];if(!_.unicodeSupport&&(!re||!re.unicodeSupport)){if(S.host&&(_.domainHost||re&&re.domainHost))try{S.host=ue.toASCII(S.host.replace(D.PCT_ENCODED,Xe).toLowerCase())}catch(me){S.error=S.error||"Host's domain name can not be converted to ASCII via punycode: "+me}Jt(S,l)}else Jt(S,D);re&&re.parse&&re.parse(S,_)}else S.error=S.error||"URI can not be parsed.";return S}function T(w,_){var S=_.iri!==!1?c:l,D=[];return w.userinfo!==void 0&&(D.push(w.userinfo),D.push("@")),w.host!==void 0&&D.push(Ie($e(String(w.host),S),S).replace(S.IPV6ADDRESS,function(U,re,me){return"["+re+(me?"%25"+me:"")+"]"})),(typeof w.port=="number"||typeof w.port=="string")&&(D.push(":"),D.push(String(w.port))),D.length?D.join(""):void 0}var I=/^\.\.?\//,M=/^\/\.(\/|$)/,K=/^\/\.\.(\/|$)/,W=/^\/?(?:.|\n)*?(?=\/|$)/;function he(w){for(var _=[];w.length;)if(w.match(I))w=w.replace(I,"");else if(w.match(M))w=w.replace(M,"/");else if(w.match(K))w=w.replace(K,"/"),_.pop();else if(w==="."||w==="..")w="";else{var S=w.match(W);if(S){var D=S[0];w=w.slice(D.length),_.push(D)}else throw new Error("Unexpected dot segment condition")}return _.join("")}function oe(w){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=_.iri?c:l,D=[],U=De[(_.scheme||w.scheme||"").toLowerCase()];if(U&&U.serialize&&U.serialize(w,_),w.host&&!S.IPV6ADDRESS.test(w.host)){if(_.domainHost||U&&U.domainHost)try{w.host=_.iri?ue.toUnicode(w.host):ue.toASCII(w.host.replace(S.PCT_ENCODED,Xe).toLowerCase())}catch(ke){w.error=w.error||"Host's domain name can not be converted to "+(_.iri?"Unicode":"ASCII")+" via punycode: "+ke}}Jt(w,S),_.reference!=="suffix"&&w.scheme&&(D.push(w.scheme),D.push(":"));var re=T(w,_);if(re!==void 0&&(_.reference!=="suffix"&&D.push("//"),D.push(re),w.path&&w.path.charAt(0)!=="/"&&D.push("/")),w.path!==void 0){var me=w.path;!_.absolutePath&&(!U||!U.absolutePath)&&(me=he(me)),re===void 0&&(me=me.replace(/^\/\//,"/%2F")),D.push(me)}return w.query!==void 0&&(D.push("?"),D.push(w.query)),w.fragment!==void 0&&(D.push("#"),D.push(w.fragment)),D.join("")}function Le(w,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=arguments[3],U={};return D||(w=z(oe(w,S),S),_=z(oe(_,S),S)),S=S||{},!S.tolerant&&_.scheme?(U.scheme=_.scheme,U.userinfo=_.userinfo,U.host=_.host,U.port=_.port,U.path=he(_.path||""),U.query=_.query):(_.userinfo!==void 0||_.host!==void 0||_.port!==void 0?(U.userinfo=_.userinfo,U.host=_.host,U.port=_.port,U.path=he(_.path||""),U.query=_.query):(_.path?(_.path.charAt(0)==="/"?U.path=he(_.path):((w.userinfo!==void 0||w.host!==void 0||w.port!==void 0)&&!w.path?U.path="/"+_.path:w.path?U.path=w.path.slice(0,w.path.lastIndexOf("/")+1)+_.path:U.path=_.path,U.path=he(U.path)),U.query=_.query):(U.path=w.path,_.query!==void 0?U.query=_.query:U.query=w.query),U.userinfo=w.userinfo,U.host=w.host,U.port=w.port),U.scheme=w.scheme),U.fragment=_.fragment,U}function ne(w,_,S){var D=a({scheme:"null"},S);return oe(Le(z(w,D),z(_,D),D,!0),D)}function dt(w,_){return typeof w=="string"?w=oe(z(w,_),_):n(w)==="object"&&(w=z(oe(w,_),_)),w}function Vi(w,_,S){return typeof w=="string"?w=oe(z(w,S),S):n(w)==="object"&&(w=oe(w,S)),typeof _=="string"?_=oe(z(_,S),S):n(_)==="object"&&(_=oe(_,S)),w===_}function $u(w,_){return w&&w.toString().replace(!_||!_.iri?l.ESCAPE:c.ESCAPE,Pe)}function pr(w,_){return w&&w.toString().replace(!_||!_.iri?l.PCT_ENCODED:c.PCT_ENCODED,Xe)}var Bi={scheme:"http",domainHost:!0,parse:function(_,S){return _.host||(_.error=_.error||"HTTP URIs must have a host."),_},serialize:function(_,S){var D=String(_.scheme).toLowerCase()==="https";return(_.port===(D?443:80)||_.port==="")&&(_.port=void 0),_.path||(_.path="/"),_}},Jp={scheme:"https",domainHost:Bi.domainHost,parse:Bi.parse,serialize:Bi.serialize};function Kp(w){return typeof w.secure=="boolean"?w.secure:String(w.scheme).toLowerCase()==="wss"}var Hi={scheme:"ws",domainHost:!0,parse:function(_,S){var D=_;return D.secure=Kp(D),D.resourceName=(D.path||"/")+(D.query?"?"+D.query:""),D.path=void 0,D.query=void 0,D},serialize:function(_,S){if((_.port===(Kp(_)?443:80)||_.port==="")&&(_.port=void 0),typeof _.secure=="boolean"&&(_.scheme=_.secure?"wss":"ws",_.secure=void 0),_.resourceName){var D=_.resourceName.split("?"),U=u(D,2),re=U[0],me=U[1];_.path=re&&re!=="/"?re:void 0,_.query=me,_.resourceName=void 0}return _.fragment=void 0,_}},Wp={scheme:"wss",domainHost:Hi.domainHost,parse:Hi.parse,serialize:Hi.serialize},gS={},yS=!0,Gp="[A-Za-z0-9\\-\\.\\_\\~"+(yS?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Ir="[0-9A-Fa-f]",vS=r(r("%[EFef]"+Ir+"%"+Ir+Ir+"%"+Ir+Ir)+"|"+r("%[89A-Fa-f]"+Ir+"%"+Ir+Ir)+"|"+r("%"+Ir+Ir)),_S="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",bS="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",wS=t(bS,'[\\"\\\\]'),kS="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",SS=new RegExp(Gp,"g"),$n=new RegExp(vS,"g"),xS=new RegExp(t("[^]",_S,"[\\.]",'[\\"]',wS),"g"),Zp=new RegExp(t("[^]",Gp,kS),"g"),ES=Zp;function Lu(w){var _=Xe(w);return _.match(SS)?_:w}var Yp={scheme:"mailto",parse:function(_,S){var D=_,U=D.to=D.path?D.path.split(","):[];if(D.path=void 0,D.query){for(var re=!1,me={},ke=D.query.split("&"),Ce=0,rt=ke.length;Ce<rt;++Ce){var we=ke[Ce].split("=");switch(we[0]){case"to":for(var He=we[1].split(","),st=0,qe=He.length;st<qe;++st)U.push(He[st]);break;case"subject":D.subject=pr(we[1],S);break;case"body":D.body=pr(we[1],S);break;default:re=!0,me[pr(we[0],S)]=pr(we[1],S);break}}re&&(D.headers=me)}D.query=void 0;for(var Se=0,Je=U.length;Se<Je;++Se){var Re=U[Se].split("@");if(Re[0]=pr(Re[0]),S.unicodeSupport)Re[1]=pr(Re[1],S).toLowerCase();else try{Re[1]=ue.toASCII(pr(Re[1],S).toLowerCase())}catch(Js){D.error=D.error||"Email address's domain name can not be converted to ASCII via punycode: "+Js}U[Se]=Re.join("@")}return D},serialize:function(_,S){var D=_,U=i(_.to);if(U){for(var re=0,me=U.length;re<me;++re){var ke=String(U[re]),Ce=ke.lastIndexOf("@"),rt=ke.slice(0,Ce).replace($n,Lu).replace($n,s).replace(xS,Pe),we=ke.slice(Ce+1);try{we=S.iri?ue.toUnicode(we):ue.toASCII(pr(we,S).toLowerCase())}catch(Se){D.error=D.error||"Email address's domain name can not be converted to "+(S.iri?"Unicode":"ASCII")+" via punycode: "+Se}U[re]=rt+"@"+we}D.path=U.join(",")}var He=_.headers=_.headers||{};_.subject&&(He.subject=_.subject),_.body&&(He.body=_.body);var st=[];for(var qe in He)He[qe]!==gS[qe]&&st.push(qe.replace($n,Lu).replace($n,s).replace(Zp,Pe)+"="+He[qe].replace($n,Lu).replace($n,s).replace(ES,Pe));return st.length&&(D.query=st.join("&")),D}},CS=/^([^\:]+)\:(.*)/,Qp={scheme:"urn",parse:function(_,S){var D=_.path&&_.path.match(CS),U=_;if(D){var re=S.scheme||U.scheme||"urn",me=D[1].toLowerCase(),ke=D[2],Ce=re+":"+(S.nid||me),rt=De[Ce];U.nid=me,U.nss=ke,U.path=void 0,rt&&(U=rt.parse(U,S))}else U.error=U.error||"URN can not be parsed.";return U},serialize:function(_,S){var D=S.scheme||_.scheme||"urn",U=_.nid,re=D+":"+(S.nid||U),me=De[re];me&&(_=me.serialize(_,S));var ke=_,Ce=_.nss;return ke.path=(U||S.nid)+":"+Ce,ke}},PS=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Xp={scheme:"urn:uuid",parse:function(_,S){var D=_;return D.uuid=D.nss,D.nss=void 0,!S.tolerant&&(!D.uuid||!D.uuid.match(PS))&&(D.error=D.error||"UUID is not valid."),D},serialize:function(_,S){var D=_;return D.nss=(_.uuid||"").toLowerCase(),D}};De[Bi.scheme]=Bi,De[Jp.scheme]=Jp,De[Hi.scheme]=Hi,De[Wp.scheme]=Wp,De[Yp.scheme]=Yp,De[Qp.scheme]=Qp,De[Xp.scheme]=Xp,e.SCHEMES=De,e.pctEncChar=Pe,e.pctDecChars=Xe,e.parse=z,e.removeDotSegments=he,e.serialize=oe,e.resolveComponents=Le,e.resolve=ne,e.normalize=dt,e.equal=Vi,e.escapeComponent=$u,e.unescapeComponent=pr,Object.defineProperty(e,"__esModule",{value:!0})}))});var Ko=j((oU,Lm)=>{"use strict";Lm.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var a=i[s];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}});var zm=j((lU,qm)=>{"use strict";qm.exports=function(t){for(var r=0,n=t.length,s=0,i;s<n;)r++,i=t.charCodeAt(s++),i>=55296&&i<=56319&&s<n&&(i=t.charCodeAt(s),(i&64512)==56320&&s++);return r}});var hn=j((cU,Bm)=>{"use strict";Bm.exports={copy:V1,checkDataType:sd,checkDataTypes:B1,coerceToTypes:H1,toHash:id,getProperty:ad,escapeQuotes:od,equal:Ko(),ucs2length:zm(),varOccurences:W1,varReplace:G1,schemaHasRules:Z1,schemaHasRulesExcept:Y1,schemaUnknownRules:Q1,toQuotedString:nd,getPathExpr:X1,getPath:eE,getData:sE,unescapeFragment:nE,unescapeJsonPointer:cd,escapeFragment:iE,escapeJsonPointer:ld};function V1(e,t){t=t||{};for(var r in e)t[r]=e[r];return t}function sd(e,t,r,n){var s=n?" !== ":" === ",i=n?" || ":" && ",a=n?"!":"",o=n?"":"!";switch(e){case"null":return t+s+"null";case"array":return a+"Array.isArray("+t+")";case"object":return"("+a+t+i+"typeof "+t+s+'"object"'+i+o+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+s+'"number"'+i+o+"("+t+" % 1)"+i+t+s+t+(r?i+a+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+s+'"'+e+'"'+(r?i+a+"isFinite("+t+")":"")+")";default:return"typeof "+t+s+'"'+e+'"'}}function B1(e,t,r){switch(e.length){case 1:return sd(e[0],t,r,!0);default:var n="",s=id(e);s.array&&s.object&&(n=s.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete s.null,delete s.array,delete s.object),s.number&&delete s.integer;for(var i in s)n+=(n?" && ":"")+sd(i,t,r,!0);return n}}var Fm=id(["string","number","integer","boolean","null"]);function H1(e,t){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++){var s=t[n];(Fm[s]||e==="array"&&s==="array")&&(r[r.length]=s)}if(r.length)return r}else{if(Fm[t])return[t];if(e==="array"&&t==="array")return["array"]}}function id(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var J1=/^[a-z$_][a-z$_0-9]*$/i,K1=/'|\\/g;function ad(e){return typeof e=="number"?"["+e+"]":J1.test(e)?"."+e:"['"+od(e)+"']"}function od(e){return e.replace(K1,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function W1(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0}function G1(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")}function Z1(e,t){if(typeof e=="boolean")return!e;for(var r in e)if(t[r])return!0}function Y1(e,t,r){if(typeof e=="boolean")return!e&&r!="not";for(var n in e)if(n!=r&&t[n])return!0}function Q1(e,t){if(typeof e!="boolean"){for(var r in e)if(!t[r])return r}}function nd(e){return"'"+od(e)+"'"}function X1(e,t,r,n){var s=r?"'/' + "+t+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'";return Vm(e,s)}function eE(e,t,r){var n=nd(r?"/"+ld(t):ad(t));return Vm(e,n)}var tE=/^\/(?:[^~]|~0|~1)*$/,rE=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function sE(e,t,r){var n,s,i,a;if(e==="")return"rootData";if(e[0]=="/"){if(!tE.test(e))throw new Error("Invalid JSON-pointer: "+e);s=e,i="rootData"}else{if(a=e.match(rE),!a)throw new Error("Invalid JSON-pointer: "+e);if(n=+a[1],s=a[2],s=="#"){if(n>=t)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return r[t-n]}if(n>t)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(i="data"+(t-n||""),!s)return i}for(var o=i,l=s.split("/"),c=0;c<l.length;c++){var u=l[c];u&&(i+=ad(cd(u)),o+=" && "+i)}return o}function Vm(e,t){return e=='""'?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function nE(e){return cd(decodeURIComponent(e))}function iE(e){return encodeURIComponent(ld(e))}function ld(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function cd(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}});var ud=j((uU,Hm)=>{"use strict";var aE=hn();Hm.exports=oE;function oE(e){aE.copy(e,this)}});var Km=j((dU,Jm)=>{"use strict";var Es=Jm.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Wo(t,n,s,e,"",e)};Es.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};Es.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Es.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Es.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Wo(e,t,r,n,s,i,a,o,l,c){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,i,a,o,l,c);for(var u in n){var d=n[u];if(Array.isArray(d)){if(u in Es.arrayKeywords)for(var h=0;h<d.length;h++)Wo(e,t,r,d[h],s+"/"+u+"/"+h,i,s,u,n,h)}else if(u in Es.propsKeywords){if(d&&typeof d=="object")for(var f in d)Wo(e,t,r,d[f],s+"/"+u+"/"+lE(f),i,s,u,n,f)}else(u in Es.keywords||e.allKeys&&!(u in Es.skipKeywords))&&Wo(e,t,r,d,s+"/"+u,i,s,u,n)}r(n,s,i,a,o,l,c)}}function lE(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var el=j((hU,Ym)=>{"use strict";var ra=$m(),Wm=Ko(),Qo=hn(),Go=ud(),cE=Km();Ym.exports=Ps;Ps.normalizeId=Cs;Ps.fullPath=Zo;Ps.url=Yo;Ps.ids=pE;Ps.inlineRef=dd;Ps.schema=Xo;function Ps(e,t,r){var n=this._refs[r];if(typeof n=="string")if(this._refs[n])n=this._refs[n];else return Ps.call(this,e,t,n);if(n=n||this._schemas[r],n instanceof Go)return dd(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var s=Xo.call(this,t,r),i,a,o;return s&&(i=s.schema,t=s.root,o=s.baseId),i instanceof Go?a=i.validate||e.call(this,i.schema,t,void 0,o):i!==void 0&&(a=dd(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,o)),a}function Xo(e,t){var r=ra.parse(t),n=Zm(r),s=Zo(this._getId(e.schema));if(Object.keys(e.schema).length===0||n!==s){var i=Cs(n),a=this._refs[i];if(typeof a=="string")return uE.call(this,e,a,r);if(a instanceof Go)a.validate||this._compile(a),e=a;else if(a=this._schemas[i],a instanceof Go){if(a.validate||this._compile(a),i==Cs(t))return{schema:a,root:e,baseId:s};e=a}else return;if(!e.schema)return;s=Zo(this._getId(e.schema))}return Gm.call(this,r,s,e.schema,e)}function uE(e,t,r){var n=Xo.call(this,e,t);if(n){var s=n.schema,i=n.baseId;e=n.root;var a=this._getId(s);return a&&(i=Yo(i,a)),Gm.call(this,r,i,s,e)}}var dE=Qo.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function Gm(e,t,r,n){if(e.fragment=e.fragment||"",e.fragment.slice(0,1)=="/"){for(var s=e.fragment.split("/"),i=1;i<s.length;i++){var a=s[i];if(a){if(a=Qo.unescapeFragment(a),r=r[a],r===void 0)break;var o;if(!dE[a]&&(o=this._getId(r),o&&(t=Yo(t,o)),r.$ref)){var l=Yo(t,r.$ref),c=Xo.call(this,n,l);c&&(r=c.schema,n=c.root,t=c.baseId)}}}if(r!==void 0&&r!==n.schema)return{schema:r,root:n,baseId:t}}}var hE=Qo.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function dd(e,t){if(t===!1)return!1;if(t===void 0||t===!0)return hd(e);if(t)return fd(e)<=t}function hd(e){var t;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(t=e[r],typeof t=="object"&&!hd(t))return!1}else for(var n in e)if(n=="$ref"||(t=e[n],typeof t=="object"&&!hd(t)))return!1;return!0}function fd(e){var t=0,r;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(r=e[n],typeof r=="object"&&(t+=fd(r)),t==1/0)return 1/0}else for(var s in e){if(s=="$ref")return 1/0;if(hE[s])t++;else if(r=e[s],typeof r=="object"&&(t+=fd(r)+1),t==1/0)return 1/0}return t}function Zo(e,t){t!==!1&&(e=Cs(e));var r=ra.parse(e);return Zm(r)}function Zm(e){return ra.serialize(e).split("#")[0]+"#"}var fE=/#\/?$/;function Cs(e){return e?e.replace(fE,""):""}function Yo(e,t){return t=Cs(t),ra.resolve(e,t)}function pE(e){var t=Cs(this._getId(e)),r={"":t},n={"":Zo(t,!1)},s={},i=this;return cE(e,{allKeys:!0},function(a,o,l,c,u,d,h){if(o!==""){var f=i._getId(a),p=r[c],g=n[c]+"/"+u;if(h!==void 0&&(g+="/"+(typeof h=="number"?h:Qo.escapeFragment(h))),typeof f=="string"){f=p=Cs(p?ra.resolve(p,f):f);var y=i._refs[f];if(typeof y=="string"&&(y=i._refs[y]),y&&y.schema){if(!Wm(a,y.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=Cs(g))if(f[0]=="#"){if(s[f]&&!Wm(a,s[f]))throw new Error('id "'+f+'" resolves to more than one schema');s[f]=a}else i._refs[f]=g}r[o]=p,n[o]=g}}),s}});var tl=j((fU,Xm)=>{"use strict";var pd=el();Xm.exports={Validation:Qm(mE),MissingRef:Qm(md)};function mE(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}md.message=function(e,t){return"can't resolve reference "+t+" from id "+e};function md(e,t,r){this.message=r||md.message(e,t),this.missingRef=pd.url(e,t),this.missingSchema=pd.normalizeId(pd.fullPath(this.missingRef))}function Qm(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}});var gd=j((pU,eg)=>{"use strict";eg.exports=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var r=typeof t.cycles=="boolean"?t.cycles:!1,n=t.cmp&&(function(i){return function(a){return function(o,l){var c={key:o,value:a[o]},u={key:l,value:a[l]};return i(c,u)}}})(t.cmp),s=[];return(function i(a){if(a&&a.toJSON&&typeof a.toJSON=="function"&&(a=a.toJSON()),a!==void 0){if(typeof a=="number")return isFinite(a)?""+a:"null";if(typeof a!="object")return JSON.stringify(a);var o,l;if(Array.isArray(a)){for(l="[",o=0;o<a.length;o++)o&&(l+=","),l+=i(a[o])||"null";return l+"]"}if(a===null)return"null";if(s.indexOf(a)!==-1){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=s.push(a)-1,u=Object.keys(a).sort(n&&n(a));for(l="",o=0;o<u.length;o++){var d=u[o],h=i(a[d]);h&&(l&&(l+=","),l+=JSON.stringify(d)+":"+h)}return s.splice(c,1),"{"+l+"}"}})(e)}});var yd=j((mU,tg)=>{"use strict";tg.exports=function(t,r,n){var s="",i=t.schema.$async===!0,a=t.util.schemaHasRulesExcept(t.schema,t.RULES.all,"$ref"),o=t.self._getId(t.schema);if(t.opts.strictKeywords){var l=t.util.schemaUnknownRules(t.schema,t.RULES.keywords);if(l){var c="unknown keyword: "+l;if(t.opts.strictKeywords==="log")t.logger.warn(c);else throw new Error(c)}}if(t.isTop&&(s+=" var validate = ",i&&(t.async=!0,s+="async "),s+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(t.opts.sourceCode||t.opts.processCode)&&(s+=" "+("/*# sourceURL="+o+" */")+" ")),typeof t.schema=="boolean"||!(a||t.schema.$ref)){var r="false schema",u=t.level,d=t.dataLevel,h=t.schema[r],f=t.schemaPath+t.util.getProperty(r),p=t.errSchemaPath+"/"+r,A=!t.opts.allErrors,N,g="data"+(d||""),k="valid"+u;if(t.schema===!1){t.isTop?A=!0:s+=" var "+k+" = false; ";var y=y||[];y.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(N||"false schema")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(p)+" , params: {} ",t.opts.messages!==!1&&(s+=" , message: 'boolean schema is false' "),t.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+g+" "),s+=" } "):s+=" {} ";var v=s;s=y.pop(),!t.compositeRule&&A?t.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else t.isTop?i?s+=" return data; ":s+=" validate.errors = null; return true; ":s+=" var "+k+" = true; ";return t.isTop&&(s+=" }; return validate; "),s}if(t.isTop){var C=t.isTop,u=t.level=0,d=t.dataLevel=0,g="data";if(t.rootId=t.resolve.fullPath(t.self._getId(t.root.schema)),t.baseId=t.baseId||t.rootId,delete t.isTop,t.dataPathArr=[""],t.schema.default!==void 0&&t.opts.useDefaults&&t.opts.strictDefaults){var x="default is ignored in the schema root";if(t.opts.strictDefaults==="log")t.logger.warn(x);else throw new Error(x)}s+=" var vErrors = null; ",s+=" var errors = 0;     ",s+=" if (rootData === undefined) rootData = data; "}else{var u=t.level,d=t.dataLevel,g="data"+(d||"");if(o&&(t.baseId=t.resolve.url(t.baseId,o)),i&&!t.async)throw new Error("async schema in sync schema");s+=" var errs_"+u+" = errors;"}var k="valid"+u,A=!t.opts.allErrors,q="",L="",N,O=t.schema.type,b=Array.isArray(O);if(O&&t.opts.nullable&&t.schema.nullable===!0&&(b?O.indexOf("null")==-1&&(O=O.concat("null")):O!="null"&&(O=[O,"null"],b=!0)),b&&O.length==1&&(O=O[0],b=!1),t.schema.$ref&&a){if(t.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+t.errSchemaPath+'" (see option extendRefs)');t.opts.extendRefs!==!0&&(a=!1,t.logger.warn('$ref: keywords ignored in schema at path "'+t.errSchemaPath+'"'))}if(t.schema.$comment&&t.opts.$comment&&(s+=" "+t.RULES.all.$comment.code(t,"$comment")),O){if(t.opts.coerceTypes)var P=t.util.coerceToTypes(t.opts.coerceTypes,O);var R=t.RULES.types[O];if(P||b||R===!0||R&&!W(R)){var f=t.schemaPath+".type",p=t.errSchemaPath+"/type",f=t.schemaPath+".type",p=t.errSchemaPath+"/type",E=b?"checkDataTypes":"checkDataType";if(s+=" if ("+t.util[E](O,g,t.opts.strictNumbers,!0)+") { ",P){var $="dataType"+u,H="coerced"+u;s+=" var "+$+" = typeof "+g+"; var "+H+" = undefined; ",t.opts.coerceTypes=="array"&&(s+=" if ("+$+" == 'object' && Array.isArray("+g+") && "+g+".length == 1) { "+g+" = "+g+"[0]; "+$+" = typeof "+g+"; if ("+t.util.checkDataType(t.schema.type,g,t.opts.strictNumbers)+") "+H+" = "+g+"; } "),s+=" if ("+H+" !== undefined) ; ";var Y=P;if(Y)for(var J,G=-1,ee=Y.length-1;G<ee;)J=Y[G+=1],J=="string"?s+=" else if ("+$+" == 'number' || "+$+" == 'boolean') "+H+" = '' + "+g+"; else if ("+g+" === null) "+H+" = ''; ":J=="number"||J=="integer"?(s+=" else if ("+$+" == 'boolean' || "+g+" === null || ("+$+" == 'string' && "+g+" && "+g+" == +"+g+" ",J=="integer"&&(s+=" && !("+g+" % 1)"),s+=")) "+H+" = +"+g+"; "):J=="boolean"?s+=" else if ("+g+" === 'false' || "+g+" === 0 || "+g+" === null) "+H+" = false; else if ("+g+" === 'true' || "+g+" === 1) "+H+" = true; ":J=="null"?s+=" else if ("+g+" === '' || "+g+" === 0 || "+g+" === false) "+H+" = null; ":t.opts.coerceTypes=="array"&&J=="array"&&(s+=" else if ("+$+" == 'string' || "+$+" == 'number' || "+$+" == 'boolean' || "+g+" == null) "+H+" = ["+g+"]; ");s+=" else {   ";var y=y||[];y.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(N||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(p)+" , params: { type: '",b?s+=""+O.join(","):s+=""+O,s+="' } ",t.opts.messages!==!1&&(s+=" , message: 'should be ",b?s+=""+O.join(","):s+=""+O,s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+g+" "),s+=" } "):s+=" {} ";var v=s;s=y.pop(),!t.compositeRule&&A?t.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } if ("+H+" !== undefined) {  ";var X=d?"data"+(d-1||""):"parentData",de=d?t.dataPathArr[d]:"parentDataProperty";s+=" "+g+" = "+H+"; ",d||(s+="if ("+X+" !== undefined)"),s+=" "+X+"["+de+"] = "+H+"; } "}else{var y=y||[];y.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(N||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(p)+" , params: { type: '",b?s+=""+O.join(","):s+=""+O,s+="' } ",t.opts.messages!==!1&&(s+=" , message: 'should be ",b?s+=""+O.join(","):s+=""+O,s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+g+" "),s+=" } "):s+=" {} ";var v=s;s=y.pop(),!t.compositeRule&&A?t.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}s+=" } "}}if(t.schema.$ref&&!a)s+=" "+t.RULES.all.$ref.code(t,"$ref")+" ",A&&(s+=" } if (errors === ",C?s+="0":s+="errs_"+u,s+=") { ",L+="}");else{var _e=t.RULES;if(_e){for(var R,Ee=-1,ue=_e.length-1;Ee<ue;)if(R=_e[Ee+=1],W(R)){if(R.type&&(s+=" if ("+t.util.checkDataType(R.type,g,t.opts.strictNumbers)+") { "),t.opts.useDefaults){if(R.type=="object"&&t.schema.properties){var h=t.schema.properties,De=Object.keys(h),Pe=De;if(Pe)for(var Xe,Jt=-1,Ut=Pe.length-1;Jt<Ut;){Xe=Pe[Jt+=1];var $e=h[Xe];if($e.default!==void 0){var Ie=g+t.util.getProperty(Xe);if(t.compositeRule){if(t.opts.strictDefaults){var x="default is ignored for: "+Ie;if(t.opts.strictDefaults==="log")t.logger.warn(x);else throw new Error(x)}}else s+=" if ("+Ie+" === undefined ",t.opts.useDefaults=="empty"&&(s+=" || "+Ie+" === null || "+Ie+" === '' "),s+=" ) "+Ie+" = ",t.opts.useDefaults=="shared"?s+=" "+t.useDefault($e.default)+" ":s+=" "+JSON.stringify($e.default)+" ",s+="; "}}}else if(R.type=="array"&&Array.isArray(t.schema.items)){var er=t.schema.items;if(er){for(var $e,G=-1,F=er.length-1;G<F;)if($e=er[G+=1],$e.default!==void 0){var Ie=g+"["+G+"]";if(t.compositeRule){if(t.opts.strictDefaults){var x="default is ignored for: "+Ie;if(t.opts.strictDefaults==="log")t.logger.warn(x);else throw new Error(x)}}else s+=" if ("+Ie+" === undefined ",t.opts.useDefaults=="empty"&&(s+=" || "+Ie+" === null || "+Ie+" === '' "),s+=" ) "+Ie+" = ",t.opts.useDefaults=="shared"?s+=" "+t.useDefault($e.default)+" ":s+=" "+JSON.stringify($e.default)+" ",s+="; "}}}}var z=R.rules;if(z){for(var T,I=-1,M=z.length-1;I<M;)if(T=z[I+=1],he(T)){var K=T.code(t,T.keyword,R.type);K&&(s+=" "+K+" ",A&&(q+="}"))}}if(A&&(s+=" "+q+" ",q=""),R.type&&(s+=" } ",O&&O===R.type&&!P)){s+=" else { ";var f=t.schemaPath+".type",p=t.errSchemaPath+"/type",y=y||[];y.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(N||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(p)+" , params: { type: '",b?s+=""+O.join(","):s+=""+O,s+="' } ",t.opts.messages!==!1&&(s+=" , message: 'should be ",b?s+=""+O.join(","):s+=""+O,s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+g+" "),s+=" } "):s+=" {} ";var v=s;s=y.pop(),!t.compositeRule&&A?t.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } "}A&&(s+=" if (errors === ",C?s+="0":s+="errs_"+u,s+=") { ",L+="}")}}}A&&(s+=" "+L+" "),C?(i?(s+=" if (errors === 0) return data;           ",s+=" else throw new ValidationError(vErrors); "):(s+=" validate.errors = vErrors; ",s+=" return errors === 0;       "),s+=" }; return validate;"):s+=" var "+k+" = errors === errs_"+u+";";function W(Le){for(var ne=Le.rules,dt=0;dt<ne.length;dt++)if(he(ne[dt]))return!0}function he(Le){return t.schema[Le.keyword]!==void 0||Le.implements&&oe(Le)}function oe(Le){for(var ne=Le.implements,dt=0;dt<ne.length;dt++)if(t.schema[ne[dt]]!==void 0)return!0}return s}});var ag=j((gU,ig)=>{"use strict";var rl=el(),nl=hn(),sg=tl(),gE=gd(),rg=yd(),yE=nl.ucs2length,vE=Ko(),_E=sg.Validation;ig.exports=vd;function vd(e,t,r,n){var s=this,i=this._opts,a=[void 0],o={},l=[],c={},u=[],d={},h=[];t=t||{schema:e,refVal:a,refs:o};var f=bE.call(this,e,t,n),p=this._compilations[f.index];if(f.compiling)return p.callValidate=x;var g=this._formats,y=this.RULES;try{var v=k(e,t,r,n);p.validate=v;var C=p.callValidate;return C&&(C.schema=v.schema,C.errors=null,C.refs=v.refs,C.refVal=v.refVal,C.root=v.root,C.$async=v.$async,i.sourceCode&&(C.source=v.source)),v}finally{wE.call(this,e,t,n)}function x(){var E=p.validate,$=E.apply(this,arguments);return x.errors=E.errors,$}function k(E,$,H,Y){var J=!$||$&&$.schema==E;if($.schema!=t.schema)return vd.call(s,E,$,H,Y);var G=E.$async===!0,ee=rg({isTop:!0,schema:E,isRoot:J,baseId:Y,root:$,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:sg.MissingRef,RULES:y,validate:rg,util:nl,resolve:rl,resolveRef:A,usePattern:b,useDefault:P,useCustomRule:R,opts:i,formats:g,logger:s.logger,self:s});ee=sl(a,xE)+sl(l,kE)+sl(u,SE)+sl(h,EE)+ee,i.processCode&&(ee=i.processCode(ee,E));var X;try{var de=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",ee);X=de(s,y,g,t,a,u,h,vE,yE,_E),a[0]=X}catch(_e){throw s.logger.error("Error compiling schema, function code:",ee),_e}return X.schema=E,X.errors=null,X.refs=o,X.refVal=a,X.root=J?X:$,G&&(X.$async=!0),i.sourceCode===!0&&(X.source={code:ee,patterns:l,defaults:u}),X}function A(E,$,H){$=rl.url(E,$);var Y=o[$],J,G;if(Y!==void 0)return J=a[Y],G="refVal["+Y+"]",O(J,G);if(!H&&t.refs){var ee=t.refs[$];if(ee!==void 0)return J=t.refVal[ee],G=q($,J),O(J,G)}G=q($);var X=rl.call(s,k,t,$);if(X===void 0){var de=r&&r[$];de&&(X=rl.inlineRef(de,i.inlineRefs)?de:vd.call(s,de,t,r,E))}if(X===void 0)L($);else return N($,X),O(X,G)}function q(E,$){var H=a.length;return a[H]=$,o[E]=H,"refVal"+H}function L(E){delete o[E]}function N(E,$){var H=o[E];a[H]=$}function O(E,$){return typeof E=="object"||typeof E=="boolean"?{code:$,schema:E,inline:!0}:{code:$,$async:E&&!!E.$async}}function b(E){var $=c[E];return $===void 0&&($=c[E]=l.length,l[$]=E),"pattern"+$}function P(E){switch(typeof E){case"boolean":case"number":return""+E;case"string":return nl.toQuotedString(E);case"object":if(E===null)return"null";var $=gE(E),H=d[$];return H===void 0&&(H=d[$]=u.length,u[H]=E),"default"+H}}function R(E,$,H,Y){if(s._opts.validateSchema!==!1){var J=E.definition.dependencies;if(J&&!J.every(function(Pe){return Object.prototype.hasOwnProperty.call(H,Pe)}))throw new Error("parent schema must have all required keywords: "+J.join(","));var G=E.definition.validateSchema;if(G){var ee=G($);if(!ee){var X="keyword schema is invalid: "+s.errorsText(G.errors);if(s._opts.validateSchema=="log")s.logger.error(X);else throw new Error(X)}}}var de=E.definition.compile,_e=E.definition.inline,Ee=E.definition.macro,ue;if(de)ue=de.call(s,$,H,Y);else if(Ee)ue=Ee.call(s,$,H,Y),i.validateSchema!==!1&&s.validateSchema(ue,!0);else if(_e)ue=_e.call(s,Y,E.keyword,$,H);else if(ue=E.definition.validate,!ue)return;if(ue===void 0)throw new Error('custom keyword "'+E.keyword+'"failed to compile');var De=h.length;return h[De]=ue,{code:"customRule"+De,validate:ue}}}function bE(e,t,r){var n=ng.call(this,e,t,r);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:r},{index:n,compiling:!1})}function wE(e,t,r){var n=ng.call(this,e,t,r);n>=0&&this._compilations.splice(n,1)}function ng(e,t,r){for(var n=0;n<this._compilations.length;n++){var s=this._compilations[n];if(s.schema==e&&s.root==t&&s.baseId==r)return n}return-1}function kE(e,t){return"var pattern"+e+" = new RegExp("+nl.toQuotedString(t[e])+");"}function SE(e){return"var default"+e+" = defaults["+e+"];"}function xE(e,t){return t[e]===void 0?"":"var refVal"+e+" = refVal["+e+"];"}function EE(e){return"var customRule"+e+" = customRules["+e+"];"}function sl(e,t){if(!e.length)return"";for(var r="",n=0;n<e.length;n++)r+=t(n,e);return r}});var lg=j((yU,og)=>{"use strict";var il=og.exports=function(){this._cache={}};il.prototype.put=function(t,r){this._cache[t]=r};il.prototype.get=function(t){return this._cache[t]};il.prototype.del=function(t){delete this._cache[t]};il.prototype.clear=function(){this._cache={}}});var bg=j((vU,_g)=>{"use strict";var CE=hn(),PE=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,RE=[0,31,28,31,30,31,30,31,31,30,31,30,31],IE=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,cg=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,OE=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,TE=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,ug=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,dg=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,hg=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,fg=/^(?:\/(?:[^~/]|~0|~1)*)*$/,pg=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,mg=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;_g.exports=al;function al(e){return e=e=="full"?"full":"fast",CE.copy(al[e])}al.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":ug,url:dg,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:cg,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:vg,uuid:hg,"json-pointer":fg,"json-pointer-uri-fragment":pg,"relative-json-pointer":mg};al.full={date:gg,time:yg,"date-time":AE,uri:UE,"uri-reference":TE,"uri-template":ug,url:dg,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:cg,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:vg,uuid:hg,"json-pointer":fg,"json-pointer-uri-fragment":pg,"relative-json-pointer":mg};function jE(e){return e%4===0&&(e%100!==0||e%400===0)}function gg(e){var t=e.match(PE);if(!t)return!1;var r=+t[1],n=+t[2],s=+t[3];return n>=1&&n<=12&&s>=1&&s<=(n==2&&jE(r)?29:RE[n])}function yg(e,t){var r=e.match(IE);if(!r)return!1;var n=r[1],s=r[2],i=r[3],a=r[5];return(n<=23&&s<=59&&i<=59||n==23&&s==59&&i==60)&&(!t||a)}var DE=/t|\s/i;function AE(e){var t=e.split(DE);return t.length==2&&gg(t[0])&&yg(t[1],!0)}var ME=/\/|:/;function UE(e){return ME.test(e)&&OE.test(e)}var NE=/[^\\]\\Z/;function vg(e){if(NE.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}});var kg=j((_U,wg)=>{"use strict";wg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.errSchemaPath+"/"+r,c=!t.opts.allErrors,u="data"+(a||""),d="valid"+i,h,f;if(o=="#"||o=="#/")t.isRoot?(h=t.async,f="validate"):(h=t.root.schema.$async===!0,f="root.refVal[0]");else{var p=t.resolveRef(t.baseId,o,t.isRoot);if(p===void 0){var g=t.MissingRefError.message(t.baseId,o);if(t.opts.missingRefs=="fail"){t.logger.error(g);var y=y||[];y.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { ref: '"+t.util.escapeQuotes(o)+"' } ",t.opts.messages!==!1&&(s+=" , message: 'can\\'t resolve reference "+t.util.escapeQuotes(o)+"' "),t.opts.verbose&&(s+=" , schema: "+t.util.toQuotedString(o)+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var v=s;s=y.pop(),!t.compositeRule&&c?t.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(s+=" if (false) { ")}else if(t.opts.missingRefs=="ignore")t.logger.warn(g),c&&(s+=" if (true) { ");else throw new t.MissingRefError(t.baseId,o,g)}else if(p.inline){var C=t.util.copy(t);C.level++;var x="valid"+C.level;C.schema=p.schema,C.schemaPath="",C.errSchemaPath=o;var k=t.validate(C).replace(/validate\.schema/g,p.code);s+=" "+k+" ",c&&(s+=" if ("+x+") { ")}else h=p.$async===!0||t.async&&p.$async!==!1,f=p.code}if(f){var y=y||[];y.push(s),s="",t.opts.passContext?s+=" "+f+".call(this, ":s+=" "+f+"( ",s+=" "+u+", (dataPath || '')",t.errorPath!='""'&&(s+=" + "+t.errorPath);var A=a?"data"+(a-1||""):"parentData",q=a?t.dataPathArr[a]:"parentDataProperty";s+=" , "+A+" , "+q+", rootData)  ";var L=s;if(s=y.pop(),h){if(!t.async)throw new Error("async schema referenced by sync schema");c&&(s+=" var "+d+"; "),s+=" try { await "+L+"; ",c&&(s+=" "+d+" = true; "),s+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(s+=" "+d+" = false; "),s+=" } ",c&&(s+=" if ("+d+") { ")}else s+=" if (!"+L+") { if (vErrors === null) vErrors = "+f+".errors; else vErrors = vErrors.concat("+f+".errors); errors = vErrors.length; } ",c&&(s+=" else { ")}return s}});var xg=j((bU,Sg)=>{"use strict";Sg.exports=function(t,r,n){var s=" ",i=t.schema[r],a=t.schemaPath+t.util.getProperty(r),o=t.errSchemaPath+"/"+r,l=!t.opts.allErrors,c=t.util.copy(t),u="";c.level++;var d="valid"+c.level,h=c.baseId,f=!0,p=i;if(p)for(var g,y=-1,v=p.length-1;y<v;)g=p[y+=1],(t.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:t.util.schemaHasRules(g,t.RULES.all))&&(f=!1,c.schema=g,c.schemaPath=a+"["+y+"]",c.errSchemaPath=o+"/"+y,s+="  "+t.validate(c)+" ",c.baseId=h,l&&(s+=" if ("+d+") { ",u+="}"));return l&&(f?s+=" if (true) { ":s+=" "+u.slice(0,-1)+" "),s}});var Cg=j((wU,Eg)=>{"use strict";Eg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),h="valid"+i,f="errs__"+i,p=t.util.copy(t),g="";p.level++;var y="valid"+p.level,v=o.every(function(N){return t.opts.strictKeywords?typeof N=="object"&&Object.keys(N).length>0||N===!1:t.util.schemaHasRules(N,t.RULES.all)});if(v){var C=p.baseId;s+=" var "+f+" = errors; var "+h+" = false;  ";var x=t.compositeRule;t.compositeRule=p.compositeRule=!0;var k=o;if(k)for(var A,q=-1,L=k.length-1;q<L;)A=k[q+=1],p.schema=A,p.schemaPath=l+"["+q+"]",p.errSchemaPath=c+"/"+q,s+="  "+t.validate(p)+" ",p.baseId=C,s+=" "+h+" = "+h+" || "+y+"; if (!"+h+") { ",g+="}";t.compositeRule=p.compositeRule=x,s+=" "+g+" if (!"+h+") {   var err =   ",t.createErrors!==!1?(s+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(s+=" , message: 'should match some schema in anyOf' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",t.opts.allErrors&&(s+=" } ")}else u&&(s+=" if (true) { ");return s}});var Rg=j((kU,Pg)=>{"use strict";Pg.exports=function(t,r,n){var s=" ",i=t.schema[r],a=t.errSchemaPath+"/"+r,o=!t.opts.allErrors,l=t.util.toQuotedString(i);return t.opts.$comment===!0?s+=" console.log("+l+");":typeof t.opts.$comment=="function"&&(s+=" self._opts.$comment("+l+", "+t.util.toQuotedString(a)+", validate.root.schema);"),s}});var Og=j((SU,Ig)=>{"use strict";Ig.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),h="valid"+i,f=t.opts.$data&&o&&o.$data,p;f?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",p="schema"+i):p=o,f||(s+=" var schema"+i+" = validate.schema"+l+";"),s+="var "+h+" = equal("+d+", schema"+i+"); if (!"+h+") {   ";var g=g||[];g.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'const' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { allowedValue: schema"+i+" } ",t.opts.messages!==!1&&(s+=" , message: 'should be equal to constant' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var y=s;return s=g.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+y+"]); ":s+=" validate.errors = ["+y+"]; return false; ":s+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" }",u&&(s+=" else { "),s}});var jg=j((xU,Tg)=>{"use strict";Tg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),h="valid"+i,f="errs__"+i,p=t.util.copy(t),g="";p.level++;var y="valid"+p.level,v="i"+i,C=p.dataLevel=t.dataLevel+1,x="data"+C,k=t.baseId,A=t.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:t.util.schemaHasRules(o,t.RULES.all);if(s+="var "+f+" = errors;var "+h+";",A){var q=t.compositeRule;t.compositeRule=p.compositeRule=!0,p.schema=o,p.schemaPath=l,p.errSchemaPath=c,s+=" var "+y+" = false; for (var "+v+" = 0; "+v+" < "+d+".length; "+v+"++) { ",p.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers,!0);var L=d+"["+v+"]";p.dataPathArr[C]=v;var N=t.validate(p);p.baseId=k,t.util.varOccurences(N,x)<2?s+=" "+t.util.varReplace(N,x,L)+" ":s+=" var "+x+" = "+L+"; "+N+" ",s+=" if ("+y+") break; }  ",t.compositeRule=p.compositeRule=q,s+=" "+g+" if (!"+y+") {"}else s+=" if ("+d+".length == 0) {";var O=O||[];O.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(s+=" , message: 'should contain a valid item' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var b=s;return s=O.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+b+"]); ":s+=" validate.errors = ["+b+"]; return false; ":s+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { ",A&&(s+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),t.opts.allErrors&&(s+=" } "),s}});var Ag=j((EU,Dg)=>{"use strict";Dg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),h="errs__"+i,f=t.util.copy(t),p="";f.level++;var g="valid"+f.level,y={},v={},C=t.opts.ownProperties;for(q in o)if(q!="__proto__"){var x=o[q],k=Array.isArray(x)?v:y;k[q]=x}s+="var "+h+" = errors;";var A=t.errorPath;s+="var missing"+i+";";for(var q in v)if(k=v[q],k.length){if(s+=" if ( "+d+t.util.getProperty(q)+" !== undefined ",C&&(s+=" && Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(q)+"') "),u){s+=" && ( ";var L=k;if(L)for(var N,O=-1,b=L.length-1;O<b;){N=L[O+=1],O&&(s+=" || ");var P=t.util.getProperty(N),R=d+P;s+=" ( ( "+R+" === undefined ",C&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(N)+"') "),s+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?N:P)+") ) "}s+=")) {  ";var E="missing"+i,$="' + "+E+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(A,E,!0):A+" + "+E);var H=H||[];H.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { property: '"+t.util.escapeQuotes(q)+"', missingProperty: '"+$+"', depsCount: "+k.length+", deps: '"+t.util.escapeQuotes(k.length==1?k[0]:k.join(", "))+"' } ",t.opts.messages!==!1&&(s+=" , message: 'should have ",k.length==1?s+="property "+t.util.escapeQuotes(k[0]):s+="properties "+t.util.escapeQuotes(k.join(", ")),s+=" when property "+t.util.escapeQuotes(q)+" is present' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var Y=s;s=H.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+Y+"]); ":s+=" validate.errors = ["+Y+"]; return false; ":s+=" var err = "+Y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{s+=" ) { ";var J=k;if(J)for(var N,G=-1,ee=J.length-1;G<ee;){N=J[G+=1];var P=t.util.getProperty(N),$=t.util.escapeQuotes(N),R=d+P;t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(A,N,t.opts.jsonPointers)),s+=" if ( "+R+" === undefined ",C&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(N)+"') "),s+=") {  var err =   ",t.createErrors!==!1?(s+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { property: '"+t.util.escapeQuotes(q)+"', missingProperty: '"+$+"', depsCount: "+k.length+", deps: '"+t.util.escapeQuotes(k.length==1?k[0]:k.join(", "))+"' } ",t.opts.messages!==!1&&(s+=" , message: 'should have ",k.length==1?s+="property "+t.util.escapeQuotes(k[0]):s+="properties "+t.util.escapeQuotes(k.join(", ")),s+=" when property "+t.util.escapeQuotes(q)+" is present' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}s+=" }   ",u&&(p+="}",s+=" else { ")}t.errorPath=A;var X=f.baseId;for(var q in y){var x=y[q];(t.opts.strictKeywords?typeof x=="object"&&Object.keys(x).length>0||x===!1:t.util.schemaHasRules(x,t.RULES.all))&&(s+=" "+g+" = true; if ( "+d+t.util.getProperty(q)+" !== undefined ",C&&(s+=" && Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(q)+"') "),s+=") { ",f.schema=x,f.schemaPath=l+t.util.getProperty(q),f.errSchemaPath=c+"/"+t.util.escapeFragment(q),s+="  "+t.validate(f)+" ",f.baseId=X,s+=" }  ",u&&(s+=" if ("+g+") { ",p+="}"))}return u&&(s+="   "+p+" if ("+h+" == errors) {"),s}});var Ug=j((CU,Mg)=>{"use strict";Mg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),h="valid"+i,f=t.opts.$data&&o&&o.$data,p;f?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",p="schema"+i):p=o;var g="i"+i,y="schema"+i;f||(s+=" var "+y+" = validate.schema"+l+";"),s+="var "+h+";",f&&(s+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),s+=""+h+" = false;for (var "+g+"=0; "+g+"<"+y+".length; "+g+"++) if (equal("+d+", "+y+"["+g+"])) { "+h+" = true; break; }",f&&(s+="  }  "),s+=" if (!"+h+") {   ";var v=v||[];v.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { allowedValues: schema"+i+" } ",t.opts.messages!==!1&&(s+=" , message: 'should be equal to one of the allowed values' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var C=s;return s=v.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+C+"]); ":s+=" validate.errors = ["+C+"]; return false; ":s+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" }",u&&(s+=" else { "),s}});var $g=j((PU,Ng)=>{"use strict";Ng.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||"");if(t.opts.format===!1)return u&&(s+=" if (true) { "),s;var h=t.opts.$data&&o&&o.$data,f;h?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",f="schema"+i):f=o;var p=t.opts.unknownFormats,g=Array.isArray(p);if(h){var y="format"+i,v="isObject"+i,C="formatType"+i;s+=" var "+y+" = formats["+f+"]; var "+v+" = typeof "+y+" == 'object' && !("+y+" instanceof RegExp) && "+y+".validate; var "+C+" = "+v+" && "+y+".type || 'string'; if ("+v+") { ",t.async&&(s+=" var async"+i+" = "+y+".async; "),s+=" "+y+" = "+y+".validate; } if (  ",h&&(s+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),s+=" (",p!="ignore"&&(s+=" ("+f+" && !"+y+" ",g&&(s+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),s+=") || "),s+=" ("+y+" && "+C+" == '"+n+"' && !(typeof "+y+" == 'function' ? ",t.async?s+=" (async"+i+" ? await "+y+"("+d+") : "+y+"("+d+")) ":s+=" "+y+"("+d+") ",s+=" : "+y+".test("+d+"))))) {"}else{var y=t.formats[o];if(!y){if(p=="ignore")return t.logger.warn('unknown format "'+o+'" ignored in schema at path "'+t.errSchemaPath+'"'),u&&(s+=" if (true) { "),s;if(g&&p.indexOf(o)>=0)return u&&(s+=" if (true) { "),s;throw new Error('unknown format "'+o+'" is used in schema at path "'+t.errSchemaPath+'"')}var v=typeof y=="object"&&!(y instanceof RegExp)&&y.validate,C=v&&y.type||"string";if(v){var x=y.async===!0;y=y.validate}if(C!=n)return u&&(s+=" if (true) { "),s;if(x){if(!t.async)throw new Error("async format in sync schema");var k="formats"+t.util.getProperty(o)+".validate";s+=" if (!(await "+k+"("+d+"))) { "}else{s+=" if (! ";var k="formats"+t.util.getProperty(o);v&&(k+=".validate"),typeof y=="function"?s+=" "+k+"("+d+") ":s+=" "+k+".test("+d+") ",s+=") { "}}var A=A||[];A.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'format' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { format:  ",h?s+=""+f:s+=""+t.util.toQuotedString(o),s+="  } ",t.opts.messages!==!1&&(s+=` , message: 'should match format "`,h?s+="' + "+f+" + '":s+=""+t.util.escapeQuotes(o),s+=`"' `),t.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+t.util.toQuotedString(o),s+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var q=s;return s=A.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+q+"]); ":s+=" validate.errors = ["+q+"]; return false; ":s+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { "),s}});var qg=j((RU,Lg)=>{"use strict";Lg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),h="valid"+i,f="errs__"+i,p=t.util.copy(t);p.level++;var g="valid"+p.level,y=t.schema.then,v=t.schema.else,C=y!==void 0&&(t.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:t.util.schemaHasRules(y,t.RULES.all)),x=v!==void 0&&(t.opts.strictKeywords?typeof v=="object"&&Object.keys(v).length>0||v===!1:t.util.schemaHasRules(v,t.RULES.all)),k=p.baseId;if(C||x){var A;p.createErrors=!1,p.schema=o,p.schemaPath=l,p.errSchemaPath=c,s+=" var "+f+" = errors; var "+h+" = true;  ";var q=t.compositeRule;t.compositeRule=p.compositeRule=!0,s+="  "+t.validate(p)+" ",p.baseId=k,p.createErrors=!0,s+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",t.compositeRule=p.compositeRule=q,C?(s+=" if ("+g+") {  ",p.schema=t.schema.then,p.schemaPath=t.schemaPath+".then",p.errSchemaPath=t.errSchemaPath+"/then",s+="  "+t.validate(p)+" ",p.baseId=k,s+=" "+h+" = "+g+"; ",C&&x?(A="ifClause"+i,s+=" var "+A+" = 'then'; "):A="'then'",s+=" } ",x&&(s+=" else { ")):s+=" if (!"+g+") { ",x&&(p.schema=t.schema.else,p.schemaPath=t.schemaPath+".else",p.errSchemaPath=t.errSchemaPath+"/else",s+="  "+t.validate(p)+" ",p.baseId=k,s+=" "+h+" = "+g+"; ",C&&x?(A="ifClause"+i,s+=" var "+A+" = 'else'; "):A="'else'",s+=" } "),s+=" if (!"+h+") {   var err =   ",t.createErrors!==!1?(s+=" { keyword: 'if' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { failingKeyword: "+A+" } ",t.opts.messages!==!1&&(s+=` , message: 'should match "' + `+A+` + '" schema' `),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+=" }   ",u&&(s+=" else { ")}else u&&(s+=" if (true) { ");return s}});var Fg=j((IU,zg)=>{"use strict";zg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),h="valid"+i,f="errs__"+i,p=t.util.copy(t),g="";p.level++;var y="valid"+p.level,v="i"+i,C=p.dataLevel=t.dataLevel+1,x="data"+C,k=t.baseId;if(s+="var "+f+" = errors;var "+h+";",Array.isArray(o)){var A=t.schema.additionalItems;if(A===!1){s+=" "+h+" = "+d+".length <= "+o.length+"; ";var q=c;c=t.errSchemaPath+"/additionalItems",s+="  if (!"+h+") {   ";var L=L||[];L.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+o.length+" } ",t.opts.messages!==!1&&(s+=" , message: 'should NOT have more than "+o.length+" items' "),t.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var N=s;s=L.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+N+"]); ":s+=" validate.errors = ["+N+"]; return false; ":s+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",c=q,u&&(g+="}",s+=" else { ")}var O=o;if(O){for(var b,P=-1,R=O.length-1;P<R;)if(b=O[P+=1],t.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0||b===!1:t.util.schemaHasRules(b,t.RULES.all)){s+=" "+y+" = true; if ("+d+".length > "+P+") { ";var E=d+"["+P+"]";p.schema=b,p.schemaPath=l+"["+P+"]",p.errSchemaPath=c+"/"+P,p.errorPath=t.util.getPathExpr(t.errorPath,P,t.opts.jsonPointers,!0),p.dataPathArr[C]=P;var $=t.validate(p);p.baseId=k,t.util.varOccurences($,x)<2?s+=" "+t.util.varReplace($,x,E)+" ":s+=" var "+x+" = "+E+"; "+$+" ",s+=" }  ",u&&(s+=" if ("+y+") { ",g+="}")}}if(typeof A=="object"&&(t.opts.strictKeywords?typeof A=="object"&&Object.keys(A).length>0||A===!1:t.util.schemaHasRules(A,t.RULES.all))){p.schema=A,p.schemaPath=t.schemaPath+".additionalItems",p.errSchemaPath=t.errSchemaPath+"/additionalItems",s+=" "+y+" = true; if ("+d+".length > "+o.length+") {  for (var "+v+" = "+o.length+"; "+v+" < "+d+".length; "+v+"++) { ",p.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers,!0);var E=d+"["+v+"]";p.dataPathArr[C]=v;var $=t.validate(p);p.baseId=k,t.util.varOccurences($,x)<2?s+=" "+t.util.varReplace($,x,E)+" ":s+=" var "+x+" = "+E+"; "+$+" ",u&&(s+=" if (!"+y+") break; "),s+=" } }  ",u&&(s+=" if ("+y+") { ",g+="}")}}else if(t.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:t.util.schemaHasRules(o,t.RULES.all)){p.schema=o,p.schemaPath=l,p.errSchemaPath=c,s+="  for (var "+v+" = 0; "+v+" < "+d+".length; "+v+"++) { ",p.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers,!0);var E=d+"["+v+"]";p.dataPathArr[C]=v;var $=t.validate(p);p.baseId=k,t.util.varOccurences($,x)<2?s+=" "+t.util.varReplace($,x,E)+" ":s+=" var "+x+" = "+E+"; "+$+" ",u&&(s+=" if (!"+y+") break; "),s+=" }"}return u&&(s+=" "+g+" if ("+f+" == errors) {"),s}});var _d=j((OU,Vg)=>{"use strict";Vg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,k,d="data"+(a||""),h=t.opts.$data&&o&&o.$data,f;h?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",f="schema"+i):f=o;var p=r=="maximum",g=p?"exclusiveMaximum":"exclusiveMinimum",y=t.schema[g],v=t.opts.$data&&y&&y.$data,C=p?"<":">",x=p?">":"<",k=void 0;if(!(h||typeof o=="number"||o===void 0))throw new Error(r+" must be number");if(!(v||y===void 0||typeof y=="number"||typeof y=="boolean"))throw new Error(g+" must be number or boolean");if(v){var A=t.util.getData(y.$data,a,t.dataPathArr),q="exclusive"+i,L="exclType"+i,N="exclIsNumber"+i,O="op"+i,b="' + "+O+" + '";s+=" var schemaExcl"+i+" = "+A+"; ",A="schemaExcl"+i,s+=" var "+q+"; var "+L+" = typeof "+A+"; if ("+L+" != 'boolean' && "+L+" != 'undefined' && "+L+" != 'number') { ";var k=g,P=P||[];P.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(k||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(s+=" , message: '"+g+" should be boolean' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var R=s;s=P.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+R+"]); ":s+=" validate.errors = ["+R+"]; return false; ":s+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else if ( ",h&&(s+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),s+=" "+L+" == 'number' ? ( ("+q+" = "+f+" === undefined || "+A+" "+C+"= "+f+") ? "+d+" "+x+"= "+A+" : "+d+" "+x+" "+f+" ) : ( ("+q+" = "+A+" === true) ? "+d+" "+x+"= "+f+" : "+d+" "+x+" "+f+" ) || "+d+" !== "+d+") { var op"+i+" = "+q+" ? '"+C+"' : '"+C+"='; ",o===void 0&&(k=g,c=t.errSchemaPath+"/"+g,f=A,h=v)}else{var N=typeof y=="number",b=C;if(N&&h){var O="'"+b+"'";s+=" if ( ",h&&(s+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),s+=" ( "+f+" === undefined || "+y+" "+C+"= "+f+" ? "+d+" "+x+"= "+y+" : "+d+" "+x+" "+f+" ) || "+d+" !== "+d+") { "}else{N&&o===void 0?(q=!0,k=g,c=t.errSchemaPath+"/"+g,f=y,x+="="):(N&&(f=Math[p?"min":"max"](y,o)),y===(N?f:!0)?(q=!0,k=g,c=t.errSchemaPath+"/"+g,x+="="):(q=!1,b+="="));var O="'"+b+"'";s+=" if ( ",h&&(s+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),s+=" "+d+" "+x+" "+f+" || "+d+" !== "+d+") { "}}k=k||r;var P=P||[];P.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(k||"_limit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { comparison: "+O+", limit: "+f+", exclusive: "+q+" } ",t.opts.messages!==!1&&(s+=" , message: 'should be "+b+" ",h?s+="' + "+f:s+=""+f+"'"),t.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var R=s;return s=P.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+R+"]); ":s+=" validate.errors = ["+R+"]; return false; ":s+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { "),s}});var bd=j((TU,Bg)=>{"use strict";Bg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,g,d="data"+(a||""),h=t.opts.$data&&o&&o.$data,f;if(h?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",f="schema"+i):f=o,!(h||typeof o=="number"))throw new Error(r+" must be number");var p=r=="maxItems"?">":"<";s+="if ( ",h&&(s+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),s+=" "+d+".length "+p+" "+f+") { ";var g=r,y=y||[];y.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(g||"_limitItems")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+f+" } ",t.opts.messages!==!1&&(s+=" , message: 'should NOT have ",r=="maxItems"?s+="more":s+="fewer",s+=" than ",h?s+="' + "+f+" + '":s+=""+o,s+=" items' "),t.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var v=s;return s=y.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var wd=j((jU,Hg)=>{"use strict";Hg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,g,d="data"+(a||""),h=t.opts.$data&&o&&o.$data,f;if(h?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",f="schema"+i):f=o,!(h||typeof o=="number"))throw new Error(r+" must be number");var p=r=="maxLength"?">":"<";s+="if ( ",h&&(s+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),t.opts.unicode===!1?s+=" "+d+".length ":s+=" ucs2length("+d+") ",s+=" "+p+" "+f+") { ";var g=r,y=y||[];y.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(g||"_limitLength")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+f+" } ",t.opts.messages!==!1&&(s+=" , message: 'should NOT be ",r=="maxLength"?s+="longer":s+="shorter",s+=" than ",h?s+="' + "+f+" + '":s+=""+o,s+=" characters' "),t.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var v=s;return s=y.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var kd=j((DU,Jg)=>{"use strict";Jg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,g,d="data"+(a||""),h=t.opts.$data&&o&&o.$data,f;if(h?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",f="schema"+i):f=o,!(h||typeof o=="number"))throw new Error(r+" must be number");var p=r=="maxProperties"?">":"<";s+="if ( ",h&&(s+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),s+=" Object.keys("+d+").length "+p+" "+f+") { ";var g=r,y=y||[];y.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(g||"_limitProperties")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+f+" } ",t.opts.messages!==!1&&(s+=" , message: 'should NOT have ",r=="maxProperties"?s+="more":s+="fewer",s+=" than ",h?s+="' + "+f+" + '":s+=""+o,s+=" properties' "),t.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var v=s;return s=y.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var Wg=j((AU,Kg)=>{"use strict";Kg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),h=t.opts.$data&&o&&o.$data,f;if(h?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",f="schema"+i):f=o,!(h||typeof o=="number"))throw new Error(r+" must be number");s+="var division"+i+";if (",h&&(s+=" "+f+" !== undefined && ( typeof "+f+" != 'number' || "),s+=" (division"+i+" = "+d+" / "+f+", ",t.opts.multipleOfPrecision?s+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+t.opts.multipleOfPrecision+" ":s+=" division"+i+" !== parseInt(division"+i+") ",s+=" ) ",h&&(s+="  )  "),s+=" ) {   ";var p=p||[];p.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { multipleOf: "+f+" } ",t.opts.messages!==!1&&(s+=" , message: 'should be multiple of ",h?s+="' + "+f:s+=""+f+"'"),t.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var g=s;return s=p.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var Zg=j((MU,Gg)=>{"use strict";Gg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),h="errs__"+i,f=t.util.copy(t);f.level++;var p="valid"+f.level;if(t.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:t.util.schemaHasRules(o,t.RULES.all)){f.schema=o,f.schemaPath=l,f.errSchemaPath=c,s+=" var "+h+" = errors;  ";var g=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.createErrors=!1;var y;f.opts.allErrors&&(y=f.opts.allErrors,f.opts.allErrors=!1),s+=" "+t.validate(f)+" ",f.createErrors=!0,y&&(f.opts.allErrors=y),t.compositeRule=f.compositeRule=g,s+=" if ("+p+") {   ";var v=v||[];v.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(s+=" , message: 'should NOT be valid' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var C=s;s=v.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+C+"]); ":s+=" validate.errors = ["+C+"]; return false; ":s+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",t.opts.allErrors&&(s+=" } ")}else s+="  var err =   ",t.createErrors!==!1?(s+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(s+=" , message: 'should NOT be valid' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(s+=" if (false) { ");return s}});var Qg=j((UU,Yg)=>{"use strict";Yg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),h="valid"+i,f="errs__"+i,p=t.util.copy(t),g="";p.level++;var y="valid"+p.level,v=p.baseId,C="prevValid"+i,x="passingSchemas"+i;s+="var "+f+" = errors , "+C+" = false , "+h+" = false , "+x+" = null; ";var k=t.compositeRule;t.compositeRule=p.compositeRule=!0;var A=o;if(A)for(var q,L=-1,N=A.length-1;L<N;)q=A[L+=1],(t.opts.strictKeywords?typeof q=="object"&&Object.keys(q).length>0||q===!1:t.util.schemaHasRules(q,t.RULES.all))?(p.schema=q,p.schemaPath=l+"["+L+"]",p.errSchemaPath=c+"/"+L,s+="  "+t.validate(p)+" ",p.baseId=v):s+=" var "+y+" = true; ",L&&(s+=" if ("+y+" && "+C+") { "+h+" = false; "+x+" = ["+x+", "+L+"]; } else { ",g+="}"),s+=" if ("+y+") { "+h+" = "+C+" = true; "+x+" = "+L+"; }";return t.compositeRule=p.compositeRule=k,s+=""+g+"if (!"+h+") {   var err =   ",t.createErrors!==!1?(s+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { passingSchemas: "+x+" } ",t.opts.messages!==!1&&(s+=" , message: 'should match exactly one schema in oneOf' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",t.opts.allErrors&&(s+=" } "),s}});var ey=j((NU,Xg)=>{"use strict";Xg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),h=t.opts.$data&&o&&o.$data,f;h?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",f="schema"+i):f=o;var p=h?"(new RegExp("+f+"))":t.usePattern(o);s+="if ( ",h&&(s+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),s+=" !"+p+".test("+d+") ) {   ";var g=g||[];g.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { pattern:  ",h?s+=""+f:s+=""+t.util.toQuotedString(o),s+="  } ",t.opts.messages!==!1&&(s+=` , message: 'should match pattern "`,h?s+="' + "+f+" + '":s+=""+t.util.escapeQuotes(o),s+=`"' `),t.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+t.util.toQuotedString(o),s+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var y=s;return s=g.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+y+"]); ":s+=" validate.errors = ["+y+"]; return false; ":s+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var ry=j(($U,ty)=>{"use strict";ty.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),h="errs__"+i,f=t.util.copy(t),p="";f.level++;var g="valid"+f.level,y="key"+i,v="idx"+i,C=f.dataLevel=t.dataLevel+1,x="data"+C,k="dataProperties"+i,A=Object.keys(o||{}).filter(G),q=t.schema.patternProperties||{},L=Object.keys(q).filter(G),N=t.schema.additionalProperties,O=A.length||L.length,b=N===!1,P=typeof N=="object"&&Object.keys(N).length,R=t.opts.removeAdditional,E=b||P||R,$=t.opts.ownProperties,H=t.baseId,Y=t.schema.required;if(Y&&!(t.opts.$data&&Y.$data)&&Y.length<t.opts.loopRequired)var J=t.util.toHash(Y);function G(pr){return pr!=="__proto__"}if(s+="var "+h+" = errors;var "+g+" = true;",$&&(s+=" var "+k+" = undefined;"),E){if($?s+=" "+k+" = "+k+" || Object.keys("+d+"); for (var "+v+"=0; "+v+"<"+k+".length; "+v+"++) { var "+y+" = "+k+"["+v+"]; ":s+=" for (var "+y+" in "+d+") { ",O){if(s+=" var isAdditional"+i+" = !(false ",A.length)if(A.length>8)s+=" || validate.schema"+l+".hasOwnProperty("+y+") ";else{var ee=A;if(ee)for(var X,de=-1,_e=ee.length-1;de<_e;)X=ee[de+=1],s+=" || "+y+" == "+t.util.toQuotedString(X)+" "}if(L.length){var Ee=L;if(Ee)for(var ue,De=-1,Pe=Ee.length-1;De<Pe;)ue=Ee[De+=1],s+=" || "+t.usePattern(ue)+".test("+y+") "}s+=" ); if (isAdditional"+i+") { "}if(R=="all")s+=" delete "+d+"["+y+"]; ";else{var Xe=t.errorPath,Jt="' + "+y+" + '";if(t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers)),b)if(R)s+=" delete "+d+"["+y+"]; ";else{s+=" "+g+" = false; ";var Ut=c;c=t.errSchemaPath+"/additionalProperties";var $e=$e||[];$e.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { additionalProperty: '"+Jt+"' } ",t.opts.messages!==!1&&(s+=" , message: '",t.opts._errorDataPathProperty?s+="is an invalid additional property":s+="should NOT have additional properties",s+="' "),t.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var Ie=s;s=$e.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+Ie+"]); ":s+=" validate.errors = ["+Ie+"]; return false; ":s+=" var err = "+Ie+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=Ut,u&&(s+=" break; ")}else if(P)if(R=="failing"){s+=" var "+h+" = errors;  ";var er=t.compositeRule;t.compositeRule=f.compositeRule=!0,f.schema=N,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers);var F=d+"["+y+"]";f.dataPathArr[C]=y;var z=t.validate(f);f.baseId=H,t.util.varOccurences(z,x)<2?s+=" "+t.util.varReplace(z,x,F)+" ":s+=" var "+x+" = "+F+"; "+z+" ",s+=" if (!"+g+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+y+"]; }  ",t.compositeRule=f.compositeRule=er}else{f.schema=N,f.schemaPath=t.schemaPath+".additionalProperties",f.errSchemaPath=t.errSchemaPath+"/additionalProperties",f.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers);var F=d+"["+y+"]";f.dataPathArr[C]=y;var z=t.validate(f);f.baseId=H,t.util.varOccurences(z,x)<2?s+=" "+t.util.varReplace(z,x,F)+" ":s+=" var "+x+" = "+F+"; "+z+" ",u&&(s+=" if (!"+g+") break; ")}t.errorPath=Xe}O&&(s+=" } "),s+=" }  ",u&&(s+=" if ("+g+") { ",p+="}")}var T=t.opts.useDefaults&&!t.compositeRule;if(A.length){var I=A;if(I)for(var X,M=-1,K=I.length-1;M<K;){X=I[M+=1];var W=o[X];if(t.opts.strictKeywords?typeof W=="object"&&Object.keys(W).length>0||W===!1:t.util.schemaHasRules(W,t.RULES.all)){var he=t.util.getProperty(X),F=d+he,oe=T&&W.default!==void 0;f.schema=W,f.schemaPath=l+he,f.errSchemaPath=c+"/"+t.util.escapeFragment(X),f.errorPath=t.util.getPath(t.errorPath,X,t.opts.jsonPointers),f.dataPathArr[C]=t.util.toQuotedString(X);var z=t.validate(f);if(f.baseId=H,t.util.varOccurences(z,x)<2){z=t.util.varReplace(z,x,F);var Le=F}else{var Le=x;s+=" var "+x+" = "+F+"; "}if(oe)s+=" "+z+" ";else{if(J&&J[X]){s+=" if ( "+Le+" === undefined ",$&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(X)+"') "),s+=") { "+g+" = false; ";var Xe=t.errorPath,Ut=c,ne=t.util.escapeQuotes(X);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(Xe,X,t.opts.jsonPointers)),c=t.errSchemaPath+"/required";var $e=$e||[];$e.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+ne+"' } ",t.opts.messages!==!1&&(s+=" , message: '",t.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+ne+"\\'",s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var Ie=s;s=$e.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+Ie+"]); ":s+=" validate.errors = ["+Ie+"]; return false; ":s+=" var err = "+Ie+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=Ut,t.errorPath=Xe,s+=" } else { "}else u?(s+=" if ( "+Le+" === undefined ",$&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(X)+"') "),s+=") { "+g+" = true; } else { "):(s+=" if ("+Le+" !== undefined ",$&&(s+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(X)+"') "),s+=" ) { ");s+=" "+z+" } "}}u&&(s+=" if ("+g+") { ",p+="}")}}if(L.length){var dt=L;if(dt)for(var ue,Vi=-1,$u=dt.length-1;Vi<$u;){ue=dt[Vi+=1];var W=q[ue];if(t.opts.strictKeywords?typeof W=="object"&&Object.keys(W).length>0||W===!1:t.util.schemaHasRules(W,t.RULES.all)){f.schema=W,f.schemaPath=t.schemaPath+".patternProperties"+t.util.getProperty(ue),f.errSchemaPath=t.errSchemaPath+"/patternProperties/"+t.util.escapeFragment(ue),$?s+=" "+k+" = "+k+" || Object.keys("+d+"); for (var "+v+"=0; "+v+"<"+k+".length; "+v+"++) { var "+y+" = "+k+"["+v+"]; ":s+=" for (var "+y+" in "+d+") { ",s+=" if ("+t.usePattern(ue)+".test("+y+")) { ",f.errorPath=t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers);var F=d+"["+y+"]";f.dataPathArr[C]=y;var z=t.validate(f);f.baseId=H,t.util.varOccurences(z,x)<2?s+=" "+t.util.varReplace(z,x,F)+" ":s+=" var "+x+" = "+F+"; "+z+" ",u&&(s+=" if (!"+g+") break; "),s+=" } ",u&&(s+=" else "+g+" = true; "),s+=" }  ",u&&(s+=" if ("+g+") { ",p+="}")}}}return u&&(s+=" "+p+" if ("+h+" == errors) {"),s}});var ny=j((LU,sy)=>{"use strict";sy.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),h="errs__"+i,f=t.util.copy(t),p="";f.level++;var g="valid"+f.level;if(s+="var "+h+" = errors;",t.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:t.util.schemaHasRules(o,t.RULES.all)){f.schema=o,f.schemaPath=l,f.errSchemaPath=c;var y="key"+i,v="idx"+i,C="i"+i,x="' + "+y+" + '",k=f.dataLevel=t.dataLevel+1,A="data"+k,q="dataProperties"+i,L=t.opts.ownProperties,N=t.baseId;L&&(s+=" var "+q+" = undefined; "),L?s+=" "+q+" = "+q+" || Object.keys("+d+"); for (var "+v+"=0; "+v+"<"+q+".length; "+v+"++) { var "+y+" = "+q+"["+v+"]; ":s+=" for (var "+y+" in "+d+") { ",s+=" var startErrs"+i+" = errors; ";var O=y,b=t.compositeRule;t.compositeRule=f.compositeRule=!0;var P=t.validate(f);f.baseId=N,t.util.varOccurences(P,A)<2?s+=" "+t.util.varReplace(P,A,O)+" ":s+=" var "+A+" = "+O+"; "+P+" ",t.compositeRule=f.compositeRule=b,s+=" if (!"+g+") { for (var "+C+"=startErrs"+i+"; "+C+"<errors; "+C+"++) { vErrors["+C+"].propertyName = "+y+"; }   var err =   ",t.createErrors!==!1?(s+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { propertyName: '"+x+"' } ",t.opts.messages!==!1&&(s+=" , message: 'property name \\'"+x+"\\' is invalid' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),u&&(s+=" break; "),s+=" } }"}return u&&(s+=" "+p+" if ("+h+" == errors) {"),s}});var ay=j((qU,iy)=>{"use strict";iy.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),h="valid"+i,f=t.opts.$data&&o&&o.$data,p;f?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",p="schema"+i):p=o;var g="schema"+i;if(!f)if(o.length<t.opts.loopRequired&&t.schema.properties&&Object.keys(t.schema.properties).length){var y=[],v=o;if(v)for(var C,x=-1,k=v.length-1;x<k;){C=v[x+=1];var A=t.schema.properties[C];A&&(t.opts.strictKeywords?typeof A=="object"&&Object.keys(A).length>0||A===!1:t.util.schemaHasRules(A,t.RULES.all))||(y[y.length]=C)}}else var y=o;if(f||y.length){var q=t.errorPath,L=f||y.length>=t.opts.loopRequired,N=t.opts.ownProperties;if(u)if(s+=" var missing"+i+"; ",L){f||(s+=" var "+g+" = validate.schema"+l+"; ");var O="i"+i,b="schema"+i+"["+O+"]",P="' + "+b+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(q,b,t.opts.jsonPointers)),s+=" var "+h+" = true; ",f&&(s+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),s+=" for (var "+O+" = 0; "+O+" < "+g+".length; "+O+"++) { "+h+" = "+d+"["+g+"["+O+"]] !== undefined ",N&&(s+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+g+"["+O+"]) "),s+="; if (!"+h+") break; } ",f&&(s+="  }  "),s+="  if (!"+h+") {   ";var R=R||[];R.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+P+"' } ",t.opts.messages!==!1&&(s+=" , message: '",t.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+P+"\\'",s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var E=s;s=R.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+E+"]); ":s+=" validate.errors = ["+E+"]; return false; ":s+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { "}else{s+=" if ( ";var $=y;if($)for(var H,O=-1,Y=$.length-1;O<Y;){H=$[O+=1],O&&(s+=" || ");var J=t.util.getProperty(H),G=d+J;s+=" ( ( "+G+" === undefined ",N&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(H)+"') "),s+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?H:J)+") ) "}s+=") {  ";var b="missing"+i,P="' + "+b+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(q,b,!0):q+" + "+b);var R=R||[];R.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+P+"' } ",t.opts.messages!==!1&&(s+=" , message: '",t.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+P+"\\'",s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var E=s;s=R.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+E+"]); ":s+=" validate.errors = ["+E+"]; return false; ":s+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { "}else if(L){f||(s+=" var "+g+" = validate.schema"+l+"; ");var O="i"+i,b="schema"+i+"["+O+"]",P="' + "+b+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(q,b,t.opts.jsonPointers)),f&&(s+=" if ("+g+" && !Array.isArray("+g+")) {  var err =   ",t.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+P+"' } ",t.opts.messages!==!1&&(s+=" , message: '",t.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+P+"\\'",s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+g+" !== undefined) { "),s+=" for (var "+O+" = 0; "+O+" < "+g+".length; "+O+"++) { if ("+d+"["+g+"["+O+"]] === undefined ",N&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+g+"["+O+"]) "),s+=") {  var err =   ",t.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+P+"' } ",t.opts.messages!==!1&&(s+=" , message: '",t.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+P+"\\'",s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(s+="  }  ")}else{var ee=y;if(ee)for(var H,X=-1,de=ee.length-1;X<de;){H=ee[X+=1];var J=t.util.getProperty(H),P=t.util.escapeQuotes(H),G=d+J;t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(q,H,t.opts.jsonPointers)),s+=" if ( "+G+" === undefined ",N&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(H)+"') "),s+=") {  var err =   ",t.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+P+"' } ",t.opts.messages!==!1&&(s+=" , message: '",t.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+P+"\\'",s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t.errorPath=q}else u&&(s+=" if (true) {");return s}});var ly=j((zU,oy)=>{"use strict";oy.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),h="valid"+i,f=t.opts.$data&&o&&o.$data,p;if(f?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",p="schema"+i):p=o,(o||f)&&t.opts.uniqueItems!==!1){f&&(s+=" var "+h+"; if ("+p+" === false || "+p+" === undefined) "+h+" = true; else if (typeof "+p+" != 'boolean') "+h+" = false; else { "),s+=" var i = "+d+".length , "+h+" = true , j; if (i > 1) { ";var g=t.schema.items&&t.schema.items.type,y=Array.isArray(g);if(!g||g=="object"||g=="array"||y&&(g.indexOf("object")>=0||g.indexOf("array")>=0))s+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+h+" = false; break outer; } } } ";else{s+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var v="checkDataType"+(y?"s":"");s+=" if ("+t.util[v](g,"item",t.opts.strictNumbers,!0)+") continue; ",y&&(s+=` if (typeof item == 'string') item = '"' + item; `),s+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}s+=" } ",f&&(s+="  }  "),s+=" if (!"+h+") {   ";var C=C||[];C.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { i: i, j: j } ",t.opts.messages!==!1&&(s+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),t.opts.verbose&&(s+=" , schema:  ",f?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var x=s;s=C.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+x+"]); ":s+=" validate.errors = ["+x+"]; return false; ":s+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { ")}else u&&(s+=" if (true) { ");return s}});var uy=j((FU,cy)=>{"use strict";cy.exports={$ref:kg(),allOf:xg(),anyOf:Cg(),$comment:Rg(),const:Og(),contains:jg(),dependencies:Ag(),enum:Ug(),format:$g(),if:qg(),items:Fg(),maximum:_d(),minimum:_d(),maxItems:bd(),minItems:bd(),maxLength:wd(),minLength:wd(),maxProperties:kd(),minProperties:kd(),multipleOf:Wg(),not:Zg(),oneOf:Qg(),pattern:ey(),properties:ry(),propertyNames:ny(),required:ay(),uniqueItems:ly(),validate:yd()}});var fy=j((VU,hy)=>{"use strict";var dy=uy(),Sd=hn().toHash;hy.exports=function(){var t=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],r=["type","$comment"],n=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],s=["number","integer","string","array","object","boolean","null"];return t.all=Sd(r),t.types=Sd(s),t.forEach(function(i){i.rules=i.rules.map(function(a){var o;if(typeof a=="object"){var l=Object.keys(a)[0];o=a[l],a=l,o.forEach(function(u){r.push(u),t.all[u]=!0})}r.push(a);var c=t.all[a]={keyword:a,code:dy[a],implements:o};return c}),t.all.$comment={keyword:"$comment",code:dy.$comment},i.type&&(t.types[i.type]=i)}),t.keywords=Sd(r.concat(n)),t.custom={},t}});var gy=j((BU,my)=>{"use strict";var py=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];my.exports=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var n=t[r].split("/"),s=e,i;for(i=1;i<n.length;i++)s=s[n[i]];for(i=0;i<py.length;i++){var a=py[i],o=s[a];o&&(s[a]={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}});var _y=j((HU,vy)=>{"use strict";var $E=tl().MissingRef;vy.exports=yy;function yy(e,t,r){var n=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof t=="function"&&(r=t,t=void 0);var s=i(e).then(function(){var o=n._addSchema(e,void 0,t);return o.validate||a(o)});return r&&s.then(function(o){r(null,o)},r),s;function i(o){var l=o.$schema;return l&&!n.getSchema(l)?yy.call(n,{$ref:l},!0):Promise.resolve()}function a(o){try{return n._compile(o)}catch(c){if(c instanceof $E)return l(c);throw c}function l(c){var u=c.missingSchema;if(f(u))throw new Error("Schema "+u+" is loaded but "+c.missingRef+" cannot be resolved");var d=n._loadingSchemas[u];return d||(d=n._loadingSchemas[u]=n._opts.loadSchema(u),d.then(h,h)),d.then(function(p){if(!f(u))return i(p).then(function(){f(u)||n.addSchema(p,u,void 0,t)})}).then(function(){return a(o)});function h(){delete n._loadingSchemas[u]}function f(p){return n._refs[p]||n._schemas[p]}}}}});var wy=j((JU,by)=>{"use strict";by.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d,h="data"+(a||""),f="valid"+i,p="errs__"+i,g=t.opts.$data&&o&&o.$data,y;g?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",y="schema"+i):y=o;var v=this,C="definition"+i,x=v.definition,k="",A,q,L,N,O;if(g&&x.$data){O="keywordValidate"+i;var b=x.validateSchema;s+=" var "+C+" = RULES.custom['"+r+"'].definition; var "+O+" = "+C+".validate;"}else{if(N=t.useCustomRule(v,o,t.schema,t),!N)return;y="validate.schema"+l,O=N.code,A=x.compile,q=x.inline,L=x.macro}var P=O+".errors",R="i"+i,E="ruleErr"+i,$=x.async;if($&&!t.async)throw new Error("async keyword in sync schema");if(q||L||(s+=""+P+" = null;"),s+="var "+p+" = errors;var "+f+";",g&&x.$data&&(k+="}",s+=" if ("+y+" === undefined) { "+f+" = true; } else { ",b&&(k+="}",s+=" "+f+" = "+C+".validateSchema("+y+"); if ("+f+") { ")),q)x.statements?s+=" "+N.validate+" ":s+=" "+f+" = "+N.validate+"; ";else if(L){var H=t.util.copy(t),k="";H.level++;var Y="valid"+H.level;H.schema=N.validate,H.schemaPath="";var J=t.compositeRule;t.compositeRule=H.compositeRule=!0;var G=t.validate(H).replace(/validate\.schema/g,O);t.compositeRule=H.compositeRule=J,s+=" "+G}else{var ee=ee||[];ee.push(s),s="",s+="  "+O+".call( ",t.opts.passContext?s+="this":s+="self",A||x.schema===!1?s+=" , "+h+" ":s+=" , "+y+" , "+h+" , validate.schema"+t.schemaPath+" ",s+=" , (dataPath || '')",t.errorPath!='""'&&(s+=" + "+t.errorPath);var X=a?"data"+(a-1||""):"parentData",de=a?t.dataPathArr[a]:"parentDataProperty";s+=" , "+X+" , "+de+" , rootData )  ";var _e=s;s=ee.pop(),x.errors===!1?(s+=" "+f+" = ",$&&(s+="await "),s+=""+_e+"; "):$?(P="customErrors"+i,s+=" var "+P+" = null; try { "+f+" = await "+_e+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+P+" = e.errors; else throw e; } "):s+=" "+P+" = null; "+f+" = "+_e+"; "}if(x.modifying&&(s+=" if ("+X+") "+h+" = "+X+"["+de+"];"),s+=""+k,x.valid)u&&(s+=" if (true) { ");else{s+=" if ( ",x.valid===void 0?(s+=" !",L?s+=""+Y:s+=""+f):s+=" "+!x.valid+" ",s+=") { ",d=v.keyword;var ee=ee||[];ee.push(s),s="";var ee=ee||[];ee.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { keyword: '"+v.keyword+"' } ",t.opts.messages!==!1&&(s+=` , message: 'should pass "`+v.keyword+`" keyword validation' `),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var Ee=s;s=ee.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+Ee+"]); ":s+=" validate.errors = ["+Ee+"]; return false; ":s+=" var err = "+Ee+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var ue=s;s=ee.pop(),q?x.errors?x.errors!="full"&&(s+="  for (var "+R+"="+p+"; "+R+"<errors; "+R+"++) { var "+E+" = vErrors["+R+"]; if ("+E+".dataPath === undefined) "+E+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+E+".schemaPath === undefined) { "+E+'.schemaPath = "'+c+'"; } ',t.opts.verbose&&(s+=" "+E+".schema = "+y+"; "+E+".data = "+h+"; "),s+=" } "):x.errors===!1?s+=" "+ue+" ":(s+=" if ("+p+" == errors) { "+ue+" } else {  for (var "+R+"="+p+"; "+R+"<errors; "+R+"++) { var "+E+" = vErrors["+R+"]; if ("+E+".dataPath === undefined) "+E+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+E+".schemaPath === undefined) { "+E+'.schemaPath = "'+c+'"; } ',t.opts.verbose&&(s+=" "+E+".schema = "+y+"; "+E+".data = "+h+"; "),s+=" } } "):L?(s+="   var err =   ",t.createErrors!==!1?(s+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { keyword: '"+v.keyword+"' } ",t.opts.messages!==!1&&(s+=` , message: 'should pass "`+v.keyword+`" keyword validation' `),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; ")):x.errors===!1?s+=" "+ue+" ":(s+=" if (Array.isArray("+P+")) { if (vErrors === null) vErrors = "+P+"; else vErrors = vErrors.concat("+P+"); errors = vErrors.length;  for (var "+R+"="+p+"; "+R+"<errors; "+R+"++) { var "+E+" = vErrors["+R+"]; if ("+E+".dataPath === undefined) "+E+".dataPath = (dataPath || '') + "+t.errorPath+";  "+E+'.schemaPath = "'+c+'";  ',t.opts.verbose&&(s+=" "+E+".schema = "+y+"; "+E+".data = "+h+"; "),s+=" } } else { "+ue+" } "),s+=" } ",u&&(s+=" else { ")}return s}});var xd=j((KU,LE)=>{LE.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var xy=j((WU,Sy)=>{"use strict";var ky=xd();Sy.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:ky.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:ky.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}});var Cy=j((GU,Ey)=>{"use strict";var qE=/^[a-z_$][a-z0-9_$-]*$/i,zE=wy(),FE=xy();Ey.exports={add:VE,get:BE,remove:HE,validate:Ed};function VE(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!qE.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var n=t.type;if(Array.isArray(n))for(var s=0;s<n.length;s++)a(e,n[s],t);else a(e,n,t);var i=t.metaSchema;i&&(t.$data&&this._opts.$data&&(i={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(i,!0))}r.keywords[e]=r.all[e]=!0;function a(o,l,c){for(var u,d=0;d<r.length;d++){var h=r[d];if(h.type==l){u=h;break}}u||(u={type:l,rules:[]},r.push(u));var f={keyword:o,definition:c,custom:!0,code:zE,implements:c.implements};u.rules.push(f),r.custom[o]=f}return this}function BE(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1}function HE(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var n=t[r].rules,s=0;s<n.length;s++)if(n[s].keyword==e){n.splice(s,1);break}return this}function Ed(e,t){Ed.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(FE,!0);if(r(e))return!0;if(Ed.errors=r.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}});var Py=j((ZU,JE)=>{JE.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Ny=j((YU,Uy)=>{"use strict";var Iy=ag(),fn=el(),KE=lg(),Oy=ud(),WE=gd(),GE=bg(),ZE=fy(),Ty=gy(),jy=hn();Uy.exports=Ze;Ze.prototype.validate=QE;Ze.prototype.compile=XE;Ze.prototype.addSchema=eC;Ze.prototype.addMetaSchema=tC;Ze.prototype.validateSchema=rC;Ze.prototype.getSchema=nC;Ze.prototype.removeSchema=aC;Ze.prototype.addFormat=pC;Ze.prototype.errorsText=fC;Ze.prototype._addSchema=oC;Ze.prototype._compile=lC;Ze.prototype.compileAsync=_y();var cl=Cy();Ze.prototype.addKeyword=cl.add;Ze.prototype.getKeyword=cl.get;Ze.prototype.removeKeyword=cl.remove;Ze.prototype.validateKeyword=cl.validate;var Dy=tl();Ze.ValidationError=Dy.Validation;Ze.MissingRefError=Dy.MissingRef;Ze.$dataMetaSchema=Ty;var ll="http://json-schema.org/draft-07/schema",Ry=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],YE=["/properties"];function Ze(e){if(!(this instanceof Ze))return new Ze(e);e=this._opts=jy.copy(e)||{},bC(this),this._schemas={},this._refs={},this._fragments={},this._formats=GE(e.format),this._cache=e.cache||new KE,this._loadingSchemas={},this._compilations=[],this.RULES=ZE(),this._getId=cC(e),e.loopRequired=e.loopRequired||1/0,e.errorDataPath=="property"&&(e._errorDataPathProperty=!0),e.serialize===void 0&&(e.serialize=WE),this._metaOpts=_C(this),e.formats&&yC(this),e.keywords&&vC(this),mC(this),typeof e.meta=="object"&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),gC(this)}function QE(e,t){var r;if(typeof e=="string"){if(r=this.getSchema(e),!r)throw new Error('no schema with key or ref "'+e+'"')}else{var n=this._addSchema(e);r=n.validate||this._compile(n)}var s=r(t);return r.$async!==!0&&(this.errors=r.errors),s}function XE(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)}function eC(e,t,r,n){if(Array.isArray(e)){for(var s=0;s<e.length;s++)this.addSchema(e[s],void 0,r,n);return this}var i=this._getId(e);if(i!==void 0&&typeof i!="string")throw new Error("schema id must be string");return t=fn.normalizeId(t||i),My(this,t),this._schemas[t]=this._addSchema(e,r,n,!0),this}function tC(e,t,r){return this.addSchema(e,t,r,!0),this}function rC(e,t){var r=e.$schema;if(r!==void 0&&typeof r!="string")throw new Error("$schema must be a string");if(r=r||this._opts.defaultMeta||sC(this),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(r,e);if(!n&&t){var s="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(s);else throw new Error(s)}return n}function sC(e){var t=e._opts.meta;return e._opts.defaultMeta=typeof t=="object"?e._getId(t)||t:e.getSchema(ll)?ll:void 0,e._opts.defaultMeta}function nC(e){var t=Ay(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return iC(this,e)}}function iC(e,t){var r=fn.schema.call(e,{schema:{}},t);if(r){var n=r.schema,s=r.root,i=r.baseId,a=Iy.call(e,n,s,void 0,i);return e._fragments[t]=new Oy({ref:t,fragment:!0,schema:n,root:s,baseId:i,validate:a}),a}}function Ay(e,t){return t=fn.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function aC(e){if(e instanceof RegExp)return ol(this,this._schemas,e),ol(this,this._refs,e),this;switch(typeof e){case"undefined":return ol(this,this._schemas),ol(this,this._refs),this._cache.clear(),this;case"string":var t=Ay(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,n=r?r(e):e;this._cache.del(n);var s=this._getId(e);s&&(s=fn.normalizeId(s),delete this._schemas[s],delete this._refs[s])}return this}function ol(e,t,r){for(var n in t){var s=t[n];!s.meta&&(!r||r.test(n))&&(e._cache.del(s.cacheKey),delete t[n])}}function oC(e,t,r,n){if(typeof e!="object"&&typeof e!="boolean")throw new Error("schema should be object or boolean");var s=this._opts.serialize,i=s?s(e):e,a=this._cache.get(i);if(a)return a;n=n||this._opts.addUsedSchema!==!1;var o=fn.normalizeId(this._getId(e));o&&n&&My(this,o);var l=this._opts.validateSchema!==!1&&!t,c;l&&!(c=o&&o==fn.normalizeId(e.$schema))&&this.validateSchema(e,!0);var u=fn.ids.call(this,e),d=new Oy({id:o,schema:e,localRefs:u,cacheKey:i,meta:r});return o[0]!="#"&&n&&(this._refs[o]=d),this._cache.put(i,d),l&&c&&this.validateSchema(e,!0),d}function lC(e,t){if(e.compiling)return e.validate=s,s.schema=e.schema,s.errors=null,s.root=t||s,e.schema.$async===!0&&(s.$async=!0),s;e.compiling=!0;var r;e.meta&&(r=this._opts,this._opts=this._metaOpts);var n;try{n=Iy.call(this,e.schema,t,e.localRefs)}catch(i){throw delete e.validate,i}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=n,e.refs=n.refs,e.refVal=n.refVal,e.root=n.root,n;function s(){var i=e.validate,a=i.apply(this,arguments);return s.errors=i.errors,a}}function cC(e){switch(e.schemaId){case"auto":return hC;case"id":return uC;default:return dC}}function uC(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function dC(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function hC(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function fC(e,t){if(e=e||this.errors,!e)return"No errors";t=t||{};for(var r=t.separator===void 0?", ":t.separator,n=t.dataVar===void 0?"data":t.dataVar,s="",i=0;i<e.length;i++){var a=e[i];a&&(s+=n+a.dataPath+" "+a.message+r)}return s.slice(0,-r.length)}function pC(e,t){return typeof t=="string"&&(t=new RegExp(t)),this._formats[e]=t,this}function mC(e){var t;if(e._opts.$data&&(t=Py(),e.addMetaSchema(t,t.$id,!0)),e._opts.meta!==!1){var r=xd();e._opts.$data&&(r=Ty(r,YE)),e.addMetaSchema(r,ll,!0),e._refs["http://json-schema.org/schema"]=ll}}function gC(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}function yC(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}function vC(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}function My(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function _C(e){for(var t=jy.copy(e._opts),r=0;r<Ry.length;r++)delete t[Ry[r]];return t}function bC(e){var t=e._opts.logger;if(t===!1)e.logger={log:Cd,warn:Cd,error:Cd};else{if(t===void 0&&(t=console),!(typeof t=="object"&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}function Cd(){}});var Dd=j((vl,_v)=>{(function(e,t){typeof vl=="object"&&typeof _v<"u"?t(vl):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.lumino_algorithm={}))})(vl,(function(e){"use strict";e.ArrayExt=void 0,(function(b){function P(F,z,T=0,I=-1){let M=F.length;if(M===0)return-1;T<0?T=Math.max(0,T+M):T=Math.min(T,M-1),I<0?I=Math.max(0,I+M):I=Math.min(I,M-1);let K;I<T?K=I+1+(M-T):K=I-T+1;for(let W=0;W<K;++W){let he=(T+W)%M;if(F[he]===z)return he}return-1}b.firstIndexOf=P;function R(F,z,T=-1,I=0){let M=F.length;if(M===0)return-1;T<0?T=Math.max(0,T+M):T=Math.min(T,M-1),I<0?I=Math.max(0,I+M):I=Math.min(I,M-1);let K;T<I?K=T+1+(M-I):K=T-I+1;for(let W=0;W<K;++W){let he=(T-W+M)%M;if(F[he]===z)return he}return-1}b.lastIndexOf=R;function E(F,z,T=0,I=-1){let M=F.length;if(M===0)return-1;T<0?T=Math.max(0,T+M):T=Math.min(T,M-1),I<0?I=Math.max(0,I+M):I=Math.min(I,M-1);let K;I<T?K=I+1+(M-T):K=I-T+1;for(let W=0;W<K;++W){let he=(T+W)%M;if(z(F[he],he))return he}return-1}b.findFirstIndex=E;function $(F,z,T=-1,I=0){let M=F.length;if(M===0)return-1;T<0?T=Math.max(0,T+M):T=Math.min(T,M-1),I<0?I=Math.max(0,I+M):I=Math.min(I,M-1);let K;T<I?K=T+1+(M-I):K=T-I+1;for(let W=0;W<K;++W){let he=(T-W+M)%M;if(z(F[he],he))return he}return-1}b.findLastIndex=$;function H(F,z,T=0,I=-1){let M=E(F,z,T,I);return M!==-1?F[M]:void 0}b.findFirstValue=H;function Y(F,z,T=-1,I=0){let M=$(F,z,T,I);return M!==-1?F[M]:void 0}b.findLastValue=Y;function J(F,z,T,I=0,M=-1){let K=F.length;if(K===0)return 0;I<0?I=Math.max(0,I+K):I=Math.min(I,K-1),M<0?M=Math.max(0,M+K):M=Math.min(M,K-1);let W=I,he=M-I+1;for(;he>0;){let oe=he>>1,Le=W+oe;T(F[Le],z)<0?(W=Le+1,he-=oe+1):he=oe}return W}b.lowerBound=J;function G(F,z,T,I=0,M=-1){let K=F.length;if(K===0)return 0;I<0?I=Math.max(0,I+K):I=Math.min(I,K-1),M<0?M=Math.max(0,M+K):M=Math.min(M,K-1);let W=I,he=M-I+1;for(;he>0;){let oe=he>>1,Le=W+oe;T(F[Le],z)>0?he=oe:(W=Le+1,he-=oe+1)}return W}b.upperBound=G;function ee(F,z,T){if(F===z)return!0;if(F.length!==z.length)return!1;for(let I=0,M=F.length;I<M;++I)if(T?!T(F[I],z[I]):F[I]!==z[I])return!1;return!0}b.shallowEqual=ee;function X(F,z={}){let{start:T,stop:I,step:M}=z;if(M===void 0&&(M=1),M===0)throw new Error("Slice `step` cannot be zero.");let K=F.length;T===void 0?T=M<0?K-1:0:T<0?T=Math.max(T+K,M<0?-1:0):T>=K&&(T=M<0?K-1:K),I===void 0?I=M<0?-1:K:I<0?I=Math.max(I+K,M<0?-1:0):I>=K&&(I=M<0?K-1:K);let W;M<0&&I>=T||M>0&&T>=I?W=0:M<0?W=Math.floor((I-T+1)/M+1):W=Math.floor((I-T-1)/M+1);let he=[];for(let oe=0;oe<W;++oe)he[oe]=F[T+oe*M];return he}b.slice=X;function de(F,z,T){let I=F.length;if(I<=1||(z<0?z=Math.max(0,z+I):z=Math.min(z,I-1),T<0?T=Math.max(0,T+I):T=Math.min(T,I-1),z===T))return;let M=F[z],K=z<T?1:-1;for(let W=z;W!==T;W+=K)F[W]=F[W+K];F[T]=M}b.move=de;function _e(F,z=0,T=-1){let I=F.length;if(!(I<=1))for(z<0?z=Math.max(0,z+I):z=Math.min(z,I-1),T<0?T=Math.max(0,T+I):T=Math.min(T,I-1);z<T;){let M=F[z],K=F[T];F[z++]=K,F[T--]=M}}b.reverse=_e;function Ee(F,z,T=0,I=-1){let M=F.length;if(M<=1||(T<0?T=Math.max(0,T+M):T=Math.min(T,M-1),I<0?I=Math.max(0,I+M):I=Math.min(I,M-1),T>=I))return;let K=I-T+1;if(z>0?z=z%K:z<0&&(z=(z%K+K)%K),z===0)return;let W=T+z;_e(F,T,W-1),_e(F,W,I),_e(F,T,I)}b.rotate=Ee;function ue(F,z,T=0,I=-1){let M=F.length;if(M===0)return;T<0?T=Math.max(0,T+M):T=Math.min(T,M-1),I<0?I=Math.max(0,I+M):I=Math.min(I,M-1);let K;I<T?K=I+1+(M-T):K=I-T+1;for(let W=0;W<K;++W)F[(T+W)%M]=z}b.fill=ue;function De(F,z,T){let I=F.length;z<0?z=Math.max(0,z+I):z=Math.min(z,I);for(let M=I;M>z;--M)F[M]=F[M-1];F[z]=T}b.insert=De;function Pe(F,z){let T=F.length;if(z<0&&(z+=T),z<0||z>=T)return;let I=F[z];for(let M=z+1;M<T;++M)F[M-1]=F[M];return F.length=T-1,I}b.removeAt=Pe;function Xe(F,z,T=0,I=-1){let M=P(F,z,T,I);return M!==-1&&Pe(F,M),M}b.removeFirstOf=Xe;function Jt(F,z,T=-1,I=0){let M=R(F,z,T,I);return M!==-1&&Pe(F,M),M}b.removeLastOf=Jt;function Ut(F,z,T=0,I=-1){let M=F.length;if(M===0)return 0;T<0?T=Math.max(0,T+M):T=Math.min(T,M-1),I<0?I=Math.max(0,I+M):I=Math.min(I,M-1);let K=0;for(let W=0;W<M;++W)T<=I&&W>=T&&W<=I&&F[W]===z||I<T&&(W<=I||W>=T)&&F[W]===z?K++:K>0&&(F[W-K]=F[W]);return K>0&&(F.length=M-K),K}b.removeAllOf=Ut;function $e(F,z,T=0,I=-1){let M,K=E(F,z,T,I);return K!==-1&&(M=Pe(F,K)),{index:K,value:M}}b.removeFirstWhere=$e;function Ie(F,z,T=-1,I=0){let M,K=$(F,z,T,I);return K!==-1&&(M=Pe(F,K)),{index:K,value:M}}b.removeLastWhere=Ie;function er(F,z,T=0,I=-1){let M=F.length;if(M===0)return 0;T<0?T=Math.max(0,T+M):T=Math.min(T,M-1),I<0?I=Math.max(0,I+M):I=Math.min(I,M-1);let K=0;for(let W=0;W<M;++W)T<=I&&W>=T&&W<=I&&z(F[W],W)||I<T&&(W<=I||W>=T)&&z(F[W],W)?K++:K>0&&(F[W-K]=F[W]);return K>0&&(F.length=M-K),K}b.removeAllWhere=er})(e.ArrayExt||(e.ArrayExt={}));function*t(...b){for(let P of b)yield*P}function*r(){}function*n(b,P=0){for(let R of b)yield[P++,R]}function*s(b,P){let R=0;for(let E of b)P(E,R++)&&(yield E)}function i(b,P){let R=0;for(let E of b)if(P(E,R++))return E}function a(b,P){let R=0;for(let E of b)if(P(E,R++))return R-1;return-1}function o(b,P){let R;for(let E of b){if(R===void 0){R=E;continue}P(E,R)<0&&(R=E)}return R}function l(b,P){let R;for(let E of b){if(R===void 0){R=E;continue}P(E,R)>0&&(R=E)}return R}function c(b,P){let R=!0,E,$;for(let H of b)R?(E=H,$=H,R=!1):P(H,E)<0?E=H:P(H,$)>0&&($=H);return R?void 0:[E,$]}function u(b){return Array.from(b)}function d(b){let P={};for(let[R,E]of b)P[R]=E;return P}function h(b,P){let R=0;for(let E of b)if(P(E,R++)===!1)return}function f(b,P){let R=0;for(let E of b)if(P(E,R++)===!1)return!1;return!0}function p(b,P){let R=0;for(let E of b)if(P(E,R++))return!0;return!1}function*g(b,P){let R=0;for(let E of b)yield P(E,R++)}function*y(b,P,R){P===void 0?(P=b,b=0,R=1):R===void 0&&(R=1);let E=v.rangeLength(b,P,R);for(let $=0;$<E;$++)yield b+R*$}var v;(function(b){function P(R,E,$){return $===0?1/0:R>E&&$>0||R<E&&$<0?0:Math.ceil((E-R)/$)}b.rangeLength=P})(v||(v={}));function C(b,P,R){let E=b[Symbol.iterator](),$=0,H=E.next();if(H.done&&R===void 0)throw new TypeError("Reduce of empty iterable with no initial value.");if(H.done)return R;let Y=E.next();if(Y.done&&R===void 0)return H.value;if(Y.done)return P(R,H.value,$++);let J;R===void 0?J=P(H.value,Y.value,$++):J=P(P(R,H.value,$++),Y.value,$++);let G;for(;!(G=E.next()).done;)J=P(J,G.value,$++);return J}function*x(b,P){for(;0<P--;)yield b}function*k(b){yield b}function*A(b){if(typeof b.retro=="function")yield*b.retro();else for(let P=b.length-1;P>-1;P--)yield b[P]}function q(b){let P=[],R=new Set,E=new Map;for(let Y of b)$(Y);for(let[Y]of E)H(Y);return P;function $(Y){let[J,G]=Y,ee=E.get(G);ee?ee.push(J):E.set(G,[J])}function H(Y){if(R.has(Y))return;R.add(Y);let J=E.get(Y);if(J)for(let G of J)H(G);P.push(Y)}}function*L(b,P){let R=0;for(let E of b)R++%P===0&&(yield E)}e.StringExt=void 0,(function(b){function P(Y,J,G=0){let ee=new Array(J.length);for(let X=0,de=G,_e=J.length;X<_e;++X,++de){if(de=Y.indexOf(J[X],de),de===-1)return null;ee[X]=de}return ee}b.findIndices=P;function R(Y,J,G=0){let ee=P(Y,J,G);if(!ee)return null;let X=0;for(let de=0,_e=ee.length;de<_e;++de){let Ee=ee[de]-G;X+=Ee*Ee}return{score:X,indices:ee}}b.matchSumOfSquares=R;function E(Y,J,G=0){let ee=P(Y,J,G);if(!ee)return null;let X=0,de=G-1;for(let _e=0,Ee=ee.length;_e<Ee;++_e){let ue=ee[_e];X+=ue-de-1,de=ue}return{score:X,indices:ee}}b.matchSumOfDeltas=E;function $(Y,J,G){let ee=[],X=0,de=0,_e=J.length;for(;X<_e;){let Ee=J[X],ue=J[X];for(;++X<_e&&J[X]===ue+1;)ue++;de<Ee&&ee.push(Y.slice(de,Ee)),Ee<ue+1&&ee.push(G(Y.slice(Ee,ue+1))),de=ue+1}return de<Y.length&&ee.push(Y.slice(de)),ee}b.highlight=$;function H(Y,J){return Y<J?-1:Y>J?1:0}b.cmp=H})(e.StringExt||(e.StringExt={}));function*N(b,P){if(P<1)return;let R=b[Symbol.iterator](),E;for(;0<P--&&!(E=R.next()).done;)yield E.value}function*O(...b){let P=b.map(E=>E[Symbol.iterator]()),R=P.map(E=>E.next());for(;f(R,E=>!E.done);R=P.map(E=>E.next()))yield R.map(E=>E.value)}e.chain=t,e.each=h,e.empty=r,e.enumerate=n,e.every=f,e.filter=s,e.find=i,e.findIndex=a,e.map=g,e.max=l,e.min=o,e.minmax=c,e.once=k,e.range=y,e.reduce=C,e.repeat=x,e.retro=A,e.some=p,e.stride=L,e.take=N,e.toArray=u,e.toObject=d,e.topologicSort=q,e.zip=O}))});var nt=j(Pt=>{"use strict";var AC=Dd();Pt.JSONExt=void 0;(function(e){e.emptyObject=Object.freeze({}),e.emptyArray=Object.freeze([]);function t(u){return u===null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"}e.isPrimitive=t;function r(u){return Array.isArray(u)}e.isArray=r;function n(u){return!t(u)&&!r(u)}e.isObject=n;function s(u,d){if(u===d)return!0;if(t(u)||t(d))return!1;let h=r(u),f=r(d);return h!==f?!1:h&&f?a(u,d):o(u,d)}e.deepEqual=s;function i(u){return t(u)?u:r(u)?l(u):c(u)}e.deepCopy=i;function a(u,d){if(u===d)return!0;if(u.length!==d.length)return!1;for(let h=0,f=u.length;h<f;++h)if(!s(u[h],d[h]))return!1;return!0}function o(u,d){if(u===d)return!0;for(let h in u)if(u[h]!==void 0&&!(h in d))return!1;for(let h in d)if(d[h]!==void 0&&!(h in u))return!1;for(let h in u){let f=u[h],p=d[h];if(!(f===void 0&&p===void 0)&&(f===void 0||p===void 0||!s(f,p)))return!1}return!0}function l(u){let d=new Array(u.length);for(let h=0,f=u.length;h<f;++h)d[h]=i(u[h]);return d}function c(u){let d={};for(let h in u){let f=u[h];f!==void 0&&(d[h]=i(f))}return d}})(Pt.JSONExt||(Pt.JSONExt={}));var Ad=class{constructor(){this._types=[],this._values=[]}types(){return this._types.slice()}hasData(t){return this._types.indexOf(t)!==-1}getData(t){let r=this._types.indexOf(t);return r!==-1?this._values[r]:void 0}setData(t,r){this.clearData(t),this._types.push(t),this._values.push(r)}clearData(t){let r=this._types.indexOf(t);r!==-1&&(this._types.splice(r,1),this._values.splice(r,1))}clear(){this._types.length=0,this._values.length=0}},Md=class{constructor(t={}){this._application=null,this._validatePlugin=()=>!0,this._plugins=new Map,this._services=new Map,t.validatePlugin&&(console.info("Plugins may be rejected by the custom validation plugin method."),this._validatePlugin=t.validatePlugin)}get application(){return this._application}set application(t){if(this._application!==null)throw Error("PluginRegistry.application is already set. It cannot be overridden.");this._application=t}get deferredPlugins(){return Array.from(this._plugins).filter(([t,r])=>r.autoStart==="defer").map(([t,r])=>t)}getPluginDescription(t){var r,n;return(n=(r=this._plugins.get(t))===null||r===void 0?void 0:r.description)!==null&&n!==void 0?n:""}hasPlugin(t){return this._plugins.has(t)}isPluginActivated(t){var r,n;return(n=(r=this._plugins.get(t))===null||r===void 0?void 0:r.activated)!==null&&n!==void 0?n:!1}listPlugins(){return Array.from(this._plugins.keys())}registerPlugin(t){if(this._plugins.has(t.id))throw new TypeError(`Plugin '${t.id}' is already registered.`);if(!this._validatePlugin(t))throw new Error(`Plugin '${t.id}' is not valid.`);let r=ei.createPluginData(t);ei.ensureNoCycle(r,this._plugins,this._services),r.provides&&this._services.set(r.provides,r.id),this._plugins.set(r.id,r)}registerPlugins(t){for(let r of t)this.registerPlugin(r)}deregisterPlugin(t,r){let n=this._plugins.get(t);if(n){if(n.activated&&!r)throw new Error(`Plugin '${t}' is still active.`);this._plugins.delete(t)}}async activatePlugin(t){let r=this._plugins.get(t);if(!r)throw new ReferenceError(`Plugin '${t}' is not registered.`);if(r.activated)return;if(r.promise)return r.promise;let n=r.requires.map(i=>this.resolveRequiredService(i)),s=r.optional.map(i=>this.resolveOptionalService(i));return r.promise=Promise.all([...n,...s]).then(i=>r.activate.apply(void 0,[this.application,...i])).then(i=>{r.service=i,r.activated=!0,r.promise=null}).catch(i=>{throw r.promise=null,i}),r.promise}async activatePlugins(t,r={}){switch(t){case"defer":{let n=this.deferredPlugins.filter(s=>this._plugins.get(s).autoStart).map(s=>this.activatePlugin(s));await Promise.all(n);break}case"startUp":{let s=ei.collectStartupPlugins(this._plugins,r).map(async i=>{try{return await this.activatePlugin(i)}catch(a){console.error(`Plugin '${i}' failed to activate.`,a)}});await Promise.all(s);break}}}async deactivatePlugin(t){let r=this._plugins.get(t);if(!r)throw new ReferenceError(`Plugin '${t}' is not registered.`);if(!r.activated)return[];if(!r.deactivate)throw new TypeError(`Plugin '${t}'#deactivate() method missing`);let n=ei.findDependents(t,this._plugins,this._services),s=n.map(i=>this._plugins.get(i));for(let i of s)if(!i.deactivate)throw new TypeError(`Plugin ${i.id}#deactivate() method missing (depends on ${t})`);for(let i of s){let a=[...i.requires,...i.optional].map(o=>{let l=this._services.get(o);return l?this._plugins.get(l).service:null});await i.deactivate(this.application,...a),i.service=null,i.activated=!1}return n.pop(),n}async resolveRequiredService(t){let r=this._services.get(t);if(!r)throw new TypeError(`No provider for: ${t.name}.`);let n=this._plugins.get(r);return n.activated||await this.activatePlugin(r),n.service}async resolveOptionalService(t){let r=this._services.get(t);if(!r)return null;let n=this._plugins.get(r);if(!n.activated)try{await this.activatePlugin(r)}catch(s){return console.error(s),null}return n.service}},ei;(function(e){class t{constructor(o){var l,c,u,d;this._activated=!1,this._promise=null,this._service=null,this.id=o.id,this.description=(l=o.description)!==null&&l!==void 0?l:"",this.activate=o.activate,this.deactivate=(c=o.deactivate)!==null&&c!==void 0?c:null,this.provides=(u=o.provides)!==null&&u!==void 0?u:null,this.autoStart=(d=o.autoStart)!==null&&d!==void 0?d:!1,this.requires=o.requires?o.requires.slice():[],this.optional=o.optional?o.optional.slice():[]}get activated(){return this._activated}set activated(o){this._activated=o}get service(){return this._service}set service(o){this._service=o}get promise(){return this._promise}set promise(o){this._promise=o}}function r(a){return new t(a)}e.createPluginData=r;function n(a,o,l){let c=[...a.requires,...a.optional],u=h=>{if(h===a.provides)return!0;let f=l.get(h);if(!f)return!1;let p=o.get(f),g=[...p.requires,...p.optional];return g.length===0?!1:(d.push(f),g.some(u)?!0:(d.pop(),!1))};if(!a.provides||c.length===0)return;let d=[a.id];if(c.some(u))throw new ReferenceError(`Cycle detected: ${d.join(" -> ")}.`)}e.ensureNoCycle=n;function s(a,o,l){let c=new Array,u=g=>{let y=o.get(g),v=[...y.requires,...y.optional];c.push(...v.reduce((C,x)=>{let k=l.get(x);return k&&C.push([g,k]),C},[]))};for(let g of o.keys())u(g);let d=c.filter(g=>g[1]===a),h=0;for(;d.length>h;){let g=d.length,y=new Set(d.map(v=>v[0]));for(let v of y)c.filter(C=>C[1]===v).forEach(C=>{d.includes(C)||d.push(C)});h=g}let f=AC.topologicSort(d),p=f.findIndex(g=>g===a);return p===-1?[a]:f.slice(0,p+1)}e.findDependents=s;function i(a,o){let l=new Set;for(let c of a.keys())a.get(c).autoStart===!0&&l.add(c);if(o.startPlugins)for(let c of o.startPlugins)l.add(c);if(o.ignorePlugins)for(let c of o.ignorePlugins)l.delete(c);return Array.from(l)}e.collectStartupPlugins=i})(ei||(ei={}));var Ud=class{constructor(){this.promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}resolve(t){let r=this._resolve;r(t)}reject(t){let r=this._reject;r(t)}},Nd=class{constructor(t,r){this.name=t,this.description=r??"",this._tokenStructuralPropertyT=null}};function MC(e){let t=0;for(let r=0,n=e.length;r<n;++r)r%4===0&&(t=Math.random()*4294967295>>>0),e[r]=t&255,t>>>=8}Pt.Random=void 0;(function(e){e.getRandomValues=(()=>{let t=typeof Ae<"u"&&Ae("crypto")||null;return t&&typeof t.randomFillSync=="function"?function(n){return t.randomFillSync(n)}:t&&typeof t.randomBytes=="function"?function(n){let s=t.randomBytes(n.length);for(let i=0,a=s.length;i<a;++i)n[i]=s[i]}:MC})()})(Pt.Random||(Pt.Random={}));function UC(e){let t=new Uint8Array(16),r=new Array(256);for(let n=0;n<16;++n)r[n]="0"+n.toString(16);for(let n=16;n<256;++n)r[n]=n.toString(16);return function(){return e(t),t[6]=64|t[6]&15,t[8]=128|t[8]&63,r[t[0]]+r[t[1]]+r[t[2]]+r[t[3]]+"-"+r[t[4]]+r[t[5]]+"-"+r[t[6]]+r[t[7]]+"-"+r[t[8]]+r[t[9]]+"-"+r[t[10]]+r[t[11]]+r[t[12]]+r[t[13]]+r[t[14]]+r[t[15]]}}Pt.UUID=void 0;(function(e){e.uuid4=UC(Pt.Random.getRandomValues)})(Pt.UUID||(Pt.UUID={}));Pt.MimeData=Ad;Pt.PluginRegistry=Md;Pt.PromiseDelegate=Ud;Pt.Token=Nd});var et=j((_l,bv)=>{(function(e,t){typeof _l=="object"&&typeof bv<"u"?t(_l,Dd(),nt()):typeof define=="function"&&define.amd?define(["exports","@lumino/algorithm","@lumino/coreutils"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.lumino_signaling={},e.lumino_algorithm,e.lumino_coreutils))})(_l,(function(e,t,r){"use strict";class n{constructor(o){this.sender=o}connect(o,l){return i.connect(this,o,l)}disconnect(o,l){return i.disconnect(this,o,l)}emit(o){i.emit(this,o)}}(function(a){function o(p,g){i.disconnectBetween(p,g)}a.disconnectBetween=o;function l(p){i.disconnectSender(p)}a.disconnectSender=l;function c(p){i.disconnectReceiver(p)}a.disconnectReceiver=c;function u(p){i.disconnectAll(p)}a.disconnectAll=u;function d(p){i.disconnectAll(p)}a.clearData=d;function h(){return i.exceptionHandler}a.getExceptionHandler=h;function f(p){let g=i.exceptionHandler;return i.exceptionHandler=p,g}a.setExceptionHandler=f})(n||(n={}));class s extends n{constructor(){super(...arguments),this._pending=new r.PromiseDelegate}async*[Symbol.asyncIterator](){let o=this._pending;for(;;)try{let{args:l,next:c}=await o.promise;o=c,yield l}catch{return}}emit(o){let l=this._pending,c=this._pending=new r.PromiseDelegate;l.resolve({args:o,next:c}),super.emit(o)}stop(){this._pending.promise.catch(()=>{}),this._pending.reject("stop"),this._pending=new r.PromiseDelegate}}var i;(function(a){a.exceptionHandler=N=>{console.error(N)};function o(N,O,b){b=b||void 0;let P=p.get(N.sender);if(P||(P=[],p.set(N.sender,P)),C(P,N,O,b))return!1;let R=b||O,E=g.get(R);E||(E=[],g.set(R,E));let $={signal:N,slot:O,thisArg:b};return P.push($),E.push($),!0}a.connect=o;function l(N,O,b){b=b||void 0;let P=p.get(N.sender);if(!P||P.length===0)return!1;let R=C(P,N,O,b);if(!R)return!1;let E=b||O,$=g.get(E);return R.signal=null,k(P),k($),!0}a.disconnect=l;function c(N,O){let b=p.get(N);if(!b||b.length===0)return;let P=g.get(O);if(!(!P||P.length===0)){for(let R of P)R.signal&&R.signal.sender===N&&(R.signal=null);k(b),k(P)}}a.disconnectBetween=c;function u(N){let O=p.get(N);if(!(!O||O.length===0)){for(let b of O){if(!b.signal)continue;let P=b.thisArg||b.slot;b.signal=null,k(g.get(P))}k(O)}}a.disconnectSender=u;function d(N){let O=g.get(N);if(!(!O||O.length===0)){for(let b of O){if(!b.signal)continue;let P=b.signal.sender;b.signal=null,k(p.get(P))}k(O)}}a.disconnectReceiver=d;function h(N){u(N),d(N)}a.disconnectAll=h;function f(N,O){let b=p.get(N.sender);if(!(!b||b.length===0))for(let P=0,R=b.length;P<R;++P){let E=b[P];E.signal===N&&x(E,O)}}a.emit=f;let p=new WeakMap,g=new WeakMap,y=new Set,v=typeof requestAnimationFrame=="function"?requestAnimationFrame:setImmediate;function C(N,O,b,P){return t.find(N,R=>R.signal===O&&R.slot===b&&R.thisArg===P)}function x(N,O){let{signal:b,slot:P,thisArg:R}=N;try{P.call(R,b.sender,O)}catch(E){a.exceptionHandler(E)}}function k(N){y.size===0&&v(A),y.add(N)}function A(){y.forEach(q),y.clear()}function q(N){t.ArrayExt.removeAllWhere(N,L)}function L(N){return N.signal===null}})(i||(i={})),e.Signal=n,e.Stream=s}))});var kv=j(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.ActivityMonitor=void 0;var wv=et(),$d=class{constructor(t){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new wv.Signal(this),t.signal.connect(this._onSignalFired,this),this._timeout=t.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(t){this._timeout=t}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,wv.Signal.clearData(this))}_onSignalFired(t,r){clearTimeout(this._timer),this._sender=t,this._args=r,this._timer=setTimeout(()=>{this._activityStopped.emit({sender:this._sender,args:this._args})},this._timeout)}};bl.ActivityMonitor=$d});var xv=j(Sv=>{"use strict";Object.defineProperty(Sv,"__esModule",{value:!0})});var Ev=j(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.LruCache=void 0;var NC=128,Ld=class{constructor(t={}){this._map=new Map,this._maxSize=t?.maxSize||NC}get size(){return this._map.size}clear(){this._map.clear()}get(t){let r=this._map.get(t)||null;return r!=null&&(this._map.delete(t),this._map.set(t,r)),r}set(t,r){this._map.size>=this._maxSize&&this._map.delete(this._map.keys().next().value),this._map.set(t,r)}};wl.LruCache=Ld});var Pv=j(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.MarkdownCodeBlocks=void 0;var Cv;(function(e){e.CODE_BLOCK_MARKER="```";let t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class r{constructor(a){this.startLine=a,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=r;function n(i){return t.indexOf(i)>-1}e.isMarkdown=n;function s(i){if(!i||i==="")return[];let a=i.split(`
`),o=[],l=null;for(let c=0;c<a.length;c++){let u=a[c],d=u.indexOf(e.CODE_BLOCK_MARKER)===0,h=l!=null;if(!(!d&&!h))if(h)l&&(d?(l.endLine=c-1,o.push(l),l=null):l.code+=u+`
`);else{l=new r(c);let f=u.indexOf(e.CODE_BLOCK_MARKER),p=u.lastIndexOf(e.CODE_BLOCK_MARKER);f!==p&&(l.code=u.substring(f+e.CODE_BLOCK_MARKER.length,p),l.endLine=c,o.push(l),l=null)}}return o}e.findMarkdownCodeBlocks=s})(Cv||(kl.MarkdownCodeBlocks=Cv={}))});var Tv=j((uL,Ov)=>{"use strict";function $C(e,t){var r=e;t.slice(0,-1).forEach(function(s){r=r[s]||{}});var n=t[t.length-1];return n in r}function Rv(e){return typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function Iv(e,t){return t==="constructor"&&typeof e[t]=="function"||t==="__proto__"}Ov.exports=function(e,t){t||(t={});var r={bools:{},strings:{},unknownFn:null};typeof t.unknown=="function"&&(r.unknownFn=t.unknown),typeof t.boolean=="boolean"&&t.boolean?r.allBools=!0:[].concat(t.boolean).filter(Boolean).forEach(function(k){r.bools[k]=!0});var n={};function s(k){return n[k].some(function(A){return r.bools[A]})}Object.keys(t.alias||{}).forEach(function(k){n[k]=[].concat(t.alias[k]),n[k].forEach(function(A){n[A]=[k].concat(n[k].filter(function(q){return A!==q}))})}),[].concat(t.string).filter(Boolean).forEach(function(k){r.strings[k]=!0,n[k]&&[].concat(n[k]).forEach(function(A){r.strings[A]=!0})});var i=t.default||{},a={_:[]};function o(k,A){return r.allBools&&/^--[^=]+$/.test(A)||r.strings[k]||r.bools[k]||n[k]}function l(k,A,q){for(var L=k,N=0;N<A.length-1;N++){var O=A[N];if(Iv(L,O))return;L[O]===void 0&&(L[O]={}),(L[O]===Object.prototype||L[O]===Number.prototype||L[O]===String.prototype)&&(L[O]={}),L[O]===Array.prototype&&(L[O]=[]),L=L[O]}var b=A[A.length-1];Iv(L,b)||((L===Object.prototype||L===Number.prototype||L===String.prototype)&&(L={}),L===Array.prototype&&(L=[]),L[b]===void 0||r.bools[b]||typeof L[b]=="boolean"?L[b]=q:Array.isArray(L[b])?L[b].push(q):L[b]=[L[b],q])}function c(k,A,q){if(!(q&&r.unknownFn&&!o(k,q)&&r.unknownFn(q)===!1)){var L=!r.strings[k]&&Rv(A)?Number(A):A;l(a,k.split("."),L),(n[k]||[]).forEach(function(N){l(a,N.split("."),L)})}}Object.keys(r.bools).forEach(function(k){c(k,i[k]===void 0?!1:i[k])});var u=[];e.indexOf("--")!==-1&&(u=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var d=0;d<e.length;d++){var h=e[d],f,p;if(/^--.+=/.test(h)){var g=h.match(/^--([^=]+)=([\s\S]*)$/);f=g[1];var y=g[2];r.bools[f]&&(y=y!=="false"),c(f,y,h)}else if(/^--no-.+/.test(h))f=h.match(/^--no-(.+)/)[1],c(f,!1,h);else if(/^--.+/.test(h))f=h.match(/^--(.+)/)[1],p=e[d+1],p!==void 0&&!/^(-|--)[^-]/.test(p)&&!r.bools[f]&&!r.allBools&&(!n[f]||!s(f))?(c(f,p,h),d+=1):/^(true|false)$/.test(p)?(c(f,p==="true",h),d+=1):c(f,r.strings[f]?"":!0,h);else if(/^-[^-]+/.test(h)){for(var v=h.slice(1,-1).split(""),C=!1,x=0;x<v.length;x++){if(p=h.slice(x+2),p==="-"){c(v[x],p,h);continue}if(/[A-Za-z]/.test(v[x])&&p[0]==="="){c(v[x],p.slice(1),h),C=!0;break}if(/[A-Za-z]/.test(v[x])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(p)){c(v[x],p,h),C=!0;break}if(v[x+1]&&v[x+1].match(/\W/)){c(v[x],h.slice(x+2),h),C=!0;break}else c(v[x],r.strings[v[x]]?"":!0,h)}f=h.slice(-1)[0],!C&&f!=="-"&&(e[d+1]&&!/^(-|--)[^-]/.test(e[d+1])&&!r.bools[f]&&(!n[f]||!s(f))?(c(f,e[d+1],h),d+=1):e[d+1]&&/^(true|false)$/.test(e[d+1])?(c(f,e[d+1]==="true",h),d+=1):c(f,r.strings[f]?"":!0,h))}else if((!r.unknownFn||r.unknownFn(h)!==!1)&&a._.push(r.strings._||!Rv(h)?h:Number(h)),t.stopEarly){a._.push.apply(a._,e.slice(d+1));break}}return Object.keys(i).forEach(function(k){$C(a,k.split("."))||(l(a,k.split("."),i[k]),(n[k]||[]).forEach(function(A){l(a,A.split("."),i[k])}))}),t["--"]?a["--"]=u.slice():u.forEach(function(k){a._.push(k)}),a}});var Dv=j((dL,jv)=>{"use strict";jv.exports=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}});var Uv=j(qd=>{"use strict";var LC=Object.prototype.hasOwnProperty,qC;function Av(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function Mv(e){try{return encodeURIComponent(e)}catch{return null}}function zC(e){for(var t=/([^=?#&]+)=?([^&]*)/g,r={},n;n=t.exec(e);){var s=Av(n[1]),i=Av(n[2]);s===null||i===null||s in r||(r[s]=i)}return r}function FC(e,t){t=t||"";var r=[],n,s;typeof t!="string"&&(t="?");for(s in e)if(LC.call(e,s)){if(n=e[s],!n&&(n===null||n===qC||isNaN(n))&&(n=""),s=Mv(s),n=Mv(n),s===null||n===null)continue;r.push(s+"="+n)}return r.length?t+r.join("&"):""}qd.stringify=FC;qd.parse=zC});var Bv=j((fL,Vv)=>{"use strict";var $v=Dv(),Sl=Uv(),VC=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Lv=/[\n\r\t]/g,BC=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,qv=/:\d+$/,HC=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,JC=/^[a-zA-Z]:/;function Fd(e){return(e||"").toString().replace(VC,"")}var zd=[["#","hash"],["?","query"],function(t,r){return Mr(r.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Nv={hash:1,query:1};function zv(e){var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"?t=self:t={};var r=t.location||{};e=e||r;var n={},s=typeof e,i;if(e.protocol==="blob:")n=new Ur(unescape(e.pathname),{});else if(s==="string"){n=new Ur(e,{});for(i in Nv)delete n[i]}else if(s==="object"){for(i in e)i in Nv||(n[i]=e[i]);n.slashes===void 0&&(n.slashes=BC.test(e.href))}return n}function Mr(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function Fv(e,t){e=Fd(e),e=e.replace(Lv,""),t=t||{};var r=HC.exec(e),n=r[1]?r[1].toLowerCase():"",s=!!r[2],i=!!r[3],a=0,o;return s?i?(o=r[2]+r[3]+r[4],a=r[2].length+r[3].length):(o=r[2]+r[4],a=r[2].length):i?(o=r[3]+r[4],a=r[3].length):o=r[4],n==="file:"?a>=2&&(o=o.slice(2)):Mr(n)?o=r[4]:n?s&&(o=o.slice(2)):a>=2&&Mr(t.protocol)&&(o=r[4]),{protocol:n,slashes:s||Mr(n),slashesCount:a,rest:o}}function KC(e,t){if(e==="")return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,s=r[n-1],i=!1,a=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),a++):a&&(n===0&&(i=!0),r.splice(n,1),a--);return i&&r.unshift(""),(s==="."||s==="..")&&r.push(""),r.join("/")}function Ur(e,t,r){if(e=Fd(e),e=e.replace(Lv,""),!(this instanceof Ur))return new Ur(e,t,r);var n,s,i,a,o,l,c=zd.slice(),u=typeof t,d=this,h=0;for(u!=="object"&&u!=="string"&&(r=t,t=null),r&&typeof r!="function"&&(r=Sl.parse),t=zv(t),s=Fv(e||"",t),n=!s.protocol&&!s.slashes,d.slashes=s.slashes||n&&t.slashes,d.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||JC.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!Mr(d.protocol)))&&(c[3]=[/(.*)/,"pathname"]);h<c.length;h++){if(a=c[h],typeof a=="function"){e=a(e,d);continue}i=a[0],l=a[1],i!==i?d[l]=e:typeof i=="string"?(o=i==="@"?e.lastIndexOf(i):e.indexOf(i),~o&&(typeof a[2]=="number"?(d[l]=e.slice(0,o),e=e.slice(o+a[2])):(d[l]=e.slice(o),e=e.slice(0,o)))):(o=i.exec(e))&&(d[l]=o[1],e=e.slice(0,o.index)),d[l]=d[l]||n&&a[3]&&t[l]||"",a[4]&&(d[l]=d[l].toLowerCase())}r&&(d.query=r(d.query)),n&&t.slashes&&d.pathname.charAt(0)!=="/"&&(d.pathname!==""||t.pathname!=="")&&(d.pathname=KC(d.pathname,t.pathname)),d.pathname.charAt(0)!=="/"&&Mr(d.protocol)&&(d.pathname="/"+d.pathname),$v(d.port,d.protocol)||(d.host=d.hostname,d.port=""),d.username=d.password="",d.auth&&(o=d.auth.indexOf(":"),~o?(d.username=d.auth.slice(0,o),d.username=encodeURIComponent(decodeURIComponent(d.username)),d.password=d.auth.slice(o+1),d.password=encodeURIComponent(decodeURIComponent(d.password))):d.username=encodeURIComponent(decodeURIComponent(d.auth)),d.auth=d.password?d.username+":"+d.password:d.username),d.origin=d.protocol!=="file:"&&Mr(d.protocol)&&d.host?d.protocol+"//"+d.host:"null",d.href=d.toString()}function WC(e,t,r){var n=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(r||Sl.parse)(t)),n[e]=t;break;case"port":n[e]=t,$v(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,qv.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";n[e]=t.charAt(0)!==s?s+t:t}else n[e]=t;break;case"username":case"password":n[e]=encodeURIComponent(t);break;case"auth":var i=t.indexOf(":");~i?(n.username=t.slice(0,i),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=t.slice(i+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(t))}for(var a=0;a<zd.length;a++){var o=zd[a];o[4]&&(n[o[1]]=n[o[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&Mr(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function GC(e){(!e||typeof e!="function")&&(e=Sl.stringify);var t,r=this,n=r.host,s=r.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var i=s+(r.protocol&&r.slashes||Mr(r.protocol)?"//":"");return r.username?(i+=r.username,r.password&&(i+=":"+r.password),i+="@"):r.password?(i+=":"+r.password,i+="@"):r.protocol!=="file:"&&Mr(r.protocol)&&!n&&r.pathname!=="/"&&(i+="@"),(n[n.length-1]===":"||qv.test(r.hostname)&&!r.port)&&(n+=":"),i+=n+r.pathname,t=typeof r.query=="object"?e(r.query):r.query,t&&(i+=t.charAt(0)!=="?"?"?"+t:t),r.hash&&(i+=r.hash),i}Ur.prototype={set:WC,toString:GC};Ur.extractProtocol=Fv;Ur.location=zv;Ur.trimLeft=Fd;Ur.qs=Sl;Vv.exports=Ur});var Vd=j(ti=>{"use strict";var ZC=ti&&ti.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ti,"__esModule",{value:!0});ti.URLExt=void 0;var YC=Ae("path"),xl=ZC(Bv()),Hv;(function(e){function t(c){if(typeof document<"u"&&document){let u=document.createElement("a");return u.href=c,u}return(0,xl.default)(c)}e.parse=t;function r(c){return(0,xl.default)(c).hostname}e.getHostName=r;function n(c){return c&&t(c).toString()}e.normalize=n;function s(...c){let u=(0,xl.default)(c[0],{}),d=u.protocol===""&&u.slashes;d&&(u=(0,xl.default)(c[0],"https:"+c[0]));let h=`${d?"":u.protocol}${u.slashes?"//":""}${u.auth}${u.auth?"@":""}${u.host}`,f=YC.posix.join(`${h&&u.pathname[0]!=="/"?"/":""}${u.pathname}`,...c.slice(1));return`${h}${f==="."?"":f}`}e.join=s;function i(c){return s(...c.split("/").map(encodeURIComponent))}e.encodeParts=i;function a(c){let u=Object.keys(c).filter(d=>d.length>0);return u.length?"?"+u.map(d=>{let h=encodeURIComponent(String(c[d]));return d+(h?"="+h:"")}).join("&"):""}e.objectToQueryString=a;function o(c){return c.replace(/^\?/,"").split("&").reduce((u,d)=>{let[h,f]=d.split("=");return h.length>0&&(u[h]=decodeURIComponent(f||"")),u},{})}e.queryStringToObject=o;function l(c,u=!1){let{protocol:d}=t(c);return(!d||c.toLowerCase().indexOf(d)!==0)&&(u?c.indexOf("//")!==0:c.indexOf("/")!==0)}e.isLocal=l})(Hv||(ti.URLExt=Hv={}))});var Jv=j((exports,module)=>{"use strict";var __importDefault=exports&&exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});exports.PageConfig=void 0;var coreutils_1=nt(),minimist_1=__importDefault(Tv()),url_1=Vd(),PageConfig;(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if(typeof document<"u"&&document){let e=document.getElementById("jupyter-config-data");e&&(configData=JSON.parse(e.textContent||""),found=!0)}if(!found&&typeof process<"u"&&process.argv)try{let cli=(0,minimist_1.default)(process.argv.slice(2)),path=Ae("path"),fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(e){console.error(e)}if(!coreutils_1.JSONExt.isObject(configData))configData=Object.create(null);else for(let e in configData)typeof configData[e]!="string"&&(configData[e]=JSON.stringify(configData[e]));return configData[name]||getBodyData(name)}PageConfig.getOption=getOption;function setOption(e,t){let r=getOption(e);return configData[e]=t,r}PageConfig.setOption=setOption;function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}PageConfig.getBaseUrl=getBaseUrl;function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}PageConfig.getTreeUrl=getTreeUrl;function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}PageConfig.getShareUrl=getShareUrl;function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}PageConfig.getTreeShareUrl=getTreeShareUrl;function getUrl(e){var t,r,n,s;let i=e.toShare?getShareUrl():getBaseUrl(),a=(t=e.mode)!==null&&t!==void 0?t:getOption("mode"),o=(r=e.workspace)!==null&&r!==void 0?r:getOption("workspace"),l=a==="single-document"?"doc":"lab";i=url_1.URLExt.join(i,l),o!==PageConfig.defaultWorkspace&&(i=url_1.URLExt.join(i,"workspaces",encodeURIComponent((n=getOption("workspace"))!==null&&n!==void 0?n:PageConfig.defaultWorkspace)));let c=(s=e.treePath)!==null&&s!==void 0?s:getOption("treePath");return c&&(i=url_1.URLExt.join(i,"tree",url_1.URLExt.encodeParts(c))),i}PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default";function getWsUrl(e){let t=getOption("wsUrl");if(!t){if(e=e?url_1.URLExt.normalize(e):getBaseUrl(),e.indexOf("http")!==0)return"";t="ws"+e.slice(4)}return url_1.URLExt.normalize(t)}PageConfig.getWsUrl=getWsUrl;function getNBConvertURL({path:e,format:t,download:r}){let n=url_1.URLExt.encodeParts(e),s=url_1.URLExt.join(getBaseUrl(),"nbconvert",t,n);return r?s+"?download=true":s}PageConfig.getNBConvertURL=getNBConvertURL;function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}PageConfig.getToken=getToken;function getNotebookVersion(){let e=getOption("notebookVersion");return e===""?[0,0,0]:JSON.parse(e)}PageConfig.getNotebookVersion=getNotebookVersion;let configData=null;function getBodyData(e){if(typeof document>"u"||!document.body)return"";let t=document.body.dataset[e];return typeof t>"u"?"":decodeURIComponent(t)}let Extension;(function(e){function t(s){try{let i=getOption(s);if(i)return JSON.parse(i)}catch(i){console.warn(`Unable to parse ${s}.`,i)}return[]}e.deferred=t("deferredExtensions"),e.disabled=t("disabledExtensions");function r(s){let i=s.indexOf(":"),a="";return i!==-1&&(a=s.slice(0,i)),e.deferred.some(o=>o===s||a&&o===a)}e.isDeferred=r;function n(s){let i=s.indexOf(":"),a="";return i!==-1&&(a=s.slice(0,i)),e.disabled.some(o=>o===s||a&&o===a)}e.isDisabled=n})(Extension=PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig||(exports.PageConfig=PageConfig={}))});var Wv=j(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.PathExt=void 0;var Rs=Ae("path"),Kv;(function(e){function t(...d){let h=Rs.posix.join(...d);return h==="."?"":u(h)}e.join=t;function r(...d){let h=Rs.posix.join(...d);return h==="."?"":h}e.joinWithLeadingSlash=r;function n(d,h){return Rs.posix.basename(d,h)}e.basename=n;function s(d){let h=u(Rs.posix.dirname(d));return h==="."?"":h}e.dirname=s;function i(d){return Rs.posix.extname(d)}e.extname=i;function a(d){return d===""?"":u(Rs.posix.normalize(d))}e.normalize=a;function o(...d){return u(Rs.posix.resolve(...d))}e.resolve=o;function l(d,h){return u(Rs.posix.relative(d,h))}e.relative=l;function c(d){return d.length>0&&d.indexOf(".")!==0&&(d=`.${d}`),d}e.normalizeExtension=c;function u(d){return d.indexOf("/")===0&&(d=d.slice(1)),d}e.removeSlash=u})(Kv||(El.PathExt=Kv={}))});var Gv=j(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});Bd.signalToPromise=XC;var QC=nt();function XC(e,t){let r=new QC.PromiseDelegate;function n(){e.disconnect(s)}function s(i,a){n(),r.resolve([i,a])}return e.connect(s),(t??0)>0&&setTimeout(()=>{n(),r.reject(`Signal not emitted within ${t} ms.`)},t),r.promise}});var Yv=j(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.Text=void 0;var Zv;(function(e){function r(a,o){return a}e.jsIndexToCharIndex=r;function n(a,o){return a}e.charIndexToJsIndex=n;function s(a,o=!1){return a.replace(/^(\w)|[\s-_:]+(\w)/g,function(l,c,u){return u?u.toUpperCase():o?c.toUpperCase():c.toLowerCase()})}e.camelCase=s;function i(a){return(a||"").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}e.titleCase=i})(Zv||(Cl.Text=Zv={}))});var Xv=j(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.Time=void 0;var eP=[{name:"years",milliseconds:365*24*60*60*1e3},{name:"months",milliseconds:720*60*60*1e3},{name:"days",milliseconds:1440*60*1e3},{name:"hours",milliseconds:3600*1e3},{name:"minutes",milliseconds:60*1e3},{name:"seconds",milliseconds:1e3}],Qv;(function(e){function t(n,s="long"){let i=document.documentElement.lang||"en",a=new Intl.RelativeTimeFormat(i,{numeric:"auto",style:s}),o=new Date(n).getTime()-Date.now();for(let l of eP){let c=Math.ceil(o/l.milliseconds);if(c!==0)return a.format(c,l.name)}return a.format(0,"seconds")}e.formatHuman=t;function r(n){let s=document.documentElement.lang||"en";return new Intl.DateTimeFormat(s,{dateStyle:"short",timeStyle:"short"}).format(new Date(n))}e.format=r})(Qv||(Pl.Time=Qv={}))});var Ke=j(wt=>{"use strict";var tP=wt&&wt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),Nr=wt&&wt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&tP(t,e,r)};Object.defineProperty(wt,"__esModule",{value:!0});Nr(kv(),wt);Nr(xv(),wt);Nr(Ev(),wt);Nr(Pv(),wt);Nr(Jv(),wt);Nr(Wv(),wt);Nr(Gv(),wt);Nr(Yv(),wt);Nr(Xv(),wt);Nr(Vd(),wt)});var ri=j(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.supportedKernelWebSocketProtocols=void 0;We.createMessage=sP;We.isStreamMsg=nP;We.isDisplayDataMsg=iP;We.isUpdateDisplayDataMsg=aP;We.isExecuteInputMsg=oP;We.isExecuteResultMsg=lP;We.isErrorMsg=cP;We.isStatusMsg=uP;We.isClearOutputMsg=dP;We.isDebugEventMsg=hP;We.isCommOpenMsg=fP;We.isCommCloseMsg=pP;We.isCommMsgMsg=mP;We.isInfoRequestMsg=gP;We.isExecuteReplyMsg=yP;We.isDebugRequestMsg=vP;We.isDebugReplyMsg=_P;We.isInputRequestMsg=bP;We.isInputReplyMsg=wP;var rP=nt();function sP(e){var t,r,n,s,i,a;return{buffers:(t=e.buffers)!==null&&t!==void 0?t:[],channel:e.channel,content:e.content,header:{date:new Date().toISOString(),msg_id:(r=e.msgId)!==null&&r!==void 0?r:rP.UUID.uuid4(),msg_type:e.msgType,session:e.session,username:(n=e.username)!==null&&n!==void 0?n:"",subshell_id:(s=e.subshellId)!==null&&s!==void 0?s:null,version:"5.2"},metadata:(i=e.metadata)!==null&&i!==void 0?i:{},parent_header:(a=e.parentHeader)!==null&&a!==void 0?a:{}}}function nP(e){return e.header.msg_type==="stream"}function iP(e){return e.header.msg_type==="display_data"}function aP(e){return e.header.msg_type==="update_display_data"}function oP(e){return e.header.msg_type==="execute_input"}function lP(e){return e.header.msg_type==="execute_result"}function cP(e){return e.header.msg_type==="error"}function uP(e){return e.header.msg_type==="status"}function dP(e){return e.header.msg_type==="clear_output"}function hP(e){return e.header.msg_type==="debug_event"}function fP(e){return e.header.msg_type==="comm_open"}function pP(e){return e.header.msg_type==="comm_close"}function mP(e){return e.header.msg_type==="comm_msg"}function gP(e){return e.header.msg_type==="kernel_info_request"}function yP(e){return e.header.msg_type==="execute_reply"}function vP(e){return e.header.msg_type==="debug_request"}function _P(e){return e.header.msg_type==="debug_reply"}function bP(e){return e.header.msg_type==="input_request"}function wP(e){return e.header.msg_type==="input_reply"}var e_;(function(e){e.v1KernelWebsocketJupyterOrg="v1.kernel.websocket.jupyter.org"})(e_||(We.supportedKernelWebSocketProtocols=e_={}))});var r_=j($r=>{"use strict";var kP=$r&&$r.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),SP=$r&&$r.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),xP=$r&&$r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&kP(t,e,r);return SP(t,e),t};Object.defineProperty($r,"__esModule",{value:!0});$r.serialize=EP;$r.deserialize=CP;var t_=xP(ri());function EP(e,t=""){switch(t){case t_.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg:return si.serializeV1KernelWebsocketJupyterOrg(e);default:return si.serializeDefault(e)}}function CP(e,t=""){switch(t){case t_.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg:return si.deserializeV1KernelWebsocketJupyterOrg(e);default:return si.deserializeDefault(e)}}var si;(function(e){function t(o){let l,c=new DataView(o),u=Number(c.getBigUint64(0,!0)),d=[];for(let x=0;x<u;x++)d.push(Number(c.getBigUint64(8*(x+1),!0)));let h=new TextDecoder("utf8"),f=h.decode(o.slice(d[0],d[1])),p=JSON.parse(h.decode(o.slice(d[1],d[2]))),g=JSON.parse(h.decode(o.slice(d[2],d[3]))),y=JSON.parse(h.decode(o.slice(d[3],d[4]))),v=JSON.parse(h.decode(o.slice(d[4],d[5]))),C=[];for(let x=5;x<d.length-1;x++)C.push(new DataView(o.slice(d[x],d[x+1])));return l={channel:f,header:p,parent_header:g,metadata:y,content:v,buffers:C},l}e.deserializeV1KernelWebsocketJupyterOrg=t;function r(o){let l=JSON.stringify(o.header),c=o.parent_header==null?"{}":JSON.stringify(o.parent_header),u=JSON.stringify(o.metadata),d=JSON.stringify(o.content),h=o.buffers!==void 0?o.buffers:[],f=5+h.length+1,p=[];p.push(8*(1+f)),p.push(o.channel.length+p[p.length-1]);let g=new TextEncoder,y=g.encode(o.channel),v=g.encode(l),C=g.encode(c),x=g.encode(u),k=g.encode(d),A=new Uint8Array(y.length+v.length+C.length+x.length+k.length);A.set(y),A.set(v,y.length),A.set(C,y.length+v.length),A.set(x,y.length+v.length+C.length),A.set(k,y.length+v.length+C.length+x.length);for(let b of[v.length,C.length,x.length,k.length])p.push(b+p[p.length-1]);let q=0;for(let b of h){let P=b.byteLength;p.push(P+p[p.length-1]),q+=P}let L=new Uint8Array(8*(1+f)+A.byteLength+q),N=new ArrayBuffer(8),O=new DataView(N);O.setBigUint64(0,BigInt(f),!0),L.set(new Uint8Array(N),0);for(let b=0;b<p.length;b++)O.setBigUint64(0,BigInt(p[b]),!0),L.set(new Uint8Array(N),8*(b+1));L.set(A,p[0]);for(let b=0;b<h.length;b++){let P=h[b];L.set(new Uint8Array(ArrayBuffer.isView(P)?P.buffer:P),p[5+b])}return L.buffer}e.serializeV1KernelWebsocketJupyterOrg=r;function n(o){let l;return typeof o=="string"?l=JSON.parse(o):l=i(o),l}e.deserializeDefault=n;function s(o){var l;let c;return!((l=o.buffers)===null||l===void 0)&&l.length?c=a(o):c=JSON.stringify(o),c}e.serializeDefault=s;function i(o){let l=new DataView(o),c=l.getUint32(0),u=[];if(c<2)throw new Error("Invalid incoming Kernel Message");for(let f=1;f<=c;f++)u.push(l.getUint32(f*4));let d=new Uint8Array(o.slice(u[0],u[1])),h=JSON.parse(new TextDecoder("utf8").decode(d));h.buffers=[];for(let f=1;f<c;f++){let p=u[f],g=u[f+1]||o.byteLength;h.buffers.push(new DataView(o.slice(p,g)))}return h}function a(o){let l=[],c=[],u=new TextEncoder,d=[];o.buffers!==void 0&&(d=o.buffers,delete o.buffers);let h=u.encode(JSON.stringify(o));c.push(h.buffer);for(let y=0;y<d.length;y++){let v=d[y];c.push(ArrayBuffer.isView(v)?v.buffer:v)}let f=c.length;l.push(4*(f+1));for(let y=0;y+1<c.length;y++)l.push(l[l.length-1]+c[y].byteLength);let p=new Uint8Array(l[l.length-1]+c[c.length-1].byteLength),g=new DataView(p.buffer);g.setUint32(0,f);for(let y=0;y<l.length;y++)g.setUint32(4*(y+1),l[y]);for(let y=0;y<c.length;y++)p.set(new Uint8Array(c[y]),l[y]);return p.buffer}})(si||(si={}))});var ls=j((kL,i_)=>{"use strict";var s_=["nodebuffer","arraybuffer","fragments"],n_=typeof Blob<"u";n_&&s_.push("blob");i_.exports={BINARY_TYPES:s_,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:n_,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var na=j((SL,Rl)=>{"use strict";var{EMPTY_BUFFER:PP}=ls(),Hd=Buffer[Symbol.species];function RP(e,t){if(e.length===0)return PP;if(e.length===1)return e[0];let r=Buffer.allocUnsafe(t),n=0;for(let s=0;s<e.length;s++){let i=e[s];r.set(i,n),n+=i.length}return n<t?new Hd(r.buffer,r.byteOffset,n):r}function a_(e,t,r,n,s){for(let i=0;i<s;i++)r[n+i]=e[i]^t[i&3]}function o_(e,t){for(let r=0;r<e.length;r++)e[r]^=t[r&3]}function IP(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)}function Jd(e){if(Jd.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=new Hd(e):ArrayBuffer.isView(e)?t=new Hd(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),Jd.readOnly=!1),t}Rl.exports={concat:RP,mask:a_,toArrayBuffer:IP,toBuffer:Jd,unmask:o_};if(!process.env.WS_NO_BUFFER_UTIL)try{let e=Ae("bufferutil");Rl.exports.mask=function(t,r,n,s,i){i<48?a_(t,r,n,s,i):e.mask(t,r,n,s,i)},Rl.exports.unmask=function(t,r){t.length<32?o_(t,r):e.unmask(t,r)}}catch{}});var u_=j((xL,c_)=>{"use strict";var l_=Symbol("kDone"),Kd=Symbol("kRun"),Wd=class{constructor(t){this[l_]=()=>{this.pending--,this[Kd]()},this.concurrency=t||1/0,this.jobs=[],this.pending=0}add(t){this.jobs.push(t),this[Kd]()}[Kd](){if(this.pending!==this.concurrency&&this.jobs.length){let t=this.jobs.shift();this.pending++,t(this[l_])}}};c_.exports=Wd});var aa=j((EL,p_)=>{"use strict";var ia=Ae("zlib"),d_=na(),OP=u_(),{kStatusCode:h_}=ls(),TP=Buffer[Symbol.species],jP=Buffer.from([0,0,255,255]),Ol=Symbol("permessage-deflate"),cs=Symbol("total-length"),ni=Symbol("callback"),Is=Symbol("buffers"),ii=Symbol("error"),Il,Gd=class{constructor(t,r,n){if(this._maxPayload=n|0,this._options=t||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!Il){let s=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Il=new OP(s)}}static get extensionName(){return"permessage-deflate"}offer(){let t={};return this._options.serverNoContextTakeover&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(t.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(t.client_max_window_bits=!0),t}accept(t){return t=this.normalizeParams(t),this.params=this._isServer?this.acceptAsServer(t):this.acceptAsClient(t),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let t=this._deflate[ni];this._deflate.close(),this._deflate=null,t&&t(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(t){let r=this._options,n=t.find(s=>!(r.serverNoContextTakeover===!1&&s.server_no_context_takeover||s.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>s.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!s.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(n.server_no_context_takeover=!0),r.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(n.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?n.client_max_window_bits=r.clientMaxWindowBits:(n.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(t){let r=t[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(t){return t.forEach(r=>{Object.keys(r).forEach(n=>{let s=r[n];if(s.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(s=s[0],n==="client_max_window_bits"){if(s!==!0){let i=+s;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${n}": ${s}`);s=i}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${s}`)}else if(n==="server_max_window_bits"){let i=+s;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${n}": ${s}`);s=i}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(s!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${s}`)}else throw new Error(`Unknown parameter "${n}"`);r[n]=s})}),t}decompress(t,r,n){Il.add(s=>{this._decompress(t,r,(i,a)=>{s(),n(i,a)})})}compress(t,r,n){Il.add(s=>{this._compress(t,r,(i,a)=>{s(),n(i,a)})})}_decompress(t,r,n){let s=this._isServer?"client":"server";if(!this._inflate){let i=`${s}_max_window_bits`,a=typeof this.params[i]!="number"?ia.Z_DEFAULT_WINDOWBITS:this.params[i];this._inflate=ia.createInflateRaw({...this._options.zlibInflateOptions,windowBits:a}),this._inflate[Ol]=this,this._inflate[cs]=0,this._inflate[Is]=[],this._inflate.on("error",AP),this._inflate.on("data",f_)}this._inflate[ni]=n,this._inflate.write(t),r&&this._inflate.write(jP),this._inflate.flush(()=>{let i=this._inflate[ii];if(i){this._inflate.close(),this._inflate=null,n(i);return}let a=d_.concat(this._inflate[Is],this._inflate[cs]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[cs]=0,this._inflate[Is]=[],r&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),n(null,a)})}_compress(t,r,n){let s=this._isServer?"server":"client";if(!this._deflate){let i=`${s}_max_window_bits`,a=typeof this.params[i]!="number"?ia.Z_DEFAULT_WINDOWBITS:this.params[i];this._deflate=ia.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:a}),this._deflate[cs]=0,this._deflate[Is]=[],this._deflate.on("data",DP)}this._deflate[ni]=n,this._deflate.write(t),this._deflate.flush(ia.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let i=d_.concat(this._deflate[Is],this._deflate[cs]);r&&(i=new TP(i.buffer,i.byteOffset,i.length-4)),this._deflate[ni]=null,this._deflate[cs]=0,this._deflate[Is]=[],r&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),n(null,i)})}};p_.exports=Gd;function DP(e){this[Is].push(e),this[cs]+=e.length}function f_(e){if(this[cs]+=e.length,this[Ol]._maxPayload<1||this[cs]<=this[Ol]._maxPayload){this[Is].push(e);return}this[ii]=new RangeError("Max payload size exceeded"),this[ii].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[ii][h_]=1009,this.removeListener("data",f_),this.reset()}function AP(e){if(this[Ol]._inflate=null,this[ii]){this[ni](this[ii]);return}e[h_]=1007,this[ni](e)}});var ai=j((CL,Tl)=>{"use strict";var{isUtf8:m_}=Ae("buffer"),{hasBlob:MP}=ls(),UP=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function NP(e){return e>=1e3&&e<=1014&&e!==1004&&e!==1005&&e!==1006||e>=3e3&&e<=4999}function Zd(e){let t=e.length,r=0;for(;r<t;)if((e[r]&128)===0)r++;else if((e[r]&224)===192){if(r+1===t||(e[r+1]&192)!==128||(e[r]&254)===192)return!1;r+=2}else if((e[r]&240)===224){if(r+2>=t||(e[r+1]&192)!==128||(e[r+2]&192)!==128||e[r]===224&&(e[r+1]&224)===128||e[r]===237&&(e[r+1]&224)===160)return!1;r+=3}else if((e[r]&248)===240){if(r+3>=t||(e[r+1]&192)!==128||(e[r+2]&192)!==128||(e[r+3]&192)!==128||e[r]===240&&(e[r+1]&240)===128||e[r]===244&&e[r+1]>143||e[r]>244)return!1;r+=4}else return!1;return!0}function $P(e){return MP&&typeof e=="object"&&typeof e.arrayBuffer=="function"&&typeof e.type=="string"&&typeof e.stream=="function"&&(e[Symbol.toStringTag]==="Blob"||e[Symbol.toStringTag]==="File")}Tl.exports={isBlob:$P,isValidStatusCode:NP,isValidUTF8:Zd,tokenChars:UP};if(m_)Tl.exports.isValidUTF8=function(e){return e.length<24?Zd(e):m_(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let e=Ae("utf-8-validate");Tl.exports.isValidUTF8=function(t){return t.length<32?Zd(t):e(t)}}catch{}});var Al=j((PL,k_)=>{"use strict";var{Writable:LP}=Ae("stream"),g_=aa(),{BINARY_TYPES:qP,EMPTY_BUFFER:y_,kStatusCode:zP,kWebSocket:FP}=ls(),{concat:Yd,toArrayBuffer:VP,unmask:BP}=na(),{isValidStatusCode:HP,isValidUTF8:v_}=ai(),jl=Buffer[Symbol.species],lr=0,__=1,b_=2,w_=3,Qd=4,Xd=5,Dl=6,eh=class extends LP{constructor(t={}){super(),this._allowSynchronousEvents=t.allowSynchronousEvents!==void 0?t.allowSynchronousEvents:!0,this._binaryType=t.binaryType||qP[0],this._extensions=t.extensions||{},this._isServer=!!t.isServer,this._maxPayload=t.maxPayload|0,this._skipUTF8Validation=!!t.skipUTF8Validation,this[FP]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=lr}_write(t,r,n){if(this._opcode===8&&this._state==lr)return n();this._bufferedBytes+=t.length,this._buffers.push(t),this.startLoop(n)}consume(t){if(this._bufferedBytes-=t,t===this._buffers[0].length)return this._buffers.shift();if(t<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new jl(n.buffer,n.byteOffset+t,n.length-t),new jl(n.buffer,n.byteOffset,t)}let r=Buffer.allocUnsafe(t);do{let n=this._buffers[0],s=r.length-t;t>=n.length?r.set(this._buffers.shift(),s):(r.set(new Uint8Array(n.buffer,n.byteOffset,t),s),this._buffers[0]=new jl(n.buffer,n.byteOffset+t,n.length-t)),t-=n.length}while(t>0);return r}startLoop(t){this._loop=!0;do switch(this._state){case lr:this.getInfo(t);break;case __:this.getPayloadLength16(t);break;case b_:this.getPayloadLength64(t);break;case w_:this.getMask();break;case Qd:this.getData(t);break;case Xd:case Dl:this._loop=!1;return}while(this._loop);this._errored||t()}getInfo(t){if(this._bufferedBytes<2){this._loop=!1;return}let r=this.consume(2);if((r[0]&48)!==0){let s=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");t(s);return}let n=(r[0]&64)===64;if(n&&!this._extensions[g_.extensionName]){let s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");t(s);return}if(this._fin=(r[0]&128)===128,this._opcode=r[0]&15,this._payloadLength=r[1]&127,this._opcode===0){if(n){let s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");t(s);return}if(!this._fragmented){let s=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");t(s);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let s=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");t(s);return}this._compressed=n}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let s=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");t(s);return}if(n){let s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");t(s);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let s=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");t(s);return}}else{let s=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");t(s);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(r[1]&128)===128,this._isServer){if(!this._masked){let s=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");t(s);return}}else if(this._masked){let s=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");t(s);return}this._payloadLength===126?this._state=__:this._payloadLength===127?this._state=b_:this.haveLength(t)}getPayloadLength16(t){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(t)}getPayloadLength64(t){if(this._bufferedBytes<8){this._loop=!1;return}let r=this.consume(8),n=r.readUInt32BE(0);if(n>Math.pow(2,21)-1){let s=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");t(s);return}this._payloadLength=n*Math.pow(2,32)+r.readUInt32BE(4),this.haveLength(t)}haveLength(t){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let r=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");t(r);return}this._masked?this._state=w_:this._state=Qd}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Qd}getData(t){let r=y_;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&BP(r,this._mask)}if(this._opcode>7){this.controlMessage(r,t);return}if(this._compressed){this._state=Xd,this.decompress(r,t);return}r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage(t)}decompress(t,r){this._extensions[g_.extensionName].decompress(t,this._fin,(s,i)=>{if(s)return r(s);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let a=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");r(a);return}this._fragments.push(i)}this.dataMessage(r),this._state===lr&&this.startLoop(r)})}dataMessage(t){if(!this._fin){this._state=lr;return}let r=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let s;this._binaryType==="nodebuffer"?s=Yd(n,r):this._binaryType==="arraybuffer"?s=VP(Yd(n,r)):this._binaryType==="blob"?s=new Blob(n):s=n,this._allowSynchronousEvents?(this.emit("message",s,!0),this._state=lr):(this._state=Dl,setImmediate(()=>{this.emit("message",s,!0),this._state=lr,this.startLoop(t)}))}else{let s=Yd(n,r);if(!this._skipUTF8Validation&&!v_(s)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");t(i);return}this._state===Xd||this._allowSynchronousEvents?(this.emit("message",s,!1),this._state=lr):(this._state=Dl,setImmediate(()=>{this.emit("message",s,!1),this._state=lr,this.startLoop(t)}))}}controlMessage(t,r){if(this._opcode===8){if(t.length===0)this._loop=!1,this.emit("conclude",1005,y_),this.end();else{let n=t.readUInt16BE(0);if(!HP(n)){let i=this.createError(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");r(i);return}let s=new jl(t.buffer,t.byteOffset+2,t.length-2);if(!this._skipUTF8Validation&&!v_(s)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");r(i);return}this._loop=!1,this.emit("conclude",n,s),this.end()}this._state=lr;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",t),this._state=lr):(this._state=Dl,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",t),this._state=lr,this.startLoop(r)}))}createError(t,r,n,s,i){this._loop=!1,this._errored=!0;let a=new t(n?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(a,this.createError),a.code=i,a[zP]=s,a}};k_.exports=eh});var Ul=j((IL,E_)=>{"use strict";var{Duplex:RL}=Ae("stream"),{randomFillSync:JP}=Ae("crypto"),S_=aa(),{EMPTY_BUFFER:KP,kWebSocket:WP,NOOP:GP}=ls(),{isBlob:oi,isValidStatusCode:ZP}=ai(),{mask:x_,toBuffer:pn}=na(),cr=Symbol("kByteLength"),YP=Buffer.alloc(4),Ml=8*1024,mn,li=Ml,vr=0,QP=1,XP=2,th=class e{constructor(t,r,n){this._extensions=r||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=t,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=vr,this.onerror=GP,this[WP]=void 0}static frame(t,r){let n,s=!1,i=2,a=!1;r.mask&&(n=r.maskBuffer||YP,r.generateMask?r.generateMask(n):(li===Ml&&(mn===void 0&&(mn=Buffer.alloc(Ml)),JP(mn,0,Ml),li=0),n[0]=mn[li++],n[1]=mn[li++],n[2]=mn[li++],n[3]=mn[li++]),a=(n[0]|n[1]|n[2]|n[3])===0,i=6);let o;typeof t=="string"?(!r.mask||a)&&r[cr]!==void 0?o=r[cr]:(t=Buffer.from(t),o=t.length):(o=t.length,s=r.mask&&r.readOnly&&!a);let l=o;o>=65536?(i+=8,l=127):o>125&&(i+=2,l=126);let c=Buffer.allocUnsafe(s?o+i:i);return c[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(c[0]|=64),c[1]=l,l===126?c.writeUInt16BE(o,2):l===127&&(c[2]=c[3]=0,c.writeUIntBE(o,4,6)),r.mask?(c[1]|=128,c[i-4]=n[0],c[i-3]=n[1],c[i-2]=n[2],c[i-1]=n[3],a?[c,t]:s?(x_(t,n,c,i,o),[c]):(x_(t,n,t,0,o),[c,t])):[c,t]}close(t,r,n,s){let i;if(t===void 0)i=KP;else{if(typeof t!="number"||!ZP(t))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)i=Buffer.allocUnsafe(2),i.writeUInt16BE(t,0);else{let o=Buffer.byteLength(r);if(o>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+o),i.writeUInt16BE(t,0),typeof r=="string"?i.write(r,2):i.set(r,2)}}let a={[cr]:i.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==vr?this.enqueue([this.dispatch,i,!1,a,s]):this.sendFrame(e.frame(i,a),s)}ping(t,r,n){let s,i;if(typeof t=="string"?(s=Buffer.byteLength(t),i=!1):oi(t)?(s=t.size,i=!1):(t=pn(t),s=t.length,i=pn.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let a={[cr]:s,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};oi(t)?this._state!==vr?this.enqueue([this.getBlobData,t,!1,a,n]):this.getBlobData(t,!1,a,n):this._state!==vr?this.enqueue([this.dispatch,t,!1,a,n]):this.sendFrame(e.frame(t,a),n)}pong(t,r,n){let s,i;if(typeof t=="string"?(s=Buffer.byteLength(t),i=!1):oi(t)?(s=t.size,i=!1):(t=pn(t),s=t.length,i=pn.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let a={[cr]:s,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};oi(t)?this._state!==vr?this.enqueue([this.getBlobData,t,!1,a,n]):this.getBlobData(t,!1,a,n):this._state!==vr?this.enqueue([this.dispatch,t,!1,a,n]):this.sendFrame(e.frame(t,a),n)}send(t,r,n){let s=this._extensions[S_.extensionName],i=r.binary?2:1,a=r.compress,o,l;typeof t=="string"?(o=Buffer.byteLength(t),l=!1):oi(t)?(o=t.size,l=!1):(t=pn(t),o=t.length,l=pn.readOnly),this._firstFragment?(this._firstFragment=!1,a&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(a=o>=s._threshold),this._compress=a):(a=!1,i=0),r.fin&&(this._firstFragment=!0);let c={[cr]:o,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:i,readOnly:l,rsv1:a};oi(t)?this._state!==vr?this.enqueue([this.getBlobData,t,this._compress,c,n]):this.getBlobData(t,this._compress,c,n):this._state!==vr?this.enqueue([this.dispatch,t,this._compress,c,n]):this.dispatch(t,this._compress,c,n)}getBlobData(t,r,n,s){this._bufferedBytes+=n[cr],this._state=XP,t.arrayBuffer().then(i=>{if(this._socket.destroyed){let o=new Error("The socket was closed while the blob was being read");process.nextTick(rh,this,o,s);return}this._bufferedBytes-=n[cr];let a=pn(i);r?this.dispatch(a,r,n,s):(this._state=vr,this.sendFrame(e.frame(a,n),s),this.dequeue())}).catch(i=>{process.nextTick(eR,this,i,s)})}dispatch(t,r,n,s){if(!r){this.sendFrame(e.frame(t,n),s);return}let i=this._extensions[S_.extensionName];this._bufferedBytes+=n[cr],this._state=QP,i.compress(t,n.fin,(a,o)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");rh(this,l,s);return}this._bufferedBytes-=n[cr],this._state=vr,n.readOnly=!1,this.sendFrame(e.frame(o,n),s),this.dequeue()})}dequeue(){for(;this._state===vr&&this._queue.length;){let t=this._queue.shift();this._bufferedBytes-=t[3][cr],Reflect.apply(t[0],this,t.slice(1))}}enqueue(t){this._bufferedBytes+=t[3][cr],this._queue.push(t)}sendFrame(t,r){t.length===2?(this._socket.cork(),this._socket.write(t[0]),this._socket.write(t[1],r),this._socket.uncork()):this._socket.write(t[0],r)}};E_.exports=th;function rh(e,t,r){typeof r=="function"&&r(t);for(let n=0;n<e._queue.length;n++){let s=e._queue[n],i=s[s.length-1];typeof i=="function"&&i(t)}}function eR(e,t,r){rh(e,t,r),e.onerror(t)}});var A_=j((OL,D_)=>{"use strict";var{kForOnEventAttribute:oa,kListener:sh}=ls(),C_=Symbol("kCode"),P_=Symbol("kData"),R_=Symbol("kError"),I_=Symbol("kMessage"),O_=Symbol("kReason"),ci=Symbol("kTarget"),T_=Symbol("kType"),j_=Symbol("kWasClean"),us=class{constructor(t){this[ci]=null,this[T_]=t}get target(){return this[ci]}get type(){return this[T_]}};Object.defineProperty(us.prototype,"target",{enumerable:!0});Object.defineProperty(us.prototype,"type",{enumerable:!0});var gn=class extends us{constructor(t,r={}){super(t),this[C_]=r.code===void 0?0:r.code,this[O_]=r.reason===void 0?"":r.reason,this[j_]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[C_]}get reason(){return this[O_]}get wasClean(){return this[j_]}};Object.defineProperty(gn.prototype,"code",{enumerable:!0});Object.defineProperty(gn.prototype,"reason",{enumerable:!0});Object.defineProperty(gn.prototype,"wasClean",{enumerable:!0});var ui=class extends us{constructor(t,r={}){super(t),this[R_]=r.error===void 0?null:r.error,this[I_]=r.message===void 0?"":r.message}get error(){return this[R_]}get message(){return this[I_]}};Object.defineProperty(ui.prototype,"error",{enumerable:!0});Object.defineProperty(ui.prototype,"message",{enumerable:!0});var la=class extends us{constructor(t,r={}){super(t),this[P_]=r.data===void 0?null:r.data}get data(){return this[P_]}};Object.defineProperty(la.prototype,"data",{enumerable:!0});var tR={addEventListener(e,t,r={}){for(let s of this.listeners(e))if(!r[oa]&&s[sh]===t&&!s[oa])return;let n;if(e==="message")n=function(i,a){let o=new la("message",{data:a?i:i.toString()});o[ci]=this,Nl(t,this,o)};else if(e==="close")n=function(i,a){let o=new gn("close",{code:i,reason:a.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});o[ci]=this,Nl(t,this,o)};else if(e==="error")n=function(i){let a=new ui("error",{error:i,message:i.message});a[ci]=this,Nl(t,this,a)};else if(e==="open")n=function(){let i=new us("open");i[ci]=this,Nl(t,this,i)};else return;n[oa]=!!r[oa],n[sh]=t,r.once?this.once(e,n):this.on(e,n)},removeEventListener(e,t){for(let r of this.listeners(e))if(r[sh]===t&&!r[oa]){this.removeListener(e,r);break}}};D_.exports={CloseEvent:gn,ErrorEvent:ui,Event:us,EventTarget:tR,MessageEvent:la};function Nl(e,t,r){typeof e=="object"&&e.handleEvent?e.handleEvent.call(e,r):e.call(t,r)}});var nh=j((TL,M_)=>{"use strict";var{tokenChars:ca}=ai();function Lr(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}function rR(e){let t=Object.create(null),r=Object.create(null),n=!1,s=!1,i=!1,a,o,l=-1,c=-1,u=-1,d=0;for(;d<e.length;d++)if(c=e.charCodeAt(d),a===void 0)if(u===-1&&ca[c]===1)l===-1&&(l=d);else if(d!==0&&(c===32||c===9))u===-1&&l!==-1&&(u=d);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let f=e.slice(l,u);c===44?(Lr(t,f,r),r=Object.create(null)):a=f,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);else if(o===void 0)if(u===-1&&ca[c]===1)l===-1&&(l=d);else if(c===32||c===9)u===-1&&l!==-1&&(u=d);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d),Lr(r,e.slice(l,u),!0),c===44&&(Lr(t,a,r),r=Object.create(null),a=void 0),l=u=-1}else if(c===61&&l!==-1&&u===-1)o=e.slice(l,d),l=u=-1;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(s){if(ca[c]!==1)throw new SyntaxError(`Unexpected character at index ${d}`);l===-1?l=d:n||(n=!0),s=!1}else if(i)if(ca[c]===1)l===-1&&(l=d);else if(c===34&&l!==-1)i=!1,u=d;else if(c===92)s=!0;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(c===34&&e.charCodeAt(d-1)===61)i=!0;else if(u===-1&&ca[c]===1)l===-1&&(l=d);else if(l!==-1&&(c===32||c===9))u===-1&&(u=d);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let f=e.slice(l,u);n&&(f=f.replace(/\\/g,""),n=!1),Lr(r,o,f),c===44&&(Lr(t,a,r),r=Object.create(null),a=void 0),o=void 0,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);if(l===-1||i||c===32||c===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=d);let h=e.slice(l,u);return a===void 0?Lr(t,h,r):(o===void 0?Lr(r,h,!0):n?Lr(r,o,h.replace(/\\/g,"")):Lr(r,o,h),Lr(t,a,r)),t}function sR(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(n=>[t].concat(Object.keys(n).map(s=>{let i=n[s];return Array.isArray(i)||(i=[i]),i.map(a=>a===!0?s:`${s}=${a}`).join("; ")})).join("; ")).join(", ")}).join(", ")}M_.exports={format:sR,parse:rR}});var ua=j((AL,K_)=>{"use strict";var nR=Ae("events"),iR=Ae("https"),aR=Ae("http"),$_=Ae("net"),oR=Ae("tls"),{randomBytes:lR,createHash:cR}=Ae("crypto"),{Duplex:jL,Readable:DL}=Ae("stream"),{URL:ih}=Ae("url"),Os=aa(),uR=Al(),dR=Ul(),{isBlob:hR}=ai(),{BINARY_TYPES:U_,EMPTY_BUFFER:$l,GUID:fR,kForOnEventAttribute:ah,kListener:pR,kStatusCode:mR,kWebSocket:ht,NOOP:L_}=ls(),{EventTarget:{addEventListener:gR,removeEventListener:yR}}=A_(),{format:vR,parse:_R}=nh(),{toBuffer:bR}=na(),wR=30*1e3,q_=Symbol("kAborted"),oh=[8,13],ds=["CONNECTING","OPEN","CLOSING","CLOSED"],kR=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Fe=class e extends nR{constructor(t,r,n){super(),this._binaryType=U_[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=$l,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=e.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,t!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(n=r,r=[]):r=[r]),z_(this,t,r,n)):(this._autoPong=n.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(t){U_.includes(t)&&(this._binaryType=t,this._receiver&&(this._receiver._binaryType=t))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(t,r,n){let s=new uR({allowSynchronousEvents:n.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation}),i=new dR(t,this._extensions,n.generateMask);this._receiver=s,this._sender=i,this._socket=t,s[ht]=this,i[ht]=this,t[ht]=this,s.on("conclude",ER),s.on("drain",CR),s.on("error",PR),s.on("message",RR),s.on("ping",IR),s.on("pong",OR),i.onerror=TR,t.setTimeout&&t.setTimeout(0),t.setNoDelay&&t.setNoDelay(),r.length>0&&t.unshift(r),t.on("close",B_),t.on("data",ql),t.on("end",H_),t.on("error",J_),this._readyState=e.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=e.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Os.extensionName]&&this._extensions[Os.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=e.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(t,r){if(this.readyState!==e.CLOSED){if(this.readyState===e.CONNECTING){Gt(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===e.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=e.CLOSING,this._sender.close(t,r,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),V_(this)}}pause(){this.readyState===e.CONNECTING||this.readyState===e.CLOSED||(this._paused=!0,this._socket.pause())}ping(t,r,n){if(this.readyState===e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(n=t,t=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==e.OPEN){lh(this,t,n);return}r===void 0&&(r=!this._isServer),this._sender.ping(t||$l,r,n)}pong(t,r,n){if(this.readyState===e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(n=t,t=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==e.OPEN){lh(this,t,n);return}r===void 0&&(r=!this._isServer),this._sender.pong(t||$l,r,n)}resume(){this.readyState===e.CONNECTING||this.readyState===e.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(t,r,n){if(this.readyState===e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(n=r,r={}),typeof t=="number"&&(t=t.toString()),this.readyState!==e.OPEN){lh(this,t,n);return}let s={binary:typeof t!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[Os.extensionName]||(s.compress=!1),this._sender.send(t||$l,s,n)}terminate(){if(this.readyState!==e.CLOSED){if(this.readyState===e.CONNECTING){Gt(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=e.CLOSING,this._socket.destroy())}}};Object.defineProperty(Fe,"CONNECTING",{enumerable:!0,value:ds.indexOf("CONNECTING")});Object.defineProperty(Fe.prototype,"CONNECTING",{enumerable:!0,value:ds.indexOf("CONNECTING")});Object.defineProperty(Fe,"OPEN",{enumerable:!0,value:ds.indexOf("OPEN")});Object.defineProperty(Fe.prototype,"OPEN",{enumerable:!0,value:ds.indexOf("OPEN")});Object.defineProperty(Fe,"CLOSING",{enumerable:!0,value:ds.indexOf("CLOSING")});Object.defineProperty(Fe.prototype,"CLOSING",{enumerable:!0,value:ds.indexOf("CLOSING")});Object.defineProperty(Fe,"CLOSED",{enumerable:!0,value:ds.indexOf("CLOSED")});Object.defineProperty(Fe.prototype,"CLOSED",{enumerable:!0,value:ds.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(Fe.prototype,e,{enumerable:!0})});["open","error","close","message"].forEach(e=>{Object.defineProperty(Fe.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[ah])return t[pR];return null},set(t){for(let r of this.listeners(e))if(r[ah]){this.removeListener(e,r);break}typeof t=="function"&&this.addEventListener(e,t,{[ah]:!0})}})});Fe.prototype.addEventListener=gR;Fe.prototype.removeEventListener=yR;K_.exports=Fe;function z_(e,t,r,n){let s={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:oh[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(e._autoPong=s.autoPong,!oh.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${oh.join(", ")})`);let i;if(t instanceof ih)i=t;else try{i=new ih(t)}catch{throw new SyntaxError(`Invalid URL: ${t}`)}i.protocol==="http:"?i.protocol="ws:":i.protocol==="https:"&&(i.protocol="wss:"),e._url=i.href;let a=i.protocol==="wss:",o=i.protocol==="ws+unix:",l;if(i.protocol!=="ws:"&&!a&&!o?l=`The URL's protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"`:o&&!i.pathname?l="The URL's pathname is empty":i.hash&&(l="The URL contains a fragment identifier"),l){let g=new SyntaxError(l);if(e._redirects===0)throw g;Ll(e,g);return}let c=a?443:80,u=lR(16).toString("base64"),d=a?iR.request:aR.request,h=new Set,f;if(s.createConnection=s.createConnection||(a?xR:SR),s.defaultPort=s.defaultPort||c,s.port=i.port||c,s.host=i.hostname.startsWith("[")?i.hostname.slice(1,-1):i.hostname,s.headers={...s.headers,"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},s.path=i.pathname+i.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(f=new Os(s.perMessageDeflate!==!0?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=vR({[Os.extensionName]:f.offer()})),r.length){for(let g of r){if(typeof g!="string"||!kR.test(g)||h.has(g))throw new SyntaxError("An invalid or duplicated subprotocol was specified");h.add(g)}s.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(i.username||i.password)&&(s.auth=`${i.username}:${i.password}`),o){let g=s.path.split(":");s.socketPath=g[0],s.path=g[1]}let p;if(s.followRedirects){if(e._redirects===0){e._originalIpc=o,e._originalSecure=a,e._originalHostOrSocketPath=o?s.socketPath:i.host;let g=n&&n.headers;if(n={...n,headers:{}},g)for(let[y,v]of Object.entries(g))n.headers[y.toLowerCase()]=v}else if(e.listenerCount("redirect")===0){let g=o?e._originalIpc?s.socketPath===e._originalHostOrSocketPath:!1:e._originalIpc?!1:i.host===e._originalHostOrSocketPath;(!g||e._originalSecure&&!a)&&(delete s.headers.authorization,delete s.headers.cookie,g||delete s.headers.host,s.auth=void 0)}s.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64")),p=e._req=d(s),e._redirects&&e.emit("redirect",e.url,p)}else p=e._req=d(s);s.timeout&&p.on("timeout",()=>{Gt(e,p,"Opening handshake has timed out")}),p.on("error",g=>{p===null||p[q_]||(p=e._req=null,Ll(e,g))}),p.on("response",g=>{let y=g.headers.location,v=g.statusCode;if(y&&s.followRedirects&&v>=300&&v<400){if(++e._redirects>s.maxRedirects){Gt(e,p,"Maximum redirects exceeded");return}p.abort();let C;try{C=new ih(y,t)}catch{let k=new SyntaxError(`Invalid URL: ${y}`);Ll(e,k);return}z_(e,C,r,n)}else e.emit("unexpected-response",p,g)||Gt(e,p,`Unexpected server response: ${g.statusCode}`)}),p.on("upgrade",(g,y,v)=>{if(e.emit("upgrade",g),e.readyState!==Fe.CONNECTING)return;p=e._req=null;let C=g.headers.upgrade;if(C===void 0||C.toLowerCase()!=="websocket"){Gt(e,y,"Invalid Upgrade header");return}let x=cR("sha1").update(u+fR).digest("base64");if(g.headers["sec-websocket-accept"]!==x){Gt(e,y,"Invalid Sec-WebSocket-Accept header");return}let k=g.headers["sec-websocket-protocol"],A;if(k!==void 0?h.size?h.has(k)||(A="Server sent an invalid subprotocol"):A="Server sent a subprotocol but none was requested":h.size&&(A="Server sent no subprotocol"),A){Gt(e,y,A);return}k&&(e._protocol=k);let q=g.headers["sec-websocket-extensions"];if(q!==void 0){if(!f){Gt(e,y,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let L;try{L=_R(q)}catch{Gt(e,y,"Invalid Sec-WebSocket-Extensions header");return}let N=Object.keys(L);if(N.length!==1||N[0]!==Os.extensionName){Gt(e,y,"Server indicated an extension that was not requested");return}try{f.accept(L[Os.extensionName])}catch{Gt(e,y,"Invalid Sec-WebSocket-Extensions header");return}e._extensions[Os.extensionName]=f}e.setSocket(y,v,{allowSynchronousEvents:s.allowSynchronousEvents,generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})}),s.finishRequest?s.finishRequest(p,e):p.end()}function Ll(e,t){e._readyState=Fe.CLOSING,e._errorEmitted=!0,e.emit("error",t),e.emitClose()}function SR(e){return e.path=e.socketPath,$_.connect(e)}function xR(e){return e.path=void 0,!e.servername&&e.servername!==""&&(e.servername=$_.isIP(e.host)?"":e.host),oR.connect(e)}function Gt(e,t,r){e._readyState=Fe.CLOSING;let n=new Error(r);Error.captureStackTrace(n,Gt),t.setHeader?(t[q_]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(Ll,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function lh(e,t,r){if(t){let n=hR(t)?t.size:bR(t).length;e._socket?e._sender._bufferedBytes+=n:e._bufferedAmount+=n}if(r){let n=new Error(`WebSocket is not open: readyState ${e.readyState} (${ds[e.readyState]})`);process.nextTick(r,n)}}function ER(e,t){let r=this[ht];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,r._socket[ht]!==void 0&&(r._socket.removeListener("data",ql),process.nextTick(F_,r._socket),e===1005?r.close():r.close(e,t))}function CR(){let e=this[ht];e.isPaused||e._socket.resume()}function PR(e){let t=this[ht];t._socket[ht]!==void 0&&(t._socket.removeListener("data",ql),process.nextTick(F_,t._socket),t.close(e[mR])),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e))}function N_(){this[ht].emitClose()}function RR(e,t){this[ht].emit("message",e,t)}function IR(e){let t=this[ht];t._autoPong&&t.pong(e,!this._isServer,L_),t.emit("ping",e)}function OR(e){this[ht].emit("pong",e)}function F_(e){e.resume()}function TR(e){let t=this[ht];t.readyState!==Fe.CLOSED&&(t.readyState===Fe.OPEN&&(t._readyState=Fe.CLOSING,V_(t)),this._socket.end(),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e)))}function V_(e){e._closeTimer=setTimeout(e._socket.destroy.bind(e._socket),wR)}function B_(){let e=this[ht];this.removeListener("close",B_),this.removeListener("data",ql),this.removeListener("end",H_),e._readyState=Fe.CLOSING;let t;!this._readableState.endEmitted&&!e._closeFrameReceived&&!e._receiver._writableState.errorEmitted&&(t=e._socket.read())!==null&&e._receiver.write(t),e._receiver.end(),this[ht]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",N_),e._receiver.on("finish",N_))}function ql(e){this[ht]._receiver.write(e)||this.pause()}function H_(){let e=this[ht];e._readyState=Fe.CLOSING,e._receiver.end(),this.end()}function J_(){let e=this[ht];this.removeListener("error",J_),this.on("error",L_),e&&(e._readyState=Fe.CLOSING,this.destroy())}});var ch=j((UL,Z_)=>{"use strict";var ML=ua(),{Duplex:jR}=Ae("stream");function W_(e){e.emit("close")}function DR(){!this.destroyed&&this._writableState.finished&&this.destroy()}function G_(e){this.removeListener("error",G_),this.destroy(),this.listenerCount("error")===0&&this.emit("error",e)}function AR(e,t){let r=!0,n=new jR({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(i,a){let o=!a&&n._readableState.objectMode?i.toString():i;n.push(o)||e.pause()}),e.once("error",function(i){n.destroyed||(r=!1,n.destroy(i))}),e.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(s,i){if(e.readyState===e.CLOSED){i(s),process.nextTick(W_,n);return}let a=!1;e.once("error",function(l){a=!0,i(l)}),e.once("close",function(){a||i(s),process.nextTick(W_,n)}),r&&e.terminate()},n._final=function(s){if(e.readyState===e.CONNECTING){e.once("open",function(){n._final(s)});return}e._socket!==null&&(e._socket._writableState.finished?(s(),n._readableState.endEmitted&&n.destroy()):(e._socket.once("finish",function(){s()}),e.close()))},n._read=function(){e.isPaused&&e.resume()},n._write=function(s,i,a){if(e.readyState===e.CONNECTING){e.once("open",function(){n._write(s,i,a)});return}e.send(s,a)},n.on("end",DR),n.on("error",G_),n}Z_.exports=AR});var Q_=j((NL,Y_)=>{"use strict";var{tokenChars:MR}=ai();function UR(e){let t=new Set,r=-1,n=-1,s=0;for(s;s<e.length;s++){let a=e.charCodeAt(s);if(n===-1&&MR[a]===1)r===-1&&(r=s);else if(s!==0&&(a===32||a===9))n===-1&&r!==-1&&(n=s);else if(a===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${s}`);n===-1&&(n=s);let o=e.slice(r,n);if(t.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);t.add(o),r=n=-1}else throw new SyntaxError(`Unexpected character at index ${s}`)}if(r===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let i=e.slice(r,s);if(t.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);return t.add(i),t}Y_.exports={parse:UR}});var dh=j((LL,nb)=>{"use strict";var NR=Ae("events"),zl=Ae("http"),{Duplex:$L}=Ae("stream"),{createHash:$R}=Ae("crypto"),X_=nh(),yn=aa(),LR=Q_(),qR=ua(),{GUID:zR,kWebSocket:FR}=ls(),VR=/^[+/0-9A-Za-z]{22}==$/,eb=0,tb=1,sb=2,uh=class extends NR{constructor(t,r){if(super(),t={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:qR,...t},t.port==null&&!t.server&&!t.noServer||t.port!=null&&(t.server||t.noServer)||t.server&&t.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(t.port!=null?(this._server=zl.createServer((n,s)=>{let i=zl.STATUS_CODES[426];s.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),s.end(i)}),this._server.listen(t.port,t.host,t.backlog,r)):t.server&&(this._server=t.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=BR(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(s,i,a)=>{this.handleUpgrade(s,i,a,n)}})}t.perMessageDeflate===!0&&(t.perMessageDeflate={}),t.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=t,this._state=eb}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(t){if(this._state===sb){t&&this.once("close",()=>{t(new Error("The server is not running"))}),process.nextTick(da,this);return}if(t&&this.once("close",t),this._state!==tb)if(this._state=tb,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(da,this):process.nextTick(da,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{da(this)})}}shouldHandle(t){if(this.options.path){let r=t.url.indexOf("?");if((r!==-1?t.url.slice(0,r):t.url)!==this.options.path)return!1}return!0}handleUpgrade(t,r,n,s){r.on("error",rb);let i=t.headers["sec-websocket-key"],a=t.headers.upgrade,o=+t.headers["sec-websocket-version"];if(t.method!=="GET"){vn(this,t,r,405,"Invalid HTTP method");return}if(a===void 0||a.toLowerCase()!=="websocket"){vn(this,t,r,400,"Invalid Upgrade header");return}if(i===void 0||!VR.test(i)){vn(this,t,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(o!==13&&o!==8){vn(this,t,r,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});return}if(!this.shouldHandle(t)){ha(r,400);return}let l=t.headers["sec-websocket-protocol"],c=new Set;if(l!==void 0)try{c=LR.parse(l)}catch{vn(this,t,r,400,"Invalid Sec-WebSocket-Protocol header");return}let u=t.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&u!==void 0){let h=new yn(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let f=X_.parse(u);f[yn.extensionName]&&(h.accept(f[yn.extensionName]),d[yn.extensionName]=h)}catch{vn(this,t,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let h={origin:t.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(t.socket.authorized||t.socket.encrypted),req:t};if(this.options.verifyClient.length===2){this.options.verifyClient(h,(f,p,g,y)=>{if(!f)return ha(r,p||401,g,y);this.completeUpgrade(d,i,c,t,r,n,s)});return}if(!this.options.verifyClient(h))return ha(r,401)}this.completeUpgrade(d,i,c,t,r,n,s)}completeUpgrade(t,r,n,s,i,a,o){if(!i.readable||!i.writable)return i.destroy();if(i[FR])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>eb)return ha(i,503);let c=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${$R("sha1").update(r+zR).digest("base64")}`],u=new this.options.WebSocket(null,void 0,this.options);if(n.size){let d=this.options.handleProtocols?this.options.handleProtocols(n,s):n.values().next().value;d&&(c.push(`Sec-WebSocket-Protocol: ${d}`),u._protocol=d)}if(t[yn.extensionName]){let d=t[yn.extensionName].params,h=X_.format({[yn.extensionName]:[d]});c.push(`Sec-WebSocket-Extensions: ${h}`),u._extensions=t}this.emit("headers",c,s),i.write(c.concat(`\r
`).join(`\r
`)),i.removeListener("error",rb),u.setSocket(i,a,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(da,this)})),o(u,s)}};nb.exports=uh;function BR(e,t){for(let r of Object.keys(t))e.on(r,t[r]);return function(){for(let n of Object.keys(t))e.removeListener(n,t[n])}}function da(e){e._state=sb,e.emit("close")}function rb(){this.destroy()}function ha(e,t,r,n){r=r||zl.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${zl.STATUS_CODES[t]}\r
`+Object.keys(n).map(s=>`${s}: ${n[s]}`).join(`\r
`)+`\r
\r
`+r)}function vn(e,t,r,n,s,i){if(e.listenerCount("wsClientError")){let a=new Error(s);Error.captureStackTrace(a,vn),e.emit("wsClientError",a,r,t)}else ha(r,n,s,i)}});var ab=j((qL,ib)=>{"use strict";var hs=ua();hs.createWebSocketStream=ch();hs.Server=dh();hs.Receiver=Al();hs.Sender=Ul();hs.WebSocket=hs;hs.WebSocketServer=hs.Server;ib.exports=hs});var Rt=j(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.ServerConnection=void 0;var Ts=Ke(),ob=r_(),hh;typeof window>"u"?hh=ab():hh=WebSocket;var fh;(function(e){function t(i){return Fl.makeSettings(i)}e.makeSettings=t;function r(i,a,o){return Fl.handleRequest(i,a,o)}e.makeRequest=r;class n extends Error{static async create(a){try{let o=await a.json(),{message:l,traceback:c}=o;return c&&console.error(c),new n(a,l??n._defaultMessage(a),c??"")}catch(o){return console.debug(o),new n(a)}}constructor(a,o=n._defaultMessage(a),l=""){super(o),this.response=a,this.traceback=l}static _defaultMessage(a){return`Invalid response: ${a.status} ${a.statusText}`}}e.ResponseError=n;class s extends TypeError{constructor(a){super(a.message),this.stack=a.stack}}e.NetworkError=s})(fh||(Vl.ServerConnection=fh={}));var Fl;(function(e){function t(s={}){var i;let a=Ts.PageConfig.getBaseUrl(),o=Ts.PageConfig.getWsUrl(),l=Ts.URLExt.normalize(s.baseUrl)||a,c=s.wsUrl;!c&&l===a&&(c=o),!c&&l.indexOf("http")===0&&(c="ws"+l.slice(4)),c=c??o;let u=Ts.PageConfig.getOption("appendToken").toLowerCase(),d;return u===""?d=typeof window>"u"||typeof process<"u"&&((i=process==null?void 0:process.env)===null||i===void 0?void 0:i.JEST_WORKER_ID)!==void 0||Ts.URLExt.getHostName(a)!==Ts.URLExt.getHostName(c):d=u==="true",{init:{cache:"no-store",credentials:"same-origin"},fetch,Headers,Request,WebSocket:hh,token:Ts.PageConfig.getToken(),appUrl:Ts.PageConfig.getOption("appUrl"),appendToken:d,serializer:{serialize:ob.serialize,deserialize:ob.deserialize},...s,baseUrl:l,wsUrl:c}}e.makeSettings=t;function r(s,i,a){var o;if(s.indexOf(a.baseUrl)!==0)throw new Error("Can only be used for notebook server requests");((o=i.cache)!==null&&o!==void 0?o:a.init.cache)==="no-store"&&(s+=(/\?/.test(s)?"&":"?")+new Date().getTime());let c=new a.Request(s,{...a.init,...i}),u=!1;if(a.token&&(u=!0,c.headers.append("Authorization",`token ${a.token}`)),typeof document<"u"){let d=n("_xsrf");d!==void 0&&(u=!0,c.headers.append("X-XSRFToken",d))}return!c.headers.has("Content-Type")&&u&&c.headers.set("Content-Type","application/json"),a.fetch.call(null,c).catch(d=>{throw new fh.NetworkError(d)})}e.handleRequest=r;function n(s){let i="";try{i=document.cookie}catch{return}let a=i.match("\\b"+s+"=([^;]*)\\b");return a?.[1]}})(Fl||(Fl={}))});var _n=j(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.BaseManager=void 0;var lb=et(),HR=Rt(),ph=class{constructor(t){var r;this._isDisposed=!1,this._disposed=new lb.Signal(this),this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:HR.ServerConnection.makeSettings()}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}get isActive(){return!0}dispose(){this.isDisposed||(this._isDisposed=!0,this._disposed.emit(void 0),lb.Signal.clearData(this))}};Bl.BaseManager=ph});var ub=j(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.ConfigWithDefaults=js.ConfigSection=js.ConfigSectionManager=void 0;var JR=Ke(),di=It(),KR="api/config",mh=class{constructor(t){var r;this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:di.ServerConnection.makeSettings()}async create(t){let r=new Hl({...t,serverSettings:this.serverSettings});return await r.load(),r}};js.ConfigSectionManager=mh;var cb;(function(e){async function t(s){if(!r){let a=new Hl(s);return await a.load(),a}return await r.create(s)}e.create=t;let r;function n(s){if(r)throw new Error("ConfigSectionManager already set. If you would like to create a config section, use the `IConfigSectionManager` token in a plugin.");r=s}e._setConfigSectionManager=n})(cb||(js.ConfigSection=cb={}));var Hl=class{constructor(t){var r;this._url="unknown";let n=this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:di.ServerConnection.makeSettings();this._url=JR.URLExt.join(n.baseUrl,KR,encodeURIComponent(t.name))}get data(){return this._data}async load(){let t=await di.ServerConnection.makeRequest(this._url,{},this.serverSettings);if(t.status!==200)throw await di.ServerConnection.ResponseError.create(t);this._data=await t.json()}async update(t){this._data={...this._data,...t};let r={method:"PATCH",body:JSON.stringify(t)},n=await di.ServerConnection.makeRequest(this._url,r,this.serverSettings);if(n.status!==200)throw await di.ServerConnection.ResponseError.create(n);return this._data=await n.json(),this._data}},gh=class{constructor(t){var r,n;this._className="",this._section=t.section,this._defaults=(r=t.defaults)!==null&&r!==void 0?r:{},this._className=(n=t.className)!==null&&n!==void 0?n:""}get(t){let r=this._classData();return t in r?r[t]:this._defaults[t]}set(t,r){let n={};if(n[t]=r,this._className){let s={};return s[this._className]=n,this._section.update(s)}else return this._section.update(n)}_classData(){let t=this._section.data;return this._className&&this._className in t?t[this._className]:t}};js.ConfigWithDefaults=gh});var db=j(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.ConnectionStatus=void 0;var yh=class{constructor(){this.isConnected=!0}};Jl.ConnectionStatus=yh});var Wl=j((Kl,hb)=>{(function(e,t){typeof Kl=="object"&&typeof hb<"u"?t(Kl,et()):typeof define=="function"&&define.amd?define(["exports","@lumino/signaling"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.lumino_disposable={},e.lumino_signaling))})(Kl,(function(e,t){"use strict";class r{constructor(o){this._fn=o}get isDisposed(){return!this._fn}dispose(){if(!this._fn)return;let o=this._fn;this._fn=null,o()}}class n extends r{constructor(){super(...arguments),this._disposed=new t.Signal(this)}get disposed(){return this._disposed}dispose(){this.isDisposed||(super.dispose(),this._disposed.emit(void 0),t.Signal.clearData(this))}}class s{constructor(){this._isDisposed=!1,this._items=new Set}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._items.forEach(o=>{o.dispose()}),this._items.clear())}contains(o){return this._items.has(o)}add(o){this._items.add(o)}remove(o){this._items.delete(o)}clear(){this._items.clear()}}(function(a){function o(l){let c=new a;for(let u of l)c.add(u);return c}a.from=o})(s||(s={}));class i extends s{constructor(){super(...arguments),this._disposed=new t.Signal(this)}get disposed(){return this._disposed}dispose(){this.isDisposed||(super.dispose(),this._disposed.emit(void 0),t.Signal.clearData(this))}}(function(a){function o(l){let c=new a;for(let u of l)c.add(u);return c}a.from=o})(i||(i={})),e.DisposableDelegate=r,e.DisposableSet=s,e.ObservableDisposableDelegate=n,e.ObservableDisposableSet=i}))});var fa=j(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});vh.validateProperty=WR;function WR(e,t,r,n=[]){if(!e.hasOwnProperty(t))throw Error(`Missing property '${t}'`);let s=e[t];if(r!==void 0){let i=!0;switch(r){case"array":i=Array.isArray(s);break;case"object":i=typeof s<"u";break;default:i=typeof s===r}if(!i)throw new Error(`Property '${t}' is not of type '${r}'`);if(n.length>0){let a=!0;switch(r){case"string":case"number":case"boolean":a=n.includes(s);break;default:a=n.findIndex(o=>o===s)>=0;break}if(!a)throw new Error(`Property '${t}' is not one of the valid values ${JSON.stringify(n)}`)}}}});var fb=j(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.validateContentsModel=GR;Gl.validateCheckpointModel=ZR;var qr=fa();function GR(e){(0,qr.validateProperty)(e,"name","string"),(0,qr.validateProperty)(e,"path","string"),(0,qr.validateProperty)(e,"type","string"),(0,qr.validateProperty)(e,"created","string"),(0,qr.validateProperty)(e,"last_modified","string"),(0,qr.validateProperty)(e,"mimetype","object"),(0,qr.validateProperty)(e,"content","object"),(0,qr.validateProperty)(e,"format","object")}function ZR(e){(0,qr.validateProperty)(e,"id","string"),(0,qr.validateProperty)(e,"last_modified","string")}});var kh=j(kt=>{"use strict";var YR=kt&&kt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),QR=kt&&kt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),XR=kt&&kt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&YR(t,e,r);return QR(t,e),t};Object.defineProperty(kt,"__esModule",{value:!0});kt.RestContentProvider=kt.Drive=kt.ContentsManager=kt.Contents=void 0;var Ot=Ke(),eI=Wl(),pa=et(),Ye=It(),fs=XR(fb()),tI="api/contents",rI="files",pb;(function(e){function t(n){fs.validateContentsModel(n)}e.validateContentsModel=t;function r(n){fs.validateCheckpointModel(n)}e.validateCheckpointModel=r})(pb||(kt.Contents=pb={}));var _h=class{constructor(t={}){var r,n;this._isDisposed=!1,this._additionalDrives=new Map,this._fileChanged=new pa.Signal(this);let s=this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:Ye.ServerConnection.makeSettings();this._defaultDrive=(n=t.defaultDrive)!==null&&n!==void 0?n:new Zl({serverSettings:s}),this._defaultDrive.fileChanged.connect(this._onFileChanged,this)}get defaultDrive(){return this._defaultDrive}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,pa.Signal.clearData(this))}addDrive(t){this._additionalDrives.set(t.name,t),t.fileChanged.connect(this._onFileChanged,this)}getSharedModelFactory(t,r){var n,s;let[i]=this._driveForPath(t),a=(n=i.contentProviderRegistry)===null||n===void 0?void 0:n.getProvider(r?.contentProviderId);return a?.sharedModelFactory?a.sharedModelFactory:(s=i.sharedModelFactory)!==null&&s!==void 0?s:null}localPath(t){let r=t.split("/"),n=r[0].split(":");return n.length===1||!this._additionalDrives.has(n[0])?Ot.PathExt.removeSlash(t):Ot.PathExt.join(n.slice(1).join(":"),...r.slice(1))}normalize(t){let r=t.split(":");return r.length===1?Ot.PathExt.normalize(t):`${r[0]}:${Ot.PathExt.normalize(r.slice(1).join(":"))}`}resolvePath(t,r){let n=this.driveName(t),s=this.localPath(t),i=Ot.PathExt.resolve("/",s,r);return n?`${n}:${i}`:i}driveName(t){let n=t.split("/")[0].split(":");return n.length===1?"":this._additionalDrives.has(n[0])?n[0]:""}get(t,r){let[n,s]=this._driveForPath(t);return n.get(s,r).then(i=>{let a=[];if(i.type==="directory"&&i.content){for(let o of i.content)a.push({...o,path:this._toGlobalPath(n,o.path)});return{...i,path:this._toGlobalPath(n,s),content:a,serverPath:i.path}}else return{...i,path:this._toGlobalPath(n,s),serverPath:i.path}})}getDownloadUrl(t){let[r,n]=this._driveForPath(t);return r.getDownloadUrl(n)}newUntitled(t={}){if(t.path){let r=this.normalize(t.path),[n,s]=this._driveForPath(r);return n.newUntitled({...t,path:s}).then(i=>({...i,path:Ot.PathExt.join(r,i.name),serverPath:i.path}))}else return this._defaultDrive.newUntitled(t)}delete(t){let[r,n]=this._driveForPath(t);return r.delete(n)}rename(t,r){let[n,s]=this._driveForPath(t),[i,a]=this._driveForPath(r);if(n!==i)throw Error("ContentsManager: renaming files must occur within a Drive");return n.rename(s,a).then(o=>({...o,path:this._toGlobalPath(n,a),serverPath:o.path}))}save(t,r={}){let n=this.normalize(t),[s,i]=this._driveForPath(t);return s.save(i,{...r,path:i}).then(a=>({...a,path:n,serverPath:a.path}))}copy(t,r){let[n,s]=this._driveForPath(t),[i,a]=this._driveForPath(r);if(n===i)return n.copy(s,a).then(o=>({...o,path:this._toGlobalPath(n,o.path),serverPath:o.path}));throw Error("Copying files between drives is not currently implemented")}createCheckpoint(t){let[r,n]=this._driveForPath(t);return r.createCheckpoint(n)}listCheckpoints(t){let[r,n]=this._driveForPath(t);return r.listCheckpoints(n)}restoreCheckpoint(t,r){let[n,s]=this._driveForPath(t);return n.restoreCheckpoint(s,r)}deleteCheckpoint(t,r){let[n,s]=this._driveForPath(t);return n.deleteCheckpoint(s,r)}_toGlobalPath(t,r){return t===this._defaultDrive?Ot.PathExt.removeSlash(r):`${t.name}:${Ot.PathExt.removeSlash(r)}`}_driveForPath(t){let r=this.driveName(t),n=this.localPath(t);return r?[this._additionalDrives.get(r),n]:[this._defaultDrive,n]}_onFileChanged(t,r){var n,s;if(t===this._defaultDrive)this._fileChanged.emit(r);else{let i=null,a=null;!((n=r.newValue)===null||n===void 0)&&n.path&&(i={...r.newValue,path:this._toGlobalPath(t,r.newValue.path)}),!((s=r.oldValue)===null||s===void 0)&&s.path&&(a={...r.oldValue,path:this._toGlobalPath(t,r.oldValue.path)}),this._fileChanged.emit({type:r.type,newValue:i,oldValue:a})}}};kt.ContentsManager=_h;var Zl=class{constructor(t={}){var r,n,s;this._isDisposed=!1,this._fileChanged=new pa.Signal(this),this.name=(r=t.name)!==null&&r!==void 0?r:"Default",this._apiEndpoint=(n=t.apiEndpoint)!==null&&n!==void 0?n:tI,this.serverSettings=(s=t.serverSettings)!==null&&s!==void 0?s:Ye.ServerConnection.makeSettings();let i=new Yl({apiEndpoint:this._apiEndpoint,serverSettings:this.serverSettings});this.contentProviderRegistry=new wh({defaultProvider:i}),this.contentProviderRegistry.fileChanged.connect((a,o)=>{this._fileChanged.emit(o)})}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,pa.Signal.clearData(this))}async get(t,r){return this.contentProviderRegistry.getProvider(r?.contentProviderId).get(t,r)}getDownloadUrl(t){let r=this.serverSettings.baseUrl,n=Ot.URLExt.join(r,rI,Ot.URLExt.encodeParts(t)),s="";try{s=document.cookie}catch{}let i=s.match("\\b_xsrf=([^;]*)\\b");if(i){let a=new URL(n);a.searchParams.append("_xsrf",i[1]),n=a.toString()}return Promise.resolve(n)}async newUntitled(t={}){var r;let n="{}";t&&(t.ext&&(t.ext=bh.normalizeExtension(t.ext)),n=JSON.stringify(t));let s=this.serverSettings,i=this._getUrl((r=t.path)!==null&&r!==void 0?r:""),a={method:"POST",body:n},o=await Ye.ServerConnection.makeRequest(i,a,s);if(o.status!==201)throw await Ye.ServerConnection.ResponseError.create(o);let l=await o.json();return fs.validateContentsModel(l),this._fileChanged.emit({type:"new",oldValue:null,newValue:l}),l}async delete(t){let r=this._getUrl(t),n=this.serverSettings,s={method:"DELETE"},i=await Ye.ServerConnection.makeRequest(r,s,n);if(i.status!==204)throw await Ye.ServerConnection.ResponseError.create(i);this._fileChanged.emit({type:"delete",oldValue:{path:t},newValue:null})}async rename(t,r){let n=this.serverSettings,s=this._getUrl(t),i={method:"PATCH",body:JSON.stringify({path:r})},a=await Ye.ServerConnection.makeRequest(s,i,n);if(a.status!==200)throw await Ye.ServerConnection.ResponseError.create(a);let o=await a.json();return fs.validateContentsModel(o),this._fileChanged.emit({type:"rename",oldValue:{path:t},newValue:o}),o}async save(t,r={}){let s=await this.contentProviderRegistry.getProvider(r?.contentProviderId).save(t,r);return this._fileChanged.emit({type:"save",oldValue:null,newValue:s}),s}async copy(t,r){let n=this.serverSettings,s=this._getUrl(r),i={method:"POST",body:JSON.stringify({copy_from:t})},a=await Ye.ServerConnection.makeRequest(s,i,n);if(a.status!==201)throw await Ye.ServerConnection.ResponseError.create(a);let o=await a.json();return fs.validateContentsModel(o),this._fileChanged.emit({type:"new",oldValue:null,newValue:o}),o}async createCheckpoint(t){let r=this._getUrl(t,"checkpoints"),n={method:"POST"},s=await Ye.ServerConnection.makeRequest(r,n,this.serverSettings);if(s.status!==201)throw await Ye.ServerConnection.ResponseError.create(s);let i=await s.json();return fs.validateCheckpointModel(i),i}async listCheckpoints(t){let r=this._getUrl(t,"checkpoints"),n=await Ye.ServerConnection.makeRequest(r,{},this.serverSettings);if(n.status!==200)throw await Ye.ServerConnection.ResponseError.create(n);let s=await n.json();if(!Array.isArray(s))throw new Error("Invalid Checkpoint list");for(let i=0;i<s.length;i++)fs.validateCheckpointModel(s[i]);return s}async restoreCheckpoint(t,r){let n=this._getUrl(t,"checkpoints",r),s={method:"POST"},i=await Ye.ServerConnection.makeRequest(n,s,this.serverSettings);if(i.status!==204)throw await Ye.ServerConnection.ResponseError.create(i)}async deleteCheckpoint(t,r){let n=this._getUrl(t,"checkpoints",r),s={method:"DELETE"},i=await Ye.ServerConnection.makeRequest(n,s,this.serverSettings);if(i.status!==204)throw await Ye.ServerConnection.ResponseError.create(i)}_getUrl(...t){let r=t.map(s=>Ot.URLExt.encodeParts(s)),n=this.serverSettings.baseUrl;return Ot.URLExt.join(n,this._apiEndpoint,...r)}};kt.Drive=Zl;var bh;(function(e){function t(r){return r.length>0&&r.indexOf(".")!==0&&(r=`.${r}`),r}e.normalizeExtension=t})(bh||(bh={}));var wh=class{constructor(t){this._providers=new Map,this._fileChanged=new pa.Signal(this),this.register("default",t.defaultProvider),this._defaultProvider=t.defaultProvider}register(t,r){if(this._providers.has(t))throw Error(`Provider with ${t} identifier was already registered on this drive`);this._providers.set(t,r);let n=(s,i)=>{this._fileChanged.emit(i)};return r.fileChanged&&r.fileChanged.connect(n),new eI.DisposableDelegate(()=>{r.fileChanged&&r.fileChanged.disconnect(n),this._providers.has(t)&&this._providers.delete(t)})}getProvider(t){if(!t)return this._defaultProvider;let r=this._providers.get(t);if(!r)throw Error(`Provider ${t} is not registered`);return r}get fileChanged(){return this._fileChanged}},Yl=class{constructor(t){this._options=t}async get(t,r){let n=this._getUrl(t);if(r){r.type==="notebook"&&delete r.format;let o=r.content?"1":"0",l=r.hash?"1":"0",c={...r,content:o,hash:l};n+=Ot.URLExt.objectToQueryString(c)}let s=this._options.serverSettings,i=await Ye.ServerConnection.makeRequest(n,{},s);if(i.status!==200)throw await Ye.ServerConnection.ResponseError.create(i);let a=await i.json();return fs.validateContentsModel(a),a}async save(t,r={}){let n=this._options.serverSettings,s=this._getUrl(t),a={method:"PUT",body:new File([JSON.stringify(r)],"data.json",{type:"application/json"})},o=await Ye.ServerConnection.makeRequest(s,a,n);if(o.status!==200&&o.status!==201)throw await Ye.ServerConnection.ResponseError.create(o);let l=await o.json();return fs.validateContentsModel(l),l}_getUrl(...t){let r=t.map(s=>Ot.URLExt.encodeParts(s)),n=this._options.serverSettings.baseUrl;return Ot.URLExt.join(n,this._options.apiEndpoint,...r)}};kt.RestContentProvider=Yl});var bn=j((Ql,mb)=>{(function(e,t){typeof Ql=="object"&&typeof mb<"u"?t(Ql,nt(),et()):typeof define=="function"&&define.amd?define(["exports","@lumino/coreutils","@lumino/signaling"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.lumino_polling={},e.lumino_coreutils,e.lumino_signaling))})(Ql,(function(e,t,r){"use strict";class n{constructor(c){var u;this._disposed=new r.Signal(this),this._lingered=0,this._tick=new t.PromiseDelegate,this._ticked=new r.Signal(this),this._factory=c.factory,this._linger=(u=c.linger)!==null&&u!==void 0?u:s.DEFAULT_LINGER,this._standby=c.standby||s.DEFAULT_STANDBY,this._state={...s.DEFAULT_STATE,timestamp:new Date().getTime()};let d=c.frequency||{},h=Math.max(d.interval||0,d.max||0,s.DEFAULT_FREQUENCY.max);this.frequency={...s.DEFAULT_FREQUENCY,...d,max:h},this.name=c.name||s.DEFAULT_NAME,(!("auto"in c)||c.auto)&&setTimeout(()=>this.start())}get disposed(){return this._disposed}get frequency(){return this._frequency}set frequency(c){if(this.isDisposed||t.JSONExt.deepEqual(c,this.frequency||{}))return;let{backoff:u,interval:d,max:h}=c;if(d=Math.round(d),h=Math.round(h),typeof u=="number"&&u<1)throw new Error("Poll backoff growth factor must be at least 1");if((d<0||d>h)&&d!==n.NEVER)throw new Error("Poll interval must be between 0 and max");if(h>n.MAX_INTERVAL&&h!==n.NEVER)throw new Error(`Max interval must be less than ${n.MAX_INTERVAL}`);this._frequency={backoff:u,interval:d,max:h}}get isDisposed(){return this.state.phase==="disposed"}get standby(){return this._standby}set standby(c){this.isDisposed||this.standby===c||(this._standby=c)}get state(){return this._state}get tick(){return this._tick.promise}get ticked(){return this._ticked}async*[Symbol.asyncIterator](){for(;!this.isDisposed;)yield this.state,await this.tick.catch(()=>{})}dispose(){this.isDisposed||(this._state={...s.DISPOSED_STATE,timestamp:new Date().getTime()},this._tick.promise.catch(c=>{}),this._tick.reject(new Error(`Poll (${this.name}) is disposed.`)),this._disposed.emit(void 0),r.Signal.clearData(this))}refresh(){return this.schedule({cancel:({phase:c})=>c==="refreshed",interval:n.IMMEDIATE,phase:"refreshed"})}async schedule(c={}){if(this.isDisposed||c.cancel&&c.cancel(this.state))return;let u=this._tick,d=new t.PromiseDelegate,h={interval:this.frequency.interval,payload:null,phase:"standby",timestamp:new Date().getTime(),...c};if(this._state=h,this._tick=d,clearTimeout(this._timeout),this._ticked.emit(this.state),u.resolve(this),await u.promise,h.interval===n.NEVER){this._timeout=void 0;return}let f=()=>{this.isDisposed||this.tick!==d.promise||this._execute()};this._timeout=setTimeout(f,h.interval)}start(){return this.schedule({cancel:({phase:c})=>c!=="constructed"&&c!=="standby"&&c!=="stopped",interval:n.IMMEDIATE,phase:"started"})}stop(){return this.schedule({cancel:({phase:c})=>c==="stopped",interval:n.NEVER,phase:"stopped"})}get hidden(){return s.hidden}_execute(){let c=typeof this.standby=="function"?this.standby():this.standby;if(c==="never"?c=!1:c==="when-hidden"&&(this.hidden?c=++this._lingered>this._linger:(this._lingered=0,c=!1)),c){this.schedule();return}let u=this.tick;this._factory(this.state).then(d=>{this.isDisposed||this.tick!==u||this.schedule({payload:d,phase:this.state.phase==="rejected"?"reconnected":"resolved"})}).catch(d=>{this.isDisposed||this.tick!==u||this.schedule({interval:s.sleep(this.frequency,this.state),payload:d,phase:"rejected"})})}}(function(l){l.IMMEDIATE=0,l.MAX_INTERVAL=2147483647,l.NEVER=1/0})(n||(n={}));var s;(function(l){l.DEFAULT_BACKOFF=3,l.DEFAULT_FREQUENCY={backoff:!0,interval:1e3,max:30*1e3},l.DEFAULT_LINGER=1,l.DEFAULT_NAME="unknown",l.DEFAULT_STANDBY="when-hidden",l.DEFAULT_STATE={interval:n.NEVER,payload:null,phase:"constructed",timestamp:new Date(0).getTime()},l.DISPOSED_STATE={interval:n.NEVER,payload:null,phase:"disposed",timestamp:new Date(0).getTime()};function c(d,h){let{backoff:f,interval:p,max:g}=d;if(p===n.NEVER)return p;let y=f===!0?l.DEFAULT_BACKOFF:f===!1?1:f,v=u(p,h.interval*y);return Math.min(g,v)}l.sleep=c,l.hidden=typeof document>"u"?!1:(document.addEventListener("visibilitychange",()=>{l.hidden=document.visibilityState==="hidden"}),document.addEventListener("pagehide",()=>{l.hidden=document.visibilityState==="hidden"}),document.visibilityState==="hidden");function u(d,h){return d=Math.ceil(d),h=Math.floor(h),Math.floor(Math.random()*(h-d+1))+d}})(s||(s={}));class i{constructor(c,u=500){this.args=void 0,this.payload=null,this.limit=u,this.poll=new n({auto:!1,factory:async()=>{let{args:d}=this;return this.args=void 0,c(...d)},frequency:{backoff:!1,interval:n.NEVER,max:n.NEVER},standby:"never"}),this.payload=new t.PromiseDelegate,this.poll.ticked.connect((d,h)=>{let{payload:f}=this;if(h.phase==="resolved"){this.payload=new t.PromiseDelegate,f.resolve(h.payload);return}if(h.phase==="rejected"||h.phase==="stopped"){this.payload=new t.PromiseDelegate,f.promise.catch(p=>{}),f.reject(h.payload);return}},this)}get isDisposed(){return this.payload===null}dispose(){this.isDisposed||(this.args=void 0,this.payload=null,this.poll.dispose())}async stop(){return this.poll.stop()}}class a extends i{invoke(...c){return this.args=c,this.poll.schedule({interval:this.limit,phase:"invoked"}),this.payload.promise}}class o extends i{constructor(c,u){super(c,typeof u=="number"?u:u&&u.limit),this._trailing=!1,typeof u!="number"&&u&&u.edge==="trailing"&&(this._trailing=!0),this._interval=this._trailing?this.limit:n.IMMEDIATE}invoke(...c){let u=this.poll.state.phase!=="invoked";return(u||this._trailing)&&(this.args=c),u&&this.poll.schedule({interval:this._interval,phase:"invoked"}),this.payload.promise}}e.Debouncer=a,e.Poll=n,e.RateLimiter=i,e.Throttler=o}))});var xh=j(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.EventManager=void 0;var gb=Ke(),sI=bn(),yb=et(),vb=Rt(),_b="api/events",Sh=class{constructor(t={}){var r,n;this._socket=null,this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:vb.ServerConnection.makeSettings(),this._poll=new sI.Poll({factory:()=>this._subscribe(),standby:(n=t.standby)!==null&&n!==void 0?n:"when-hidden"}),this._stream=new yb.Stream(this),this._poll.start()}get isDisposed(){return this._poll.isDisposed}get stream(){return this._stream}dispose(){if(this.isDisposed)return;this._poll.dispose();let t=this._socket;t&&(this._socket=null,t.onopen=()=>{},t.onerror=()=>{},t.onmessage=()=>{},t.onclose=()=>{},t.close()),yb.Signal.clearData(this),this._stream.stop()}async emit(t){let{serverSettings:r}=this,{baseUrl:n}=r,{makeRequest:s,ResponseError:i}=vb.ServerConnection,a=gb.URLExt.join(n,_b),o={body:JSON.stringify(t),method:"POST"},l=await s(a,o,r);if(l.status!==204)throw new i(l)}_subscribe(){return new Promise((t,r)=>{if(this.isDisposed)return;let{appendToken:n,token:s,WebSocket:i,wsUrl:a}=this.serverSettings,o=gb.URLExt.join(a,_b,"subscribe");n&&s!==""&&(o+=`?token=${encodeURIComponent(s)}`);let l=this._socket=new i(o),c=this._stream;l.onclose=()=>r(new Error("EventManager socket closed")),l.onmessage=u=>u.data&&c.emit(JSON.parse(u.data))})}};Xl.EventManager=Sh});var Eh=j(ur=>{"use strict";var nI=ur&&ur.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),iI=ur&&ur.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),aI=ur&&ur.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&nI(t,e,r);return iI(t,e),t};Object.defineProperty(ur,"__esModule",{value:!0});ur.CommHandler=ur.CommsOverSubshells=void 0;var oI=nt(),lI=Wl(),ec=aI(ri()),hi;(function(e){e.Disabled="disabled",e.PerComm="perComm",e.PerCommTarget="perCommTarget"})(hi||(ur.CommsOverSubshells=hi={}));var tc=class e extends lI.DisposableDelegate{constructor(t,r,n,s,i){super(s),this._subshellStarted=new oI.PromiseDelegate,this._subshellId=null,this._target="",this._id="",this._id=r,this._target=t,this._kernel=n,this._kernel.statusChanged.connect(()=>{this._kernel.status==="restarting"&&this._cleanSubshells()}),this.commsOverSubshells=i??hi.PerCommTarget}get commId(){return this._id}get targetName(){return this._target}get subshellId(){return this._subshellId}get subshellStarted(){return this._subshellStarted.promise}get commsOverSubshells(){return this._commsOverSubshells}set commsOverSubshells(t){this._commsOverSubshells=t,this._commsOverSubshells===hi.Disabled?this._maybeCloseSubshell():this._maybeStartSubshell()}get onClose(){return this._onClose}set onClose(t){this._onClose=t}get onMsg(){return this._onMsg}set onMsg(t){this._onMsg=t}open(t,r,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot open");let s=ec.createMessage({msgType:"comm_open",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,subshellId:this._subshellId||this._kernel.subshellId,content:{comm_id:this._id,target_name:this._target,data:t??{}},metadata:r,buffers:n});return this._kernel.sendShellMessage(s,!1,!0)}send(t,r,n=[],s=!0){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot send");let i=ec.createMessage({msgType:"comm_msg",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,subshellId:this._subshellId||this._kernel.subshellId,content:{comm_id:this._id,data:t},metadata:r,buffers:n});return this._kernel.sendShellMessage(i,!1,s)}close(t,r,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot close");let s=ec.createMessage({msgType:"comm_close",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,subshellId:this._subshellId||this._kernel.subshellId,content:{comm_id:this._id,data:t??{}},metadata:r,buffers:n}),i=this._kernel.sendShellMessage(s,!1,!0),a=this._onClose;if(a){let o=ec.createMessage({msgType:"comm_close",channel:"iopub",username:this._kernel.username,session:this._kernel.clientId,subshellId:this._subshellId||this._kernel.subshellId,content:{comm_id:this._id,data:t??{}},metadata:r,buffers:n});a(o)}return this.dispose(),i}dispose(){this._maybeCloseSubshell(),super.dispose()}_cleanSubshells(){let t=this._kernel.id;e._commTargetSubShellsId.hasOwnProperty(t)&&delete e._commTargetSubShellsId[t]}async _maybeStartSubshell(){if(await this._kernel.info,!this._kernel.supportsSubshells)return;if(this._commsOverSubshells===hi.PerComm){let n=await this._kernel.requestCreateSubshell({}).done;this._subshellId=n.content.subshell_id,this._subshellStarted.resolve();return}let t=this._kernel.id;e._commTargetSubShellsId.hasOwnProperty(t)||(e._commTargetSubShellsId[t]={});let r=e._commTargetSubShellsId[t];r[this._target]?(this._subshellId=await r[this._target],this._subshellStarted.resolve()):(r[this._target]=this._kernel.requestCreateSubshell({}).done.then(n=>(this._subshellId=n.content.subshell_id,this._subshellId)),await r[this._target],this._subshellStarted.resolve())}_maybeCloseSubshell(){if(this._commsOverSubshells!==hi.PerComm){this._subshellId=null;return}this._subshellId&&this._kernel.status!=="dead"&&this._kernel.requestDeleteSubshell({subshell_id:this._subshellId},!0),this._subshellId=null}};ur.CommHandler=tc;tc._commTargetSubShellsId={}});var wb=j(bb=>{"use strict";Object.defineProperty(bb,"__esModule",{value:!0})});var rc=j(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});ma.validateMessage=dI;ma.validateModel=Sb;ma.validateModels=fI;var wn=fa(),kb=["username","version","session","msg_id","msg_type"],cI={stream:{name:"string",text:"string"},display_data:{data:"object",metadata:"object"},execute_input:{code:"string",execution_count:"number"},execute_result:{execution_count:"number",data:"object",metadata:"object"},error:{ename:"string",evalue:"string",traceback:"object"},status:{execution_state:["string",["starting","idle","busy","restarting","dead"]]},clear_output:{wait:"boolean"},comm_open:{comm_id:"string",target_name:"string",data:"object"},comm_msg:{comm_id:"string",data:"object"},comm_close:{comm_id:"string"},shutdown_reply:{restart:"boolean"}};function uI(e){for(let t=0;t<kb.length;t++)(0,wn.validateProperty)(e,kb[t],"string")}function dI(e){(0,wn.validateProperty)(e,"metadata","object"),(0,wn.validateProperty)(e,"content","object"),(0,wn.validateProperty)(e,"channel","string"),uI(e.header),e.channel==="iopub"&&hI(e)}function hI(e){if(e.channel==="iopub"){let t=cI[e.header.msg_type];if(t===void 0)return;let r=Object.keys(t),n=e.content;for(let s=0;s<r.length;s++){let i=t[r[s]];Array.isArray(i)||(i=[i]),(0,wn.validateProperty)(n,r[s],...i)}}}function Sb(e){(0,wn.validateProperty)(e,"name","string"),(0,wn.validateProperty)(e,"id","string")}function fI(e){if(!Array.isArray(e))throw new Error("Invalid kernel list");e.forEach(t=>Sb(t))}});var nc=j(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.KernelAPIClient=ft.KERNEL_SERVICE_URL=void 0;ft.listRunning=xb;ft.startNew=Eb;ft.restartKernel=Cb;ft.interruptKernel=Pb;ft.shutdownKernel=Rb;ft.getKernelModel=Ib;var at=Rt(),fi=Ke(),sc=rc();ft.KERNEL_SERVICE_URL="api/kernels";async function xb(e=at.ServerConnection.makeSettings()){let t=fi.URLExt.join(e.baseUrl,ft.KERNEL_SERVICE_URL),r=await at.ServerConnection.makeRequest(t,{},e);if(r.status!==200)throw await at.ServerConnection.ResponseError.create(r);let n=await r.json();return(0,sc.validateModels)(n),n}async function Eb(e={},t=at.ServerConnection.makeSettings()){let r=fi.URLExt.join(t.baseUrl,ft.KERNEL_SERVICE_URL),n={method:"POST",body:JSON.stringify(e)},s=await at.ServerConnection.makeRequest(r,n,t);if(s.status!==201)throw await at.ServerConnection.ResponseError.create(s);let i=await s.json();return(0,sc.validateModel)(i),i}async function Cb(e,t=at.ServerConnection.makeSettings()){let r=fi.URLExt.join(t.baseUrl,ft.KERNEL_SERVICE_URL,encodeURIComponent(e),"restart"),n={method:"POST"},s=await at.ServerConnection.makeRequest(r,n,t);if(s.status!==200)throw await at.ServerConnection.ResponseError.create(s);let i=await s.json();(0,sc.validateModel)(i)}async function Pb(e,t=at.ServerConnection.makeSettings()){let r=fi.URLExt.join(t.baseUrl,ft.KERNEL_SERVICE_URL,encodeURIComponent(e),"interrupt"),n={method:"POST"},s=await at.ServerConnection.makeRequest(r,n,t);if(s.status!==204)throw await at.ServerConnection.ResponseError.create(s)}async function Rb(e,t=at.ServerConnection.makeSettings()){let r=fi.URLExt.join(t.baseUrl,ft.KERNEL_SERVICE_URL,encodeURIComponent(e)),n={method:"DELETE"},s=await at.ServerConnection.makeRequest(r,n,t);if(s.status===404){let i=`The kernel "${e}" does not exist on the server`;console.warn(i)}else if(s.status!==204)throw await at.ServerConnection.ResponseError.create(s)}async function Ib(e,t=at.ServerConnection.makeSettings()){let r=fi.URLExt.join(t.baseUrl,ft.KERNEL_SERVICE_URL,encodeURIComponent(e)),n=await at.ServerConnection.makeRequest(r,{},t);if(n.status===404)return;if(n.status!==200)throw await at.ServerConnection.ResponseError.create(n);let s=await n.json();return(0,sc.validateModel)(s),s}var Ch=class{constructor(t={}){var r;this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:at.ServerConnection.makeSettings()}async listRunning(){return xb(this.serverSettings)}async getModel(t){return Ib(t,this.serverSettings)}async startNew(t={}){return Eb(t,this.serverSettings)}async restart(t){return Cb(t,this.serverSettings)}async interrupt(t){return Pb(t,this.serverSettings)}async shutdown(t){return Rb(t,this.serverSettings)}};ft.KernelAPIClient=Ch});var Tb=j(qt=>{"use strict";var pI=qt&&qt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),mI=qt&&qt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),gI=qt&&qt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&pI(t,e,r);return mI(t,e),t};Object.defineProperty(qt,"__esModule",{value:!0});qt.KernelShellFutureHandler=qt.KernelControlFutureHandler=qt.KernelFutureHandler=void 0;var Ob=nt(),yI=Wl(),vI=gI(ri()),ga=class extends yI.DisposableDelegate{constructor(t,r,n,s,i){super(t),this._status=0,this._stdin=gt.noOp,this._iopub=gt.noOp,this._reply=gt.noOp,this._done=new Ob.PromiseDelegate,this._hooks=new gt.HookList,this._disposeOnDone=!0,this._msg=r,n||this._setFlag(gt.KernelFutureFlag.GotReply),this._disposeOnDone=s,this._kernel=i}get msg(){return this._msg}get done(){return this._done.promise}get onReply(){return this._reply}set onReply(t){this._reply=t}get onIOPub(){return this._iopub}set onIOPub(t){this._iopub=t}get onStdin(){return this._stdin}set onStdin(t){this._stdin=t}registerMessageHook(t){if(this.isDisposed)throw new Error("Kernel future is disposed");this._hooks.add(t)}removeMessageHook(t){this.isDisposed||this._hooks.remove(t)}sendInputReply(t,r){this._kernel.sendInputReply(t,r)}dispose(){this._stdin=gt.noOp,this._iopub=gt.noOp,this._reply=gt.noOp,this._hooks=null,this._testFlag(gt.KernelFutureFlag.IsDone)||(this._done.promise.catch(()=>{}),this._done.reject(new Error(`Canceled future for ${this.msg.header.msg_type} message before replies were done`))),super.dispose()}async handleMsg(t){switch(t.channel){case"control":case"shell":t.channel===this.msg.channel&&t.parent_header.msg_id===this.msg.header.msg_id&&await this._handleReply(t);break;case"stdin":await this._handleStdin(t);break;case"iopub":await this._handleIOPub(t);break;default:break}}async _handleReply(t){let r=this._reply;r&&await r(t),this._replyMsg=t,this._setFlag(gt.KernelFutureFlag.GotReply),this._testFlag(gt.KernelFutureFlag.GotIdle)&&this._handleDone()}async _handleStdin(t){this._kernel.hasPendingInput=!0;let r=this._stdin;r&&await r(t)}async _handleIOPub(t){let r=await this._hooks.process(t),n=this._iopub;r&&n&&await n(t),vI.isStatusMsg(t)&&t.content.execution_state==="idle"&&(this._setFlag(gt.KernelFutureFlag.GotIdle),this._testFlag(gt.KernelFutureFlag.GotReply)&&this._handleDone())}_handleDone(){this._testFlag(gt.KernelFutureFlag.IsDone)||(this._setFlag(gt.KernelFutureFlag.IsDone),this._done.resolve(this._replyMsg),this._disposeOnDone&&this.dispose())}_testFlag(t){return(this._status&t)!==0}_setFlag(t){this._status|=t}};qt.KernelFutureHandler=ga;var Ph=class extends ga{};qt.KernelControlFutureHandler=Ph;var Rh=class extends ga{};qt.KernelShellFutureHandler=Rh;var gt;(function(e){e.noOp=()=>{};let t=typeof requestAnimationFrame=="function"?requestAnimationFrame:setImmediate;class r{constructor(){this._hooks=[]}add(i){this.remove(i),this._hooks.push(i)}remove(i){let a=this._hooks.indexOf(i);a>=0&&(this._hooks[a]=null,this._scheduleCompact())}async process(i){await this._processing;let a=new Ob.PromiseDelegate;this._processing=a.promise;let o;for(let l=this._hooks.length-1;l>=0;l--){let c=this._hooks[l];if(c!==null){try{o=await c(i)}catch(u){o=!0,console.error(u)}if(o===!1)return a.resolve(void 0),!1}}return a.resolve(void 0),!0}_scheduleCompact(){this._compactScheduled||(this._compactScheduled=!0,t(()=>{this._processing=this._processing.then(()=>{this._compactScheduled=!1,this._compact()})}))}_compact(){let i=0;for(let a=0,o=this._hooks.length;a<o;a++){let l=this._hooks[a];this._hooks[a]===null?i++:this._hooks[a-i]=l}this._hooks.length-=i}}e.HookList=r;let n;(function(s){s[s.GotReply=1]="GotReply",s[s.GotIdle=2]="GotIdle",s[s.IsDone=4]="IsDone",s[s.DisposeOnDone=8]="DisposeOnDone"})(n=e.KernelFutureFlag||(e.KernelFutureFlag={}))})(gt||(gt={}))});var Db=j(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.validateSpecModel=jb;ic.validateSpecModels=_I;var kn=fa();function jb(e){let t=e.spec;if(!t)throw new Error("Invalid kernel spec");(0,kn.validateProperty)(e,"name","string"),(0,kn.validateProperty)(e,"resources","object"),(0,kn.validateProperty)(t,"language","string"),(0,kn.validateProperty)(t,"display_name","string"),(0,kn.validateProperty)(t,"argv","array");let r=null;t.hasOwnProperty("metadata")&&((0,kn.validateProperty)(t,"metadata","object"),r=t.metadata);let n=null;return t.hasOwnProperty("env")&&((0,kn.validateProperty)(t,"env","object"),n=t.env),{name:e.name,resources:e.resources,language:t.language,display_name:t.display_name,argv:t.argv,metadata:r,env:n}}function _I(e){if(!e.hasOwnProperty("kernelspecs"))throw new Error("No kernelspecs found");let t=Object.keys(e.kernelspecs),r=Object.create(null),n=e.default;for(let s=0;s<t.length;s++){let i=e.kernelspecs[t[s]];try{r[t[s]]=jb(i)}catch{console.warn(`Removing errant kernel spec: ${t[s]}`)}}if(t=Object.keys(r),!t.length)throw new Error("No valid kernelspecs found");return(!n||typeof n!="string"||!(n in r))&&(n=t[0],console.warn(`Default kernel not found, using '${t[0]}'`)),{default:n,kernelspecs:r}}});var va=j(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.KernelSpecAPIClient=void 0;ya.getSpecs=Ab;var ac=Rt(),bI=Db(),wI=Ke(),kI="api/kernelspecs";async function Ab(e=ac.ServerConnection.makeSettings()){let t=wI.URLExt.join(e.baseUrl,kI),r=await ac.ServerConnection.makeRequest(t,{},e);if(r.status!==200)throw await ac.ServerConnection.ResponseError.create(r);let n=await r.json();return(0,bI.validateSpecModels)(n)}var Ih=class{constructor(t={}){var r;this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:ac.ServerConnection.makeSettings()}async get(){return Ab(this.serverSettings)}};ya.KernelSpecAPIClient=Ih});var Th=j(zr=>{"use strict";var SI=zr&&zr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),xI=zr&&zr.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),Lb=zr&&zr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&SI(t,e,r);return xI(t,e),t};Object.defineProperty(zr,"__esModule",{value:!0});zr.KernelConnection=void 0;var Mb=Ke(),Ds=nt(),As=et(),_a=It(),Ub=Eh(),yt=Lb(ri()),Nb=Tb(),EI=Lb(rc()),$b=nc(),CI=va(),PI=3e3,pi="_RESTARTING_",RI="",Oh=class e{constructor(t){var r,n,s,i,a,o,l,c;this._createSocket=(u=!0)=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");let d=this.serverSettings,h=Mb.URLExt.join(d.wsUrl,$b.KERNEL_SERVICE_URL,encodeURIComponent(this._id)),f=h.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/,"$1");console.debug(`Starting WebSocket: ${f}`);let p=Mb.URLExt.join(h,"channels?session_id="+encodeURIComponent(this._clientId)),g=d.token;d.appendToken&&g!==""&&(p=p+`&token=${encodeURIComponent(g)}`);let y=u?this._supportedProtocols:[];this._ws=new d.WebSocket(p,y),this._ws.binaryType="arraybuffer";let v=!1,C=async k=>{var A,q;if(!this._isDisposed){this._reason="",this._model=void 0;try{let L=await this._kernelAPIClient.getModel(this._id);this._model=L,L?.execution_state==="dead"?this._updateStatus("dead"):this._onWSClose(k)}catch(L){if(L instanceof _a.ServerConnection.NetworkError||((A=L.response)===null||A===void 0?void 0:A.status)===503||((q=L.response)===null||q===void 0?void 0:q.status)===424){let N=dr.getRandomIntInclusive(10,30)*1e3;setTimeout(C,N,k)}else this._reason="Kernel died unexpectedly",this._updateStatus("dead")}}},x=async k=>{v||(v=!0,await C(k))};this._ws.onmessage=this._onWSMessage,this._ws.onopen=this._onWSOpen,this._ws.onclose=x,this._ws.onerror=x},this._onWSOpen=u=>{if(this._ws.protocol!==""&&!this._supportedProtocols.includes(this._ws.protocol))throw console.log("Server selected unknown kernel wire protocol:",this._ws.protocol),this._updateStatus("dead"),new Error(`Unknown kernel wire protocol:  ${this._ws.protocol}`);this._selectedProtocol=this._ws.protocol,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose,this._updateConnectionStatus("connected")},this._onWSMessage=u=>{let d;try{d=this.serverSettings.serializer.deserialize(u.data,this._ws.protocol),EI.validateMessage(d)}catch(h){throw h.message=`Kernel message validation error: ${h.message}`,h}this._kernelSession=d.header.session,this._msgChain=this._msgChain.then(()=>this._handleMessage(d)).catch(h=>{h.message.startsWith("Canceled future for ")&&console.error(h)}),this._anyMessage.emit({msg:d,direction:"recv"})},this._onWSClose=u=>{this.isDisposed||this._reconnect()},this._id="",this._name="",this._status="unknown",this._connectionStatus="connecting",this._kernelSession="",this._isDisposed=!1,this._ws=null,this._username="",this._reconnectLimit=7,this._reconnectAttempt=0,this._reconnectTimeout=null,this._supportedProtocols=Object.values(yt.supportedKernelWebSocketProtocols),this._selectedProtocol="",this._commsOverSubshells=_a.CommsOverSubshells.PerCommTarget,this._futures=new Map,this._comms=new Map,this._targetRegistry=Object.create(null),this._info=new Ds.PromiseDelegate,this._pendingMessages=[],this._statusChanged=new As.Signal(this),this._connectionStatusChanged=new As.Signal(this),this._disposed=new As.Signal(this),this._iopubMessage=new As.Signal(this),this._anyMessage=new As.Signal(this),this._pendingInput=new As.Signal(this),this._unhandledMessage=new As.Signal(this),this._displayIdToParentIds=new Map,this._msgIdToDisplayIds=new Map,this._msgChain=Promise.resolve(),this._hasPendingInput=!1,this._reason="",this._noOp=()=>{},this._supportsSubshells=!1,this._name=t.model.name,this._id=t.model.id,this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:_a.ServerConnection.makeSettings(),this._kernelAPIClient=(n=t.kernelAPIClient)!==null&&n!==void 0?n:new $b.KernelAPIClient({serverSettings:this.serverSettings}),this._kernelSpecAPIClient=(s=t.kernelSpecAPIClient)!==null&&s!==void 0?s:new CI.KernelSpecAPIClient({serverSettings:this.serverSettings}),this._clientId=(i=t.clientId)!==null&&i!==void 0?i:Ds.UUID.uuid4(),this._username=(a=t.username)!==null&&a!==void 0?a:"",this.handleComms=(o=t.handleComms)!==null&&o!==void 0?o:!0,this._commsOverSubshells=(l=t.commsOverSubshells)!==null&&l!==void 0?l:_a.CommsOverSubshells.PerCommTarget,this._subshellId=(c=t.subshellId)!==null&&c!==void 0?c:null,this._createSocket()}get disposed(){return this._disposed}get commsOverSubshells(){return this._commsOverSubshells}set commsOverSubshells(t){this._commsOverSubshells=t;for(let[r,n]of this._comms)n.commsOverSubshells=t}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get model(){return this._model||{id:this.id,name:this.name,reason:this._reason}}get anyMessage(){return this._anyMessage}get pendingInput(){return this._pendingInput}get id(){return this._id}get name(){return this._name}get username(){return this._username}get clientId(){return this._clientId}get subshellId(){return this._subshellId}set subshellId(t){this._subshellId=t}get status(){return this._status}get connectionStatus(){return this._connectionStatus}get isDisposed(){return this._isDisposed}get info(){return this._info.promise}get spec(){return this._specPromise?this._specPromise:(this._specPromise=this._kernelSpecAPIClient.get().then(t=>t.kernelspecs[this._name]),this._specPromise)}get supportsSubshells(){return this._supportsSubshells}clone(t={}){return new e({model:this.model,username:this.username,serverSettings:this.serverSettings,handleComms:!1,kernelAPIClient:this._kernelAPIClient,commsOverSubshells:_a.CommsOverSubshells.Disabled,...t})}dispose(){if(this.isDisposed)return;let t=()=>{this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearKernelState(),this._pendingMessages=[],this._clearSocket(),As.Signal.clearData(this)};if(this._subshellId!==null){let r=this.requestDeleteSubshell({subshell_id:this._subshellId},!0);r.onReply=n=>{t()}}else t()}sendShellMessage(t,r=!1,n=!0){return this._sendKernelShellControl(Nb.KernelShellFutureHandler,t,r,n)}sendControlMessage(t,r=!1,n=!0){return this._sendKernelShellControl(Nb.KernelControlFutureHandler,t,r,n)}_sendKernelShellControl(t,r,n=!1,s=!0){this._sendMessage(r),this._anyMessage.emit({msg:r,direction:"send"});let i=new t(()=>{let a=r.header.msg_id;this._futures.delete(a);let o=this._msgIdToDisplayIds.get(a);o&&(o.forEach(l=>{let c=this._displayIdToParentIds.get(l);if(c){let u=c.indexOf(a);if(u===-1)return;c.length===1?this._displayIdToParentIds.delete(l):(c.splice(u,1),this._displayIdToParentIds.set(l,c))}}),this._msgIdToDisplayIds.delete(a))},r,n,s,this);return this._futures.set(r.header.msg_id,i),i}_sendMessage(t,r=!0){if(this.status==="dead")throw new Error("Kernel is dead");if((this._kernelSession===RI||this._kernelSession===pi)&&yt.isInfoRequestMsg(t))if(this.connectionStatus==="connected"){this._ws.send(this.serverSettings.serializer.serialize(t,this._ws.protocol));return}else throw new Error("Could not send message: status is not connected");if(r&&this._pendingMessages.length>0){this._pendingMessages.push(t);return}if(this.connectionStatus==="connected"&&this._kernelSession!==pi)this._ws.send(this.serverSettings.serializer.serialize(t,this._ws.protocol));else if(r)this._pendingMessages.push(t);else throw new Error("Could not send message")}async interrupt(){if(this.hasPendingInput=!1,this.status==="dead")throw new Error("Kernel is dead");return this._kernelAPIClient.interrupt(this.id)}async restart(){if(this.status==="dead")throw new Error("Kernel is dead");this._updateStatus("restarting"),this._clearKernelState(),this._kernelSession=pi,await this._kernelAPIClient.restart(this.id),await this.reconnect(),this.hasPendingInput=!1}reconnect(){this._errorIfDisposed();let t=new Ds.PromiseDelegate,r=(n,s)=>{s==="connected"?(t.resolve(),this.connectionStatusChanged.disconnect(r,this)):s==="disconnected"&&(t.reject(new Error("Kernel connection disconnected")),this.connectionStatusChanged.disconnect(r,this))};return this.connectionStatusChanged.connect(r,this),this._reconnectAttempt=0,this._reconnect(),t.promise}async shutdown(){this.status!=="dead"&&await this._kernelAPIClient.shutdown(this.id),this.handleShutdown()}handleShutdown(){this._updateStatus("dead"),this.dispose()}async requestKernelInfo(){let t=yt.createMessage({msgType:"kernel_info_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:{}}),r;try{r=await dr.handleShellMessage(this,t)}catch(s){if(this.isDisposed)return;throw s}if(this._errorIfDisposed(),!r)return;if(r.content.status===void 0&&(r.content.status="ok"),r.content.status!=="ok")return this._info.reject("Kernel info reply errored"),r;this._info.resolve(r.content),this._kernelSession=r.header.session;let n=r.content.supported_features;return this._supportsSubshells=n!==void 0&&n.includes("kernel subshells"),r}requestComplete(t){let r=yt.createMessage({msgType:"complete_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:t});return dr.handleShellMessage(this,r)}requestInspect(t){let r=yt.createMessage({msgType:"inspect_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:t});return dr.handleShellMessage(this,r)}requestHistory(t){let r=yt.createMessage({msgType:"history_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:t});return dr.handleShellMessage(this,r)}requestExecute(t,r=!0,n){let s={silent:!1,store_history:!0,user_expressions:{},allow_stdin:!0,stop_on_error:!1},i=yt.createMessage({msgType:"execute_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:{...s,...t},metadata:n});return this.sendShellMessage(i,!0,r)}requestDebug(t,r=!0){let n=yt.createMessage({msgType:"debug_request",channel:"control",username:this._username,session:this._clientId,content:t});return this.sendControlMessage(n,!0,r)}requestCreateSubshell(t,r=!0){if(!this.supportsSubshells)throw new Error("Kernel subshells are not supported");let n=yt.createMessage({msgType:"create_subshell_request",channel:"control",username:this._username,session:this._clientId,content:t});return this.sendControlMessage(n,!0,r)}requestDeleteSubshell(t,r=!0){if(!this.supportsSubshells)throw new Error("Kernel subshells are not supported");let n=yt.createMessage({msgType:"delete_subshell_request",channel:"control",username:this._username,session:this._clientId,content:t});return this.sendControlMessage(n,!0,r)}requestListSubshell(t,r=!0){if(!this.supportsSubshells)throw new Error("Kernel subshells are not supported");let n=yt.createMessage({msgType:"list_subshell_request",channel:"control",username:this._username,session:this._clientId,content:t});return this.sendControlMessage(n,!0,r)}requestIsComplete(t){let r=yt.createMessage({msgType:"is_complete_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:t});return dr.handleShellMessage(this,r)}requestCommInfo(t){let r=yt.createMessage({msgType:"comm_info_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:t});return dr.handleShellMessage(this,r)}sendInputReply(t,r){let n=yt.createMessage({msgType:"input_reply",channel:"stdin",username:this._username,session:this._clientId,content:t});n.parent_header=r,this._sendMessage(n),this._anyMessage.emit({msg:n,direction:"send"}),this.hasPendingInput=!1}createComm(t,r=Ds.UUID.uuid4()){if(!this.handleComms)throw new Error("Comms are disabled on this kernel connection");if(this._comms.has(r))throw new Error("Comm is already created");let n=new Ub.CommHandler(t,r,this,()=>{this._unregisterComm(r)},this._commsOverSubshells);return this._comms.set(r,n),n}hasComm(t){return this._comms.has(t)}registerCommTarget(t,r){this.handleComms&&(this._targetRegistry[t]=r)}removeCommTarget(t,r){this.handleComms&&!this.isDisposed&&this._targetRegistry[t]===r&&delete this._targetRegistry[t]}registerMessageHook(t,r){var n;let s=(n=this._futures)===null||n===void 0?void 0:n.get(t);s&&s.registerMessageHook(r)}removeMessageHook(t,r){var n;let s=(n=this._futures)===null||n===void 0?void 0:n.get(t);s&&s.removeMessageHook(r)}removeInputGuard(){this.hasPendingInput=!1}async _handleDisplayId(t,r){var n,s;let i=r.parent_header.msg_id,a=this._displayIdToParentIds.get(t);if(a){let l={header:Ds.JSONExt.deepCopy(r.header),parent_header:Ds.JSONExt.deepCopy(r.parent_header),metadata:Ds.JSONExt.deepCopy(r.metadata),content:Ds.JSONExt.deepCopy(r.content),channel:r.channel,buffers:r.buffers?r.buffers.slice():[]};l.header.msg_type="update_display_data",await Promise.all(a.map(async c=>{let u=this._futures&&this._futures.get(c);u&&await u.handleMsg(l)}))}if(r.header.msg_type==="update_display_data")return!0;a=(n=this._displayIdToParentIds.get(t))!==null&&n!==void 0?n:[],a.indexOf(i)===-1&&a.push(i),this._displayIdToParentIds.set(t,a);let o=(s=this._msgIdToDisplayIds.get(i))!==null&&s!==void 0?s:[];return o.indexOf(i)===-1&&o.push(i),this._msgIdToDisplayIds.set(i,o),!1}_clearSocket(){this._ws!==null&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}_updateStatus(t){this._status===t||this._status==="dead"||(this._status=t,dr.logKernelStatus(this),this._statusChanged.emit(t),t==="dead"&&this.dispose())}_sendPending(){for(;this.connectionStatus==="connected"&&this._kernelSession!==pi&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}_clearKernelState(){this._kernelSession="",this._pendingMessages=[],this._futures.forEach(t=>{t.dispose()}),this._comms.forEach(t=>{t.dispose()}),this._msgChain=Promise.resolve(),this._futures=new Map,this._comms=new Map,this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear()}_assertCurrentMessage(t){if(this._errorIfDisposed(),t.header.session!==this._kernelSession)throw new Error(`Canceling handling of old message: ${t.header.msg_type}`)}async _handleCommOpen(t){this._assertCurrentMessage(t);let r=t.content,n=new Ub.CommHandler(r.target_name,r.comm_id,this,()=>{this._unregisterComm(r.comm_id)},this.commsOverSubshells);this._comms.set(r.comm_id,n);try{await(await dr.loadObject(r.target_name,r.target_module,this._targetRegistry))(n,t)}catch(s){throw n.close(),console.error("Exception opening new comm"),s}}async _handleCommClose(t){this._assertCurrentMessage(t);let r=t.content,n=this._comms.get(r.comm_id);if(!n){console.error("Comm not found for comm id "+r.comm_id);return}this._unregisterComm(n.commId);let s=n.onClose;s&&await s(t),n.dispose()}async _handleCommMsg(t){this._assertCurrentMessage(t);let r=t.content,n=this._comms.get(r.comm_id);if(!n)return;let s=n.onMsg;s&&await s(t)}_unregisterComm(t){this._comms.delete(t)}_updateConnectionStatus(t){if(this._connectionStatus!==t){if(this._connectionStatus=t,t!=="connecting"&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),this.status!=="dead")if(t==="connected"){let r=this._kernelSession===pi,n=this.requestKernelInfo(),s=!1,i=()=>{s||(s=!0,r&&this._kernelSession===pi&&(this._kernelSession=""),clearTimeout(a),this._pendingMessages.length>0&&this._sendPending())};n.then(i);let a=setTimeout(i,PI)}else this._updateStatus("unknown");this._connectionStatusChanged.emit(t)}}async _handleMessage(t){var r,n;let s=!1;if(t.parent_header&&t.channel==="iopub"&&(yt.isDisplayDataMsg(t)||yt.isUpdateDisplayDataMsg(t)||yt.isExecuteResultMsg(t))){let a=((r=t.content.transient)!==null&&r!==void 0?r:{}).display_id;a&&(s=await this._handleDisplayId(a,t),this._assertCurrentMessage(t))}if(!s&&t.parent_header){let i=t.parent_header,a=(n=this._futures)===null||n===void 0?void 0:n.get(i.msg_id);if(a)await a.handleMsg(t),this._assertCurrentMessage(t);else{let o=i.session===this.clientId;t.channel!=="iopub"&&o&&this._unhandledMessage.emit(t)}}if(t.channel==="iopub"){switch(t.header.msg_type){case"status":{let i=t.content.execution_state;i==="restarting"&&Promise.resolve().then(async()=>{this._updateStatus("autorestarting"),this._clearKernelState(),await this.reconnect()}),this._updateStatus(i);break}case"comm_open":this.handleComms&&await this._handleCommOpen(t);break;case"comm_msg":this.handleComms&&await this._handleCommMsg(t);break;case"comm_close":this.handleComms&&await this._handleCommClose(t);break;default:break}this.isDisposed||(this._assertCurrentMessage(t),this._iopubMessage.emit(t))}}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");let t=dr.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.warn(`Connection lost, reconnecting in ${Math.floor(t/1e3)} seconds.`);let r=this._selectedProtocol!=="";this._reconnectTimeout=setTimeout(this._createSocket,t,r),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_errorIfDisposed(){if(this.isDisposed)throw new Error("Kernel connection is disposed")}get hasPendingInput(){return this._hasPendingInput}set hasPendingInput(t){this._hasPendingInput=t,this._pendingInput.emit(t)}};zr.KernelConnection=Oh;var dr;(function(e){function t(i){switch(i.status){case"idle":case"busy":case"unknown":return;default:console.debug(`Kernel: ${i.status} (${i.id})`);break}}e.logKernelStatus=t;async function r(i,a){return i.sendShellMessage(a,!0).done}e.handleShellMessage=r;function n(i,a,o){return new Promise((l,c)=>{if(a){if(typeof requirejs>"u")throw new Error("requirejs not found");requirejs([a],u=>{if(u[i]===void 0){let d=`Object '${i}' not found in module '${a}'`;c(new Error(d))}else l(u[i])},c)}else o?.[i]?l(o[i]):c(new Error(`Object '${i}' not found in registry`))})}e.loadObject=n;function s(i,a){return i=Math.ceil(i),a=Math.floor(a),Math.floor(Math.random()*(a-i+1))+i}e.getRandomIntInclusive=s})(dr||(dr={}))});var Fb=j(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.KernelManager=void 0;var II=bn(),qb=et(),zb=It(),OI=_n(),TI=nc(),jI=Th(),DI=va(),ba=class extends OI.BaseManager{constructor(t={}){var r,n,s;super(t),this._commsOverSubshells=zb.CommsOverSubshells.PerCommTarget,this._isReady=!1,this._kernelConnections=new Set,this._models=new Map,this._runningChanged=new qb.Signal(this),this._connectionFailure=new qb.Signal(this),this._kernelAPIClient=(r=t.kernelAPIClient)!==null&&r!==void 0?r:new TI.KernelAPIClient({serverSettings:this.serverSettings}),this._kernelSpecAPIClient=(n=t.kernelSpecAPIClient)!==null&&n!==void 0?n:new DI.KernelSpecAPIClient({serverSettings:this.serverSettings}),this._pollModels=new II.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:10*1e3,backoff:!0,max:300*1e3},name:"@jupyterlab/services:KernelManager#models",standby:(s=t.standby)!==null&&s!==void 0?s:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._kernelConnections.forEach(t=>t.dispose()),this._pollModels.dispose(),super.dispose())}connectTo(t){var r;let{id:n}=t.model,s=(r=t.handleComms)!==null&&r!==void 0?r:!0;if(t.handleComms===void 0){for(let a of this._kernelConnections)if(a.id===n&&a.handleComms){s=!1;break}}t.commsOverSubshells=this._commsOverSubshells;let i=new jI.KernelConnection({handleComms:s,...t,serverSettings:this.serverSettings,kernelAPIClient:this._kernelAPIClient,kernelSpecAPIClient:this._kernelSpecAPIClient});return this._onStarted(i),this._models.has(n)||this.refreshRunning().catch(()=>{}),i}running(){return this._models.values()}get runningCount(){return this._models.size}get commsOverSubshells(){return this._commsOverSubshells}set commsOverSubshells(t){this._commsOverSubshells=t;for(let r of this._kernelConnections)r.commsOverSubshells=t}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(t={},r={}){let n=await this._kernelAPIClient.startNew(t);return this.connectTo({...r,model:n})}async shutdown(t){await this._kernelAPIClient.shutdown(t),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map(t=>this._kernelAPIClient.shutdown(t))),await this.refreshRunning()}async findById(t){return this._models.has(t)?this._models.get(t):(await this.refreshRunning(),this._models.get(t))}async requestRunning(){var t,r;let n;try{n=await this._kernelAPIClient.listRunning()}catch(s){throw(s instanceof zb.ServerConnection.NetworkError||((t=s.response)===null||t===void 0?void 0:t.status)===503||((r=s.response)===null||r===void 0?void 0:r.status)===424)&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every(s=>{let i=this._models.get(s.id);return i?i.connections===s.connections&&i.execution_state===s.execution_state&&i.last_activity===s.last_activity&&i.name===s.name&&i.reason===s.reason&&i.traceback===s.traceback:!1})||(this._models=new Map(n.map(s=>[s.id,s])),this._kernelConnections.forEach(s=>{this._models.has(s.id)||s.handleShutdown()}),this._runningChanged.emit(n))}_onStarted(t){this._kernelConnections.add(t),t.statusChanged.connect(this._onStatusChanged,this),t.disposed.connect(this._onDisposed,this)}_onDisposed(t){this._kernelConnections.delete(t),this.refreshRunning().catch(()=>{})}_onStatusChanged(t,r){r==="dead"&&this.refreshRunning().catch(()=>{})}};wa.KernelManager=ba;(function(e){class t extends e{constructor(){super(...arguments),this._readyPromise=new Promise(()=>{})}get isActive(){return!1}get parentReady(){return super.ready}async startNew(n={},s={}){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}connectTo(n){throw new Error("Not implemented in no-op Kernel Manager")}async shutdown(n){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}get ready(){return this.parentReady.then(()=>this._readyPromise)}async requestRunning(){return Promise.resolve()}}e.NoopManager=t})(ba||(wa.KernelManager=ba={}))});var Dh=j(tt=>{"use strict";var Vb=tt&&tt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),AI=tt&&tt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),jh=tt&&tt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Vb(t,e,r);return AI(t,e),t},MI=tt&&tt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Vb(t,e,r)};Object.defineProperty(tt,"__esModule",{value:!0});tt.CommsOverSubshells=tt.KernelConnection=tt.KernelAPI=tt.KernelMessage=tt.Kernel=void 0;var UI=Eh();Object.defineProperty(tt,"CommsOverSubshells",{enumerable:!0,get:function(){return UI.CommsOverSubshells}});var NI=jh(wb());tt.Kernel=NI;var $I=jh(ri());tt.KernelMessage=$I;var LI=jh(nc());tt.KernelAPI=LI;var qI=Th();Object.defineProperty(tt,"KernelConnection",{enumerable:!0,get:function(){return qI.KernelConnection}});MI(Fb(),tt)});var Hb=j(Bb=>{"use strict";Object.defineProperty(Bb,"__esModule",{value:!0})});var Kb=j(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.KernelSpecManager=void 0;var zI=nt(),FI=bn(),Jb=et(),VI=_n(),BI=va(),Ah=class extends VI.BaseManager{constructor(t={}){var r,n;super(t),this._isReady=!1,this._connectionFailure=new Jb.Signal(this),this._specs=null,this._specsChanged=new Jb.Signal(this),this._kernelSpecAPIClient=(r=t.kernelSpecAPIClient)!==null&&r!==void 0?r:new BI.KernelSpecAPIClient({serverSettings:this.serverSettings}),this._ready=Promise.all([this.requestSpecs()]).then(s=>{}).catch(s=>{}).then(()=>{this.isDisposed||(this._isReady=!0)}),this._pollSpecs=new FI.Poll({auto:!1,factory:()=>this.requestSpecs(),frequency:{interval:61*1e3,backoff:!0,max:300*1e3},name:"@jupyterlab/services:KernelSpecManager#specs",standby:(n=t.standby)!==null&&n!==void 0?n:"when-hidden"}),this.ready.then(()=>{this._pollSpecs.start()})}get isReady(){return this._isReady}get ready(){return this._ready}get specs(){return this._specs}get specsChanged(){return this._specsChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshSpecs(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestSpecs(){let t=await this._kernelSpecAPIClient.get();this.isDisposed||zI.JSONExt.deepEqual(t,this._specs)||(this._specs=t,this._specsChanged.emit(t))}};oc.KernelSpecManager=Ah});var Mh=j(Tt=>{"use strict";var Wb=Tt&&Tt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),HI=Tt&&Tt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),Gb=Tt&&Tt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Wb(t,e,r);return HI(t,e),t},JI=Tt&&Tt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Wb(t,e,r)};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.KernelSpecAPI=Tt.KernelSpec=void 0;var KI=Gb(Hb());Tt.KernelSpec=KI;var WI=Gb(va());Tt.KernelSpecAPI=WI;JI(Kb(),Tt)});var Zb=j(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.BuildManager=void 0;var Uh=Ke(),Ms=Rt(),GI="api/build",Nh=class{constructor(t={}){var r;this._url="",this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:Ms.ServerConnection.makeSettings();let{baseUrl:n,appUrl:s}=this.serverSettings;this._url=Uh.URLExt.join(n,s,GI)}get isAvailable(){return Uh.PageConfig.getOption("buildAvailable").toLowerCase()==="true"}get shouldCheck(){return Uh.PageConfig.getOption("buildCheck").toLowerCase()==="true"}getStatus(){let{_url:t,serverSettings:r}=this;return Ms.ServerConnection.makeRequest(t,{},r).then(s=>{if(s.status!==200)throw new Ms.ServerConnection.ResponseError(s);return s.json()}).then(s=>{if(typeof s.status!="string")throw new Error("Invalid data");if(typeof s.message!="string")throw new Error("Invalid data");return s})}build(){let{_url:t,serverSettings:r}=this,n={method:"POST"};return Ms.ServerConnection.makeRequest(t,n,r).then(i=>{if(i.status===400)throw new Ms.ServerConnection.ResponseError(i,"Build aborted");if(i.status!==200){let a=`Build failed with ${i.status}.

        If you are experiencing the build failure after installing an extension (or trying to include previously installed extension after updating JupyterLab) please check the extension repository for new installation instructions as many extensions migrated to the prebuilt extensions system which no longer requires rebuilding JupyterLab (but uses a different installation procedure, typically involving a package manager such as 'pip' or 'conda').

        If you specifically intended to install a source extension, please run 'jupyter lab build' on the server for full output.`;throw new Ms.ServerConnection.ResponseError(i,a)}})}cancel(){let{_url:t,serverSettings:r}=this,n={method:"DELETE"};return Ms.ServerConnection.makeRequest(t,n,r).then(i=>{if(i.status!==204)throw new Ms.ServerConnection.ResponseError(i)})}};lc.BuildManager=Nh});var qh=j(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.NbConvertManager=void 0;var ZI=Ke(),$h=Rt(),YI=nt(),QI="api/nbconvert",Lh=class{constructor(t={}){var r;this._exportFormats=null,this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:$h.ServerConnection.makeSettings()}async fetchExportFormats(){this._requestingFormats=new YI.PromiseDelegate,this._exportFormats=null;let t=this.serverSettings.baseUrl,r=ZI.URLExt.join(t,QI),{serverSettings:n}=this,s=await $h.ServerConnection.makeRequest(r,{},n);if(s.status!==200)throw await $h.ServerConnection.ResponseError.create(s);let i=await s.json(),a={};return Object.keys(i).forEach(function(l){let c=i[l].output_mimetype;a[l]={output_mimetype:c}}),this._exportFormats=a,this._requestingFormats.resolve(a),a}async getExportFormats(t=!0){return this._requestingFormats?this._requestingFormats.promise:t||!this._exportFormats?await this.fetchExportFormats():this._exportFormats}};cc.NbConvertManager=Lh});var Qb=j(Yb=>{"use strict";Object.defineProperty(Yb,"__esModule",{value:!0})});var ew=j(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.validateModel=Xb;Sa.updateLegacySessionModel=eO;Sa.validateModels=tO;var XI=rc(),ka=fa();function Xb(e){(0,ka.validateProperty)(e,"id","string"),(0,ka.validateProperty)(e,"type","string"),(0,ka.validateProperty)(e,"name","string"),(0,ka.validateProperty)(e,"path","string"),(0,ka.validateProperty)(e,"kernel","object"),(0,XI.validateModel)(e.kernel)}function eO(e){e.path===void 0&&e.notebook!==void 0&&(e.path=e.notebook.path,e.type="notebook",e.name="")}function tO(e){if(!Array.isArray(e))throw new Error("Invalid session list");e.forEach(t=>Xb(t))}});var hc=j(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.SessionAPIClient=jt.SESSION_SERVICE_URL=void 0;jt.listRunning=tw;jt.getSessionUrl=dc;jt.shutdownSession=rw;jt.getSessionModel=sw;jt.startSession=nw;jt.updateSession=iw;var vt=Rt(),uc=Ke(),Us=ew();jt.SESSION_SERVICE_URL="api/sessions";async function tw(e=vt.ServerConnection.makeSettings()){let t=uc.URLExt.join(e.baseUrl,jt.SESSION_SERVICE_URL),r=await vt.ServerConnection.makeRequest(t,{},e);if(r.status!==200)throw await vt.ServerConnection.ResponseError.create(r);let n=await r.json();if(!Array.isArray(n))throw new Error("Invalid Session list");return n.forEach(s=>{(0,Us.updateLegacySessionModel)(s),(0,Us.validateModel)(s)}),n}function dc(e,t){let r=uc.URLExt.join(e,jt.SESSION_SERVICE_URL),n=uc.URLExt.join(r,t);if(!n.startsWith(r))throw new Error("Can only be used for services requests");return n}async function rw(e,t=vt.ServerConnection.makeSettings()){var r;let n=dc(t.baseUrl,e),s={method:"DELETE"},i=await vt.ServerConnection.makeRequest(n,s,t);if(i.status===404){let o=(r=(await i.json()).message)!==null&&r!==void 0?r:`The session "${e}"" does not exist on the server`;console.warn(o)}else{if(i.status===410)throw new vt.ServerConnection.ResponseError(i,"The kernel was deleted but the session was not");if(i.status!==204)throw await vt.ServerConnection.ResponseError.create(i)}}async function sw(e,t=vt.ServerConnection.makeSettings()){let r=dc(t.baseUrl,e),n=await vt.ServerConnection.makeRequest(r,{},t);if(n.status!==200)throw await vt.ServerConnection.ResponseError.create(n);let s=await n.json();return(0,Us.updateLegacySessionModel)(s),(0,Us.validateModel)(s),s}async function nw(e,t=vt.ServerConnection.makeSettings()){let r=uc.URLExt.join(t.baseUrl,jt.SESSION_SERVICE_URL),n={method:"POST",body:JSON.stringify(e)},s=await vt.ServerConnection.makeRequest(r,n,t);if(s.status!==201)throw await vt.ServerConnection.ResponseError.create(s);let i=await s.json();return(0,Us.updateLegacySessionModel)(i),(0,Us.validateModel)(i),i}async function iw(e,t=vt.ServerConnection.makeSettings()){let r=dc(t.baseUrl,e.id),n={method:"PATCH",body:JSON.stringify(e)},s=await vt.ServerConnection.makeRequest(r,n,t);if(s.status!==200)throw await vt.ServerConnection.ResponseError.create(s);let i=await s.json();return(0,Us.updateLegacySessionModel)(i),(0,Us.validateModel)(i),i}var zh=class{constructor(t){var r;this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:vt.ServerConnection.makeSettings()}async listRunning(){return tw(this.serverSettings)}async getModel(t){return sw(t,this.serverSettings)}async startNew(t){return nw(t,this.serverSettings)}async shutdown(t){return rw(t,this.serverSettings)}async update(t){return iw(t,this.serverSettings)}};jt.SessionAPIClient=zh});var aw=j(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.SessionConnection=void 0;var Fr=et(),rO=It(),sO=nt(),nO=hc(),Fh=class{constructor(t){var r,n,s,i,a;this._id="",this._path="",this._name="",this._type="",this._kernel=null,this._isDisposed=!1,this._disposed=new Fr.Signal(this),this._kernelChanged=new Fr.Signal(this),this._statusChanged=new Fr.Signal(this),this._connectionStatusChanged=new Fr.Signal(this),this._pendingInput=new Fr.Signal(this),this._iopubMessage=new Fr.Signal(this),this._unhandledMessage=new Fr.Signal(this),this._anyMessage=new Fr.Signal(this),this._propertyChanged=new Fr.Signal(this),this._id=t.model.id,this._name=t.model.name,this._path=t.model.path,this._type=t.model.type,this._username=(r=t.username)!==null&&r!==void 0?r:"",this._clientId=(n=t.clientId)!==null&&n!==void 0?n:sO.UUID.uuid4(),this._connectToKernel=t.connectToKernel,this._kernelConnectionOptions=(s=t.kernelConnectionOptions)!==null&&s!==void 0?s:{},this.serverSettings=(i=t.serverSettings)!==null&&i!==void 0?i:rO.ServerConnection.makeSettings(),this._sessionAPIClient=(a=t.sessionAPIClient)!==null&&a!==void 0?a:new nO.SessionAPIClient({serverSettings:this.serverSettings}),this.setupKernel(t.model.kernel)}get disposed(){return this._disposed}get kernelChanged(){return this._kernelChanged}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get pendingInput(){return this._pendingInput}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get anyMessage(){return this._anyMessage}get propertyChanged(){return this._propertyChanged}get id(){return this._id}get kernel(){return this._kernel}get path(){return this._path}get type(){return this._type}get name(){return this._name}get model(){return{id:this.id,kernel:this.kernel&&{id:this.kernel.id,name:this.kernel.name},path:this._path,type:this._type,name:this._name}}get isDisposed(){return this._isDisposed}update(t){let r=this.model;if(this._path=t.path,this._name=t.name,this._type=t.type,this._kernel===null&&t.kernel!==null||this._kernel!==null&&t.kernel===null||this._kernel!==null&&t.kernel!==null&&this._kernel.id!==t.kernel.id){this._kernel!==null&&this._kernel.dispose();let n=this._kernel||null;this.setupKernel(t.kernel);let s=this._kernel||null;this._kernelChanged.emit({name:"kernel",oldValue:n,newValue:s})}this._handleModelChange(r)}dispose(){if(!this.isDisposed){if(this._isDisposed=!0,this._disposed.emit(),this._kernel){this._kernel.dispose();let t=this._kernel;this._kernel=null;let r=this._kernel;this._kernelChanged.emit({name:"kernel",oldValue:t,newValue:r})}Fr.Signal.clearData(this)}}async setPath(t){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({path:t})}async setName(t){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({name:t})}async setType(t){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({type:t})}async changeKernel(t){if(this.isDisposed)throw new Error("Session is disposed");return await this._patch({kernel:t}),this.kernel}async shutdown(){if(this.isDisposed)throw new Error("Session is disposed");await this._sessionAPIClient.shutdown(this.id),this.dispose()}setupKernel(t){if(t===null){this._kernel=null;return}let r=this._connectToKernel({...this._kernelConnectionOptions,model:t,username:this._username,clientId:this._clientId,serverSettings:this.serverSettings});this._kernel=r,r.statusChanged.connect(this.onKernelStatus,this),r.connectionStatusChanged.connect(this.onKernelConnectionStatus,this),r.pendingInput.connect(this.onPendingInput,this),r.unhandledMessage.connect(this.onUnhandledMessage,this),r.iopubMessage.connect(this.onIOPubMessage,this),r.anyMessage.connect(this.onAnyMessage,this)}onKernelStatus(t,r){this._statusChanged.emit(r)}onKernelConnectionStatus(t,r){this._connectionStatusChanged.emit(r)}onPendingInput(t,r){this._pendingInput.emit(r)}onIOPubMessage(t,r){this._iopubMessage.emit(r)}onUnhandledMessage(t,r){this._unhandledMessage.emit(r)}onAnyMessage(t,r){this._anyMessage.emit(r)}async _patch(t){let r=await this._sessionAPIClient.update({...t,id:this._id});return this.update(r),r}_handleModelChange(t){t.name!==this._name&&this._propertyChanged.emit("name"),t.type!==this._type&&this._propertyChanged.emit("type"),t.path!==this._path&&this._propertyChanged.emit("path")}};fc.SessionConnection=Fh});var lw=j(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.SessionManager=void 0;var iO=bn(),ow=et(),aO=Rt(),oO=_n(),lO=aw(),cO=hc(),xa=class extends oO.BaseManager{constructor(t){var r,n;super(t),this._isReady=!1,this._sessionConnections=new Set,this._models=new Map,this._runningChanged=new ow.Signal(this),this._connectionFailure=new ow.Signal(this),this._connectToKernel=s=>this._kernelManager.connectTo(s),this._kernelManager=t.kernelManager,this._sessionAPIClient=(r=t.sessionAPIClient)!==null&&r!==void 0?r:new cO.SessionAPIClient({serverSettings:t.serverSettings}),this._pollModels=new iO.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:10*1e3,backoff:!0,max:300*1e3},name:"@jupyterlab/services:SessionManager#models",standby:(n=t.standby)!==null&&n!==void 0?n:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._kernelManager.isActive&&await this._kernelManager.ready,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._sessionConnections.forEach(t=>t.dispose()),this._pollModels.dispose(),super.dispose())}connectTo(t){let r=new lO.SessionConnection({...t,connectToKernel:this._connectToKernel,serverSettings:this.serverSettings,sessionAPIClient:this._sessionAPIClient});return this._onStarted(r),this._models.has(t.model.id)||this.refreshRunning().catch(()=>{}),r}running(){return this._models.values()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(t,r={}){let n=await this._sessionAPIClient.startNew(t);return await this.refreshRunning(),this.connectTo({...r,model:n})}async shutdown(t){await this._sessionAPIClient.shutdown(t),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map(t=>this._sessionAPIClient.shutdown(t))),await this.refreshRunning()}async stopIfNeeded(t){try{let n=(await this._sessionAPIClient.listRunning()).filter(s=>s.path===t);if(n.length===1){let s=n[0].id;await this.shutdown(s)}}catch{}}async findById(t){return this._models.has(t)?this._models.get(t):(await this.refreshRunning(),this._models.get(t))}async findByPath(t){for(let r of this._models.values())if(r.path===t)return r;await this.refreshRunning();for(let r of this._models.values())if(r.path===t)return r}async requestRunning(){var t,r;let n;try{n=await this._sessionAPIClient.listRunning()}catch(s){throw(s instanceof aO.ServerConnection.NetworkError||((t=s.response)===null||t===void 0?void 0:t.status)===503||((r=s.response)===null||r===void 0?void 0:r.status)===424)&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every(s=>{var i,a,o,l;let c=this._models.get(s.id);return c?((i=c.kernel)===null||i===void 0?void 0:i.id)===((a=s.kernel)===null||a===void 0?void 0:a.id)&&((o=c.kernel)===null||o===void 0?void 0:o.name)===((l=s.kernel)===null||l===void 0?void 0:l.name)&&c.name===s.name&&c.path===s.path&&c.type===s.type:!1})||(this._models=new Map(n.map(s=>[s.id,s])),this._sessionConnections.forEach(s=>{this._models.has(s.id)?s.update(this._models.get(s.id)):s.dispose()}),this._runningChanged.emit(n))}_onStarted(t){this._sessionConnections.add(t),t.disposed.connect(this._onDisposed,this),t.propertyChanged.connect(this._onChanged,this),t.kernelChanged.connect(this._onChanged,this)}_onDisposed(t){this._sessionConnections.delete(t),this.refreshRunning().catch(()=>{})}_onChanged(){this.refreshRunning().catch(()=>{})}};Ea.SessionManager=xa;(function(e){class t extends e{constructor(){super(...arguments),this._readyPromise=new Promise(()=>{})}get isActive(){return!1}get parentReady(){return super.ready}async startNew(n,s={}){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}connectTo(n){throw Error("Not implemented in no-op Session Manager")}get ready(){return this.parentReady.then(()=>this._readyPromise)}async shutdown(n){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}async requestRunning(){return Promise.resolve()}}e.NoopManager=t})(xa||(Ea.SessionManager=xa={}))});var Vh=j(Dt=>{"use strict";var cw=Dt&&Dt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),uO=Dt&&Dt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),uw=Dt&&Dt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&cw(t,e,r);return uO(t,e),t},dO=Dt&&Dt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&cw(t,e,r)};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.SessionAPI=Dt.Session=void 0;var hO=uw(Qb());Dt.Session=hO;var fO=uw(hc());Dt.SessionAPI=fO;dO(lw(),Dt)});var dw=j(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.DataConnector=void 0;var Bh=class{async list(t){throw new Error("DataConnector#list method has not been implemented.")}async remove(t){throw new Error("DataConnector#remove method has not been implemented.")}async save(t,r){throw new Error("DataConnector#save method has not been implemented.")}};pc.DataConnector=Bh});var fw=j(hw=>{"use strict";Object.defineProperty(hw,"__esModule",{value:!0})});var mw=j((mc,pw)=>{(function(e,t){typeof mc=="object"&&typeof pw<"u"?t(mc):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.lumino_properties={}))})(mc,(function(e){"use strict";class t{constructor(s){this._pid=r.nextPID(),this.name=s.name,this._create=s.create,this._coerce=s.coerce||null,this._compare=s.compare||null,this._changed=s.changed||null}get(s){let i,a=r.ensureMap(s);return this._pid in a?i=a[this._pid]:i=a[this._pid]=this._createValue(s),i}set(s,i){let a,o=r.ensureMap(s);this._pid in o?a=o[this._pid]:a=o[this._pid]=this._createValue(s);let l=this._coerceValue(s,i);this._maybeNotify(s,a,o[this._pid]=l)}coerce(s){let i,a=r.ensureMap(s);this._pid in a?i=a[this._pid]:i=a[this._pid]=this._createValue(s);let o=this._coerceValue(s,i);this._maybeNotify(s,i,a[this._pid]=o)}_createValue(s){let i=this._create;return i(s)}_coerceValue(s,i){let a=this._coerce;return a?a(s,i):i}_compareValue(s,i){let a=this._compare;return a?a(s,i):s===i}_maybeNotify(s,i,a){let o=this._changed;o&&!this._compareValue(i,a)&&o(s,i,a)}}(function(n){function s(i){r.ownerData.delete(i)}n.clearData=s})(t||(t={}));var r;(function(n){n.ownerData=new WeakMap,n.nextPID=(()=>{let i=0;return()=>`pid-${`${Math.random()}`.slice(2)}-${i++}`})();function s(i){let a=n.ownerData.get(i);return a||(a=Object.create(null),n.ownerData.set(i,a),a)}n.ensureMap=s})(r||(r={})),e.AttachedProperty=t}))});var yw=j(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.RestorablePool=void 0;var pO=nt(),gw=mw(),gc=et(),Hh=class{constructor(t){this._added=new gc.Signal(this),this._current=null,this._currentChanged=new gc.Signal(this),this._hasRestored=!1,this._isDisposed=!1,this._objects=new Set,this._restore=null,this._restored=new pO.PromiseDelegate,this._updated=new gc.Signal(this),this.namespace=t.namespace}get added(){return this._added}get current(){return this._current}set current(t){this._current!==t&&t!==null&&this._objects.has(t)&&(this._current=t,this._currentChanged.emit(this._current))}get currentChanged(){return this._currentChanged}get isDisposed(){return this._isDisposed}get restored(){return this._restored.promise}get size(){return this._objects.size}get updated(){return this._updated}async add(t){var r,n;if(t.isDisposed){let s="A disposed object cannot be added.";throw console.warn(s,t),new Error(s)}if(this._objects.has(t)){let s="This object already exists in the pool.";throw console.warn(s,t),new Error(s)}if(this._objects.add(t),t.disposed.connect(this._onInstanceDisposed,this),!Vr.injectedProperty.get(t)){if(this._restore){let{connector:s}=this._restore,i=this._restore.name(t);if(i){let a=`${this.namespace}:${i}`,o=(n=(r=this._restore).args)===null||n===void 0?void 0:n.call(r,t);Vr.nameProperty.set(t,a),await s.save(a,{data:o})}}this._added.emit(t)}}dispose(){this.isDisposed||(this._current=null,this._isDisposed=!0,this._objects.clear(),gc.Signal.clearData(this))}find(t){let r=this._objects.values();for(let n of r)if(t(n))return n}forEach(t){this._objects.forEach(t)}filter(t){let r=[];return this.forEach(n=>{t(n)&&r.push(n)}),r}inject(t){return Vr.injectedProperty.set(t,!0),this.add(t)}has(t){return this._objects.has(t)}async restore(t){if(this._hasRestored)throw new Error("This pool has already been restored.");this._hasRestored=!0;let{command:r,connector:n,registry:s,when:i}=t,a=this.namespace,o=i?[n.list(a)].concat(i):[n.list(a)];this._restore=t;let[l]=await Promise.all(o),c=await Promise.all(l.ids.map(async(u,d)=>{let h=l.values[d],f=h&&h.data;return f===void 0?n.remove(u):s.execute(r,f).catch(()=>n.remove(u))}));return this._restored.resolve(),c}async save(t){var r,n;let s=Vr.injectedProperty.get(t);if(!this._restore||!this.has(t)||s)return;let{connector:i}=this._restore,a=this._restore.name(t),o=Vr.nameProperty.get(t),l=a?`${this.namespace}:${a}`:"";if(o&&o!==l&&await i.remove(o),Vr.nameProperty.set(t,l),l){let c=(n=(r=this._restore).args)===null||n===void 0?void 0:n.call(r,t);await i.save(l,{data:c})}o!==l&&this._updated.emit(t)}_onInstanceDisposed(t){if(this._objects.delete(t),t===this._current&&(this._current=null,this._currentChanged.emit(this._current)),Vr.injectedProperty.get(t)||!this._restore)return;let{connector:r}=this._restore,n=Vr.nameProperty.get(t);n&&r.remove(n)}};yc.RestorablePool=Hh;var Vr;(function(e){e.injectedProperty=new gw.AttachedProperty({name:"injected",create:()=>!1}),e.nameProperty=new gw.AttachedProperty({name:"name",create:()=>""})})(Vr||(Vr={}))});var vw=j(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.StateDB=void 0;var mO=et(),Ca=class e{constructor(t={}){this._changed=new mO.Signal(this);let{connector:r,transform:n}=t;this._connector=r||new e.Connector,n?this._ready=n.then(s=>{let{contents:i,type:a}=s;switch(a){case"cancel":return;case"clear":return this._clear();case"merge":return this._merge(i||{});case"overwrite":return this._overwrite(i||{});default:return}}):this._ready=Promise.resolve(void 0)}get changed(){return this._changed}async clear(){await this._ready,await this._clear()}async fetch(t){return await this._ready,this._fetch(t)}async list(t){return await this._ready,this._list(t)}async remove(t){await this._ready,await this._remove(t),this._changed.emit({id:t,type:"remove"})}async save(t,r){await this._ready,await this._save(t,r),this._changed.emit({id:t,type:"save"})}async toJSON(){await this._ready;let{ids:t,values:r}=await this._list();return r.reduce((n,s,i)=>(n[t[i]]=s,n),{})}async _clear(){await Promise.all((await this._list()).ids.map(t=>this._remove(t)))}async _fetch(t){let r=await this._connector.fetch(t);if(r)return JSON.parse(r).v}async _list(t=""){let{ids:r,values:n}=await this._connector.list(t);return{ids:r,values:n.map(s=>JSON.parse(s).v)}}async _merge(t){await Promise.all(Object.keys(t).map(r=>t[r]&&this._save(r,t[r])))}async _overwrite(t){await this._clear(),await this._merge(t)}async _remove(t){return this._connector.remove(t)}async _save(t,r){return this._connector.save(t,JSON.stringify({v:r}))}};Pa.StateDB=Ca;(function(e){class t{constructor(){this._storage={}}async fetch(n){return this._storage[n]}async list(n=""){return Object.keys(this._storage).reduce((s,i)=>((n===""||n===i.split(":")[0])&&(s.ids.push(i),s.values.push(this._storage[i])),s),{ids:[],values:[]})}async remove(n){delete this._storage[n]}async save(n,s){this._storage[n]=s}}e.Connector=t})(Ca||(Pa.StateDB=Ca={}))});var _w=j(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.IStateDB=void 0;var gO=nt();vc.IStateDB=new gO.Token("@jupyterlab/coreutils:IStateDB",`A service for the JupyterLab state database.
  Use this if you want to store data that will persist across page loads.
  See "state database" for more information.`)});var Jh=j(_r=>{"use strict";var yO=_r&&_r.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),Ra=_r&&_r.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yO(t,e,r)};Object.defineProperty(_r,"__esModule",{value:!0});Ra(dw(),_r);Ra(fw(),_r);Ra(yw(),_r);Ra(vw(),_r);Ra(_w(),_r)});var Gh=j(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.SettingManager=void 0;var Kh=Ke(),vO=Jh(),_c=Rt(),_O="api/settings",Wh=class extends vO.DataConnector{constructor(t={}){var r;super(),this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:_c.ServerConnection.makeSettings()}async fetch(t){if(!t)throw new Error("Plugin `id` parameter is required for settings fetch.");let{serverSettings:r}=this,{baseUrl:n,appUrl:s}=r,{makeRequest:i,ResponseError:a}=_c.ServerConnection,o=n+s,l=Ia.url(o,t),c=await i(l,{},r);if(c.status!==200)throw await a.create(c);return c.json()}async list(t){var r,n,s,i;let{serverSettings:a}=this,{baseUrl:o,appUrl:l}=a,{makeRequest:c,ResponseError:u}=_c.ServerConnection,d=o+l,h=Ia.url(d,"",t==="ids"),f=await c(h,{},a);if(f.status!==200)throw new u(f);let p=await f.json(),g=(n=(r=p?.settings)===null||r===void 0?void 0:r.map(v=>v.id))!==null&&n!==void 0?n:[],y=[];return t||(y=(i=(s=p?.settings)===null||s===void 0?void 0:s.map(v=>(v.data={composite:{},user:{}},v)))!==null&&i!==void 0?i:[]),{ids:g,values:y}}async save(t,r){let{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:a,ResponseError:o}=_c.ServerConnection,l=s+i,c=Ia.url(l,t),u={body:JSON.stringify({raw:r}),method:"PUT"},d=await a(c,u,n);if(d.status!==204)throw new o(d)}};bc.SettingManager=Wh;var Ia;(function(e){function t(r,n,s){let i=s?Kh.URLExt.objectToQueryString({ids_only:!0}):"",a=Kh.URLExt.join(r,_O),o=Kh.URLExt.join(a,n);if(!o.startsWith(a))throw new Error("Can only be used for workspaces requests");return`${o}${i}`}e.url=t})(Ia||(Ia={}))});var ja=j(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.TerminalAPIClient=Zt.TERMINAL_SERVICE_URL=void 0;Zt.isAvailable=Yh;Zt.startNew=bw;Zt.listRunning=ww;Zt.shutdownTerminal=kw;var Oa=Ke(),Br=Rt();Zt.TERMINAL_SERVICE_URL="api/terminals";function Yh(){return String(Oa.PageConfig.getOption("terminalsAvailable")).toLowerCase()==="true"}async function bw(e=Br.ServerConnection.makeSettings(),t,r){Ta.errorIfNotAvailable();let n=Oa.URLExt.join(e.baseUrl,Zt.TERMINAL_SERVICE_URL),s={method:"POST",body:JSON.stringify({name:t,cwd:r})},i=await Br.ServerConnection.makeRequest(n,s,e);if(i.status!==200)throw await Br.ServerConnection.ResponseError.create(i);return await i.json()}async function ww(e=Br.ServerConnection.makeSettings()){Ta.errorIfNotAvailable();let t=Oa.URLExt.join(e.baseUrl,Zt.TERMINAL_SERVICE_URL),r=await Br.ServerConnection.makeRequest(t,{},e);if(r.status!==200)throw await Br.ServerConnection.ResponseError.create(r);let n=await r.json();if(!Array.isArray(n))throw new Error("Invalid terminal list");return n}async function kw(e,t=Br.ServerConnection.makeSettings()){var r;Ta.errorIfNotAvailable();let n=Oa.URLExt.join(t.baseUrl,Zt.TERMINAL_SERVICE_URL),s=Oa.URLExt.join(n,e);if(!s.startsWith(n))throw new Error("Can only be used for terminal requests");let i={method:"DELETE"},a=await Br.ServerConnection.makeRequest(s,i,t);if(a.status===404){let l=(r=(await a.json()).message)!==null&&r!==void 0?r:`The terminal session "${e}"" does not exist on the server`;console.warn(l)}else if(a.status!==204)throw await Br.ServerConnection.ResponseError.create(a)}var Zh=class{constructor(t={}){var r;this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:Br.ServerConnection.makeSettings()}get isAvailable(){return Yh()}async startNew(t={}){let{name:r,cwd:n}=t;return bw(this.serverSettings,r,n)}async listRunning(){return ww(this.serverSettings)}async shutdown(t){return kw(t,this.serverSettings)}};Zt.TerminalAPIClient=Zh;var Ta;(function(e){function t(){if(!Yh())throw new Error("Terminals Unavailable")}e.errorIfNotAvailable=t})(Ta||(Ta={}))});var Sw=j(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.isAvailable=void 0;var bO=ja();Object.defineProperty(wc,"isAvailable",{enumerable:!0,get:function(){return bO.isAvailable}})});var xw=j(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.TerminalConnection=void 0;var wO=Ke(),kO=nt(),kc=et(),SO=It(),xO=ja(),Qh=class e{constructor(t){var r,n;this._createSocket=()=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");let s=this._name,i=this.serverSettings,a=wO.URLExt.join(i.wsUrl,"terminals","websocket",encodeURIComponent(s)),o=i.token;i.appendToken&&o!==""&&(a=a+`?token=${encodeURIComponent(o)}`),this._ws=new i.WebSocket(a),this._ws.onmessage=this._onWSMessage,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSMessage=s=>{if(this._isDisposed)return;let i=JSON.parse(s.data);if(i[0]==="disconnect"&&this.dispose(),this._connectionStatus==="connecting"){i[0]==="setup"&&this._updateConnectionStatus("connected");return}this._messageReceived.emit({type:i[0],content:i.slice(1)})},this._onWSClose=s=>{console.warn(`Terminal websocket closed: ${s.code}`),this.isDisposed||this._reconnect()},this._connectionStatus="connecting",this._connectionStatusChanged=new kc.Signal(this),this._isDisposed=!1,this._disposed=new kc.Signal(this),this._messageReceived=new kc.Signal(this),this._reconnectTimeout=null,this._ws=null,this._noOp=()=>{},this._reconnectLimit=7,this._reconnectAttempt=0,this._pendingMessages=[],this._name=t.model.name,this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:SO.ServerConnection.makeSettings(),this._terminalAPIClient=(n=t.terminalAPIClient)!==null&&n!==void 0?n:new xO.TerminalAPIClient({serverSettings:this.serverSettings}),this._createSocket()}get disposed(){return this._disposed}get messageReceived(){return this._messageReceived}get name(){return this._name}get model(){return{name:this._name}}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearSocket(),kc.Signal.clearData(this))}send(t){this._sendMessage(t)}_sendMessage(t,r=!0){if(!(this._isDisposed||!t.content))if(this.connectionStatus==="connected"&&this._ws){let n=[t.type,...t.content];this._ws.send(JSON.stringify(n))}else if(r)this._pendingMessages.push(t);else throw new Error(`Could not send message: ${JSON.stringify(t)}`)}_sendPending(){for(;this.connectionStatus==="connected"&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}reconnect(){this._errorIfDisposed();let t=new kO.PromiseDelegate,r=(n,s)=>{s==="connected"?(t.resolve(),this.connectionStatusChanged.disconnect(r,this)):s==="disconnected"&&(t.reject(new Error("Terminal connection disconnected")),this.connectionStatusChanged.disconnect(r,this))};return this.connectionStatusChanged.connect(r,this),this._reconnectAttempt=0,this._reconnect(),t.promise}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");let t=Xh.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.error(`Connection lost, reconnecting in ${Math.floor(t/1e3)} seconds.`),this._reconnectTimeout=setTimeout(this._createSocket,t),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_clearSocket(){this._ws!==null&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}async shutdown(){await this._terminalAPIClient.shutdown(this.name),this.dispose()}clone(){return new e({model:this.model,serverSettings:this.serverSettings,terminalAPIClient:this._terminalAPIClient})}_updateConnectionStatus(t){this._connectionStatus!==t&&(this._connectionStatus=t,t!=="connecting"&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),t==="connected"&&this._sendPending(),this._connectionStatusChanged.emit(t))}_errorIfDisposed(){if(this.isDisposed)throw new Error("Terminal connection is disposed")}get connectionStatusChanged(){return this._connectionStatusChanged}get connectionStatus(){return this._connectionStatus}};Sc.TerminalConnection=Qh;var Xh;(function(e){function t(r,n){return r=Math.ceil(r),n=Math.floor(n),Math.floor(Math.random()*(n-r+1))+r}e.getRandomIntInclusive=t})(Xh||(Xh={}))});var Cw=j(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.TerminalManager=void 0;var EO=bn(),Ew=et(),CO=It(),PO=_n(),RO=ja(),IO=xw(),Da=class extends PO.BaseManager{constructor(t={}){var r,n;if(super(t),this._isReady=!1,this._names=[],this._terminalConnections=new Set,this._runningChanged=new Ew.Signal(this),this._connectionFailure=new Ew.Signal(this),this._terminalAPIClient=(r=t.terminalAPIClient)!==null&&r!==void 0?r:new RO.TerminalAPIClient({serverSettings:this.serverSettings}),!this.isAvailable()){this._ready=Promise.reject("Terminals unavailable"),this._ready.catch(s=>{});return}this._pollModels=new EO.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:10*1e3,backoff:!0,max:300*1e3},name:"@jupyterlab/services:TerminalManager#models",standby:(n=t.standby)!==null&&n!==void 0?n:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._names.length=0,this._terminalConnections.forEach(t=>t.dispose()),this._pollModels.dispose(),super.dispose())}isAvailable(){return this._terminalAPIClient.isAvailable}connectTo(t){let r=new IO.TerminalConnection({...t,serverSettings:this.serverSettings,terminalAPIClient:this._terminalAPIClient});return this._onStarted(r),this._names.includes(t.model.name)||this.refreshRunning().catch(()=>{}),r}running(){return this._models[Symbol.iterator]()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(t={}){let{name:r,cwd:n}=t,s=await this._terminalAPIClient.startNew({name:r,cwd:n});return await this.refreshRunning(),this.connectTo({model:s})}async shutdown(t){await this._terminalAPIClient.shutdown(t),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all(this._names.map(t=>this._terminalAPIClient.shutdown(t))),await this.refreshRunning()}async requestRunning(){var t,r;let n;try{n=await this._terminalAPIClient.listRunning()}catch(i){throw(i instanceof CO.ServerConnection.NetworkError||((t=i.response)===null||t===void 0?void 0:t.status)===503||((r=i.response)===null||r===void 0?void 0:r.status)===424)&&this._connectionFailure.emit(i),i}if(this.isDisposed)return;let s=n.map(({name:i})=>i).sort();s!==this._names&&(this._names=s,this._terminalConnections.forEach(i=>{s.includes(i.name)||i.dispose()}),this._runningChanged.emit(this._models))}_onStarted(t){this._terminalConnections.add(t),t.disposed.connect(this._onDisposed,this)}_onDisposed(t){this._terminalConnections.delete(t),this.refreshRunning().catch(()=>{})}get _models(){return this._names.map(t=>({name:t}))}};Aa.TerminalManager=Da;(function(e){class t extends e{constructor(){super(...arguments),this._readyPromise=new Promise(()=>{})}get isActive(){return!1}get parentReady(){return super.ready}get ready(){return this.parentReady.then(()=>this._readyPromise)}async startNew(n){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}connectTo(n){throw Error("Not implemented in no-op Terminal Manager")}async shutdown(n){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}async requestRunning(){return Promise.resolve()}}e.NoopManager=t})(Da||(Aa.TerminalManager=Da={}))});var ef=j(At=>{"use strict";var Pw=At&&At.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),OO=At&&At.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),Rw=At&&At.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Pw(t,e,r);return OO(t,e),t},TO=At&&At.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Pw(t,e,r)};Object.defineProperty(At,"__esModule",{value:!0});At.TerminalAPI=At.Terminal=void 0;var jO=Rw(Sw());At.Terminal=jO;var DO=Rw(ja());At.TerminalAPI=DO;TO(Cw(),At)});var nf=j(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.UserManager=void 0;var AO=Ke(),MO=nt(),UO=bn(),Iw=et(),NO=Rt(),$O=_n(),LO="api/me",tf="@jupyterlab/services:UserManager#user",rf=class extends $O.BaseManager{constructor(t={}){var r;super(t),this._isReady=!1,this._userChanged=new Iw.Signal(this),this._connectionFailure=new Iw.Signal(this),this._ready=this.requestUser().then(()=>{this.isDisposed||(this._isReady=!0)}).catch(n=>new Promise(()=>{})),this._pollSpecs=new UO.Poll({auto:!1,factory:()=>this.requestUser(),frequency:{interval:61*1e3,backoff:!0,max:300*1e3},name:tf,standby:(r=t.standby)!==null&&r!==void 0?r:"when-hidden"}),this.ready.then(()=>{this._pollSpecs.start()})}get isReady(){return this._isReady}get ready(){return this._ready}get identity(){return this._identity}get permissions(){return this._permissions}get userChanged(){return this._userChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshUser(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestUser(){if(this.isDisposed)return;let{baseUrl:t}=this.serverSettings,{makeRequest:r,ResponseError:n}=NO.ServerConnection,s=AO.URLExt.join(t,LO),i=await r(s,{},this.serverSettings);if(i.status!==200)throw await n.create(i);let a={identity:this._identity,permissions:this._permissions},o=await i.json(),l=o.identity,{localStorage:c}=window,u=c.getItem(tf);if(u&&(!l.initials||!l.color)){let d=JSON.parse(u);l.initials=l.initials||d.initials||l.name.substring(0,1),l.color=l.color||d.color||sf.getRandomColor()}MO.JSONExt.deepEqual(o,a)||(this._identity=l,this._permissions=o.permissions,c.setItem(tf,JSON.stringify(l)),this._userChanged.emit(o))}};xc.UserManager=rf;var sf;(function(e){let t=["var(--jp-collaborator-color1)","var(--jp-collaborator-color2)","var(--jp-collaborator-color3)","var(--jp-collaborator-color4)","var(--jp-collaborator-color5)","var(--jp-collaborator-color6)","var(--jp-collaborator-color7)"];e.getRandomColor=()=>t[Math.floor(Math.random()*t.length)]})(sf||(sf={}))});var of=j(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.WorkspaceManager=void 0;var Ow=Ke(),qO=Jh(),Ma=Rt(),zO="api/workspaces",af=class extends qO.DataConnector{constructor(t={}){var r;super(),this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:Ma.ServerConnection.makeSettings()}async fetch(t){let{serverSettings:r}=this,{baseUrl:n,appUrl:s}=r,{makeRequest:i,ResponseError:a}=Ma.ServerConnection,o=n+s,l=mi.url(o,t),c=await i(l,{},r);if(c.status!==200)throw await a.create(c);return c.json()}async list(){let{serverSettings:t}=this,{baseUrl:r,appUrl:n}=t,{makeRequest:s,ResponseError:i}=Ma.ServerConnection,a=r+n,o=mi.url(a,""),l=await s(o,{},t);if(l.status!==200)throw await i.create(l);return(await l.json()).workspaces}async remove(t){let{serverSettings:r}=this,{baseUrl:n,appUrl:s}=r,{makeRequest:i,ResponseError:a}=Ma.ServerConnection,o=n+s,l=mi.url(o,t),u=await i(l,{method:"DELETE"},r);if(u.status!==204)throw await a.create(u)}async save(t,r){let{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:a,ResponseError:o}=Ma.ServerConnection,l=s+i,c=mi.url(l,t),u={body:JSON.stringify(r),method:"PUT"},d=await a(c,u,n);if(d.status!==204)throw await o.create(d)}};Ec.WorkspaceManager=af;var mi;(function(e){function t(r,n){let s=Ow.URLExt.join(r,zO),i=Ow.URLExt.join(s,n);if(!i.startsWith(s))throw new Error("Can only be used for workspaces requests");return i}e.url=t})(mi||(mi={}))});var jw=j(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.ServiceManager=void 0;var Tw=et(),FO=Zb(),VO=kh(),BO=xh(),HO=Dh(),JO=Mh(),KO=qh(),WO=Rt(),GO=Vh(),ZO=Gh(),YO=ef(),QO=nf(),XO=of(),lf=class{constructor(t={}){var r,n;this._isDisposed=!1,this._connectionFailure=new Tw.Signal(this),this._isReady=!1;let s=t.defaultDrive,i=(r=t.serverSettings)!==null&&r!==void 0?r:WO.ServerConnection.makeSettings(),a=(n=t.standby)!==null&&n!==void 0?n:"when-hidden",o={defaultDrive:s,serverSettings:i,standby:a};this.serverSettings=i,this.contents=t.contents||new VO.ContentsManager(o),this.events=t.events||new BO.EventManager(o),this.kernels=t.kernels||new HO.KernelManager(o),this.sessions=t.sessions||new GO.SessionManager({...o,kernelManager:this.kernels}),this.settings=t.settings||new ZO.SettingManager(o),this.terminals=t.terminals||new YO.TerminalManager(o),this.builder=t.builder||new FO.BuildManager(o),this.workspaces=t.workspaces||new XO.WorkspaceManager(o),this.nbconvert=t.nbconvert||new KO.NbConvertManager(o),this.kernelspecs=t.kernelspecs||new JO.KernelSpecManager(o),this.user=t.user||new QO.UserManager(o),this.kernelspecs.connectionFailure.connect(this._onConnectionFailure,this),this.sessions.connectionFailure.connect(this._onConnectionFailure,this),this.terminals.connectionFailure.connect(this._onConnectionFailure,this);let l=[this.sessions.ready,this.kernelspecs.ready];this.terminals.isAvailable()&&l.push(this.terminals.ready),this._readyPromise=Promise.all(l).then(()=>{this._isReady=!0})}get connectionFailure(){return this._connectionFailure}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Tw.Signal.clearData(this),this.contents.dispose(),this.events.dispose(),this.sessions.dispose(),this.terminals.dispose())}get isReady(){return this._isReady}get ready(){return this._readyPromise}_onConnectionFailure(t,r){this._connectionFailure.emit(r)}};Cc.ServiceManager=lf});var Dw=j(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.IWorkspaceManager=xe.IUserManager=xe.ITerminalManager=xe.IServiceManager=xe.ISettingManager=xe.ISessionManager=xe.IServerSettings=xe.INbConvertManager=xe.IKernelSpecManager=xe.IKernelManager=xe.IEventManager=xe.IDefaultDrive=xe.IContentsManager=xe.IConfigSectionManager=xe.IConnectionStatus=void 0;var Mt=nt();xe.IConnectionStatus=new Mt.Token("@jupyterlab/application:IConnectionStatus","A service providing the application connection status.");xe.IConfigSectionManager=new Mt.Token("@jupyterlab/services:IConfigSectionManager","A service providing the config section manager.");xe.IContentsManager=new Mt.Token("@jupyterlab/services:IContentsManager","The contents manager token.");xe.IDefaultDrive=new Mt.Token("@jupyterlab/services:IDefaultDrive","The default drive for the contents manager.");xe.IEventManager=new Mt.Token("@jupyterlab/services:IEventManager","The event manager token.");xe.IKernelManager=new Mt.Token("@jupyterlab/services:IKernelManager","The kernel manager token.");xe.IKernelSpecManager=new Mt.Token("@jupyterlab/services:IKernelSpecManager","The kernel spec manager token.");xe.INbConvertManager=new Mt.Token("@jupyterlab/services:INbConvertManager","The nbconvert manager token.");xe.IServerSettings=new Mt.Token("@jupyterlab/services:IServerSettings","The server settings for the application.");xe.ISessionManager=new Mt.Token("@jupyterlab/services:ISessionManager","The session manager token.");xe.ISettingManager=new Mt.Token("@jupyterlab/services:ISettingManager","The setting manager token.");xe.IServiceManager=new Mt.Token("@jupyterlab/services:IServiceManager","The service manager for the application.");xe.ITerminalManager=new Mt.Token("@jupyterlab/services:ITerminalManager","The terminal manager token.");xe.IUserManager=new Mt.Token("@jupyterlab/services:IUserManager","The user manager token.");xe.IWorkspaceManager=new Mt.Token("@jupyterlab/services:IWorkspaceManager","The workspace manager token.")});var It=j(Qe=>{"use strict";var eT=Qe&&Qe.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),St=Qe&&Qe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&eT(t,e,r)};Object.defineProperty(Qe,"__esModule",{value:!0});St(_n(),Qe);St(ub(),Qe);St(db(),Qe);St(kh(),Qe);St(xh(),Qe);St(Dh(),Qe);St(Mh(),Qe);St(jw(),Qe);St(Rt(),Qe);St(Vh(),Qe);St(Gh(),Qe);St(ef(),Qe);St(Dw(),Qe);St(nf(),Qe);St(of(),Qe);St(qh(),Qe)});var Pc=j(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.pathMatch=tT;function tT(e,t){return!!(t===e||e.indexOf(t)===0&&(t[t.length-1]==="/"||e.startsWith(t)&&e[t.length]==="/"))}});var qw=j(Sn=>{"use strict";function rT(e,t){return e.endsWith(t)?e.length===t.length||e[e.length-t.length-1]===".":!1}function sT(e,t){let r=e.length-t.length-2,n=e.lastIndexOf(".",r);return n===-1?e:e.slice(n+1)}function nT(e,t,r){if(r.validHosts!==null){let s=r.validHosts;for(let i of s)if(rT(t,i))return i}let n=0;if(t.startsWith("."))for(;n<t.length&&t[n]===".";)n+=1;return e.length===t.length-n?null:sT(t,e)}function iT(e,t){return e.slice(0,-t.length-1)}function Aw(e,t){let r=0,n=e.length,s=!1;if(!t){if(e.startsWith("data:"))return null;for(;r<e.length&&e.charCodeAt(r)<=32;)r+=1;for(;n>r+1&&e.charCodeAt(n-1)<=32;)n-=1;if(e.charCodeAt(r)===47&&e.charCodeAt(r+1)===47)r+=2;else{let c=e.indexOf(":/",r);if(c!==-1){let u=c-r,d=e.charCodeAt(r),h=e.charCodeAt(r+1),f=e.charCodeAt(r+2),p=e.charCodeAt(r+3),g=e.charCodeAt(r+4);if(!(u===5&&d===104&&h===116&&f===116&&p===112&&g===115)){if(!(u===4&&d===104&&h===116&&f===116&&p===112)){if(!(u===3&&d===119&&h===115&&f===115)){if(!(u===2&&d===119&&h===115))for(let y=r;y<c;y+=1){let v=e.charCodeAt(y)|32;if(!(v>=97&&v<=122||v>=48&&v<=57||v===46||v===45||v===43))return null}}}}for(r=c+2;e.charCodeAt(r)===47;)r+=1}}let a=-1,o=-1,l=-1;for(let c=r;c<n;c+=1){let u=e.charCodeAt(c);if(u===35||u===47||u===63){n=c;break}else u===64?a=c:u===93?o=c:u===58?l=c:u>=65&&u<=90&&(s=!0)}if(a!==-1&&a>r&&a<n&&(r=a+1),e.charCodeAt(r)===91)return o!==-1?e.slice(r+1,o).toLowerCase():null;l!==-1&&l>r&&l<n&&(n=l)}for(;n>r+1&&e.charCodeAt(n-1)===46;)n-=1;let i=r!==0||n!==e.length?e.slice(r,n):e;return s?i.toLowerCase():i}function aT(e){if(e.length<7||e.length>15)return!1;let t=0;for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n===46)t+=1;else if(n<48||n>57)return!1}return t===3&&e.charCodeAt(0)!==46&&e.charCodeAt(e.length-1)!==46}function oT(e){if(e.length<3)return!1;let t=e.startsWith("[")?1:0,r=e.length;if(e[r-1]==="]"&&(r-=1),r-t>39)return!1;let n=!1;for(;t<r;t+=1){let s=e.charCodeAt(t);if(s===58)n=!0;else if(!(s>=48&&s<=57||s>=97&&s<=102||s>=65&&s<=90))return!1}return n}function lT(e){return oT(e)||aT(e)}function Mw(e){return e>=97&&e<=122||e>=48&&e<=57||e>127}function Uw(e){if(e.length>255||e.length===0||!Mw(e.charCodeAt(0))&&e.charCodeAt(0)!==46&&e.charCodeAt(0)!==95)return!1;let t=-1,r=-1,n=e.length;for(let s=0;s<n;s+=1){let i=e.charCodeAt(s);if(i===46){if(s-t>64||r===46||r===45||r===95)return!1;t=s}else if(!(Mw(i)||i===45||i===95))return!1;r=i}return n-t-1<=63&&r!==45}function $w({allowIcannDomains:e=!0,allowPrivateDomains:t=!1,detectIp:r=!0,extractHostname:n=!0,mixedInputs:s=!0,validHosts:i=null,validateHostname:a=!0}){return{allowIcannDomains:e,allowPrivateDomains:t,detectIp:r,extractHostname:n,mixedInputs:s,validHosts:i,validateHostname:a}}var cT=$w({});function uT(e){return e===void 0?cT:$w(e)}function dT(e,t){return t.length===e.length?"":e.slice(0,-t.length-1)}function Lw(){return{domain:null,domainWithoutSuffix:null,hostname:null,isIcann:null,isIp:null,isPrivate:null,publicSuffix:null,subdomain:null}}function Ua(e){e.domain=null,e.domainWithoutSuffix=null,e.hostname=null,e.isIcann=null,e.isIp=null,e.isPrivate=null,e.publicSuffix=null,e.subdomain=null}function gi(e,t,r,n,s){let i=uT(n);return typeof e!="string"||(i.extractHostname?i.mixedInputs?s.hostname=Aw(e,Uw(e)):s.hostname=Aw(e,!1):s.hostname=e,t===0||s.hostname===null)||i.detectIp&&(s.isIp=lT(s.hostname),s.isIp)?s:i.validateHostname&&i.extractHostname&&!Uw(s.hostname)?(s.hostname=null,s):(r(s.hostname,i,s),t===2||s.publicSuffix===null||(s.domain=nT(s.publicSuffix,s.hostname,i),t===3||s.domain===null)||(s.subdomain=dT(s.hostname,s.domain),t===4)||(s.domainWithoutSuffix=iT(s.domain,s.publicSuffix)),s)}function hT(e,t,r){if(!t.allowPrivateDomains&&e.length>3){let n=e.length-1,s=e.charCodeAt(n),i=e.charCodeAt(n-1),a=e.charCodeAt(n-2),o=e.charCodeAt(n-3);if(s===109&&i===111&&a===99&&o===46)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="com",!0;if(s===103&&i===114&&a===111&&o===46)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="org",!0;if(s===117&&i===100&&a===101&&o===46)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="edu",!0;if(s===118&&i===111&&a===103&&o===46)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="gov",!0;if(s===116&&i===101&&a===110&&o===46)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="net",!0;if(s===101&&i===100&&a===46)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="de",!0}return!1}var fT=(function(){let e=[1,{}],t=[2,{}],r=[0,{city:e}];return[0,{ck:[0,{www:e}],jp:[0,{kawasaki:r,kitakyushu:r,kobe:r,nagoya:r,sapporo:r,sendai:r,yokohama:r}],dev:[0,{hrsn:[0,{psl:[0,{wc:[0,{ignored:t,sub:[0,{ignored:t}]}]}]}]}]}]})(),pT=(function(){let e=[1,{}],t=[2,{}],r=[1,{com:e,edu:e,gov:e,net:e,org:e}],n=[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e}],s=[0,{"*":t}],i=[2,{s}],a=[0,{relay:t}],o=[2,{id:t}],l=[1,{gov:e}],c=[0,{"transfer-webapp":t}],u=[0,{notebook:t,studio:t}],d=[0,{labeling:t,notebook:t,studio:t}],h=[0,{notebook:t}],f=[0,{labeling:t,notebook:t,"notebook-fips":t,studio:t}],p=[0,{notebook:t,"notebook-fips":t,studio:t,"studio-fips":t}],g=[0,{"*":e}],y=[1,{co:t}],v=[0,{objects:t}],C=[2,{nodes:t}],x=[0,{my:s}],k=[0,{s3:t,"s3-accesspoint":t,"s3-website":t}],A=[0,{s3:t,"s3-accesspoint":t}],q=[0,{direct:t}],L=[0,{"webview-assets":t}],N=[0,{vfs:t,"webview-assets":t}],O=[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:k,s3:t,"s3-accesspoint":t,"s3-object-lambda":t,"s3-website":t,"aws-cloud9":L,cloud9:N}],b=[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:A,s3:t,"s3-accesspoint":t,"s3-object-lambda":t,"s3-website":t,"aws-cloud9":L,cloud9:N}],P=[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:k,s3:t,"s3-accesspoint":t,"s3-object-lambda":t,"s3-website":t,"analytics-gateway":t,"aws-cloud9":L,cloud9:N}],R=[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:k,s3:t,"s3-accesspoint":t,"s3-object-lambda":t,"s3-website":t}],E=[0,{s3:t,"s3-accesspoint":t,"s3-accesspoint-fips":t,"s3-fips":t,"s3-website":t}],$=[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:E,s3:t,"s3-accesspoint":t,"s3-accesspoint-fips":t,"s3-fips":t,"s3-object-lambda":t,"s3-website":t,"aws-cloud9":L,cloud9:N}],H=[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:E,s3:t,"s3-accesspoint":t,"s3-accesspoint-fips":t,"s3-deprecated":t,"s3-fips":t,"s3-object-lambda":t,"s3-website":t,"analytics-gateway":t,"aws-cloud9":L,cloud9:N}],Y=[0,{s3:t,"s3-accesspoint":t,"s3-accesspoint-fips":t,"s3-fips":t}],J=[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:Y,s3:t,"s3-accesspoint":t,"s3-accesspoint-fips":t,"s3-fips":t,"s3-object-lambda":t,"s3-website":t}],G=[0,{auth:t}],ee=[0,{auth:t,"auth-fips":t}],X=[0,{"auth-fips":t}],de=[0,{apps:t}],_e=[0,{paas:t}],Ee=[2,{eu:t}],ue=[0,{app:t}],De=[0,{site:t}],Pe=[1,{com:e,edu:e,net:e,org:e}],Xe=[0,{j:t}],Jt=[0,{dyn:t}],Ut=[1,{co:e,com:e,edu:e,gov:e,net:e,org:e}],$e=[0,{p:t}],Ie=[0,{user:t}],er=[0,{shop:t}],F=[0,{cdn:t}],z=[0,{cust:t,reservd:t}],T=[0,{cust:t}],I=[0,{s3:t}],M=[1,{biz:e,com:e,edu:e,gov:e,info:e,net:e,org:e}],K=[0,{ipfs:t}],W=[1,{framer:t}],he=[0,{forgot:t}],oe=[1,{gs:e}],Le=[0,{nes:e}],ne=[1,{k12:e,cc:e,lib:e}],dt=[1,{cc:e,lib:e}];return[0,{ac:[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e,drr:t,feedback:t,forms:t}],ad:e,ae:[1,{ac:e,co:e,gov:e,mil:e,net:e,org:e,sch:e}],aero:[1,{airline:e,airport:e,"accident-investigation":e,"accident-prevention":e,aerobatic:e,aeroclub:e,aerodrome:e,agents:e,"air-surveillance":e,"air-traffic-control":e,aircraft:e,airtraffic:e,ambulance:e,association:e,author:e,ballooning:e,broker:e,caa:e,cargo:e,catering:e,certification:e,championship:e,charter:e,civilaviation:e,club:e,conference:e,consultant:e,consulting:e,control:e,council:e,crew:e,design:e,dgca:e,educator:e,emergency:e,engine:e,engineer:e,entertainment:e,equipment:e,exchange:e,express:e,federation:e,flight:e,freight:e,fuel:e,gliding:e,government:e,groundhandling:e,group:e,hanggliding:e,homebuilt:e,insurance:e,journal:e,journalist:e,leasing:e,logistics:e,magazine:e,maintenance:e,marketplace:e,media:e,microlight:e,modelling:e,navigation:e,parachuting:e,paragliding:e,"passenger-association":e,pilot:e,press:e,production:e,recreation:e,repbody:e,res:e,research:e,rotorcraft:e,safety:e,scientist:e,services:e,show:e,skydiving:e,software:e,student:e,taxi:e,trader:e,trading:e,trainer:e,union:e,workinggroup:e,works:e}],af:r,ag:[1,{co:e,com:e,net:e,nom:e,org:e,obj:t}],ai:[1,{com:e,net:e,off:e,org:e,uwu:t,framer:t}],al:n,am:[1,{co:e,com:e,commune:e,net:e,org:e,radio:t}],ao:[1,{co:e,ed:e,edu:e,gov:e,gv:e,it:e,og:e,org:e,pb:e}],aq:e,ar:[1,{bet:e,com:e,coop:e,edu:e,gob:e,gov:e,int:e,mil:e,musica:e,mutual:e,net:e,org:e,seg:e,senasa:e,tur:e}],arpa:[1,{e164:e,home:e,"in-addr":e,ip6:e,iris:e,uri:e,urn:e}],as:l,asia:[1,{cloudns:t,daemon:t,dix:t}],at:[1,{ac:[1,{sth:e}],co:e,gv:e,or:e,funkfeuer:[0,{wien:t}],futurecms:[0,{"*":t,ex:s,in:s}],futurehosting:t,futuremailing:t,ortsinfo:[0,{ex:s,kunden:s}],biz:t,info:t,"123webseite":t,priv:t,myspreadshop:t,"12hp":t,"2ix":t,"4lima":t,"lima-city":t}],au:[1,{asn:e,com:[1,{cloudlets:[0,{mel:t}],myspreadshop:t}],edu:[1,{act:e,catholic:e,nsw:[1,{schools:e}],nt:e,qld:e,sa:e,tas:e,vic:e,wa:e}],gov:[1,{qld:e,sa:e,tas:e,vic:e,wa:e}],id:e,net:e,org:e,conf:e,oz:e,act:e,nsw:e,nt:e,qld:e,sa:e,tas:e,vic:e,wa:e}],aw:[1,{com:e}],ax:e,az:[1,{biz:e,co:e,com:e,edu:e,gov:e,info:e,int:e,mil:e,name:e,net:e,org:e,pp:e,pro:e}],ba:[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e,rs:t}],bb:[1,{biz:e,co:e,com:e,edu:e,gov:e,info:e,net:e,org:e,store:e,tv:e}],bd:g,be:[1,{ac:e,cloudns:t,webhosting:t,interhostsolutions:[0,{cloud:t}],kuleuven:[0,{ezproxy:t}],"123website":t,myspreadshop:t,transurl:s}],bf:l,bg:[1,{0:e,1:e,2:e,3:e,4:e,5:e,6:e,7:e,8:e,9:e,a:e,b:e,c:e,d:e,e,f:e,g:e,h:e,i:e,j:e,k:e,l:e,m:e,n:e,o:e,p:e,q:e,r:e,s:e,t:e,u:e,v:e,w:e,x:e,y:e,z:e,barsy:t}],bh:r,bi:[1,{co:e,com:e,edu:e,or:e,org:e}],biz:[1,{activetrail:t,"cloud-ip":t,cloudns:t,jozi:t,dyndns:t,"for-better":t,"for-more":t,"for-some":t,"for-the":t,selfip:t,webhop:t,orx:t,mmafan:t,myftp:t,"no-ip":t,dscloud:t}],bj:[1,{africa:e,agro:e,architectes:e,assur:e,avocats:e,co:e,com:e,eco:e,econo:e,edu:e,info:e,loisirs:e,money:e,net:e,org:e,ote:e,restaurant:e,resto:e,tourism:e,univ:e}],bm:r,bn:[1,{com:e,edu:e,gov:e,net:e,org:e,co:t}],bo:[1,{com:e,edu:e,gob:e,int:e,mil:e,net:e,org:e,tv:e,web:e,academia:e,agro:e,arte:e,blog:e,bolivia:e,ciencia:e,cooperativa:e,democracia:e,deporte:e,ecologia:e,economia:e,empresa:e,indigena:e,industria:e,info:e,medicina:e,movimiento:e,musica:e,natural:e,nombre:e,noticias:e,patria:e,plurinacional:e,politica:e,profesional:e,pueblo:e,revista:e,salud:e,tecnologia:e,tksat:e,transporte:e,wiki:e}],br:[1,{"9guacu":e,abc:e,adm:e,adv:e,agr:e,aju:e,am:e,anani:e,aparecida:e,app:e,arq:e,art:e,ato:e,b:e,barueri:e,belem:e,bet:e,bhz:e,bib:e,bio:e,blog:e,bmd:e,boavista:e,bsb:e,campinagrande:e,campinas:e,caxias:e,cim:e,cng:e,cnt:e,com:[1,{simplesite:t}],contagem:e,coop:e,coz:e,cri:e,cuiaba:e,curitiba:e,def:e,des:e,det:e,dev:e,ecn:e,eco:e,edu:e,emp:e,enf:e,eng:e,esp:e,etc:e,eti:e,far:e,feira:e,flog:e,floripa:e,fm:e,fnd:e,fortal:e,fot:e,foz:e,fst:e,g12:e,geo:e,ggf:e,goiania:e,gov:[1,{ac:e,al:e,am:e,ap:e,ba:e,ce:e,df:e,es:e,go:e,ma:e,mg:e,ms:e,mt:e,pa:e,pb:e,pe:e,pi:e,pr:e,rj:e,rn:e,ro:e,rr:e,rs:e,sc:e,se:e,sp:e,to:e}],gru:e,imb:e,ind:e,inf:e,jab:e,jampa:e,jdf:e,joinville:e,jor:e,jus:e,leg:[1,{ac:t,al:t,am:t,ap:t,ba:t,ce:t,df:t,es:t,go:t,ma:t,mg:t,ms:t,mt:t,pa:t,pb:t,pe:t,pi:t,pr:t,rj:t,rn:t,ro:t,rr:t,rs:t,sc:t,se:t,sp:t,to:t}],leilao:e,lel:e,log:e,londrina:e,macapa:e,maceio:e,manaus:e,maringa:e,mat:e,med:e,mil:e,morena:e,mp:e,mus:e,natal:e,net:e,niteroi:e,nom:g,not:e,ntr:e,odo:e,ong:e,org:e,osasco:e,palmas:e,poa:e,ppg:e,pro:e,psc:e,psi:e,pvh:e,qsl:e,radio:e,rec:e,recife:e,rep:e,ribeirao:e,rio:e,riobranco:e,riopreto:e,salvador:e,sampa:e,santamaria:e,santoandre:e,saobernardo:e,saogonca:e,seg:e,sjc:e,slg:e,slz:e,sorocaba:e,srv:e,taxi:e,tc:e,tec:e,teo:e,the:e,tmp:e,trd:e,tur:e,tv:e,udi:e,vet:e,vix:e,vlog:e,wiki:e,zlg:e}],bs:[1,{com:e,edu:e,gov:e,net:e,org:e,we:t}],bt:r,bv:e,bw:[1,{ac:e,co:e,gov:e,net:e,org:e}],by:[1,{gov:e,mil:e,com:e,of:e,mediatech:t}],bz:[1,{co:e,com:e,edu:e,gov:e,net:e,org:e,za:t,mydns:t,gsj:t}],ca:[1,{ab:e,bc:e,mb:e,nb:e,nf:e,nl:e,ns:e,nt:e,nu:e,on:e,pe:e,qc:e,sk:e,yk:e,gc:e,barsy:t,awdev:s,co:t,"no-ip":t,myspreadshop:t,box:t}],cat:e,cc:[1,{cleverapps:t,cloudns:t,ftpaccess:t,"game-server":t,myphotos:t,scrapping:t,twmail:t,csx:t,fantasyleague:t,spawn:[0,{instances:t}]}],cd:l,cf:e,cg:e,ch:[1,{square7:t,cloudns:t,cloudscale:[0,{cust:t,lpg:v,rma:v}],flow:[0,{ae:[0,{alp1:t}],appengine:t}],"linkyard-cloud":t,gotdns:t,dnsking:t,"123website":t,myspreadshop:t,firenet:[0,{"*":t,svc:s}],"12hp":t,"2ix":t,"4lima":t,"lima-city":t}],ci:[1,{ac:e,"xn--aroport-bya":e,a\u00E9roport:e,asso:e,co:e,com:e,ed:e,edu:e,go:e,gouv:e,int:e,net:e,or:e,org:e}],ck:g,cl:[1,{co:e,gob:e,gov:e,mil:e,cloudns:t}],cm:[1,{co:e,com:e,gov:e,net:e}],cn:[1,{ac:e,com:[1,{amazonaws:[0,{"cn-north-1":[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:k,s3:t,"s3-accesspoint":t,"s3-deprecated":t,"s3-object-lambda":t,"s3-website":t}],"cn-northwest-1":[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:A,s3:t,"s3-accesspoint":t,"s3-object-lambda":t,"s3-website":t}],compute:s,airflow:[0,{"cn-north-1":s,"cn-northwest-1":s}],eb:[0,{"cn-north-1":t,"cn-northwest-1":t}],elb:s}],sagemaker:[0,{"cn-north-1":u,"cn-northwest-1":u}]}],edu:e,gov:e,mil:e,net:e,org:e,"xn--55qx5d":e,\u516C\u53F8:e,"xn--od0alg":e,\u7DB2\u7D61:e,"xn--io0a7i":e,\u7F51\u7EDC:e,ah:e,bj:e,cq:e,fj:e,gd:e,gs:e,gx:e,gz:e,ha:e,hb:e,he:e,hi:e,hk:e,hl:e,hn:e,jl:e,js:e,jx:e,ln:e,mo:e,nm:e,nx:e,qh:e,sc:e,sd:e,sh:[1,{as:t}],sn:e,sx:e,tj:e,tw:e,xj:e,xz:e,yn:e,zj:e,"canva-apps":t,canvasite:x,myqnapcloud:t,quickconnect:q}],co:[1,{com:e,edu:e,gov:e,mil:e,net:e,nom:e,org:e,carrd:t,crd:t,otap:s,leadpages:t,lpages:t,mypi:t,xmit:s,firewalledreplit:o,repl:o,supabase:t}],com:[1,{a2hosted:t,cpserver:t,adobeaemcloud:[2,{dev:s}],africa:t,airkitapps:t,"airkitapps-au":t,aivencloud:t,alibabacloudcs:t,kasserver:t,amazonaws:[0,{"af-south-1":O,"ap-east-1":b,"ap-northeast-1":P,"ap-northeast-2":P,"ap-northeast-3":O,"ap-south-1":P,"ap-south-2":R,"ap-southeast-1":P,"ap-southeast-2":P,"ap-southeast-3":R,"ap-southeast-4":R,"ap-southeast-5":[0,{"execute-api":t,dualstack:k,s3:t,"s3-accesspoint":t,"s3-deprecated":t,"s3-object-lambda":t,"s3-website":t}],"ca-central-1":$,"ca-west-1":[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:E,s3:t,"s3-accesspoint":t,"s3-accesspoint-fips":t,"s3-fips":t,"s3-object-lambda":t,"s3-website":t}],"eu-central-1":P,"eu-central-2":R,"eu-north-1":b,"eu-south-1":O,"eu-south-2":R,"eu-west-1":[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:k,s3:t,"s3-accesspoint":t,"s3-deprecated":t,"s3-object-lambda":t,"s3-website":t,"analytics-gateway":t,"aws-cloud9":L,cloud9:N}],"eu-west-2":b,"eu-west-3":O,"il-central-1":[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:k,s3:t,"s3-accesspoint":t,"s3-object-lambda":t,"s3-website":t,"aws-cloud9":L,cloud9:[0,{vfs:t}]}],"me-central-1":R,"me-south-1":b,"sa-east-1":O,"us-east-1":[2,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:E,s3:t,"s3-accesspoint":t,"s3-accesspoint-fips":t,"s3-deprecated":t,"s3-fips":t,"s3-object-lambda":t,"s3-website":t,"analytics-gateway":t,"aws-cloud9":L,cloud9:N}],"us-east-2":H,"us-gov-east-1":J,"us-gov-west-1":J,"us-west-1":$,"us-west-2":H,compute:s,"compute-1":s,airflow:[0,{"af-south-1":s,"ap-east-1":s,"ap-northeast-1":s,"ap-northeast-2":s,"ap-northeast-3":s,"ap-south-1":s,"ap-south-2":s,"ap-southeast-1":s,"ap-southeast-2":s,"ap-southeast-3":s,"ap-southeast-4":s,"ca-central-1":s,"ca-west-1":s,"eu-central-1":s,"eu-central-2":s,"eu-north-1":s,"eu-south-1":s,"eu-south-2":s,"eu-west-1":s,"eu-west-2":s,"eu-west-3":s,"il-central-1":s,"me-central-1":s,"me-south-1":s,"sa-east-1":s,"us-east-1":s,"us-east-2":s,"us-west-1":s,"us-west-2":s}],s3:t,"s3-1":t,"s3-ap-east-1":t,"s3-ap-northeast-1":t,"s3-ap-northeast-2":t,"s3-ap-northeast-3":t,"s3-ap-south-1":t,"s3-ap-southeast-1":t,"s3-ap-southeast-2":t,"s3-ca-central-1":t,"s3-eu-central-1":t,"s3-eu-north-1":t,"s3-eu-west-1":t,"s3-eu-west-2":t,"s3-eu-west-3":t,"s3-external-1":t,"s3-fips-us-gov-east-1":t,"s3-fips-us-gov-west-1":t,"s3-global":[0,{accesspoint:[0,{mrap:t}]}],"s3-me-south-1":t,"s3-sa-east-1":t,"s3-us-east-2":t,"s3-us-gov-east-1":t,"s3-us-gov-west-1":t,"s3-us-west-1":t,"s3-us-west-2":t,"s3-website-ap-northeast-1":t,"s3-website-ap-southeast-1":t,"s3-website-ap-southeast-2":t,"s3-website-eu-west-1":t,"s3-website-sa-east-1":t,"s3-website-us-east-1":t,"s3-website-us-gov-west-1":t,"s3-website-us-west-1":t,"s3-website-us-west-2":t,elb:s}],amazoncognito:[0,{"af-south-1":G,"ap-east-1":G,"ap-northeast-1":G,"ap-northeast-2":G,"ap-northeast-3":G,"ap-south-1":G,"ap-south-2":G,"ap-southeast-1":G,"ap-southeast-2":G,"ap-southeast-3":G,"ap-southeast-4":G,"ap-southeast-5":G,"ca-central-1":G,"ca-west-1":G,"eu-central-1":G,"eu-central-2":G,"eu-north-1":G,"eu-south-1":G,"eu-south-2":G,"eu-west-1":G,"eu-west-2":G,"eu-west-3":G,"il-central-1":G,"me-central-1":G,"me-south-1":G,"sa-east-1":G,"us-east-1":ee,"us-east-2":ee,"us-gov-east-1":X,"us-gov-west-1":X,"us-west-1":ee,"us-west-2":ee}],amplifyapp:t,awsapprunner:s,awsapps:t,elasticbeanstalk:[2,{"af-south-1":t,"ap-east-1":t,"ap-northeast-1":t,"ap-northeast-2":t,"ap-northeast-3":t,"ap-south-1":t,"ap-southeast-1":t,"ap-southeast-2":t,"ap-southeast-3":t,"ca-central-1":t,"eu-central-1":t,"eu-north-1":t,"eu-south-1":t,"eu-west-1":t,"eu-west-2":t,"eu-west-3":t,"il-central-1":t,"me-south-1":t,"sa-east-1":t,"us-east-1":t,"us-east-2":t,"us-gov-east-1":t,"us-gov-west-1":t,"us-west-1":t,"us-west-2":t}],awsglobalaccelerator:t,siiites:t,appspacehosted:t,appspaceusercontent:t,"on-aptible":t,myasustor:t,"balena-devices":t,boutir:t,bplaced:t,cafjs:t,"canva-apps":t,"cdn77-storage":t,br:t,cn:t,de:t,eu:t,jpn:t,mex:t,ru:t,sa:t,uk:t,us:t,za:t,"clever-cloud":[0,{services:s}],dnsabr:t,"ip-ddns":t,jdevcloud:t,wpdevcloud:t,"cf-ipfs":t,"cloudflare-ipfs":t,trycloudflare:t,co:t,devinapps:s,builtwithdark:t,datadetect:[0,{demo:t,instance:t}],dattolocal:t,dattorelay:t,dattoweb:t,mydatto:t,digitaloceanspaces:s,discordsays:t,discordsez:t,drayddns:t,dreamhosters:t,durumis:t,mydrobo:t,blogdns:t,cechire:t,dnsalias:t,dnsdojo:t,doesntexist:t,dontexist:t,doomdns:t,"dyn-o-saur":t,dynalias:t,"dyndns-at-home":t,"dyndns-at-work":t,"dyndns-blog":t,"dyndns-free":t,"dyndns-home":t,"dyndns-ip":t,"dyndns-mail":t,"dyndns-office":t,"dyndns-pics":t,"dyndns-remote":t,"dyndns-server":t,"dyndns-web":t,"dyndns-wiki":t,"dyndns-work":t,"est-a-la-maison":t,"est-a-la-masion":t,"est-le-patron":t,"est-mon-blogueur":t,"from-ak":t,"from-al":t,"from-ar":t,"from-ca":t,"from-ct":t,"from-dc":t,"from-de":t,"from-fl":t,"from-ga":t,"from-hi":t,"from-ia":t,"from-id":t,"from-il":t,"from-in":t,"from-ks":t,"from-ky":t,"from-ma":t,"from-md":t,"from-mi":t,"from-mn":t,"from-mo":t,"from-ms":t,"from-mt":t,"from-nc":t,"from-nd":t,"from-ne":t,"from-nh":t,"from-nj":t,"from-nm":t,"from-nv":t,"from-oh":t,"from-ok":t,"from-or":t,"from-pa":t,"from-pr":t,"from-ri":t,"from-sc":t,"from-sd":t,"from-tn":t,"from-tx":t,"from-ut":t,"from-va":t,"from-vt":t,"from-wa":t,"from-wi":t,"from-wv":t,"from-wy":t,getmyip:t,gotdns:t,"hobby-site":t,homelinux:t,homeunix:t,iamallama:t,"is-a-anarchist":t,"is-a-blogger":t,"is-a-bookkeeper":t,"is-a-bulls-fan":t,"is-a-caterer":t,"is-a-chef":t,"is-a-conservative":t,"is-a-cpa":t,"is-a-cubicle-slave":t,"is-a-democrat":t,"is-a-designer":t,"is-a-doctor":t,"is-a-financialadvisor":t,"is-a-geek":t,"is-a-green":t,"is-a-guru":t,"is-a-hard-worker":t,"is-a-hunter":t,"is-a-landscaper":t,"is-a-lawyer":t,"is-a-liberal":t,"is-a-libertarian":t,"is-a-llama":t,"is-a-musician":t,"is-a-nascarfan":t,"is-a-nurse":t,"is-a-painter":t,"is-a-personaltrainer":t,"is-a-photographer":t,"is-a-player":t,"is-a-republican":t,"is-a-rockstar":t,"is-a-socialist":t,"is-a-student":t,"is-a-teacher":t,"is-a-techie":t,"is-a-therapist":t,"is-an-accountant":t,"is-an-actor":t,"is-an-actress":t,"is-an-anarchist":t,"is-an-artist":t,"is-an-engineer":t,"is-an-entertainer":t,"is-certified":t,"is-gone":t,"is-into-anime":t,"is-into-cars":t,"is-into-cartoons":t,"is-into-games":t,"is-leet":t,"is-not-certified":t,"is-slick":t,"is-uberleet":t,"is-with-theband":t,"isa-geek":t,"isa-hockeynut":t,issmarterthanyou:t,"likes-pie":t,likescandy:t,"neat-url":t,"saves-the-whales":t,selfip:t,"sells-for-less":t,"sells-for-u":t,servebbs:t,"simple-url":t,"space-to-rent":t,"teaches-yoga":t,writesthisblog:t,ddnsfree:t,ddnsgeek:t,giize:t,gleeze:t,kozow:t,loseyourip:t,ooguy:t,theworkpc:t,mytuleap:t,"tuleap-partners":t,encoreapi:t,evennode:[0,{"eu-1":t,"eu-2":t,"eu-3":t,"eu-4":t,"us-1":t,"us-2":t,"us-3":t,"us-4":t}],onfabrica:t,"fastly-edge":t,"fastly-terrarium":t,"fastvps-server":t,mydobiss:t,firebaseapp:t,fldrv:t,forgeblocks:t,framercanvas:t,"freebox-os":t,freeboxos:t,freemyip:t,aliases121:t,gentapps:t,gentlentapis:t,githubusercontent:t,"0emm":s,appspot:[2,{r:s}],blogspot:t,codespot:t,googleapis:t,googlecode:t,pagespeedmobilizer:t,withgoogle:t,withyoutube:t,grayjayleagues:t,hatenablog:t,hatenadiary:t,herokuapp:t,gr:t,smushcdn:t,wphostedmail:t,wpmucdn:t,pixolino:t,"apps-1and1":t,"live-website":t,dopaas:t,"hosted-by-previder":_e,hosteur:[0,{"rag-cloud":t,"rag-cloud-ch":t}],"ik-server":[0,{jcloud:t,"jcloud-ver-jpc":t}],jelastic:[0,{demo:t}],massivegrid:_e,wafaicloud:[0,{jed:t,ryd:t}],webadorsite:t,joyent:[0,{cns:s}],lpusercontent:t,linode:[0,{members:t,nodebalancer:s}],linodeobjects:s,linodeusercontent:[0,{ip:t}],localtonet:t,lovableproject:t,barsycenter:t,barsyonline:t,modelscape:t,mwcloudnonprod:t,polyspace:t,mazeplay:t,miniserver:t,atmeta:t,fbsbx:de,meteorapp:Ee,routingthecloud:t,mydbserver:t,hostedpi:t,"mythic-beasts":[0,{caracal:t,customer:t,fentiger:t,lynx:t,ocelot:t,oncilla:t,onza:t,sphinx:t,vs:t,x:t,yali:t}],nospamproxy:[0,{cloud:[2,{o365:t}]}],"4u":t,nfshost:t,"3utilities":t,blogsyte:t,ciscofreak:t,damnserver:t,ddnsking:t,ditchyourip:t,dnsiskinky:t,dynns:t,geekgalaxy:t,"health-carereform":t,homesecuritymac:t,homesecuritypc:t,myactivedirectory:t,mysecuritycamera:t,myvnc:t,"net-freaks":t,onthewifi:t,point2this:t,quicksytes:t,securitytactics:t,servebeer:t,servecounterstrike:t,serveexchange:t,serveftp:t,servegame:t,servehalflife:t,servehttp:t,servehumour:t,serveirc:t,servemp3:t,servep2p:t,servepics:t,servequake:t,servesarcasm:t,stufftoread:t,unusualperson:t,workisboring:t,myiphost:t,observableusercontent:[0,{static:t}],simplesite:t,orsites:t,operaunite:t,"customer-oci":[0,{"*":t,oci:s,ocp:s,ocs:s}],oraclecloudapps:s,oraclegovcloudapps:s,"authgear-staging":t,authgearapps:t,skygearapp:t,outsystemscloud:t,ownprovider:t,pgfog:t,pagexl:t,gotpantheon:t,paywhirl:s,upsunapp:t,"postman-echo":t,prgmr:[0,{xen:t}],pythonanywhere:Ee,qa2:t,"alpha-myqnapcloud":t,"dev-myqnapcloud":t,mycloudnas:t,mynascloud:t,myqnapcloud:t,qualifioapp:t,ladesk:t,qbuser:t,quipelements:s,rackmaze:t,"readthedocs-hosted":t,rhcloud:t,onrender:t,render:ue,"subsc-pay":t,"180r":t,dojin:t,sakuratan:t,sakuraweb:t,x0:t,code:[0,{builder:s,"dev-builder":s,"stg-builder":s}],salesforce:[0,{platform:[0,{"code-builder-stg":[0,{test:[0,{"001":s}]}]}]}],logoip:t,scrysec:t,"firewall-gateway":t,myshopblocks:t,myshopify:t,shopitsite:t,"1kapp":t,appchizi:t,applinzi:t,sinaapp:t,vipsinaapp:t,streamlitapp:t,"try-snowplow":t,"playstation-cloud":t,myspreadshop:t,"w-corp-staticblitz":t,"w-credentialless-staticblitz":t,"w-staticblitz":t,"stackhero-network":t,stdlib:[0,{api:t}],strapiapp:[2,{media:t}],"streak-link":t,streaklinks:t,streakusercontent:t,"temp-dns":t,dsmynas:t,familyds:t,mytabit:t,taveusercontent:t,"tb-hosting":De,reservd:t,thingdustdata:t,"townnews-staging":t,typeform:[0,{pro:t}],hk:t,it:t,"deus-canvas":t,vultrobjects:s,wafflecell:t,hotelwithflight:t,"reserve-online":t,cprapid:t,pleskns:t,remotewd:t,wiardweb:[0,{pages:t}],wixsite:t,wixstudio:t,messwithdns:t,"woltlab-demo":t,wpenginepowered:[2,{js:t}],xnbay:[2,{u2:t,"u2-local":t}],yolasite:t}],coop:e,cr:[1,{ac:e,co:e,ed:e,fi:e,go:e,or:e,sa:e}],cu:[1,{com:e,edu:e,gob:e,inf:e,nat:e,net:e,org:e}],cv:[1,{com:e,edu:e,id:e,int:e,net:e,nome:e,org:e,publ:e}],cw:Pe,cx:[1,{gov:e,cloudns:t,ath:t,info:t,assessments:t,calculators:t,funnels:t,paynow:t,quizzes:t,researched:t,tests:t}],cy:[1,{ac:e,biz:e,com:[1,{scaleforce:Xe}],ekloges:e,gov:e,ltd:e,mil:e,net:e,org:e,press:e,pro:e,tm:e}],cz:[1,{contentproxy9:[0,{rsc:t}],realm:t,e4:t,co:t,metacentrum:[0,{cloud:s,custom:t}],muni:[0,{cloud:[0,{flt:t,usr:t}]}]}],de:[1,{bplaced:t,square7:t,com:t,cosidns:Jt,dnsupdater:t,"dynamisches-dns":t,"internet-dns":t,"l-o-g-i-n":t,ddnss:[2,{dyn:t,dyndns:t}],"dyn-ip24":t,dyndns1:t,"home-webserver":[2,{dyn:t}],"myhome-server":t,dnshome:t,fuettertdasnetz:t,isteingeek:t,istmein:t,lebtimnetz:t,leitungsen:t,traeumtgerade:t,frusky:s,goip:t,"xn--gnstigbestellen-zvb":t,g\u00FCnstigbestellen:t,"xn--gnstigliefern-wob":t,g\u00FCnstigliefern:t,"hs-heilbronn":[0,{it:[0,{pages:t,"pages-research":t}]}],"dyn-berlin":t,"in-berlin":t,"in-brb":t,"in-butter":t,"in-dsl":t,"in-vpn":t,iservschule:t,"mein-iserv":t,schulplattform:t,schulserver:t,"test-iserv":t,keymachine:t,"git-repos":t,"lcube-server":t,"svn-repos":t,barsy:t,webspaceconfig:t,"123webseite":t,rub:t,"ruhr-uni-bochum":[2,{noc:[0,{io:t}]}],logoip:t,"firewall-gateway":t,"my-gateway":t,"my-router":t,spdns:t,speedpartner:[0,{customer:t}],myspreadshop:t,"taifun-dns":t,"12hp":t,"2ix":t,"4lima":t,"lima-city":t,"dd-dns":t,"dray-dns":t,draydns:t,"dyn-vpn":t,dynvpn:t,"mein-vigor":t,"my-vigor":t,"my-wan":t,"syno-ds":t,"synology-diskstation":t,"synology-ds":t,uberspace:s,"virtual-user":t,virtualuser:t,"community-pro":t,diskussionsbereich:t}],dj:e,dk:[1,{biz:t,co:t,firm:t,reg:t,store:t,"123hjemmeside":t,myspreadshop:t}],dm:Ut,do:[1,{art:e,com:e,edu:e,gob:e,gov:e,mil:e,net:e,org:e,sld:e,web:e}],dz:[1,{art:e,asso:e,com:e,edu:e,gov:e,net:e,org:e,pol:e,soc:e,tm:e}],ec:[1,{com:e,edu:e,fin:e,gob:e,gov:e,info:e,k12:e,med:e,mil:e,net:e,org:e,pro:e,base:t,official:t}],edu:[1,{rit:[0,{"git-pages":t}]}],ee:[1,{aip:e,com:e,edu:e,fie:e,gov:e,lib:e,med:e,org:e,pri:e,riik:e}],eg:[1,{ac:e,com:e,edu:e,eun:e,gov:e,info:e,me:e,mil:e,name:e,net:e,org:e,sci:e,sport:e,tv:e}],er:g,es:[1,{com:e,edu:e,gob:e,nom:e,org:e,"123miweb":t,myspreadshop:t}],et:[1,{biz:e,com:e,edu:e,gov:e,info:e,name:e,net:e,org:e}],eu:[1,{airkitapps:t,cloudns:t,dogado:[0,{jelastic:t}],barsy:t,spdns:t,transurl:s,diskstation:t}],fi:[1,{aland:e,dy:t,"xn--hkkinen-5wa":t,h\u00E4kkinen:t,iki:t,cloudplatform:[0,{fi:t}],datacenter:[0,{demo:t,paas:t}],kapsi:t,"123kotisivu":t,myspreadshop:t}],fj:[1,{ac:e,biz:e,com:e,gov:e,info:e,mil:e,name:e,net:e,org:e,pro:e}],fk:g,fm:[1,{com:e,edu:e,net:e,org:e,radio:t,user:s}],fo:e,fr:[1,{asso:e,com:e,gouv:e,nom:e,prd:e,tm:e,avoues:e,cci:e,greta:e,"huissier-justice":e,"en-root":t,"fbx-os":t,fbxos:t,"freebox-os":t,freeboxos:t,goupile:t,"123siteweb":t,"on-web":t,"chirurgiens-dentistes-en-france":t,dedibox:t,aeroport:t,avocat:t,chambagri:t,"chirurgiens-dentistes":t,"experts-comptables":t,medecin:t,notaires:t,pharmacien:t,port:t,veterinaire:t,myspreadshop:t,ynh:t}],ga:e,gb:e,gd:[1,{edu:e,gov:e}],ge:[1,{com:e,edu:e,gov:e,net:e,org:e,pvt:e,school:e}],gf:e,gg:[1,{co:e,net:e,org:e,botdash:t,kaas:t,stackit:t,panel:[2,{daemon:t}]}],gh:[1,{com:e,edu:e,gov:e,mil:e,org:e}],gi:[1,{com:e,edu:e,gov:e,ltd:e,mod:e,org:e}],gl:[1,{co:e,com:e,edu:e,net:e,org:e,biz:t}],gm:e,gn:[1,{ac:e,com:e,edu:e,gov:e,net:e,org:e}],gov:e,gp:[1,{asso:e,com:e,edu:e,mobi:e,net:e,org:e}],gq:e,gr:[1,{com:e,edu:e,gov:e,net:e,org:e,barsy:t,simplesite:t}],gs:e,gt:[1,{com:e,edu:e,gob:e,ind:e,mil:e,net:e,org:e}],gu:[1,{com:e,edu:e,gov:e,guam:e,info:e,net:e,org:e,web:e}],gw:e,gy:Ut,hk:[1,{com:e,edu:e,gov:e,idv:e,net:e,org:e,"xn--ciqpn":e,\u4E2A\u4EBA:e,"xn--gmqw5a":e,\u500B\u4EBA:e,"xn--55qx5d":e,\u516C\u53F8:e,"xn--mxtq1m":e,\u653F\u5E9C:e,"xn--lcvr32d":e,\u654E\u80B2:e,"xn--wcvs22d":e,\u6559\u80B2:e,"xn--gmq050i":e,\u7B87\u4EBA:e,"xn--uc0atv":e,\u7D44\u7E54:e,"xn--uc0ay4a":e,\u7D44\u7EC7:e,"xn--od0alg":e,\u7DB2\u7D61:e,"xn--zf0avx":e,\u7DB2\u7EDC:e,"xn--mk0axi":e,\u7EC4\u7E54:e,"xn--tn0ag":e,\u7EC4\u7EC7:e,"xn--od0aq3b":e,\u7F51\u7D61:e,"xn--io0a7i":e,\u7F51\u7EDC:e,inc:t,ltd:t}],hm:e,hn:[1,{com:e,edu:e,gob:e,mil:e,net:e,org:e}],hr:[1,{com:e,from:e,iz:e,name:e,brendly:er}],ht:[1,{adult:e,art:e,asso:e,com:e,coop:e,edu:e,firm:e,gouv:e,info:e,med:e,net:e,org:e,perso:e,pol:e,pro:e,rel:e,shop:e,rt:t}],hu:[1,{2e3:e,agrar:e,bolt:e,casino:e,city:e,co:e,erotica:e,erotika:e,film:e,forum:e,games:e,hotel:e,info:e,ingatlan:e,jogasz:e,konyvelo:e,lakas:e,media:e,news:e,org:e,priv:e,reklam:e,sex:e,shop:e,sport:e,suli:e,szex:e,tm:e,tozsde:e,utazas:e,video:e}],id:[1,{ac:e,biz:e,co:e,desa:e,go:e,mil:e,my:e,net:e,or:e,ponpes:e,sch:e,web:e,zone:t}],ie:[1,{gov:e,myspreadshop:t}],il:[1,{ac:e,co:[1,{ravpage:t,mytabit:t,tabitorder:t}],gov:e,idf:e,k12:e,muni:e,net:e,org:e}],"xn--4dbrk0ce":[1,{"xn--4dbgdty6c":e,"xn--5dbhl8d":e,"xn--8dbq2a":e,"xn--hebda8b":e}],\u05D9\u05E9\u05E8\u05D0\u05DC:[1,{\u05D0\u05E7\u05D3\u05DE\u05D9\u05D4:e,\u05D9\u05E9\u05D5\u05D1:e,\u05E6\u05D4\u05DC:e,\u05DE\u05DE\u05E9\u05DC:e}],im:[1,{ac:e,co:[1,{ltd:e,plc:e}],com:e,net:e,org:e,tt:e,tv:e}],in:[1,{"5g":e,"6g":e,ac:e,ai:e,am:e,bihar:e,biz:e,business:e,ca:e,cn:e,co:e,com:e,coop:e,cs:e,delhi:e,dr:e,edu:e,er:e,firm:e,gen:e,gov:e,gujarat:e,ind:e,info:e,int:e,internet:e,io:e,me:e,mil:e,net:e,nic:e,org:e,pg:e,post:e,pro:e,res:e,travel:e,tv:e,uk:e,up:e,us:e,cloudns:t,barsy:t,web:t,supabase:t}],info:[1,{cloudns:t,"dynamic-dns":t,"barrel-of-knowledge":t,"barrell-of-knowledge":t,dyndns:t,"for-our":t,"groks-the":t,"groks-this":t,"here-for-more":t,knowsitall:t,selfip:t,webhop:t,barsy:t,mayfirst:t,mittwald:t,mittwaldserver:t,typo3server:t,dvrcam:t,ilovecollege:t,"no-ip":t,forumz:t,nsupdate:t,dnsupdate:t,"v-info":t}],int:[1,{eu:e}],io:[1,{2038:t,co:e,com:e,edu:e,gov:e,mil:e,net:e,nom:e,org:e,"on-acorn":s,myaddr:t,apigee:t,"b-data":t,beagleboard:t,bitbucket:t,bluebite:t,boxfuse:t,brave:i,browsersafetymark:t,bubble:F,bubbleapps:t,bigv:[0,{uk0:t}],cleverapps:t,cloudbeesusercontent:t,dappnode:[0,{dyndns:t}],darklang:t,definima:t,dedyn:t,"fh-muenster":t,shw:t,forgerock:[0,{id:t}],github:t,gitlab:t,lolipop:t,"hasura-app":t,hostyhosting:t,hypernode:t,moonscale:s,beebyte:_e,beebyteapp:[0,{sekd1:t}],jele:t,webthings:t,loginline:t,barsy:t,azurecontainer:s,ngrok:[2,{ap:t,au:t,eu:t,in:t,jp:t,sa:t,us:t}],nodeart:[0,{stage:t}],pantheonsite:t,pstmn:[2,{mock:t}],protonet:t,qcx:[2,{sys:s}],qoto:t,vaporcloud:t,myrdbx:t,"rb-hosting":De,"on-k3s":s,"on-rio":s,readthedocs:t,resindevice:t,resinstaging:[0,{devices:t}],hzc:t,sandcats:t,scrypted:[0,{client:t}],"mo-siemens":t,lair:de,stolos:s,musician:t,utwente:t,edugit:t,telebit:t,thingdust:[0,{dev:z,disrec:z,prod:T,testing:z}],tickets:t,webflow:t,webflowtest:t,editorx:t,wixstudio:t,basicserver:t,virtualserver:t}],iq:n,ir:[1,{ac:e,co:e,gov:e,id:e,net:e,org:e,sch:e,"xn--mgba3a4f16a":e,\u0627\u06CC\u0631\u0627\u0646:e,"xn--mgba3a4fra":e,\u0627\u064A\u0631\u0627\u0646:e,arvanedge:t}],is:e,it:[1,{edu:e,gov:e,abr:e,abruzzo:e,"aosta-valley":e,aostavalley:e,bas:e,basilicata:e,cal:e,calabria:e,cam:e,campania:e,"emilia-romagna":e,emiliaromagna:e,emr:e,"friuli-v-giulia":e,"friuli-ve-giulia":e,"friuli-vegiulia":e,"friuli-venezia-giulia":e,"friuli-veneziagiulia":e,"friuli-vgiulia":e,"friuliv-giulia":e,"friulive-giulia":e,friulivegiulia:e,"friulivenezia-giulia":e,friuliveneziagiulia:e,friulivgiulia:e,fvg:e,laz:e,lazio:e,lig:e,liguria:e,lom:e,lombardia:e,lombardy:e,lucania:e,mar:e,marche:e,mol:e,molise:e,piedmont:e,piemonte:e,pmn:e,pug:e,puglia:e,sar:e,sardegna:e,sardinia:e,sic:e,sicilia:e,sicily:e,taa:e,tos:e,toscana:e,"trentin-sud-tirol":e,"xn--trentin-sd-tirol-rzb":e,"trentin-s\xFCd-tirol":e,"trentin-sudtirol":e,"xn--trentin-sdtirol-7vb":e,"trentin-s\xFCdtirol":e,"trentin-sued-tirol":e,"trentin-suedtirol":e,trentino:e,"trentino-a-adige":e,"trentino-aadige":e,"trentino-alto-adige":e,"trentino-altoadige":e,"trentino-s-tirol":e,"trentino-stirol":e,"trentino-sud-tirol":e,"xn--trentino-sd-tirol-c3b":e,"trentino-s\xFCd-tirol":e,"trentino-sudtirol":e,"xn--trentino-sdtirol-szb":e,"trentino-s\xFCdtirol":e,"trentino-sued-tirol":e,"trentino-suedtirol":e,"trentinoa-adige":e,trentinoaadige:e,"trentinoalto-adige":e,trentinoaltoadige:e,"trentinos-tirol":e,trentinostirol:e,"trentinosud-tirol":e,"xn--trentinosd-tirol-rzb":e,"trentinos\xFCd-tirol":e,trentinosudtirol:e,"xn--trentinosdtirol-7vb":e,trentinos\u00FCdtirol:e,"trentinosued-tirol":e,trentinosuedtirol:e,"trentinsud-tirol":e,"xn--trentinsd-tirol-6vb":e,"trentins\xFCd-tirol":e,trentinsudtirol:e,"xn--trentinsdtirol-nsb":e,trentins\u00FCdtirol:e,"trentinsued-tirol":e,trentinsuedtirol:e,tuscany:e,umb:e,umbria:e,"val-d-aosta":e,"val-daosta":e,"vald-aosta":e,valdaosta:e,"valle-aosta":e,"valle-d-aosta":e,"valle-daosta":e,valleaosta:e,"valled-aosta":e,valledaosta:e,"vallee-aoste":e,"xn--valle-aoste-ebb":e,"vall\xE9e-aoste":e,"vallee-d-aoste":e,"xn--valle-d-aoste-ehb":e,"vall\xE9e-d-aoste":e,valleeaoste:e,"xn--valleaoste-e7a":e,vall\u00E9eaoste:e,valleedaoste:e,"xn--valledaoste-ebb":e,vall\u00E9edaoste:e,vao:e,vda:e,ven:e,veneto:e,ag:e,agrigento:e,al:e,alessandria:e,"alto-adige":e,altoadige:e,an:e,ancona:e,"andria-barletta-trani":e,"andria-trani-barletta":e,andriabarlettatrani:e,andriatranibarletta:e,ao:e,aosta:e,aoste:e,ap:e,aq:e,aquila:e,ar:e,arezzo:e,"ascoli-piceno":e,ascolipiceno:e,asti:e,at:e,av:e,avellino:e,ba:e,balsan:e,"balsan-sudtirol":e,"xn--balsan-sdtirol-nsb":e,"balsan-s\xFCdtirol":e,"balsan-suedtirol":e,bari:e,"barletta-trani-andria":e,barlettatraniandria:e,belluno:e,benevento:e,bergamo:e,bg:e,bi:e,biella:e,bl:e,bn:e,bo:e,bologna:e,bolzano:e,"bolzano-altoadige":e,bozen:e,"bozen-sudtirol":e,"xn--bozen-sdtirol-2ob":e,"bozen-s\xFCdtirol":e,"bozen-suedtirol":e,br:e,brescia:e,brindisi:e,bs:e,bt:e,bulsan:e,"bulsan-sudtirol":e,"xn--bulsan-sdtirol-nsb":e,"bulsan-s\xFCdtirol":e,"bulsan-suedtirol":e,bz:e,ca:e,cagliari:e,caltanissetta:e,"campidano-medio":e,campidanomedio:e,campobasso:e,"carbonia-iglesias":e,carboniaiglesias:e,"carrara-massa":e,carraramassa:e,caserta:e,catania:e,catanzaro:e,cb:e,ce:e,"cesena-forli":e,"xn--cesena-forl-mcb":e,"cesena-forl\xEC":e,cesenaforli:e,"xn--cesenaforl-i8a":e,cesenaforl\u00EC:e,ch:e,chieti:e,ci:e,cl:e,cn:e,co:e,como:e,cosenza:e,cr:e,cremona:e,crotone:e,cs:e,ct:e,cuneo:e,cz:e,"dell-ogliastra":e,dellogliastra:e,en:e,enna:e,fc:e,fe:e,fermo:e,ferrara:e,fg:e,fi:e,firenze:e,florence:e,fm:e,foggia:e,"forli-cesena":e,"xn--forl-cesena-fcb":e,"forl\xEC-cesena":e,forlicesena:e,"xn--forlcesena-c8a":e,forl\u00ECcesena:e,fr:e,frosinone:e,ge:e,genoa:e,genova:e,go:e,gorizia:e,gr:e,grosseto:e,"iglesias-carbonia":e,iglesiascarbonia:e,im:e,imperia:e,is:e,isernia:e,kr:e,"la-spezia":e,laquila:e,laspezia:e,latina:e,lc:e,le:e,lecce:e,lecco:e,li:e,livorno:e,lo:e,lodi:e,lt:e,lu:e,lucca:e,macerata:e,mantova:e,"massa-carrara":e,massacarrara:e,matera:e,mb:e,mc:e,me:e,"medio-campidano":e,mediocampidano:e,messina:e,mi:e,milan:e,milano:e,mn:e,mo:e,modena:e,monza:e,"monza-brianza":e,"monza-e-della-brianza":e,monzabrianza:e,monzaebrianza:e,monzaedellabrianza:e,ms:e,mt:e,na:e,naples:e,napoli:e,no:e,novara:e,nu:e,nuoro:e,og:e,ogliastra:e,"olbia-tempio":e,olbiatempio:e,or:e,oristano:e,ot:e,pa:e,padova:e,padua:e,palermo:e,parma:e,pavia:e,pc:e,pd:e,pe:e,perugia:e,"pesaro-urbino":e,pesarourbino:e,pescara:e,pg:e,pi:e,piacenza:e,pisa:e,pistoia:e,pn:e,po:e,pordenone:e,potenza:e,pr:e,prato:e,pt:e,pu:e,pv:e,pz:e,ra:e,ragusa:e,ravenna:e,rc:e,re:e,"reggio-calabria":e,"reggio-emilia":e,reggiocalabria:e,reggioemilia:e,rg:e,ri:e,rieti:e,rimini:e,rm:e,rn:e,ro:e,roma:e,rome:e,rovigo:e,sa:e,salerno:e,sassari:e,savona:e,si:e,siena:e,siracusa:e,so:e,sondrio:e,sp:e,sr:e,ss:e,"xn--sdtirol-n2a":e,s\u00FCdtirol:e,suedtirol:e,sv:e,ta:e,taranto:e,te:e,"tempio-olbia":e,tempioolbia:e,teramo:e,terni:e,tn:e,to:e,torino:e,tp:e,tr:e,"trani-andria-barletta":e,"trani-barletta-andria":e,traniandriabarletta:e,tranibarlettaandria:e,trapani:e,trento:e,treviso:e,trieste:e,ts:e,turin:e,tv:e,ud:e,udine:e,"urbino-pesaro":e,urbinopesaro:e,va:e,varese:e,vb:e,vc:e,ve:e,venezia:e,venice:e,verbania:e,vercelli:e,verona:e,vi:e,"vibo-valentia":e,vibovalentia:e,vicenza:e,viterbo:e,vr:e,vs:e,vt:e,vv:e,"12chars":t,ibxos:t,iliadboxos:t,neen:[0,{jc:t}],"123homepage":t,"16-b":t,"32-b":t,"64-b":t,myspreadshop:t,syncloud:t}],je:[1,{co:e,net:e,org:e,of:t}],jm:g,jo:[1,{agri:e,ai:e,com:e,edu:e,eng:e,fm:e,gov:e,mil:e,net:e,org:e,per:e,phd:e,sch:e,tv:e}],jobs:e,jp:[1,{ac:e,ad:e,co:e,ed:e,go:e,gr:e,lg:e,ne:[1,{aseinet:Ie,gehirn:t,ivory:t,"mail-box":t,mints:t,mokuren:t,opal:t,sakura:t,sumomo:t,topaz:t}],or:e,aichi:[1,{aisai:e,ama:e,anjo:e,asuke:e,chiryu:e,chita:e,fuso:e,gamagori:e,handa:e,hazu:e,hekinan:e,higashiura:e,ichinomiya:e,inazawa:e,inuyama:e,isshiki:e,iwakura:e,kanie:e,kariya:e,kasugai:e,kira:e,kiyosu:e,komaki:e,konan:e,kota:e,mihama:e,miyoshi:e,nishio:e,nisshin:e,obu:e,oguchi:e,oharu:e,okazaki:e,owariasahi:e,seto:e,shikatsu:e,shinshiro:e,shitara:e,tahara:e,takahama:e,tobishima:e,toei:e,togo:e,tokai:e,tokoname:e,toyoake:e,toyohashi:e,toyokawa:e,toyone:e,toyota:e,tsushima:e,yatomi:e}],akita:[1,{akita:e,daisen:e,fujisato:e,gojome:e,hachirogata:e,happou:e,higashinaruse:e,honjo:e,honjyo:e,ikawa:e,kamikoani:e,kamioka:e,katagami:e,kazuno:e,kitaakita:e,kosaka:e,kyowa:e,misato:e,mitane:e,moriyoshi:e,nikaho:e,noshiro:e,odate:e,oga:e,ogata:e,semboku:e,yokote:e,yurihonjo:e}],aomori:[1,{aomori:e,gonohe:e,hachinohe:e,hashikami:e,hiranai:e,hirosaki:e,itayanagi:e,kuroishi:e,misawa:e,mutsu:e,nakadomari:e,noheji:e,oirase:e,owani:e,rokunohe:e,sannohe:e,shichinohe:e,shingo:e,takko:e,towada:e,tsugaru:e,tsuruta:e}],chiba:[1,{abiko:e,asahi:e,chonan:e,chosei:e,choshi:e,chuo:e,funabashi:e,futtsu:e,hanamigawa:e,ichihara:e,ichikawa:e,ichinomiya:e,inzai:e,isumi:e,kamagaya:e,kamogawa:e,kashiwa:e,katori:e,katsuura:e,kimitsu:e,kisarazu:e,kozaki:e,kujukuri:e,kyonan:e,matsudo:e,midori:e,mihama:e,minamiboso:e,mobara:e,mutsuzawa:e,nagara:e,nagareyama:e,narashino:e,narita:e,noda:e,oamishirasato:e,omigawa:e,onjuku:e,otaki:e,sakae:e,sakura:e,shimofusa:e,shirako:e,shiroi:e,shisui:e,sodegaura:e,sosa:e,tako:e,tateyama:e,togane:e,tohnosho:e,tomisato:e,urayasu:e,yachimata:e,yachiyo:e,yokaichiba:e,yokoshibahikari:e,yotsukaido:e}],ehime:[1,{ainan:e,honai:e,ikata:e,imabari:e,iyo:e,kamijima:e,kihoku:e,kumakogen:e,masaki:e,matsuno:e,matsuyama:e,namikata:e,niihama:e,ozu:e,saijo:e,seiyo:e,shikokuchuo:e,tobe:e,toon:e,uchiko:e,uwajima:e,yawatahama:e}],fukui:[1,{echizen:e,eiheiji:e,fukui:e,ikeda:e,katsuyama:e,mihama:e,minamiechizen:e,obama:e,ohi:e,ono:e,sabae:e,sakai:e,takahama:e,tsuruga:e,wakasa:e}],fukuoka:[1,{ashiya:e,buzen:e,chikugo:e,chikuho:e,chikujo:e,chikushino:e,chikuzen:e,chuo:e,dazaifu:e,fukuchi:e,hakata:e,higashi:e,hirokawa:e,hisayama:e,iizuka:e,inatsuki:e,kaho:e,kasuga:e,kasuya:e,kawara:e,keisen:e,koga:e,kurate:e,kurogi:e,kurume:e,minami:e,miyako:e,miyama:e,miyawaka:e,mizumaki:e,munakata:e,nakagawa:e,nakama:e,nishi:e,nogata:e,ogori:e,okagaki:e,okawa:e,oki:e,omuta:e,onga:e,onojo:e,oto:e,saigawa:e,sasaguri:e,shingu:e,shinyoshitomi:e,shonai:e,soeda:e,sue:e,tachiarai:e,tagawa:e,takata:e,toho:e,toyotsu:e,tsuiki:e,ukiha:e,umi:e,usui:e,yamada:e,yame:e,yanagawa:e,yukuhashi:e}],fukushima:[1,{aizubange:e,aizumisato:e,aizuwakamatsu:e,asakawa:e,bandai:e,date:e,fukushima:e,furudono:e,futaba:e,hanawa:e,higashi:e,hirata:e,hirono:e,iitate:e,inawashiro:e,ishikawa:e,iwaki:e,izumizaki:e,kagamiishi:e,kaneyama:e,kawamata:e,kitakata:e,kitashiobara:e,koori:e,koriyama:e,kunimi:e,miharu:e,mishima:e,namie:e,nango:e,nishiaizu:e,nishigo:e,okuma:e,omotego:e,ono:e,otama:e,samegawa:e,shimogo:e,shirakawa:e,showa:e,soma:e,sukagawa:e,taishin:e,tamakawa:e,tanagura:e,tenei:e,yabuki:e,yamato:e,yamatsuri:e,yanaizu:e,yugawa:e}],gifu:[1,{anpachi:e,ena:e,gifu:e,ginan:e,godo:e,gujo:e,hashima:e,hichiso:e,hida:e,higashishirakawa:e,ibigawa:e,ikeda:e,kakamigahara:e,kani:e,kasahara:e,kasamatsu:e,kawaue:e,kitagata:e,mino:e,minokamo:e,mitake:e,mizunami:e,motosu:e,nakatsugawa:e,ogaki:e,sakahogi:e,seki:e,sekigahara:e,shirakawa:e,tajimi:e,takayama:e,tarui:e,toki:e,tomika:e,wanouchi:e,yamagata:e,yaotsu:e,yoro:e}],gunma:[1,{annaka:e,chiyoda:e,fujioka:e,higashiagatsuma:e,isesaki:e,itakura:e,kanna:e,kanra:e,katashina:e,kawaba:e,kiryu:e,kusatsu:e,maebashi:e,meiwa:e,midori:e,minakami:e,naganohara:e,nakanojo:e,nanmoku:e,numata:e,oizumi:e,ora:e,ota:e,shibukawa:e,shimonita:e,shinto:e,showa:e,takasaki:e,takayama:e,tamamura:e,tatebayashi:e,tomioka:e,tsukiyono:e,tsumagoi:e,ueno:e,yoshioka:e}],hiroshima:[1,{asaminami:e,daiwa:e,etajima:e,fuchu:e,fukuyama:e,hatsukaichi:e,higashihiroshima:e,hongo:e,jinsekikogen:e,kaita:e,kui:e,kumano:e,kure:e,mihara:e,miyoshi:e,naka:e,onomichi:e,osakikamijima:e,otake:e,saka:e,sera:e,seranishi:e,shinichi:e,shobara:e,takehara:e}],hokkaido:[1,{abashiri:e,abira:e,aibetsu:e,akabira:e,akkeshi:e,asahikawa:e,ashibetsu:e,ashoro:e,assabu:e,atsuma:e,bibai:e,biei:e,bifuka:e,bihoro:e,biratori:e,chippubetsu:e,chitose:e,date:e,ebetsu:e,embetsu:e,eniwa:e,erimo:e,esan:e,esashi:e,fukagawa:e,fukushima:e,furano:e,furubira:e,haboro:e,hakodate:e,hamatonbetsu:e,hidaka:e,higashikagura:e,higashikawa:e,hiroo:e,hokuryu:e,hokuto:e,honbetsu:e,horokanai:e,horonobe:e,ikeda:e,imakane:e,ishikari:e,iwamizawa:e,iwanai:e,kamifurano:e,kamikawa:e,kamishihoro:e,kamisunagawa:e,kamoenai:e,kayabe:e,kembuchi:e,kikonai:e,kimobetsu:e,kitahiroshima:e,kitami:e,kiyosato:e,koshimizu:e,kunneppu:e,kuriyama:e,kuromatsunai:e,kushiro:e,kutchan:e,kyowa:e,mashike:e,matsumae:e,mikasa:e,minamifurano:e,mombetsu:e,moseushi:e,mukawa:e,muroran:e,naie:e,nakagawa:e,nakasatsunai:e,nakatombetsu:e,nanae:e,nanporo:e,nayoro:e,nemuro:e,niikappu:e,niki:e,nishiokoppe:e,noboribetsu:e,numata:e,obihiro:e,obira:e,oketo:e,okoppe:e,otaru:e,otobe:e,otofuke:e,otoineppu:e,oumu:e,ozora:e,pippu:e,rankoshi:e,rebun:e,rikubetsu:e,rishiri:e,rishirifuji:e,saroma:e,sarufutsu:e,shakotan:e,shari:e,shibecha:e,shibetsu:e,shikabe:e,shikaoi:e,shimamaki:e,shimizu:e,shimokawa:e,shinshinotsu:e,shintoku:e,shiranuka:e,shiraoi:e,shiriuchi:e,sobetsu:e,sunagawa:e,taiki:e,takasu:e,takikawa:e,takinoue:e,teshikaga:e,tobetsu:e,tohma:e,tomakomai:e,tomari:e,toya:e,toyako:e,toyotomi:e,toyoura:e,tsubetsu:e,tsukigata:e,urakawa:e,urausu:e,uryu:e,utashinai:e,wakkanai:e,wassamu:e,yakumo:e,yoichi:e}],hyogo:[1,{aioi:e,akashi:e,ako:e,amagasaki:e,aogaki:e,asago:e,ashiya:e,awaji:e,fukusaki:e,goshiki:e,harima:e,himeji:e,ichikawa:e,inagawa:e,itami:e,kakogawa:e,kamigori:e,kamikawa:e,kasai:e,kasuga:e,kawanishi:e,miki:e,minamiawaji:e,nishinomiya:e,nishiwaki:e,ono:e,sanda:e,sannan:e,sasayama:e,sayo:e,shingu:e,shinonsen:e,shiso:e,sumoto:e,taishi:e,taka:e,takarazuka:e,takasago:e,takino:e,tamba:e,tatsuno:e,toyooka:e,yabu:e,yashiro:e,yoka:e,yokawa:e}],ibaraki:[1,{ami:e,asahi:e,bando:e,chikusei:e,daigo:e,fujishiro:e,hitachi:e,hitachinaka:e,hitachiomiya:e,hitachiota:e,ibaraki:e,ina:e,inashiki:e,itako:e,iwama:e,joso:e,kamisu:e,kasama:e,kashima:e,kasumigaura:e,koga:e,miho:e,mito:e,moriya:e,naka:e,namegata:e,oarai:e,ogawa:e,omitama:e,ryugasaki:e,sakai:e,sakuragawa:e,shimodate:e,shimotsuma:e,shirosato:e,sowa:e,suifu:e,takahagi:e,tamatsukuri:e,tokai:e,tomobe:e,tone:e,toride:e,tsuchiura:e,tsukuba:e,uchihara:e,ushiku:e,yachiyo:e,yamagata:e,yawara:e,yuki:e}],ishikawa:[1,{anamizu:e,hakui:e,hakusan:e,kaga:e,kahoku:e,kanazawa:e,kawakita:e,komatsu:e,nakanoto:e,nanao:e,nomi:e,nonoichi:e,noto:e,shika:e,suzu:e,tsubata:e,tsurugi:e,uchinada:e,wajima:e}],iwate:[1,{fudai:e,fujisawa:e,hanamaki:e,hiraizumi:e,hirono:e,ichinohe:e,ichinoseki:e,iwaizumi:e,iwate:e,joboji:e,kamaishi:e,kanegasaki:e,karumai:e,kawai:e,kitakami:e,kuji:e,kunohe:e,kuzumaki:e,miyako:e,mizusawa:e,morioka:e,ninohe:e,noda:e,ofunato:e,oshu:e,otsuchi:e,rikuzentakata:e,shiwa:e,shizukuishi:e,sumita:e,tanohata:e,tono:e,yahaba:e,yamada:e}],kagawa:[1,{ayagawa:e,higashikagawa:e,kanonji:e,kotohira:e,manno:e,marugame:e,mitoyo:e,naoshima:e,sanuki:e,tadotsu:e,takamatsu:e,tonosho:e,uchinomi:e,utazu:e,zentsuji:e}],kagoshima:[1,{akune:e,amami:e,hioki:e,isa:e,isen:e,izumi:e,kagoshima:e,kanoya:e,kawanabe:e,kinko:e,kouyama:e,makurazaki:e,matsumoto:e,minamitane:e,nakatane:e,nishinoomote:e,satsumasendai:e,soo:e,tarumizu:e,yusui:e}],kanagawa:[1,{aikawa:e,atsugi:e,ayase:e,chigasaki:e,ebina:e,fujisawa:e,hadano:e,hakone:e,hiratsuka:e,isehara:e,kaisei:e,kamakura:e,kiyokawa:e,matsuda:e,minamiashigara:e,miura:e,nakai:e,ninomiya:e,odawara:e,oi:e,oiso:e,sagamihara:e,samukawa:e,tsukui:e,yamakita:e,yamato:e,yokosuka:e,yugawara:e,zama:e,zushi:e}],kochi:[1,{aki:e,geisei:e,hidaka:e,higashitsuno:e,ino:e,kagami:e,kami:e,kitagawa:e,kochi:e,mihara:e,motoyama:e,muroto:e,nahari:e,nakamura:e,nankoku:e,nishitosa:e,niyodogawa:e,ochi:e,okawa:e,otoyo:e,otsuki:e,sakawa:e,sukumo:e,susaki:e,tosa:e,tosashimizu:e,toyo:e,tsuno:e,umaji:e,yasuda:e,yusuhara:e}],kumamoto:[1,{amakusa:e,arao:e,aso:e,choyo:e,gyokuto:e,kamiamakusa:e,kikuchi:e,kumamoto:e,mashiki:e,mifune:e,minamata:e,minamioguni:e,nagasu:e,nishihara:e,oguni:e,ozu:e,sumoto:e,takamori:e,uki:e,uto:e,yamaga:e,yamato:e,yatsushiro:e}],kyoto:[1,{ayabe:e,fukuchiyama:e,higashiyama:e,ide:e,ine:e,joyo:e,kameoka:e,kamo:e,kita:e,kizu:e,kumiyama:e,kyotamba:e,kyotanabe:e,kyotango:e,maizuru:e,minami:e,minamiyamashiro:e,miyazu:e,muko:e,nagaokakyo:e,nakagyo:e,nantan:e,oyamazaki:e,sakyo:e,seika:e,tanabe:e,uji:e,ujitawara:e,wazuka:e,yamashina:e,yawata:e}],mie:[1,{asahi:e,inabe:e,ise:e,kameyama:e,kawagoe:e,kiho:e,kisosaki:e,kiwa:e,komono:e,kumano:e,kuwana:e,matsusaka:e,meiwa:e,mihama:e,minamiise:e,misugi:e,miyama:e,nabari:e,shima:e,suzuka:e,tado:e,taiki:e,taki:e,tamaki:e,toba:e,tsu:e,udono:e,ureshino:e,watarai:e,yokkaichi:e}],miyagi:[1,{furukawa:e,higashimatsushima:e,ishinomaki:e,iwanuma:e,kakuda:e,kami:e,kawasaki:e,marumori:e,matsushima:e,minamisanriku:e,misato:e,murata:e,natori:e,ogawara:e,ohira:e,onagawa:e,osaki:e,rifu:e,semine:e,shibata:e,shichikashuku:e,shikama:e,shiogama:e,shiroishi:e,tagajo:e,taiwa:e,tome:e,tomiya:e,wakuya:e,watari:e,yamamoto:e,zao:e}],miyazaki:[1,{aya:e,ebino:e,gokase:e,hyuga:e,kadogawa:e,kawaminami:e,kijo:e,kitagawa:e,kitakata:e,kitaura:e,kobayashi:e,kunitomi:e,kushima:e,mimata:e,miyakonojo:e,miyazaki:e,morotsuka:e,nichinan:e,nishimera:e,nobeoka:e,saito:e,shiiba:e,shintomi:e,takaharu:e,takanabe:e,takazaki:e,tsuno:e}],nagano:[1,{achi:e,agematsu:e,anan:e,aoki:e,asahi:e,azumino:e,chikuhoku:e,chikuma:e,chino:e,fujimi:e,hakuba:e,hara:e,hiraya:e,iida:e,iijima:e,iiyama:e,iizuna:e,ikeda:e,ikusaka:e,ina:e,karuizawa:e,kawakami:e,kiso:e,kisofukushima:e,kitaaiki:e,komagane:e,komoro:e,matsukawa:e,matsumoto:e,miasa:e,minamiaiki:e,minamimaki:e,minamiminowa:e,minowa:e,miyada:e,miyota:e,mochizuki:e,nagano:e,nagawa:e,nagiso:e,nakagawa:e,nakano:e,nozawaonsen:e,obuse:e,ogawa:e,okaya:e,omachi:e,omi:e,ookuwa:e,ooshika:e,otaki:e,otari:e,sakae:e,sakaki:e,saku:e,sakuho:e,shimosuwa:e,shinanomachi:e,shiojiri:e,suwa:e,suzaka:e,takagi:e,takamori:e,takayama:e,tateshina:e,tatsuno:e,togakushi:e,togura:e,tomi:e,ueda:e,wada:e,yamagata:e,yamanouchi:e,yasaka:e,yasuoka:e}],nagasaki:[1,{chijiwa:e,futsu:e,goto:e,hasami:e,hirado:e,iki:e,isahaya:e,kawatana:e,kuchinotsu:e,matsuura:e,nagasaki:e,obama:e,omura:e,oseto:e,saikai:e,sasebo:e,seihi:e,shimabara:e,shinkamigoto:e,togitsu:e,tsushima:e,unzen:e}],nara:[1,{ando:e,gose:e,heguri:e,higashiyoshino:e,ikaruga:e,ikoma:e,kamikitayama:e,kanmaki:e,kashiba:e,kashihara:e,katsuragi:e,kawai:e,kawakami:e,kawanishi:e,koryo:e,kurotaki:e,mitsue:e,miyake:e,nara:e,nosegawa:e,oji:e,ouda:e,oyodo:e,sakurai:e,sango:e,shimoichi:e,shimokitayama:e,shinjo:e,soni:e,takatori:e,tawaramoto:e,tenkawa:e,tenri:e,uda:e,yamatokoriyama:e,yamatotakada:e,yamazoe:e,yoshino:e}],niigata:[1,{aga:e,agano:e,gosen:e,itoigawa:e,izumozaki:e,joetsu:e,kamo:e,kariwa:e,kashiwazaki:e,minamiuonuma:e,mitsuke:e,muika:e,murakami:e,myoko:e,nagaoka:e,niigata:e,ojiya:e,omi:e,sado:e,sanjo:e,seiro:e,seirou:e,sekikawa:e,shibata:e,tagami:e,tainai:e,tochio:e,tokamachi:e,tsubame:e,tsunan:e,uonuma:e,yahiko:e,yoita:e,yuzawa:e}],oita:[1,{beppu:e,bungoono:e,bungotakada:e,hasama:e,hiji:e,himeshima:e,hita:e,kamitsue:e,kokonoe:e,kuju:e,kunisaki:e,kusu:e,oita:e,saiki:e,taketa:e,tsukumi:e,usa:e,usuki:e,yufu:e}],okayama:[1,{akaiwa:e,asakuchi:e,bizen:e,hayashima:e,ibara:e,kagamino:e,kasaoka:e,kibichuo:e,kumenan:e,kurashiki:e,maniwa:e,misaki:e,nagi:e,niimi:e,nishiawakura:e,okayama:e,satosho:e,setouchi:e,shinjo:e,shoo:e,soja:e,takahashi:e,tamano:e,tsuyama:e,wake:e,yakage:e}],okinawa:[1,{aguni:e,ginowan:e,ginoza:e,gushikami:e,haebaru:e,higashi:e,hirara:e,iheya:e,ishigaki:e,ishikawa:e,itoman:e,izena:e,kadena:e,kin:e,kitadaito:e,kitanakagusuku:e,kumejima:e,kunigami:e,minamidaito:e,motobu:e,nago:e,naha:e,nakagusuku:e,nakijin:e,nanjo:e,nishihara:e,ogimi:e,okinawa:e,onna:e,shimoji:e,taketomi:e,tarama:e,tokashiki:e,tomigusuku:e,tonaki:e,urasoe:e,uruma:e,yaese:e,yomitan:e,yonabaru:e,yonaguni:e,zamami:e}],osaka:[1,{abeno:e,chihayaakasaka:e,chuo:e,daito:e,fujiidera:e,habikino:e,hannan:e,higashiosaka:e,higashisumiyoshi:e,higashiyodogawa:e,hirakata:e,ibaraki:e,ikeda:e,izumi:e,izumiotsu:e,izumisano:e,kadoma:e,kaizuka:e,kanan:e,kashiwara:e,katano:e,kawachinagano:e,kishiwada:e,kita:e,kumatori:e,matsubara:e,minato:e,minoh:e,misaki:e,moriguchi:e,neyagawa:e,nishi:e,nose:e,osakasayama:e,sakai:e,sayama:e,sennan:e,settsu:e,shijonawate:e,shimamoto:e,suita:e,tadaoka:e,taishi:e,tajiri:e,takaishi:e,takatsuki:e,tondabayashi:e,toyonaka:e,toyono:e,yao:e}],saga:[1,{ariake:e,arita:e,fukudomi:e,genkai:e,hamatama:e,hizen:e,imari:e,kamimine:e,kanzaki:e,karatsu:e,kashima:e,kitagata:e,kitahata:e,kiyama:e,kouhoku:e,kyuragi:e,nishiarita:e,ogi:e,omachi:e,ouchi:e,saga:e,shiroishi:e,taku:e,tara:e,tosu:e,yoshinogari:e}],saitama:[1,{arakawa:e,asaka:e,chichibu:e,fujimi:e,fujimino:e,fukaya:e,hanno:e,hanyu:e,hasuda:e,hatogaya:e,hatoyama:e,hidaka:e,higashichichibu:e,higashimatsuyama:e,honjo:e,ina:e,iruma:e,iwatsuki:e,kamiizumi:e,kamikawa:e,kamisato:e,kasukabe:e,kawagoe:e,kawaguchi:e,kawajima:e,kazo:e,kitamoto:e,koshigaya:e,kounosu:e,kuki:e,kumagaya:e,matsubushi:e,minano:e,misato:e,miyashiro:e,miyoshi:e,moroyama:e,nagatoro:e,namegawa:e,niiza:e,ogano:e,ogawa:e,ogose:e,okegawa:e,omiya:e,otaki:e,ranzan:e,ryokami:e,saitama:e,sakado:e,satte:e,sayama:e,shiki:e,shiraoka:e,soka:e,sugito:e,toda:e,tokigawa:e,tokorozawa:e,tsurugashima:e,urawa:e,warabi:e,yashio:e,yokoze:e,yono:e,yorii:e,yoshida:e,yoshikawa:e,yoshimi:e}],shiga:[1,{aisho:e,gamo:e,higashiomi:e,hikone:e,koka:e,konan:e,kosei:e,koto:e,kusatsu:e,maibara:e,moriyama:e,nagahama:e,nishiazai:e,notogawa:e,omihachiman:e,otsu:e,ritto:e,ryuoh:e,takashima:e,takatsuki:e,torahime:e,toyosato:e,yasu:e}],shimane:[1,{akagi:e,ama:e,gotsu:e,hamada:e,higashiizumo:e,hikawa:e,hikimi:e,izumo:e,kakinoki:e,masuda:e,matsue:e,misato:e,nishinoshima:e,ohda:e,okinoshima:e,okuizumo:e,shimane:e,tamayu:e,tsuwano:e,unnan:e,yakumo:e,yasugi:e,yatsuka:e}],shizuoka:[1,{arai:e,atami:e,fuji:e,fujieda:e,fujikawa:e,fujinomiya:e,fukuroi:e,gotemba:e,haibara:e,hamamatsu:e,higashiizu:e,ito:e,iwata:e,izu:e,izunokuni:e,kakegawa:e,kannami:e,kawanehon:e,kawazu:e,kikugawa:e,kosai:e,makinohara:e,matsuzaki:e,minamiizu:e,mishima:e,morimachi:e,nishiizu:e,numazu:e,omaezaki:e,shimada:e,shimizu:e,shimoda:e,shizuoka:e,susono:e,yaizu:e,yoshida:e}],tochigi:[1,{ashikaga:e,bato:e,haga:e,ichikai:e,iwafune:e,kaminokawa:e,kanuma:e,karasuyama:e,kuroiso:e,mashiko:e,mibu:e,moka:e,motegi:e,nasu:e,nasushiobara:e,nikko:e,nishikata:e,nogi:e,ohira:e,ohtawara:e,oyama:e,sakura:e,sano:e,shimotsuke:e,shioya:e,takanezawa:e,tochigi:e,tsuga:e,ujiie:e,utsunomiya:e,yaita:e}],tokushima:[1,{aizumi:e,anan:e,ichiba:e,itano:e,kainan:e,komatsushima:e,matsushige:e,mima:e,minami:e,miyoshi:e,mugi:e,nakagawa:e,naruto:e,sanagochi:e,shishikui:e,tokushima:e,wajiki:e}],tokyo:[1,{adachi:e,akiruno:e,akishima:e,aogashima:e,arakawa:e,bunkyo:e,chiyoda:e,chofu:e,chuo:e,edogawa:e,fuchu:e,fussa:e,hachijo:e,hachioji:e,hamura:e,higashikurume:e,higashimurayama:e,higashiyamato:e,hino:e,hinode:e,hinohara:e,inagi:e,itabashi:e,katsushika:e,kita:e,kiyose:e,kodaira:e,koganei:e,kokubunji:e,komae:e,koto:e,kouzushima:e,kunitachi:e,machida:e,meguro:e,minato:e,mitaka:e,mizuho:e,musashimurayama:e,musashino:e,nakano:e,nerima:e,ogasawara:e,okutama:e,ome:e,oshima:e,ota:e,setagaya:e,shibuya:e,shinagawa:e,shinjuku:e,suginami:e,sumida:e,tachikawa:e,taito:e,tama:e,toshima:e}],tottori:[1,{chizu:e,hino:e,kawahara:e,koge:e,kotoura:e,misasa:e,nanbu:e,nichinan:e,sakaiminato:e,tottori:e,wakasa:e,yazu:e,yonago:e}],toyama:[1,{asahi:e,fuchu:e,fukumitsu:e,funahashi:e,himi:e,imizu:e,inami:e,johana:e,kamiichi:e,kurobe:e,nakaniikawa:e,namerikawa:e,nanto:e,nyuzen:e,oyabe:e,taira:e,takaoka:e,tateyama:e,toga:e,tonami:e,toyama:e,unazuki:e,uozu:e,yamada:e}],wakayama:[1,{arida:e,aridagawa:e,gobo:e,hashimoto:e,hidaka:e,hirogawa:e,inami:e,iwade:e,kainan:e,kamitonda:e,katsuragi:e,kimino:e,kinokawa:e,kitayama:e,koya:e,koza:e,kozagawa:e,kudoyama:e,kushimoto:e,mihama:e,misato:e,nachikatsuura:e,shingu:e,shirahama:e,taiji:e,tanabe:e,wakayama:e,yuasa:e,yura:e}],yamagata:[1,{asahi:e,funagata:e,higashine:e,iide:e,kahoku:e,kaminoyama:e,kaneyama:e,kawanishi:e,mamurogawa:e,mikawa:e,murayama:e,nagai:e,nakayama:e,nanyo:e,nishikawa:e,obanazawa:e,oe:e,oguni:e,ohkura:e,oishida:e,sagae:e,sakata:e,sakegawa:e,shinjo:e,shirataka:e,shonai:e,takahata:e,tendo:e,tozawa:e,tsuruoka:e,yamagata:e,yamanobe:e,yonezawa:e,yuza:e}],yamaguchi:[1,{abu:e,hagi:e,hikari:e,hofu:e,iwakuni:e,kudamatsu:e,mitou:e,nagato:e,oshima:e,shimonoseki:e,shunan:e,tabuse:e,tokuyama:e,toyota:e,ube:e,yuu:e}],yamanashi:[1,{chuo:e,doshi:e,fuefuki:e,fujikawa:e,fujikawaguchiko:e,fujiyoshida:e,hayakawa:e,hokuto:e,ichikawamisato:e,kai:e,kofu:e,koshu:e,kosuge:e,"minami-alps":e,minobu:e,nakamichi:e,nanbu:e,narusawa:e,nirasaki:e,nishikatsura:e,oshino:e,otsuki:e,showa:e,tabayama:e,tsuru:e,uenohara:e,yamanakako:e,yamanashi:e}],"xn--ehqz56n":e,\u4E09\u91CD:e,"xn--1lqs03n":e,\u4EAC\u90FD:e,"xn--qqqt11m":e,\u4F50\u8CC0:e,"xn--f6qx53a":e,\u5175\u5EAB:e,"xn--djrs72d6uy":e,\u5317\u6D77\u9053:e,"xn--mkru45i":e,\u5343\u8449:e,"xn--0trq7p7nn":e,\u548C\u6B4C\u5C71:e,"xn--5js045d":e,\u57FC\u7389:e,"xn--kbrq7o":e,\u5927\u5206:e,"xn--pssu33l":e,\u5927\u962A:e,"xn--ntsq17g":e,\u5948\u826F:e,"xn--uisz3g":e,\u5BAE\u57CE:e,"xn--6btw5a":e,\u5BAE\u5D0E:e,"xn--1ctwo":e,\u5BCC\u5C71:e,"xn--6orx2r":e,\u5C71\u53E3:e,"xn--rht61e":e,\u5C71\u5F62:e,"xn--rht27z":e,\u5C71\u68A8:e,"xn--nit225k":e,\u5C90\u961C:e,"xn--rht3d":e,\u5CA1\u5C71:e,"xn--djty4k":e,\u5CA9\u624B:e,"xn--klty5x":e,\u5CF6\u6839:e,"xn--kltx9a":e,\u5E83\u5CF6:e,"xn--kltp7d":e,\u5FB3\u5CF6:e,"xn--c3s14m":e,\u611B\u5A9B:e,"xn--vgu402c":e,\u611B\u77E5:e,"xn--efvn9s":e,\u65B0\u6F5F:e,"xn--1lqs71d":e,\u6771\u4EAC:e,"xn--4pvxs":e,\u6803\u6728:e,"xn--uuwu58a":e,\u6C96\u7E04:e,"xn--zbx025d":e,\u6ECB\u8CC0:e,"xn--8pvr4u":e,\u718A\u672C:e,"xn--5rtp49c":e,\u77F3\u5DDD:e,"xn--ntso0iqx3a":e,\u795E\u5948\u5DDD:e,"xn--elqq16h":e,\u798F\u4E95:e,"xn--4it168d":e,\u798F\u5CA1:e,"xn--klt787d":e,\u798F\u5CF6:e,"xn--rny31h":e,\u79CB\u7530:e,"xn--7t0a264c":e,\u7FA4\u99AC:e,"xn--uist22h":e,\u8328\u57CE:e,"xn--8ltr62k":e,\u9577\u5D0E:e,"xn--2m4a15e":e,\u9577\u91CE:e,"xn--32vp30h":e,\u9752\u68EE:e,"xn--4it797k":e,\u9759\u5CA1:e,"xn--5rtq34k":e,\u9999\u5DDD:e,"xn--k7yn95e":e,\u9AD8\u77E5:e,"xn--tor131o":e,\u9CE5\u53D6:e,"xn--d5qv7z876c":e,\u9E7F\u5150\u5CF6:e,kawasaki:g,kitakyushu:g,kobe:g,nagoya:g,sapporo:g,sendai:g,yokohama:g,buyshop:t,fashionstore:t,handcrafted:t,kawaiishop:t,supersale:t,theshop:t,"0am":t,"0g0":t,"0j0":t,"0t0":t,mydns:t,pgw:t,wjg:t,usercontent:t,angry:t,babyblue:t,babymilk:t,backdrop:t,bambina:t,bitter:t,blush:t,boo:t,boy:t,boyfriend:t,but:t,candypop:t,capoo:t,catfood:t,cheap:t,chicappa:t,chillout:t,chips:t,chowder:t,chu:t,ciao:t,cocotte:t,coolblog:t,cranky:t,cutegirl:t,daa:t,deca:t,deci:t,digick:t,egoism:t,fakefur:t,fem:t,flier:t,floppy:t,fool:t,frenchkiss:t,girlfriend:t,girly:t,gloomy:t,gonna:t,greater:t,hacca:t,heavy:t,her:t,hiho:t,hippy:t,holy:t,hungry:t,icurus:t,itigo:t,jellybean:t,kikirara:t,kill:t,kilo:t,kuron:t,littlestar:t,lolipopmc:t,lolitapunk:t,lomo:t,lovepop:t,lovesick:t,main:t,mods:t,mond:t,mongolian:t,moo:t,namaste:t,nikita:t,nobushi:t,noor:t,oops:t,parallel:t,parasite:t,pecori:t,peewee:t,penne:t,pepper:t,perma:t,pigboat:t,pinoko:t,punyu:t,pupu:t,pussycat:t,pya:t,raindrop:t,readymade:t,sadist:t,schoolbus:t,secret:t,staba:t,stripper:t,sub:t,sunnyday:t,thick:t,tonkotsu:t,under:t,upper:t,velvet:t,verse:t,versus:t,vivian:t,watson:t,weblike:t,whitesnow:t,zombie:t,hateblo:t,hatenablog:t,hatenadiary:t,"2-d":t,bona:t,crap:t,daynight:t,eek:t,flop:t,halfmoon:t,jeez:t,matrix:t,mimoza:t,netgamers:t,nyanta:t,o0o0:t,rdy:t,rgr:t,rulez:t,sakurastorage:[0,{isk01:I,isk02:I}],saloon:t,sblo:t,skr:t,tank:t,"uh-oh":t,undo:t,webaccel:[0,{rs:t,user:t}],websozai:t,xii:t}],ke:[1,{ac:e,co:e,go:e,info:e,me:e,mobi:e,ne:e,or:e,sc:e}],kg:[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e,us:t}],kh:g,ki:M,km:[1,{ass:e,com:e,edu:e,gov:e,mil:e,nom:e,org:e,prd:e,tm:e,asso:e,coop:e,gouv:e,medecin:e,notaires:e,pharmaciens:e,presse:e,veterinaire:e}],kn:[1,{edu:e,gov:e,net:e,org:e}],kp:[1,{com:e,edu:e,gov:e,org:e,rep:e,tra:e}],kr:[1,{ac:e,ai:e,co:e,es:e,go:e,hs:e,io:e,it:e,kg:e,me:e,mil:e,ms:e,ne:e,or:e,pe:e,re:e,sc:e,busan:e,chungbuk:e,chungnam:e,daegu:e,daejeon:e,gangwon:e,gwangju:e,gyeongbuk:e,gyeonggi:e,gyeongnam:e,incheon:e,jeju:e,jeonbuk:e,jeonnam:e,seoul:e,ulsan:e,c01:t,"eliv-dns":t}],kw:[1,{com:e,edu:e,emb:e,gov:e,ind:e,net:e,org:e}],ky:Pe,kz:[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e,jcloud:t}],la:[1,{com:e,edu:e,gov:e,info:e,int:e,net:e,org:e,per:e,bnr:t}],lb:r,lc:[1,{co:e,com:e,edu:e,gov:e,net:e,org:e,oy:t}],li:e,lk:[1,{ac:e,assn:e,com:e,edu:e,gov:e,grp:e,hotel:e,int:e,ltd:e,net:e,ngo:e,org:e,sch:e,soc:e,web:e}],lr:r,ls:[1,{ac:e,biz:e,co:e,edu:e,gov:e,info:e,net:e,org:e,sc:e}],lt:l,lu:[1,{"123website":t}],lv:[1,{asn:e,com:e,conf:e,edu:e,gov:e,id:e,mil:e,net:e,org:e}],ly:[1,{com:e,edu:e,gov:e,id:e,med:e,net:e,org:e,plc:e,sch:e}],ma:[1,{ac:e,co:e,gov:e,net:e,org:e,press:e}],mc:[1,{asso:e,tm:e}],md:[1,{ir:t}],me:[1,{ac:e,co:e,edu:e,gov:e,its:e,net:e,org:e,priv:e,c66:t,craft:t,edgestack:t,filegear:t,glitch:t,"filegear-sg":t,lohmus:t,barsy:t,mcdir:t,brasilia:t,ddns:t,dnsfor:t,hopto:t,loginto:t,noip:t,webhop:t,soundcast:t,tcp4:t,vp4:t,diskstation:t,dscloud:t,i234:t,myds:t,synology:t,transip:De,nohost:t}],mg:[1,{co:e,com:e,edu:e,gov:e,mil:e,nom:e,org:e,prd:e}],mh:e,mil:e,mk:[1,{com:e,edu:e,gov:e,inf:e,name:e,net:e,org:e}],ml:[1,{ac:e,art:e,asso:e,com:e,edu:e,gouv:e,gov:e,info:e,inst:e,net:e,org:e,pr:e,presse:e}],mm:g,mn:[1,{edu:e,gov:e,org:e,nyc:t}],mo:r,mobi:[1,{barsy:t,dscloud:t}],mp:[1,{ju:t}],mq:e,mr:l,ms:[1,{com:e,edu:e,gov:e,net:e,org:e,minisite:t}],mt:Pe,mu:[1,{ac:e,co:e,com:e,gov:e,net:e,or:e,org:e}],museum:e,mv:[1,{aero:e,biz:e,com:e,coop:e,edu:e,gov:e,info:e,int:e,mil:e,museum:e,name:e,net:e,org:e,pro:e}],mw:[1,{ac:e,biz:e,co:e,com:e,coop:e,edu:e,gov:e,int:e,net:e,org:e}],mx:[1,{com:e,edu:e,gob:e,net:e,org:e}],my:[1,{biz:e,com:e,edu:e,gov:e,mil:e,name:e,net:e,org:e}],mz:[1,{ac:e,adv:e,co:e,edu:e,gov:e,mil:e,net:e,org:e}],na:[1,{alt:e,co:e,com:e,gov:e,net:e,org:e}],name:[1,{her:he,his:he}],nc:[1,{asso:e,nom:e}],ne:e,net:[1,{adobeaemcloud:t,"adobeio-static":t,adobeioruntime:t,akadns:t,akamai:t,"akamai-staging":t,akamaiedge:t,"akamaiedge-staging":t,akamaihd:t,"akamaihd-staging":t,akamaiorigin:t,"akamaiorigin-staging":t,akamaized:t,"akamaized-staging":t,edgekey:t,"edgekey-staging":t,edgesuite:t,"edgesuite-staging":t,alwaysdata:t,myamaze:t,cloudfront:t,appudo:t,"atlassian-dev":[0,{prod:F}],myfritz:t,onavstack:t,shopselect:t,blackbaudcdn:t,boomla:t,bplaced:t,square7:t,cdn77:[0,{r:t}],"cdn77-ssl":t,gb:t,hu:t,jp:t,se:t,uk:t,clickrising:t,"ddns-ip":t,"dns-cloud":t,"dns-dynamic":t,cloudaccess:t,cloudflare:[2,{cdn:t}],cloudflareanycast:F,cloudflarecn:F,cloudflareglobal:F,ctfcloud:t,"feste-ip":t,"knx-server":t,"static-access":t,cryptonomic:s,dattolocal:t,mydatto:t,debian:t,definima:t,deno:t,"at-band-camp":t,blogdns:t,"broke-it":t,buyshouses:t,dnsalias:t,dnsdojo:t,"does-it":t,dontexist:t,dynalias:t,dynathome:t,endofinternet:t,"from-az":t,"from-co":t,"from-la":t,"from-ny":t,"gets-it":t,"ham-radio-op":t,homeftp:t,homeip:t,homelinux:t,homeunix:t,"in-the-band":t,"is-a-chef":t,"is-a-geek":t,"isa-geek":t,"kicks-ass":t,"office-on-the":t,podzone:t,"scrapper-site":t,selfip:t,"sells-it":t,servebbs:t,serveftp:t,thruhere:t,webhop:t,casacam:t,dynu:t,dynv6:t,twmail:t,ru:t,channelsdvr:[2,{u:t}],fastly:[0,{freetls:t,map:t,prod:[0,{a:t,global:t}],ssl:[0,{a:t,b:t,global:t}]}],fastlylb:[2,{map:t}],edgeapp:t,"keyword-on":t,"live-on":t,"server-on":t,"cdn-edges":t,heteml:t,cloudfunctions:t,"grafana-dev":t,iobb:t,moonscale:t,"in-dsl":t,"in-vpn":t,oninferno:t,botdash:t,"apps-1and1":t,ipifony:t,cloudjiffy:[2,{"fra1-de":t,"west1-us":t}],elastx:[0,{"jls-sto1":t,"jls-sto2":t,"jls-sto3":t}],massivegrid:[0,{paas:[0,{"fr-1":t,"lon-1":t,"lon-2":t,"ny-1":t,"ny-2":t,"sg-1":t}]}],saveincloud:[0,{jelastic:t,"nordeste-idc":t}],scaleforce:Xe,kinghost:t,uni5:t,krellian:t,ggff:t,localcert:t,localhostcert:t,localto:s,barsy:t,memset:t,"azure-api":t,"azure-mobile":t,azureedge:t,azurefd:t,azurestaticapps:[2,{1:t,2:t,3:t,4:t,5:t,6:t,7:t,centralus:t,eastasia:t,eastus2:t,westeurope:t,westus2:t}],azurewebsites:t,cloudapp:t,trafficmanager:t,windows:[0,{core:[0,{blob:t}],servicebus:t}],mynetname:[0,{sn:t}],routingthecloud:t,bounceme:t,ddns:t,"eating-organic":t,mydissent:t,myeffect:t,mymediapc:t,mypsx:t,mysecuritycamera:t,nhlfan:t,"no-ip":t,pgafan:t,privatizehealthinsurance:t,redirectme:t,serveblog:t,serveminecraft:t,sytes:t,dnsup:t,hicam:t,"now-dns":t,ownip:t,vpndns:t,cloudycluster:t,ovh:[0,{hosting:s,webpaas:s}],rackmaze:t,myradweb:t,in:t,"subsc-pay":t,squares:t,schokokeks:t,"firewall-gateway":t,seidat:t,senseering:t,siteleaf:t,mafelo:t,myspreadshop:t,"vps-host":[2,{jelastic:[0,{atl:t,njs:t,ric:t}]}],srcf:[0,{soc:t,user:t}],supabase:t,dsmynas:t,familyds:t,ts:[2,{c:s}],torproject:[2,{pages:t}],vusercontent:t,"reserve-online":t,"community-pro":t,meinforum:t,yandexcloud:[2,{storage:t,website:t}],za:t}],nf:[1,{arts:e,com:e,firm:e,info:e,net:e,other:e,per:e,rec:e,store:e,web:e}],ng:[1,{com:e,edu:e,gov:e,i:e,mil:e,mobi:e,name:e,net:e,org:e,sch:e,biz:[2,{co:t,dl:t,go:t,lg:t,on:t}],col:t,firm:t,gen:t,ltd:t,ngo:t,plc:t}],ni:[1,{ac:e,biz:e,co:e,com:e,edu:e,gob:e,in:e,info:e,int:e,mil:e,net:e,nom:e,org:e,web:e}],nl:[1,{co:t,"hosting-cluster":t,gov:t,khplay:t,"123website":t,myspreadshop:t,transurl:s,cistron:t,demon:t}],no:[1,{fhs:e,folkebibl:e,fylkesbibl:e,idrett:e,museum:e,priv:e,vgs:e,dep:e,herad:e,kommune:e,mil:e,stat:e,aa:oe,ah:oe,bu:oe,fm:oe,hl:oe,hm:oe,"jan-mayen":oe,mr:oe,nl:oe,nt:oe,of:oe,ol:oe,oslo:oe,rl:oe,sf:oe,st:oe,svalbard:oe,tm:oe,tr:oe,va:oe,vf:oe,akrehamn:e,"xn--krehamn-dxa":e,\u00E5krehamn:e,algard:e,"xn--lgrd-poac":e,\u00E5lg\u00E5rd:e,arna:e,bronnoysund:e,"xn--brnnysund-m8ac":e,br\u00F8nn\u00F8ysund:e,brumunddal:e,bryne:e,drobak:e,"xn--drbak-wua":e,dr\u00F8bak:e,egersund:e,fetsund:e,floro:e,"xn--flor-jra":e,flor\u00F8:e,fredrikstad:e,hokksund:e,honefoss:e,"xn--hnefoss-q1a":e,h\u00F8nefoss:e,jessheim:e,jorpeland:e,"xn--jrpeland-54a":e,j\u00F8rpeland:e,kirkenes:e,kopervik:e,krokstadelva:e,langevag:e,"xn--langevg-jxa":e,langev\u00E5g:e,leirvik:e,mjondalen:e,"xn--mjndalen-64a":e,mj\u00F8ndalen:e,"mo-i-rana":e,mosjoen:e,"xn--mosjen-eya":e,mosj\u00F8en:e,nesoddtangen:e,orkanger:e,osoyro:e,"xn--osyro-wua":e,os\u00F8yro:e,raholt:e,"xn--rholt-mra":e,r\u00E5holt:e,sandnessjoen:e,"xn--sandnessjen-ogb":e,sandnessj\u00F8en:e,skedsmokorset:e,slattum:e,spjelkavik:e,stathelle:e,stavern:e,stjordalshalsen:e,"xn--stjrdalshalsen-sqb":e,stj\u00F8rdalshalsen:e,tananger:e,tranby:e,vossevangen:e,aarborte:e,aejrie:e,afjord:e,"xn--fjord-lra":e,\u00E5fjord:e,agdenes:e,akershus:Le,aknoluokta:e,"xn--koluokta-7ya57h":e,\u00E1k\u014Boluokta:e,al:e,"xn--l-1fa":e,\u00E5l:e,alaheadju:e,"xn--laheadju-7ya":e,\u00E1laheadju:e,alesund:e,"xn--lesund-hua":e,\u00E5lesund:e,alstahaug:e,alta:e,"xn--lt-liac":e,\u00E1lt\u00E1:e,alvdal:e,amli:e,"xn--mli-tla":e,\u00E5mli:e,amot:e,"xn--mot-tla":e,\u00E5mot:e,andasuolo:e,andebu:e,andoy:e,"xn--andy-ira":e,and\u00F8y:e,ardal:e,"xn--rdal-poa":e,\u00E5rdal:e,aremark:e,arendal:e,"xn--s-1fa":e,\u00E5s:e,aseral:e,"xn--seral-lra":e,\u00E5seral:e,asker:e,askim:e,askoy:e,"xn--asky-ira":e,ask\u00F8y:e,askvoll:e,asnes:e,"xn--snes-poa":e,\u00E5snes:e,audnedaln:e,aukra:e,aure:e,aurland:e,"aurskog-holand":e,"xn--aurskog-hland-jnb":e,"aurskog-h\xF8land":e,austevoll:e,austrheim:e,averoy:e,"xn--avery-yua":e,aver\u00F8y:e,badaddja:e,"xn--bdddj-mrabd":e,b\u00E5d\u00E5ddj\u00E5:e,"xn--brum-voa":e,b\u00E6rum:e,bahcavuotna:e,"xn--bhcavuotna-s4a":e,b\u00E1hcavuotna:e,bahccavuotna:e,"xn--bhccavuotna-k7a":e,b\u00E1hccavuotna:e,baidar:e,"xn--bidr-5nac":e,b\u00E1id\u00E1r:e,bajddar:e,"xn--bjddar-pta":e,b\u00E1jddar:e,balat:e,"xn--blt-elab":e,b\u00E1l\u00E1t:e,balestrand:e,ballangen:e,balsfjord:e,bamble:e,bardu:e,barum:e,batsfjord:e,"xn--btsfjord-9za":e,b\u00E5tsfjord:e,bearalvahki:e,"xn--bearalvhki-y4a":e,bearalv\u00E1hki:e,beardu:e,beiarn:e,berg:e,bergen:e,berlevag:e,"xn--berlevg-jxa":e,berlev\u00E5g:e,bievat:e,"xn--bievt-0qa":e,biev\u00E1t:e,bindal:e,birkenes:e,bjarkoy:e,"xn--bjarky-fya":e,bjark\u00F8y:e,bjerkreim:e,bjugn:e,bodo:e,"xn--bod-2na":e,bod\u00F8:e,bokn:e,bomlo:e,"xn--bmlo-gra":e,b\u00F8mlo:e,bremanger:e,bronnoy:e,"xn--brnny-wuac":e,br\u00F8nn\u00F8y:e,budejju:e,buskerud:Le,bygland:e,bykle:e,cahcesuolo:e,"xn--hcesuolo-7ya35b":e,\u010D\u00E1hcesuolo:e,davvenjarga:e,"xn--davvenjrga-y4a":e,davvenj\u00E1rga:e,davvesiida:e,deatnu:e,dielddanuorri:e,divtasvuodna:e,divttasvuotna:e,donna:e,"xn--dnna-gra":e,d\u00F8nna:e,dovre:e,drammen:e,drangedal:e,dyroy:e,"xn--dyry-ira":e,dyr\u00F8y:e,eid:e,eidfjord:e,eidsberg:e,eidskog:e,eidsvoll:e,eigersund:e,elverum:e,enebakk:e,engerdal:e,etne:e,etnedal:e,evenassi:e,"xn--eveni-0qa01ga":e,even\u00E1\u0161\u0161i:e,evenes:e,"evje-og-hornnes":e,farsund:e,fauske:e,fedje:e,fet:e,finnoy:e,"xn--finny-yua":e,finn\u00F8y:e,fitjar:e,fjaler:e,fjell:e,fla:e,"xn--fl-zia":e,fl\u00E5:e,flakstad:e,flatanger:e,flekkefjord:e,flesberg:e,flora:e,folldal:e,forde:e,"xn--frde-gra":e,f\u00F8rde:e,forsand:e,fosnes:e,"xn--frna-woa":e,fr\u00E6na:e,frana:e,frei:e,frogn:e,froland:e,frosta:e,froya:e,"xn--frya-hra":e,fr\u00F8ya:e,fuoisku:e,fuossko:e,fusa:e,fyresdal:e,gaivuotna:e,"xn--givuotna-8ya":e,g\u00E1ivuotna:e,galsa:e,"xn--gls-elac":e,g\u00E1ls\u00E1:e,gamvik:e,gangaviika:e,"xn--ggaviika-8ya47h":e,g\u00E1\u014Bgaviika:e,gaular:e,gausdal:e,giehtavuoatna:e,gildeskal:e,"xn--gildeskl-g0a":e,gildesk\u00E5l:e,giske:e,gjemnes:e,gjerdrum:e,gjerstad:e,gjesdal:e,gjovik:e,"xn--gjvik-wua":e,gj\u00F8vik:e,gloppen:e,gol:e,gran:e,grane:e,granvin:e,gratangen:e,grimstad:e,grong:e,grue:e,gulen:e,guovdageaidnu:e,ha:e,"xn--h-2fa":e,h\u00E5:e,habmer:e,"xn--hbmer-xqa":e,h\u00E1bmer:e,hadsel:e,"xn--hgebostad-g3a":e,h\u00E6gebostad:e,hagebostad:e,halden:e,halsa:e,hamar:e,hamaroy:e,hammarfeasta:e,"xn--hmmrfeasta-s4ac":e,h\u00E1mm\u00E1rfeasta:e,hammerfest:e,hapmir:e,"xn--hpmir-xqa":e,h\u00E1pmir:e,haram:e,hareid:e,harstad:e,hasvik:e,hattfjelldal:e,haugesund:e,hedmark:[0,{os:e,valer:e,"xn--vler-qoa":e,v\u00E5ler:e}],hemne:e,hemnes:e,hemsedal:e,hitra:e,hjartdal:e,hjelmeland:e,hobol:e,"xn--hobl-ira":e,hob\u00F8l:e,hof:e,hol:e,hole:e,holmestrand:e,holtalen:e,"xn--holtlen-hxa":e,holt\u00E5len:e,hordaland:[0,{os:e}],hornindal:e,horten:e,hoyanger:e,"xn--hyanger-q1a":e,h\u00F8yanger:e,hoylandet:e,"xn--hylandet-54a":e,h\u00F8ylandet:e,hurdal:e,hurum:e,hvaler:e,hyllestad:e,ibestad:e,inderoy:e,"xn--indery-fya":e,inder\u00F8y:e,iveland:e,ivgu:e,jevnaker:e,jolster:e,"xn--jlster-bya":e,j\u00F8lster:e,jondal:e,kafjord:e,"xn--kfjord-iua":e,k\u00E5fjord:e,karasjohka:e,"xn--krjohka-hwab49j":e,k\u00E1r\u00E1\u0161johka:e,karasjok:e,karlsoy:e,karmoy:e,"xn--karmy-yua":e,karm\u00F8y:e,kautokeino:e,klabu:e,"xn--klbu-woa":e,kl\u00E6bu:e,klepp:e,kongsberg:e,kongsvinger:e,kraanghke:e,"xn--kranghke-b0a":e,kr\u00E5anghke:e,kragero:e,"xn--krager-gya":e,krager\u00F8:e,kristiansand:e,kristiansund:e,krodsherad:e,"xn--krdsherad-m8a":e,kr\u00F8dsherad:e,"xn--kvfjord-nxa":e,kv\u00E6fjord:e,"xn--kvnangen-k0a":e,kv\u00E6nangen:e,kvafjord:e,kvalsund:e,kvam:e,kvanangen:e,kvinesdal:e,kvinnherad:e,kviteseid:e,kvitsoy:e,"xn--kvitsy-fya":e,kvits\u00F8y:e,laakesvuemie:e,"xn--lrdal-sra":e,l\u00E6rdal:e,lahppi:e,"xn--lhppi-xqa":e,l\u00E1hppi:e,lardal:e,larvik:e,lavagis:e,lavangen:e,leangaviika:e,"xn--leagaviika-52b":e,lea\u014Bgaviika:e,lebesby:e,leikanger:e,leirfjord:e,leka:e,leksvik:e,lenvik:e,lerdal:e,lesja:e,levanger:e,lier:e,lierne:e,lillehammer:e,lillesand:e,lindas:e,"xn--linds-pra":e,lind\u00E5s:e,lindesnes:e,loabat:e,"xn--loabt-0qa":e,loab\u00E1t:e,lodingen:e,"xn--ldingen-q1a":e,l\u00F8dingen:e,lom:e,loppa:e,lorenskog:e,"xn--lrenskog-54a":e,l\u00F8renskog:e,loten:e,"xn--lten-gra":e,l\u00F8ten:e,lund:e,lunner:e,luroy:e,"xn--lury-ira":e,lur\u00F8y:e,luster:e,lyngdal:e,lyngen:e,malatvuopmi:e,"xn--mlatvuopmi-s4a":e,m\u00E1latvuopmi:e,malselv:e,"xn--mlselv-iua":e,m\u00E5lselv:e,malvik:e,mandal:e,marker:e,marnardal:e,masfjorden:e,masoy:e,"xn--msy-ula0h":e,m\u00E5s\u00F8y:e,"matta-varjjat":e,"xn--mtta-vrjjat-k7af":e,"m\xE1tta-v\xE1rjjat":e,meland:e,meldal:e,melhus:e,meloy:e,"xn--mely-ira":e,mel\u00F8y:e,meraker:e,"xn--merker-kua":e,mer\u00E5ker:e,midsund:e,"midtre-gauldal":e,moareke:e,"xn--moreke-jua":e,mo\u00E5reke:e,modalen:e,modum:e,molde:e,"more-og-romsdal":[0,{heroy:e,sande:e}],"xn--mre-og-romsdal-qqb":[0,{"xn--hery-ira":e,sande:e}],"m\xF8re-og-romsdal":[0,{her\u00F8y:e,sande:e}],moskenes:e,moss:e,mosvik:e,muosat:e,"xn--muost-0qa":e,muos\u00E1t:e,naamesjevuemie:e,"xn--nmesjevuemie-tcba":e,n\u00E5\u00E5mesjevuemie:e,"xn--nry-yla5g":e,n\u00E6r\u00F8y:e,namdalseid:e,namsos:e,namsskogan:e,nannestad:e,naroy:e,narviika:e,narvik:e,naustdal:e,navuotna:e,"xn--nvuotna-hwa":e,n\u00E1vuotna:e,"nedre-eiker":e,nesna:e,nesodden:e,nesseby:e,nesset:e,nissedal:e,nittedal:e,"nord-aurdal":e,"nord-fron":e,"nord-odal":e,norddal:e,nordkapp:e,nordland:[0,{bo:e,"xn--b-5ga":e,b\u00F8:e,heroy:e,"xn--hery-ira":e,her\u00F8y:e}],"nordre-land":e,nordreisa:e,"nore-og-uvdal":e,notodden:e,notteroy:e,"xn--nttery-byae":e,n\u00F8tter\u00F8y:e,odda:e,oksnes:e,"xn--ksnes-uua":e,\u00F8ksnes:e,omasvuotna:e,oppdal:e,oppegard:e,"xn--oppegrd-ixa":e,oppeg\u00E5rd:e,orkdal:e,orland:e,"xn--rland-uua":e,\u00F8rland:e,orskog:e,"xn--rskog-uua":e,\u00F8rskog:e,orsta:e,"xn--rsta-fra":e,\u00F8rsta:e,osen:e,osteroy:e,"xn--ostery-fya":e,oster\u00F8y:e,ostfold:[0,{valer:e}],"xn--stfold-9xa":[0,{"xn--vler-qoa":e}],\u00F8stfold:[0,{v\u00E5ler:e}],"ostre-toten":e,"xn--stre-toten-zcb":e,"\xF8stre-toten":e,overhalla:e,"ovre-eiker":e,"xn--vre-eiker-k8a":e,"\xF8vre-eiker":e,oyer:e,"xn--yer-zna":e,\u00F8yer:e,oygarden:e,"xn--ygarden-p1a":e,\u00F8ygarden:e,"oystre-slidre":e,"xn--ystre-slidre-ujb":e,"\xF8ystre-slidre":e,porsanger:e,porsangu:e,"xn--porsgu-sta26f":e,pors\u00E1\u014Bgu:e,porsgrunn:e,rade:e,"xn--rde-ula":e,r\u00E5de:e,radoy:e,"xn--rady-ira":e,rad\u00F8y:e,"xn--rlingen-mxa":e,r\u00E6lingen:e,rahkkeravju:e,"xn--rhkkervju-01af":e,r\u00E1hkker\u00E1vju:e,raisa:e,"xn--risa-5na":e,r\u00E1isa:e,rakkestad:e,ralingen:e,rana:e,randaberg:e,rauma:e,rendalen:e,rennebu:e,rennesoy:e,"xn--rennesy-v1a":e,rennes\u00F8y:e,rindal:e,ringebu:e,ringerike:e,ringsaker:e,risor:e,"xn--risr-ira":e,ris\u00F8r:e,rissa:e,roan:e,rodoy:e,"xn--rdy-0nab":e,r\u00F8d\u00F8y:e,rollag:e,romsa:e,romskog:e,"xn--rmskog-bya":e,r\u00F8mskog:e,roros:e,"xn--rros-gra":e,r\u00F8ros:e,rost:e,"xn--rst-0na":e,r\u00F8st:e,royken:e,"xn--ryken-vua":e,r\u00F8yken:e,royrvik:e,"xn--ryrvik-bya":e,r\u00F8yrvik:e,ruovat:e,rygge:e,salangen:e,salat:e,"xn--slat-5na":e,s\u00E1lat:e,"xn--slt-elab":e,s\u00E1l\u00E1t:e,saltdal:e,samnanger:e,sandefjord:e,sandnes:e,sandoy:e,"xn--sandy-yua":e,sand\u00F8y:e,sarpsborg:e,sauda:e,sauherad:e,sel:e,selbu:e,selje:e,seljord:e,siellak:e,sigdal:e,siljan:e,sirdal:e,skanit:e,"xn--sknit-yqa":e,sk\u00E1nit:e,skanland:e,"xn--sknland-fxa":e,sk\u00E5nland:e,skaun:e,skedsmo:e,ski:e,skien:e,skierva:e,"xn--skierv-uta":e,skierv\u00E1:e,skiptvet:e,skjak:e,"xn--skjk-soa":e,skj\u00E5k:e,skjervoy:e,"xn--skjervy-v1a":e,skjerv\u00F8y:e,skodje:e,smola:e,"xn--smla-hra":e,sm\u00F8la:e,snaase:e,"xn--snase-nra":e,sn\u00E5ase:e,snasa:e,"xn--snsa-roa":e,sn\u00E5sa:e,snillfjord:e,snoasa:e,sogndal:e,sogne:e,"xn--sgne-gra":e,s\u00F8gne:e,sokndal:e,sola:e,solund:e,somna:e,"xn--smna-gra":e,s\u00F8mna:e,"sondre-land":e,"xn--sndre-land-0cb":e,"s\xF8ndre-land":e,songdalen:e,"sor-aurdal":e,"xn--sr-aurdal-l8a":e,"s\xF8r-aurdal":e,"sor-fron":e,"xn--sr-fron-q1a":e,"s\xF8r-fron":e,"sor-odal":e,"xn--sr-odal-q1a":e,"s\xF8r-odal":e,"sor-varanger":e,"xn--sr-varanger-ggb":e,"s\xF8r-varanger":e,sorfold:e,"xn--srfold-bya":e,s\u00F8rfold:e,sorreisa:e,"xn--srreisa-q1a":e,s\u00F8rreisa:e,sortland:e,sorum:e,"xn--srum-gra":e,s\u00F8rum:e,spydeberg:e,stange:e,stavanger:e,steigen:e,steinkjer:e,stjordal:e,"xn--stjrdal-s1a":e,stj\u00F8rdal:e,stokke:e,"stor-elvdal":e,stord:e,stordal:e,storfjord:e,strand:e,stranda:e,stryn:e,sula:e,suldal:e,sund:e,sunndal:e,surnadal:e,sveio:e,svelvik:e,sykkylven:e,tana:e,telemark:[0,{bo:e,"xn--b-5ga":e,b\u00F8:e}],time:e,tingvoll:e,tinn:e,tjeldsund:e,tjome:e,"xn--tjme-hra":e,tj\u00F8me:e,tokke:e,tolga:e,tonsberg:e,"xn--tnsberg-q1a":e,t\u00F8nsberg:e,torsken:e,"xn--trna-woa":e,tr\u00E6na:e,trana:e,tranoy:e,"xn--trany-yua":e,tran\u00F8y:e,troandin:e,trogstad:e,"xn--trgstad-r1a":e,tr\u00F8gstad:e,tromsa:e,tromso:e,"xn--troms-zua":e,troms\u00F8:e,trondheim:e,trysil:e,tvedestrand:e,tydal:e,tynset:e,tysfjord:e,tysnes:e,"xn--tysvr-vra":e,tysv\u00E6r:e,tysvar:e,ullensaker:e,ullensvang:e,ulvik:e,unjarga:e,"xn--unjrga-rta":e,unj\u00E1rga:e,utsira:e,vaapste:e,vadso:e,"xn--vads-jra":e,vads\u00F8:e,"xn--vry-yla5g":e,v\u00E6r\u00F8y:e,vaga:e,"xn--vg-yiab":e,v\u00E5g\u00E5:e,vagan:e,"xn--vgan-qoa":e,v\u00E5gan:e,vagsoy:e,"xn--vgsy-qoa0j":e,v\u00E5gs\u00F8y:e,vaksdal:e,valle:e,vang:e,vanylven:e,vardo:e,"xn--vard-jra":e,vard\u00F8:e,varggat:e,"xn--vrggt-xqad":e,v\u00E1rgg\u00E1t:e,varoy:e,vefsn:e,vega:e,vegarshei:e,"xn--vegrshei-c0a":e,veg\u00E5rshei:e,vennesla:e,verdal:e,verran:e,vestby:e,vestfold:[0,{sande:e}],vestnes:e,"vestre-slidre":e,"vestre-toten":e,vestvagoy:e,"xn--vestvgy-ixa6o":e,vestv\u00E5g\u00F8y:e,vevelstad:e,vik:e,vikna:e,vindafjord:e,voagat:e,volda:e,voss:e,co:t,"123hjemmeside":t,myspreadshop:t}],np:g,nr:M,nu:[1,{merseine:t,mine:t,shacknet:t,enterprisecloud:t}],nz:[1,{ac:e,co:e,cri:e,geek:e,gen:e,govt:e,health:e,iwi:e,kiwi:e,maori:e,"xn--mori-qsa":e,m\u0101ori:e,mil:e,net:e,org:e,parliament:e,school:e,cloudns:t}],om:[1,{co:e,com:e,edu:e,gov:e,med:e,museum:e,net:e,org:e,pro:e}],onion:e,org:[1,{altervista:t,pimienta:t,poivron:t,potager:t,sweetpepper:t,cdn77:[0,{c:t,rsc:t}],"cdn77-secure":[0,{origin:[0,{ssl:t}]}],ae:t,cloudns:t,"ip-dynamic":t,ddnss:t,dpdns:t,duckdns:t,tunk:t,blogdns:t,blogsite:t,boldlygoingnowhere:t,dnsalias:t,dnsdojo:t,doesntexist:t,dontexist:t,doomdns:t,dvrdns:t,dynalias:t,dyndns:[2,{go:t,home:t}],endofinternet:t,endoftheinternet:t,"from-me":t,"game-host":t,gotdns:t,"hobby-site":t,homedns:t,homeftp:t,homelinux:t,homeunix:t,"is-a-bruinsfan":t,"is-a-candidate":t,"is-a-celticsfan":t,"is-a-chef":t,"is-a-geek":t,"is-a-knight":t,"is-a-linux-user":t,"is-a-patsfan":t,"is-a-soxfan":t,"is-found":t,"is-lost":t,"is-saved":t,"is-very-bad":t,"is-very-evil":t,"is-very-good":t,"is-very-nice":t,"is-very-sweet":t,"isa-geek":t,"kicks-ass":t,misconfused:t,podzone:t,readmyblog:t,selfip:t,sellsyourhome:t,servebbs:t,serveftp:t,servegame:t,"stuff-4-sale":t,webhop:t,accesscam:t,camdvr:t,freeddns:t,mywire:t,webredirect:t,twmail:t,eu:[2,{al:t,asso:t,at:t,au:t,be:t,bg:t,ca:t,cd:t,ch:t,cn:t,cy:t,cz:t,de:t,dk:t,edu:t,ee:t,es:t,fi:t,fr:t,gr:t,hr:t,hu:t,ie:t,il:t,in:t,int:t,is:t,it:t,jp:t,kr:t,lt:t,lu:t,lv:t,me:t,mk:t,mt:t,my:t,net:t,ng:t,nl:t,no:t,nz:t,pl:t,pt:t,ro:t,ru:t,se:t,si:t,sk:t,tr:t,uk:t,us:t}],fedorainfracloud:t,fedorapeople:t,fedoraproject:[0,{cloud:t,os:ue,stg:[0,{os:ue}]}],freedesktop:t,hatenadiary:t,hepforge:t,"in-dsl":t,"in-vpn":t,js:t,barsy:t,mayfirst:t,routingthecloud:t,bmoattachments:t,"cable-modem":t,collegefan:t,couchpotatofries:t,hopto:t,mlbfan:t,myftp:t,mysecuritycamera:t,nflfan:t,"no-ip":t,"read-books":t,ufcfan:t,zapto:t,dynserv:t,"now-dns":t,"is-local":t,httpbin:t,pubtls:t,jpn:t,"my-firewall":t,myfirewall:t,spdns:t,"small-web":t,dsmynas:t,familyds:t,teckids:I,tuxfamily:t,diskstation:t,hk:t,us:t,toolforge:t,wmcloud:t,wmflabs:t,za:t}],pa:[1,{abo:e,ac:e,com:e,edu:e,gob:e,ing:e,med:e,net:e,nom:e,org:e,sld:e}],pe:[1,{com:e,edu:e,gob:e,mil:e,net:e,nom:e,org:e}],pf:[1,{com:e,edu:e,org:e}],pg:g,ph:[1,{com:e,edu:e,gov:e,i:e,mil:e,net:e,ngo:e,org:e,cloudns:t}],pk:[1,{ac:e,biz:e,com:e,edu:e,fam:e,gkp:e,gob:e,gog:e,gok:e,gop:e,gos:e,gov:e,net:e,org:e,web:e}],pl:[1,{com:e,net:e,org:e,agro:e,aid:e,atm:e,auto:e,biz:e,edu:e,gmina:e,gsm:e,info:e,mail:e,media:e,miasta:e,mil:e,nieruchomosci:e,nom:e,pc:e,powiat:e,priv:e,realestate:e,rel:e,sex:e,shop:e,sklep:e,sos:e,szkola:e,targi:e,tm:e,tourism:e,travel:e,turystyka:e,gov:[1,{ap:e,griw:e,ic:e,is:e,kmpsp:e,konsulat:e,kppsp:e,kwp:e,kwpsp:e,mup:e,mw:e,oia:e,oirm:e,oke:e,oow:e,oschr:e,oum:e,pa:e,pinb:e,piw:e,po:e,pr:e,psp:e,psse:e,pup:e,rzgw:e,sa:e,sdn:e,sko:e,so:e,sr:e,starostwo:e,ug:e,ugim:e,um:e,umig:e,upow:e,uppo:e,us:e,uw:e,uzs:e,wif:e,wiih:e,winb:e,wios:e,witd:e,wiw:e,wkz:e,wsa:e,wskr:e,wsse:e,wuoz:e,wzmiuw:e,zp:e,zpisdn:e}],augustow:e,"babia-gora":e,bedzin:e,beskidy:e,bialowieza:e,bialystok:e,bielawa:e,bieszczady:e,boleslawiec:e,bydgoszcz:e,bytom:e,cieszyn:e,czeladz:e,czest:e,dlugoleka:e,elblag:e,elk:e,glogow:e,gniezno:e,gorlice:e,grajewo:e,ilawa:e,jaworzno:e,"jelenia-gora":e,jgora:e,kalisz:e,karpacz:e,kartuzy:e,kaszuby:e,katowice:e,"kazimierz-dolny":e,kepno:e,ketrzyn:e,klodzko:e,kobierzyce:e,kolobrzeg:e,konin:e,konskowola:e,kutno:e,lapy:e,lebork:e,legnica:e,lezajsk:e,limanowa:e,lomza:e,lowicz:e,lubin:e,lukow:e,malbork:e,malopolska:e,mazowsze:e,mazury:e,mielec:e,mielno:e,mragowo:e,naklo:e,nowaruda:e,nysa:e,olawa:e,olecko:e,olkusz:e,olsztyn:e,opoczno:e,opole:e,ostroda:e,ostroleka:e,ostrowiec:e,ostrowwlkp:e,pila:e,pisz:e,podhale:e,podlasie:e,polkowice:e,pomorskie:e,pomorze:e,prochowice:e,pruszkow:e,przeworsk:e,pulawy:e,radom:e,"rawa-maz":e,rybnik:e,rzeszow:e,sanok:e,sejny:e,skoczow:e,slask:e,slupsk:e,sosnowiec:e,"stalowa-wola":e,starachowice:e,stargard:e,suwalki:e,swidnica:e,swiebodzin:e,swinoujscie:e,szczecin:e,szczytno:e,tarnobrzeg:e,tgory:e,turek:e,tychy:e,ustka:e,walbrzych:e,warmia:e,warszawa:e,waw:e,wegrow:e,wielun:e,wlocl:e,wloclawek:e,wodzislaw:e,wolomin:e,wroclaw:e,zachpomor:e,zagan:e,zarow:e,zgora:e,zgorzelec:e,art:t,gliwice:t,krakow:t,poznan:t,wroc:t,zakopane:t,beep:t,"ecommerce-shop":t,cfolks:t,dfirma:t,dkonto:t,you2:t,shoparena:t,homesklep:t,sdscloud:t,unicloud:t,lodz:t,pabianice:t,plock:t,sieradz:t,skierniewice:t,zgierz:t,krasnik:t,leczna:t,lubartow:t,lublin:t,poniatowa:t,swidnik:t,co:t,torun:t,simplesite:t,myspreadshop:t,gda:t,gdansk:t,gdynia:t,med:t,sopot:t,bielsko:t}],pm:[1,{own:t,name:t}],pn:[1,{co:e,edu:e,gov:e,net:e,org:e}],post:e,pr:[1,{biz:e,com:e,edu:e,gov:e,info:e,isla:e,name:e,net:e,org:e,pro:e,ac:e,est:e,prof:e}],pro:[1,{aaa:e,aca:e,acct:e,avocat:e,bar:e,cpa:e,eng:e,jur:e,law:e,med:e,recht:e,"12chars":t,cloudns:t,barsy:t,ngrok:t}],ps:[1,{com:e,edu:e,gov:e,net:e,org:e,plo:e,sec:e}],pt:[1,{com:e,edu:e,gov:e,int:e,net:e,nome:e,org:e,publ:e,"123paginaweb":t}],pw:[1,{gov:e,cloudns:t,x443:t}],py:[1,{com:e,coop:e,edu:e,gov:e,mil:e,net:e,org:e}],qa:[1,{com:e,edu:e,gov:e,mil:e,name:e,net:e,org:e,sch:e}],re:[1,{asso:e,com:e,netlib:t,can:t}],ro:[1,{arts:e,com:e,firm:e,info:e,nom:e,nt:e,org:e,rec:e,store:e,tm:e,www:e,co:t,shop:t,barsy:t}],rs:[1,{ac:e,co:e,edu:e,gov:e,in:e,org:e,brendly:er,barsy:t,ox:t}],ru:[1,{ac:t,edu:t,gov:t,int:t,mil:t,eurodir:t,adygeya:t,bashkiria:t,bir:t,cbg:t,com:t,dagestan:t,grozny:t,kalmykia:t,kustanai:t,marine:t,mordovia:t,msk:t,mytis:t,nalchik:t,nov:t,pyatigorsk:t,spb:t,vladikavkaz:t,vladimir:t,na4u:t,mircloud:t,myjino:[2,{hosting:s,landing:s,spectrum:s,vps:s}],cldmail:[0,{hb:t}],mcdir:[2,{vps:t}],mcpre:t,net:t,org:t,pp:t,lk3:t,ras:t}],rw:[1,{ac:e,co:e,coop:e,gov:e,mil:e,net:e,org:e}],sa:[1,{com:e,edu:e,gov:e,med:e,net:e,org:e,pub:e,sch:e}],sb:r,sc:r,sd:[1,{com:e,edu:e,gov:e,info:e,med:e,net:e,org:e,tv:e}],se:[1,{a:e,ac:e,b:e,bd:e,brand:e,c:e,d:e,e,f:e,fh:e,fhsk:e,fhv:e,g:e,h:e,i:e,k:e,komforb:e,kommunalforbund:e,komvux:e,l:e,lanbib:e,m:e,n:e,naturbruksgymn:e,o:e,org:e,p:e,parti:e,pp:e,press:e,r:e,s:e,t:e,tm:e,u:e,w:e,x:e,y:e,z:e,com:t,iopsys:t,"123minsida":t,itcouldbewor:t,myspreadshop:t}],sg:[1,{com:e,edu:e,gov:e,net:e,org:e,enscaled:t}],sh:[1,{com:e,gov:e,mil:e,net:e,org:e,hashbang:t,botda:t,platform:[0,{ent:t,eu:t,us:t}],now:t}],si:[1,{f5:t,gitapp:t,gitpage:t}],sj:e,sk:e,sl:r,sm:e,sn:[1,{art:e,com:e,edu:e,gouv:e,org:e,perso:e,univ:e}],so:[1,{com:e,edu:e,gov:e,me:e,net:e,org:e,surveys:t}],sr:e,ss:[1,{biz:e,co:e,com:e,edu:e,gov:e,me:e,net:e,org:e,sch:e}],st:[1,{co:e,com:e,consulado:e,edu:e,embaixada:e,mil:e,net:e,org:e,principe:e,saotome:e,store:e,helioho:t,kirara:t,noho:t}],su:[1,{abkhazia:t,adygeya:t,aktyubinsk:t,arkhangelsk:t,armenia:t,ashgabad:t,azerbaijan:t,balashov:t,bashkiria:t,bryansk:t,bukhara:t,chimkent:t,dagestan:t,"east-kazakhstan":t,exnet:t,georgia:t,grozny:t,ivanovo:t,jambyl:t,kalmykia:t,kaluga:t,karacol:t,karaganda:t,karelia:t,khakassia:t,krasnodar:t,kurgan:t,kustanai:t,lenug:t,mangyshlak:t,mordovia:t,msk:t,murmansk:t,nalchik:t,navoi:t,"north-kazakhstan":t,nov:t,obninsk:t,penza:t,pokrovsk:t,sochi:t,spb:t,tashkent:t,termez:t,togliatti:t,troitsk:t,tselinograd:t,tula:t,tuva:t,vladikavkaz:t,vladimir:t,vologda:t}],sv:[1,{com:e,edu:e,gob:e,org:e,red:e}],sx:l,sy:n,sz:[1,{ac:e,co:e,org:e}],tc:e,td:e,tel:e,tf:[1,{sch:t}],tg:e,th:[1,{ac:e,co:e,go:e,in:e,mi:e,net:e,or:e,online:t,shop:t}],tj:[1,{ac:e,biz:e,co:e,com:e,edu:e,go:e,gov:e,int:e,mil:e,name:e,net:e,nic:e,org:e,test:e,web:e}],tk:e,tl:l,tm:[1,{co:e,com:e,edu:e,gov:e,mil:e,net:e,nom:e,org:e}],tn:[1,{com:e,ens:e,fin:e,gov:e,ind:e,info:e,intl:e,mincom:e,nat:e,net:e,org:e,perso:e,tourism:e,orangecloud:t}],to:[1,{611:t,com:e,edu:e,gov:e,mil:e,net:e,org:e,oya:t,x0:t,quickconnect:q,vpnplus:t}],tr:[1,{av:e,bbs:e,bel:e,biz:e,com:e,dr:e,edu:e,gen:e,gov:e,info:e,k12:e,kep:e,mil:e,name:e,net:e,org:e,pol:e,tel:e,tsk:e,tv:e,web:e,nc:l}],tt:[1,{biz:e,co:e,com:e,edu:e,gov:e,info:e,mil:e,name:e,net:e,org:e,pro:e}],tv:[1,{"better-than":t,dyndns:t,"on-the-web":t,"worse-than":t,from:t,sakura:t}],tw:[1,{club:e,com:[1,{mymailer:t}],ebiz:e,edu:e,game:e,gov:e,idv:e,mil:e,net:e,org:e,url:t,mydns:t}],tz:[1,{ac:e,co:e,go:e,hotel:e,info:e,me:e,mil:e,mobi:e,ne:e,or:e,sc:e,tv:e}],ua:[1,{com:e,edu:e,gov:e,in:e,net:e,org:e,cherkassy:e,cherkasy:e,chernigov:e,chernihiv:e,chernivtsi:e,chernovtsy:e,ck:e,cn:e,cr:e,crimea:e,cv:e,dn:e,dnepropetrovsk:e,dnipropetrovsk:e,donetsk:e,dp:e,if:e,"ivano-frankivsk":e,kh:e,kharkiv:e,kharkov:e,kherson:e,khmelnitskiy:e,khmelnytskyi:e,kiev:e,kirovograd:e,km:e,kr:e,kropyvnytskyi:e,krym:e,ks:e,kv:e,kyiv:e,lg:e,lt:e,lugansk:e,luhansk:e,lutsk:e,lv:e,lviv:e,mk:e,mykolaiv:e,nikolaev:e,od:e,odesa:e,odessa:e,pl:e,poltava:e,rivne:e,rovno:e,rv:e,sb:e,sebastopol:e,sevastopol:e,sm:e,sumy:e,te:e,ternopil:e,uz:e,uzhgorod:e,uzhhorod:e,vinnica:e,vinnytsia:e,vn:e,volyn:e,yalta:e,zakarpattia:e,zaporizhzhe:e,zaporizhzhia:e,zhitomir:e,zhytomyr:e,zp:e,zt:e,cc:t,inf:t,ltd:t,cx:t,ie:t,biz:t,co:t,pp:t,v:t}],ug:[1,{ac:e,co:e,com:e,edu:e,go:e,gov:e,mil:e,ne:e,or:e,org:e,sc:e,us:e}],uk:[1,{ac:e,co:[1,{bytemark:[0,{dh:t,vm:t}],layershift:Xe,barsy:t,barsyonline:t,retrosnub:T,"nh-serv":t,"no-ip":t,adimo:t,myspreadshop:t}],gov:[1,{api:t,campaign:t,service:t}],ltd:e,me:e,net:e,nhs:e,org:[1,{glug:t,lug:t,lugs:t,affinitylottery:t,raffleentry:t,weeklylottery:t}],plc:e,police:e,sch:g,conn:t,copro:t,hosp:t,"independent-commission":t,"independent-inquest":t,"independent-inquiry":t,"independent-panel":t,"independent-review":t,"public-inquiry":t,"royal-commission":t,pymnt:t,barsy:t,nimsite:t,oraclegovcloudapps:s}],us:[1,{dni:e,isa:e,nsn:e,ak:ne,al:ne,ar:ne,as:ne,az:ne,ca:ne,co:ne,ct:ne,dc:ne,de:[1,{cc:e,lib:t}],fl:ne,ga:ne,gu:ne,hi:dt,ia:ne,id:ne,il:ne,in:ne,ks:ne,ky:ne,la:ne,ma:[1,{k12:[1,{chtr:e,paroch:e,pvt:e}],cc:e,lib:e}],md:ne,me:ne,mi:[1,{k12:e,cc:e,lib:e,"ann-arbor":e,cog:e,dst:e,eaton:e,gen:e,mus:e,tec:e,washtenaw:e}],mn:ne,mo:ne,ms:ne,mt:ne,nc:ne,nd:dt,ne,nh:ne,nj:ne,nm:ne,nv:ne,ny:ne,oh:ne,ok:ne,or:ne,pa:ne,pr:ne,ri:dt,sc:ne,sd:dt,tn:ne,tx:ne,ut:ne,va:ne,vi:ne,vt:ne,wa:ne,wi:ne,wv:[1,{cc:e}],wy:ne,cloudns:t,"is-by":t,"land-4-sale":t,"stuff-4-sale":t,heliohost:t,enscaled:[0,{phx:t}],mircloud:t,ngo:t,golffan:t,noip:t,pointto:t,freeddns:t,srv:[2,{gh:t,gl:t}],platterp:t,servername:t}],uy:[1,{com:e,edu:e,gub:e,mil:e,net:e,org:e}],uz:[1,{co:e,com:e,net:e,org:e}],va:e,vc:[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e,gv:[2,{d:t}],"0e":s,mydns:t}],ve:[1,{arts:e,bib:e,co:e,com:e,e12:e,edu:e,emprende:e,firm:e,gob:e,gov:e,info:e,int:e,mil:e,net:e,nom:e,org:e,rar:e,rec:e,store:e,tec:e,web:e}],vg:[1,{edu:e}],vi:[1,{co:e,com:e,k12:e,net:e,org:e}],vn:[1,{ac:e,ai:e,biz:e,com:e,edu:e,gov:e,health:e,id:e,info:e,int:e,io:e,name:e,net:e,org:e,pro:e,angiang:e,bacgiang:e,backan:e,baclieu:e,bacninh:e,"baria-vungtau":e,bentre:e,binhdinh:e,binhduong:e,binhphuoc:e,binhthuan:e,camau:e,cantho:e,caobang:e,daklak:e,daknong:e,danang:e,dienbien:e,dongnai:e,dongthap:e,gialai:e,hagiang:e,haiduong:e,haiphong:e,hanam:e,hanoi:e,hatinh:e,haugiang:e,hoabinh:e,hungyen:e,khanhhoa:e,kiengiang:e,kontum:e,laichau:e,lamdong:e,langson:e,laocai:e,longan:e,namdinh:e,nghean:e,ninhbinh:e,ninhthuan:e,phutho:e,phuyen:e,quangbinh:e,quangnam:e,quangngai:e,quangninh:e,quangtri:e,soctrang:e,sonla:e,tayninh:e,thaibinh:e,thainguyen:e,thanhhoa:e,thanhphohochiminh:e,thuathienhue:e,tiengiang:e,travinh:e,tuyenquang:e,vinhlong:e,vinhphuc:e,yenbai:e}],vu:Pe,wf:[1,{biz:t,sch:t}],ws:[1,{com:e,edu:e,gov:e,net:e,org:e,advisor:s,cloud66:t,dyndns:t,mypets:t}],yt:[1,{org:t}],"xn--mgbaam7a8h":e,\u0627\u0645\u0627\u0631\u0627\u062A:e,"xn--y9a3aq":e,\u0570\u0561\u0575:e,"xn--54b7fta0cc":e,\u09AC\u09BE\u0982\u09B2\u09BE:e,"xn--90ae":e,\u0431\u0433:e,"xn--mgbcpq6gpa1a":e,\u0627\u0644\u0628\u062D\u0631\u064A\u0646:e,"xn--90ais":e,\u0431\u0435\u043B:e,"xn--fiqs8s":e,\u4E2D\u56FD:e,"xn--fiqz9s":e,\u4E2D\u570B:e,"xn--lgbbat1ad8j":e,\u0627\u0644\u062C\u0632\u0627\u0626\u0631:e,"xn--wgbh1c":e,\u0645\u0635\u0631:e,"xn--e1a4c":e,\u0435\u044E:e,"xn--qxa6a":e,\u03B5\u03C5:e,"xn--mgbah1a3hjkrd":e,\u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627:e,"xn--node":e,\u10D2\u10D4:e,"xn--qxam":e,\u03B5\u03BB:e,"xn--j6w193g":[1,{"xn--gmqw5a":e,"xn--55qx5d":e,"xn--mxtq1m":e,"xn--wcvs22d":e,"xn--uc0atv":e,"xn--od0alg":e}],\u9999\u6E2F:[1,{\u500B\u4EBA:e,\u516C\u53F8:e,\u653F\u5E9C:e,\u6559\u80B2:e,\u7D44\u7E54:e,\u7DB2\u7D61:e}],"xn--2scrj9c":e,\u0CAD\u0CBE\u0CB0\u0CA4:e,"xn--3hcrj9c":e,\u0B2D\u0B3E\u0B30\u0B24:e,"xn--45br5cyl":e,\u09AD\u09BE\u09F0\u09A4:e,"xn--h2breg3eve":e,\u092D\u093E\u0930\u0924\u092E\u094D:e,"xn--h2brj9c8c":e,\u092D\u093E\u0930\u094B\u0924:e,"xn--mgbgu82a":e,\u0680\u0627\u0631\u062A:e,"xn--rvc1e0am3e":e,\u0D2D\u0D3E\u0D30\u0D24\u0D02:e,"xn--h2brj9c":e,\u092D\u093E\u0930\u0924:e,"xn--mgbbh1a":e,\u0628\u0627\u0631\u062A:e,"xn--mgbbh1a71e":e,\u0628\u06BE\u0627\u0631\u062A:e,"xn--fpcrj9c3d":e,\u0C2D\u0C3E\u0C30\u0C24\u0C4D:e,"xn--gecrj9c":e,\u0AAD\u0ABE\u0AB0\u0AA4:e,"xn--s9brj9c":e,\u0A2D\u0A3E\u0A30\u0A24:e,"xn--45brj9c":e,\u09AD\u09BE\u09B0\u09A4:e,"xn--xkc2dl3a5ee0h":e,\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE:e,"xn--mgba3a4f16a":e,\u0627\u06CC\u0631\u0627\u0646:e,"xn--mgba3a4fra":e,\u0627\u064A\u0631\u0627\u0646:e,"xn--mgbtx2b":e,\u0639\u0631\u0627\u0642:e,"xn--mgbayh7gpa":e,\u0627\u0644\u0627\u0631\u062F\u0646:e,"xn--3e0b707e":e,\uD55C\uAD6D:e,"xn--80ao21a":e,\u049B\u0430\u0437:e,"xn--q7ce6a":e,\u0EA5\u0EB2\u0EA7:e,"xn--fzc2c9e2c":e,\u0DBD\u0D82\u0D9A\u0DCF:e,"xn--xkc2al3hye2a":e,\u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8:e,"xn--mgbc0a9azcg":e,\u0627\u0644\u0645\u063A\u0631\u0628:e,"xn--d1alf":e,\u043C\u043A\u0434:e,"xn--l1acc":e,\u043C\u043E\u043D:e,"xn--mix891f":e,\u6FB3\u9580:e,"xn--mix082f":e,\u6FB3\u95E8:e,"xn--mgbx4cd0ab":e,\u0645\u0644\u064A\u0633\u064A\u0627:e,"xn--mgb9awbf":e,\u0639\u0645\u0627\u0646:e,"xn--mgbai9azgqp6j":e,\u067E\u0627\u06A9\u0633\u062A\u0627\u0646:e,"xn--mgbai9a5eva00b":e,\u067E\u0627\u0643\u0633\u062A\u0627\u0646:e,"xn--ygbi2ammx":e,\u0641\u0644\u0633\u0637\u064A\u0646:e,"xn--90a3ac":[1,{"xn--80au":e,"xn--90azh":e,"xn--d1at":e,"xn--c1avg":e,"xn--o1ac":e,"xn--o1ach":e}],\u0441\u0440\u0431:[1,{\u0430\u043A:e,\u043E\u0431\u0440:e,\u043E\u0434:e,\u043E\u0440\u0433:e,\u043F\u0440:e,\u0443\u043F\u0440:e}],"xn--p1ai":e,\u0440\u0444:e,"xn--wgbl6a":e,\u0642\u0637\u0631:e,"xn--mgberp4a5d4ar":e,\u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629:e,"xn--mgberp4a5d4a87g":e,\u0627\u0644\u0633\u0639\u0648\u062F\u06CC\u0629:e,"xn--mgbqly7c0a67fbc":e,\u0627\u0644\u0633\u0639\u0648\u062F\u06CC\u06C3:e,"xn--mgbqly7cvafr":e,\u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0647:e,"xn--mgbpl2fh":e,\u0633\u0648\u062F\u0627\u0646:e,"xn--yfro4i67o":e,\u65B0\u52A0\u5761:e,"xn--clchc0ea0b2g2a9gcd":e,\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD:e,"xn--ogbpf8fl":e,\u0633\u0648\u0631\u064A\u0629:e,"xn--mgbtf8fl":e,\u0633\u0648\u0631\u064A\u0627:e,"xn--o3cw4h":[1,{"xn--o3cyx2a":e,"xn--12co0c3b4eva":e,"xn--m3ch0j3a":e,"xn--h3cuzk1di":e,"xn--12c1fe0br":e,"xn--12cfi8ixb8l":e}],\u0E44\u0E17\u0E22:[1,{\u0E17\u0E2B\u0E32\u0E23:e,\u0E18\u0E38\u0E23\u0E01\u0E34\u0E08:e,\u0E40\u0E19\u0E47\u0E15:e,\u0E23\u0E31\u0E10\u0E1A\u0E32\u0E25:e,\u0E28\u0E36\u0E01\u0E29\u0E32:e,\u0E2D\u0E07\u0E04\u0E4C\u0E01\u0E23:e}],"xn--pgbs0dh":e,\u062A\u0648\u0646\u0633:e,"xn--kpry57d":e,\u53F0\u7063:e,"xn--kprw13d":e,\u53F0\u6E7E:e,"xn--nnx388a":e,\u81FA\u7063:e,"xn--j1amh":e,\u0443\u043A\u0440:e,"xn--mgb2ddes":e,\u0627\u0644\u064A\u0645\u0646:e,xxx:e,ye:n,za:[0,{ac:e,agric:e,alt:e,co:e,edu:e,gov:e,grondar:e,law:e,mil:e,net:e,ngo:e,nic:e,nis:e,nom:e,org:e,school:e,tm:e,web:e}],zm:[1,{ac:e,biz:e,co:e,com:e,edu:e,gov:e,info:e,mil:e,net:e,org:e,sch:e}],zw:[1,{ac:e,co:e,gov:e,mil:e,org:e}],aaa:e,aarp:e,abb:e,abbott:e,abbvie:e,abc:e,able:e,abogado:e,abudhabi:e,academy:[1,{official:t}],accenture:e,accountant:e,accountants:e,aco:e,actor:e,ads:e,adult:e,aeg:e,aetna:e,afl:e,africa:e,agakhan:e,agency:e,aig:e,airbus:e,airforce:e,airtel:e,akdn:e,alibaba:e,alipay:e,allfinanz:e,allstate:e,ally:e,alsace:e,alstom:e,amazon:e,americanexpress:e,americanfamily:e,amex:e,amfam:e,amica:e,amsterdam:e,analytics:e,android:e,anquan:e,anz:e,aol:e,apartments:e,app:[1,{adaptable:t,aiven:t,beget:s,brave:i,clerk:t,clerkstage:t,wnext:t,csb:[2,{preview:t}],convex:t,deta:t,ondigitalocean:t,easypanel:t,encr:t,evervault:a,expo:[2,{staging:t}],edgecompute:t,"on-fleek":t,flutterflow:t,e2b:t,framer:t,hosted:s,run:s,web:t,hasura:t,botdash:t,loginline:t,lovable:t,medusajs:t,messerli:t,netfy:t,netlify:t,ngrok:t,"ngrok-free":t,developer:s,noop:t,northflank:s,upsun:s,replit:o,nyat:t,snowflake:[0,{"*":t,privatelink:s}],streamlit:t,storipress:t,telebit:t,typedream:t,vercel:t,bookonline:t,wdh:t,windsurf:t,zeabur:t,zerops:s}],apple:e,aquarelle:e,arab:e,aramco:e,archi:e,army:e,art:e,arte:e,asda:e,associates:e,athleta:e,attorney:e,auction:e,audi:e,audible:e,audio:e,auspost:e,author:e,auto:e,autos:e,aws:[1,{sagemaker:[0,{"ap-northeast-1":d,"ap-northeast-2":d,"ap-south-1":d,"ap-southeast-1":d,"ap-southeast-2":d,"ca-central-1":f,"eu-central-1":d,"eu-west-1":d,"eu-west-2":d,"us-east-1":f,"us-east-2":f,"us-west-2":f,"af-south-1":u,"ap-east-1":u,"ap-northeast-3":u,"ap-south-2":h,"ap-southeast-3":u,"ap-southeast-4":h,"ca-west-1":[0,{notebook:t,"notebook-fips":t}],"eu-central-2":u,"eu-north-1":u,"eu-south-1":u,"eu-south-2":u,"eu-west-3":u,"il-central-1":u,"me-central-1":u,"me-south-1":u,"sa-east-1":u,"us-gov-east-1":p,"us-gov-west-1":p,"us-west-1":[0,{notebook:t,"notebook-fips":t,studio:t}],experiments:s}],repost:[0,{private:s}],on:[0,{"ap-northeast-1":c,"ap-southeast-1":c,"ap-southeast-2":c,"eu-central-1":c,"eu-north-1":c,"eu-west-1":c,"us-east-1":c,"us-east-2":c,"us-west-2":c}]}],axa:e,azure:e,baby:e,baidu:e,banamex:e,band:e,bank:e,bar:e,barcelona:e,barclaycard:e,barclays:e,barefoot:e,bargains:e,baseball:e,basketball:[1,{aus:t,nz:t}],bauhaus:e,bayern:e,bbc:e,bbt:e,bbva:e,bcg:e,bcn:e,beats:e,beauty:e,beer:e,bentley:e,berlin:e,best:e,bestbuy:e,bet:e,bharti:e,bible:e,bid:e,bike:e,bing:e,bingo:e,bio:e,black:e,blackfriday:e,blockbuster:e,blog:e,bloomberg:e,blue:e,bms:e,bmw:e,bnpparibas:e,boats:e,boehringer:e,bofa:e,bom:e,bond:e,boo:e,book:e,booking:e,bosch:e,bostik:e,boston:e,bot:e,boutique:e,box:e,bradesco:e,bridgestone:e,broadway:e,broker:e,brother:e,brussels:e,build:[1,{v0:t,windsurf:t}],builders:[1,{cloudsite:t}],business:y,buy:e,buzz:e,bzh:e,cab:e,cafe:e,cal:e,call:e,calvinklein:e,cam:e,camera:e,camp:[1,{emf:[0,{at:t}]}],canon:e,capetown:e,capital:e,capitalone:e,car:e,caravan:e,cards:e,care:e,career:e,careers:e,cars:e,casa:[1,{nabu:[0,{ui:t}]}],case:e,cash:e,casino:e,catering:e,catholic:e,cba:e,cbn:e,cbre:e,center:e,ceo:e,cern:e,cfa:e,cfd:e,chanel:e,channel:e,charity:e,chase:e,chat:e,cheap:e,chintai:e,christmas:e,chrome:e,church:e,cipriani:e,circle:e,cisco:e,citadel:e,citi:e,citic:e,city:e,claims:e,cleaning:e,click:e,clinic:e,clinique:e,clothing:e,cloud:[1,{convex:t,elementor:t,encoway:[0,{eu:t}],statics:s,ravendb:t,axarnet:[0,{"es-1":t}],diadem:t,jelastic:[0,{vip:t}],jele:t,"jenv-aruba":[0,{aruba:[0,{eur:[0,{it1:t}]}],it1:t}],keliweb:[2,{cs:t}],oxa:[2,{tn:t,uk:t}],primetel:[2,{uk:t}],reclaim:[0,{ca:t,uk:t,us:t}],trendhosting:[0,{ch:t,de:t}],jotelulu:t,kuleuven:t,laravel:t,linkyard:t,magentosite:s,matlab:t,observablehq:t,perspecta:t,vapor:t,"on-rancher":s,scw:[0,{baremetal:[0,{"fr-par-1":t,"fr-par-2":t,"nl-ams-1":t}],"fr-par":[0,{cockpit:t,fnc:[2,{functions:t}],k8s:C,s3:t,"s3-website":t,whm:t}],instances:[0,{priv:t,pub:t}],k8s:t,"nl-ams":[0,{cockpit:t,k8s:C,s3:t,"s3-website":t,whm:t}],"pl-waw":[0,{cockpit:t,k8s:C,s3:t,"s3-website":t}],scalebook:t,smartlabeling:t}],servebolt:t,onstackit:[0,{runs:t}],trafficplex:t,"unison-services":t,urown:t,voorloper:t,zap:t}],club:[1,{cloudns:t,jele:t,barsy:t}],clubmed:e,coach:e,codes:[1,{owo:s}],coffee:e,college:e,cologne:e,commbank:e,community:[1,{nog:t,ravendb:t,myforum:t}],company:e,compare:e,computer:e,comsec:e,condos:e,construction:e,consulting:e,contact:e,contractors:e,cooking:e,cool:[1,{elementor:t,de:t}],corsica:e,country:e,coupon:e,coupons:e,courses:e,cpa:e,credit:e,creditcard:e,creditunion:e,cricket:e,crown:e,crs:e,cruise:e,cruises:e,cuisinella:e,cymru:e,cyou:e,dad:e,dance:e,data:e,date:e,dating:e,datsun:e,day:e,dclk:e,dds:e,deal:e,dealer:e,deals:e,degree:e,delivery:e,dell:e,deloitte:e,delta:e,democrat:e,dental:e,dentist:e,desi:e,design:[1,{graphic:t,bss:t}],dev:[1,{"12chars":t,myaddr:t,panel:t,lcl:s,lclstage:s,stg:s,stgstage:s,pages:t,r2:t,workers:t,deno:t,"deno-staging":t,deta:t,evervault:a,fly:t,githubpreview:t,gateway:s,hrsn:[2,{psl:[0,{sub:t,wc:[0,{"*":t,sub:s}]}]}],botdash:t,inbrowser:s,"is-a-good":t,"is-a":t,iserv:t,runcontainers:t,localcert:[0,{user:s}],loginline:t,barsy:t,mediatech:t,modx:t,ngrok:t,"ngrok-free":t,"is-a-fullstack":t,"is-cool":t,"is-not-a":t,localplayer:t,xmit:t,"platter-app":t,replit:[2,{archer:t,bones:t,canary:t,global:t,hacker:t,id:t,janeway:t,kim:t,kira:t,kirk:t,odo:t,paris:t,picard:t,pike:t,prerelease:t,reed:t,riker:t,sisko:t,spock:t,staging:t,sulu:t,tarpit:t,teams:t,tucker:t,wesley:t,worf:t}],crm:[0,{d:s,w:s,wa:s,wb:s,wc:s,wd:s,we:s,wf:s}],vercel:t,webhare:s}],dhl:e,diamonds:e,diet:e,digital:[1,{cloudapps:[2,{london:t}]}],direct:[1,{libp2p:t}],directory:e,discount:e,discover:e,dish:e,diy:e,dnp:e,docs:e,doctor:e,dog:e,domains:e,dot:e,download:e,drive:e,dtv:e,dubai:e,dunlop:e,dupont:e,durban:e,dvag:e,dvr:e,earth:e,eat:e,eco:e,edeka:e,education:y,email:[1,{crisp:[0,{on:t}],tawk:$e,tawkto:$e}],emerck:e,energy:e,engineer:e,engineering:e,enterprises:e,epson:e,equipment:e,ericsson:e,erni:e,esq:e,estate:[1,{compute:s}],eurovision:e,eus:[1,{party:Ie}],events:[1,{koobin:t,co:t}],exchange:e,expert:e,exposed:e,express:e,extraspace:e,fage:e,fail:e,fairwinds:e,faith:e,family:e,fan:e,fans:e,farm:[1,{storj:t}],farmers:e,fashion:e,fast:e,fedex:e,feedback:e,ferrari:e,ferrero:e,fidelity:e,fido:e,film:e,final:e,finance:e,financial:y,fire:e,firestone:e,firmdale:e,fish:e,fishing:e,fit:e,fitness:e,flickr:e,flights:e,flir:e,florist:e,flowers:e,fly:e,foo:e,food:e,football:e,ford:e,forex:e,forsale:e,forum:e,foundation:e,fox:e,free:e,fresenius:e,frl:e,frogans:e,frontier:e,ftr:e,fujitsu:e,fun:e,fund:e,furniture:e,futbol:e,fyi:e,gal:e,gallery:e,gallo:e,gallup:e,game:e,games:[1,{pley:t,sheezy:t}],gap:e,garden:e,gay:[1,{pages:t}],gbiz:e,gdn:[1,{cnpy:t}],gea:e,gent:e,genting:e,george:e,ggee:e,gift:e,gifts:e,gives:e,giving:e,glass:e,gle:e,global:[1,{appwrite:t}],globo:e,gmail:e,gmbh:e,gmo:e,gmx:e,godaddy:e,gold:e,goldpoint:e,golf:e,goo:e,goodyear:e,goog:[1,{cloud:t,translate:t,usercontent:s}],google:e,gop:e,got:e,grainger:e,graphics:e,gratis:e,green:e,gripe:e,grocery:e,group:[1,{discourse:t}],gucci:e,guge:e,guide:e,guitars:e,guru:e,hair:e,hamburg:e,hangout:e,haus:e,hbo:e,hdfc:e,hdfcbank:e,health:[1,{hra:t}],healthcare:e,help:e,helsinki:e,here:e,hermes:e,hiphop:e,hisamitsu:e,hitachi:e,hiv:e,hkt:e,hockey:e,holdings:e,holiday:e,homedepot:e,homegoods:e,homes:e,homesense:e,honda:e,horse:e,hospital:e,host:[1,{cloudaccess:t,freesite:t,easypanel:t,fastvps:t,myfast:t,tempurl:t,wpmudev:t,jele:t,mircloud:t,wp2:t,half:t}],hosting:[1,{opencraft:t}],hot:e,hotels:e,hotmail:e,house:e,how:e,hsbc:e,hughes:e,hyatt:e,hyundai:e,ibm:e,icbc:e,ice:e,icu:e,ieee:e,ifm:e,ikano:e,imamat:e,imdb:e,immo:e,immobilien:e,inc:e,industries:e,infiniti:e,ing:e,ink:e,institute:e,insurance:e,insure:e,international:e,intuit:e,investments:e,ipiranga:e,irish:e,ismaili:e,ist:e,istanbul:e,itau:e,itv:e,jaguar:e,java:e,jcb:e,jeep:e,jetzt:e,jewelry:e,jio:e,jll:e,jmp:e,jnj:e,joburg:e,jot:e,joy:e,jpmorgan:e,jprs:e,juegos:e,juniper:e,kaufen:e,kddi:e,kerryhotels:e,kerryproperties:e,kfh:e,kia:e,kids:e,kim:e,kindle:e,kitchen:e,kiwi:e,koeln:e,komatsu:e,kosher:e,kpmg:e,kpn:e,krd:[1,{co:t,edu:t}],kred:e,kuokgroup:e,kyoto:e,lacaixa:e,lamborghini:e,lamer:e,lancaster:e,land:e,landrover:e,lanxess:e,lasalle:e,lat:e,latino:e,latrobe:e,law:e,lawyer:e,lds:e,lease:e,leclerc:e,lefrak:e,legal:e,lego:e,lexus:e,lgbt:e,lidl:e,life:e,lifeinsurance:e,lifestyle:e,lighting:e,like:e,lilly:e,limited:e,limo:e,lincoln:e,link:[1,{myfritz:t,cyon:t,dweb:s,inbrowser:s,nftstorage:K,mypep:t,storacha:K,w3s:K}],live:[1,{aem:t,hlx:t,ewp:s}],living:e,llc:e,llp:e,loan:e,loans:e,locker:e,locus:e,lol:[1,{omg:t}],london:e,lotte:e,lotto:e,love:e,lpl:e,lplfinancial:e,ltd:e,ltda:e,lundbeck:e,luxe:e,luxury:e,madrid:e,maif:e,maison:e,makeup:e,man:e,management:e,mango:e,map:e,market:e,marketing:e,markets:e,marriott:e,marshalls:e,mattel:e,mba:e,mckinsey:e,med:e,media:W,meet:e,melbourne:e,meme:e,memorial:e,men:e,menu:[1,{barsy:t,barsyonline:t}],merck:e,merckmsd:e,miami:e,microsoft:e,mini:e,mint:e,mit:e,mitsubishi:e,mlb:e,mls:e,mma:e,mobile:e,moda:e,moe:e,moi:e,mom:[1,{ind:t}],monash:e,money:e,monster:e,mormon:e,mortgage:e,moscow:e,moto:e,motorcycles:e,mov:e,movie:e,msd:e,mtn:e,mtr:e,music:e,nab:e,nagoya:e,navy:e,nba:e,nec:e,netbank:e,netflix:e,network:[1,{alces:s,co:t,arvo:t,azimuth:t,tlon:t}],neustar:e,new:e,news:[1,{noticeable:t}],next:e,nextdirect:e,nexus:e,nfl:e,ngo:e,nhk:e,nico:e,nike:e,nikon:e,ninja:e,nissan:e,nissay:e,nokia:e,norton:e,now:e,nowruz:e,nowtv:e,nra:e,nrw:e,ntt:e,nyc:e,obi:e,observer:e,office:e,okinawa:e,olayan:e,olayangroup:e,ollo:e,omega:e,one:[1,{kin:s,service:t}],ong:[1,{obl:t}],onl:e,online:[1,{eero:t,"eero-stage":t,websitebuilder:t,barsy:t}],ooo:e,open:e,oracle:e,orange:[1,{tech:t}],organic:e,origins:e,osaka:e,otsuka:e,ott:e,ovh:[1,{nerdpol:t}],page:[1,{aem:t,hlx:t,hlx3:t,translated:t,codeberg:t,heyflow:t,prvcy:t,rocky:t,pdns:t,plesk:t}],panasonic:e,paris:e,pars:e,partners:e,parts:e,party:e,pay:e,pccw:e,pet:e,pfizer:e,pharmacy:e,phd:e,philips:e,phone:e,photo:e,photography:e,photos:W,physio:e,pics:e,pictet:e,pictures:[1,{1337:t}],pid:e,pin:e,ping:e,pink:e,pioneer:e,pizza:[1,{ngrok:t}],place:y,play:e,playstation:e,plumbing:e,plus:e,pnc:e,pohl:e,poker:e,politie:e,porn:e,pramerica:e,praxi:e,press:e,prime:e,prod:e,productions:e,prof:e,progressive:e,promo:e,properties:e,property:e,protection:e,pru:e,prudential:e,pub:[1,{id:s,kin:s,barsy:t}],pwc:e,qpon:e,quebec:e,quest:e,racing:e,radio:e,read:e,realestate:e,realtor:e,realty:e,recipes:e,red:e,redstone:e,redumbrella:e,rehab:e,reise:e,reisen:e,reit:e,reliance:e,ren:e,rent:e,rentals:e,repair:e,report:e,republican:e,rest:e,restaurant:e,review:e,reviews:e,rexroth:e,rich:e,richardli:e,ricoh:e,ril:e,rio:e,rip:[1,{clan:t}],rocks:[1,{myddns:t,stackit:t,"lima-city":t,webspace:t}],rodeo:e,rogers:e,room:e,rsvp:e,rugby:e,ruhr:e,run:[1,{appwrite:s,development:t,ravendb:t,liara:[2,{iran:t}],servers:t,build:s,code:s,database:s,migration:s,onporter:t,repl:t,stackit:t,val:[0,{express:t,web:t}],wix:t}],rwe:e,ryukyu:e,saarland:e,safe:e,safety:e,sakura:e,sale:e,salon:e,samsclub:e,samsung:e,sandvik:e,sandvikcoromant:e,sanofi:e,sap:e,sarl:e,sas:e,save:e,saxo:e,sbi:e,sbs:e,scb:e,schaeffler:e,schmidt:e,scholarships:e,school:e,schule:e,schwarz:e,science:e,scot:[1,{gov:[2,{service:t}]}],search:e,seat:e,secure:e,security:e,seek:e,select:e,sener:e,services:[1,{loginline:t}],seven:e,sew:e,sex:e,sexy:e,sfr:e,shangrila:e,sharp:e,shell:e,shia:e,shiksha:e,shoes:e,shop:[1,{base:t,hoplix:t,barsy:t,barsyonline:t,shopware:t}],shopping:e,shouji:e,show:e,silk:e,sina:e,singles:e,site:[1,{square:t,canva:x,cloudera:s,convex:t,cyon:t,fastvps:t,figma:t,heyflow:t,jele:t,jouwweb:t,loginline:t,barsy:t,notion:t,omniwe:t,opensocial:t,madethis:t,platformsh:s,tst:s,byen:t,srht:t,novecore:t,cpanel:t,wpsquared:t}],ski:e,skin:e,sky:e,skype:e,sling:e,smart:e,smile:e,sncf:e,soccer:e,social:e,softbank:e,software:e,sohu:e,solar:e,solutions:e,song:e,sony:e,soy:e,spa:e,space:[1,{myfast:t,heiyu:t,hf:[2,{static:t}],"app-ionos":t,project:t,uber:t,xs4all:t}],sport:e,spot:e,srl:e,stada:e,staples:e,star:e,statebank:e,statefarm:e,stc:e,stcgroup:e,stockholm:e,storage:e,store:[1,{barsy:t,sellfy:t,shopware:t,storebase:t}],stream:e,studio:e,study:e,style:e,sucks:e,supplies:e,supply:e,support:[1,{barsy:t}],surf:e,surgery:e,suzuki:e,swatch:e,swiss:e,sydney:e,systems:[1,{knightpoint:t}],tab:e,taipei:e,talk:e,taobao:e,target:e,tatamotors:e,tatar:e,tattoo:e,tax:e,taxi:e,tci:e,tdk:e,team:[1,{discourse:t,jelastic:t}],tech:[1,{cleverapps:t}],technology:y,temasek:e,tennis:e,teva:e,thd:e,theater:e,theatre:e,tiaa:e,tickets:e,tienda:e,tips:e,tires:e,tirol:e,tjmaxx:e,tjx:e,tkmaxx:e,tmall:e,today:[1,{prequalifyme:t}],tokyo:e,tools:[1,{addr:Jt,myaddr:t}],top:[1,{ntdll:t,wadl:s}],toray:e,toshiba:e,total:e,tours:e,town:e,toyota:e,toys:e,trade:e,trading:e,training:e,travel:e,travelers:e,travelersinsurance:e,trust:e,trv:e,tube:e,tui:e,tunes:e,tushu:e,tvs:e,ubank:e,ubs:e,unicom:e,university:e,uno:e,uol:e,ups:e,vacations:e,vana:e,vanguard:e,vegas:e,ventures:e,verisign:e,versicherung:e,vet:e,viajes:e,video:e,vig:e,viking:e,villas:e,vin:e,vip:e,virgin:e,visa:e,vision:e,viva:e,vivo:e,vlaanderen:e,vodka:e,volvo:e,vote:e,voting:e,voto:e,voyage:e,wales:e,walmart:e,walter:e,wang:e,wanggou:e,watch:e,watches:e,weather:e,weatherchannel:e,webcam:e,weber:e,website:W,wed:e,wedding:e,weibo:e,weir:e,whoswho:e,wien:e,wiki:W,williamhill:e,win:e,windows:e,wine:e,winners:e,wme:e,wolterskluwer:e,woodside:e,work:e,works:e,world:e,wow:e,wtc:e,wtf:e,xbox:e,xerox:e,xihuan:e,xin:e,"xn--11b4c3d":e,\u0915\u0949\u092E:e,"xn--1ck2e1b":e,\u30BB\u30FC\u30EB:e,"xn--1qqw23a":e,\u4F5B\u5C71:e,"xn--30rr7y":e,\u6148\u5584:e,"xn--3bst00m":e,\u96C6\u56E2:e,"xn--3ds443g":e,\u5728\u7EBF:e,"xn--3pxu8k":e,\u70B9\u770B:e,"xn--42c2d9a":e,\u0E04\u0E2D\u0E21:e,"xn--45q11c":e,\u516B\u5366:e,"xn--4gbrim":e,\u0645\u0648\u0642\u0639:e,"xn--55qw42g":e,\u516C\u76CA:e,"xn--55qx5d":e,\u516C\u53F8:e,"xn--5su34j936bgsg":e,\u9999\u683C\u91CC\u62C9:e,"xn--5tzm5g":e,\u7F51\u7AD9:e,"xn--6frz82g":e,\u79FB\u52A8:e,"xn--6qq986b3xl":e,\u6211\u7231\u4F60:e,"xn--80adxhks":e,\u043C\u043E\u0441\u043A\u0432\u0430:e,"xn--80aqecdr1a":e,\u043A\u0430\u0442\u043E\u043B\u0438\u043A:e,"xn--80asehdb":e,\u043E\u043D\u043B\u0430\u0439\u043D:e,"xn--80aswg":e,\u0441\u0430\u0439\u0442:e,"xn--8y0a063a":e,\u8054\u901A:e,"xn--9dbq2a":e,\u05E7\u05D5\u05DD:e,"xn--9et52u":e,\u65F6\u5C1A:e,"xn--9krt00a":e,\u5FAE\u535A:e,"xn--b4w605ferd":e,\u6DE1\u9A6C\u9521:e,"xn--bck1b9a5dre4c":e,\u30D5\u30A1\u30C3\u30B7\u30E7\u30F3:e,"xn--c1avg":e,\u043E\u0440\u0433:e,"xn--c2br7g":e,\u0928\u0947\u091F:e,"xn--cck2b3b":e,\u30B9\u30C8\u30A2:e,"xn--cckwcxetd":e,\u30A2\u30DE\u30BE\u30F3:e,"xn--cg4bki":e,\uC0BC\uC131:e,"xn--czr694b":e,\u5546\u6807:e,"xn--czrs0t":e,\u5546\u5E97:e,"xn--czru2d":e,\u5546\u57CE:e,"xn--d1acj3b":e,\u0434\u0435\u0442\u0438:e,"xn--eckvdtc9d":e,\u30DD\u30A4\u30F3\u30C8:e,"xn--efvy88h":e,\u65B0\u95FB:e,"xn--fct429k":e,\u5BB6\u96FB:e,"xn--fhbei":e,\u0643\u0648\u0645:e,"xn--fiq228c5hs":e,\u4E2D\u6587\u7F51:e,"xn--fiq64b":e,\u4E2D\u4FE1:e,"xn--fjq720a":e,\u5A31\u4E50:e,"xn--flw351e":e,\u8C37\u6B4C:e,"xn--fzys8d69uvgm":e,\u96FB\u8A0A\u76C8\u79D1:e,"xn--g2xx48c":e,\u8D2D\u7269:e,"xn--gckr3f0f":e,\u30AF\u30E9\u30A6\u30C9:e,"xn--gk3at1e":e,\u901A\u8CA9:e,"xn--hxt814e":e,\u7F51\u5E97:e,"xn--i1b6b1a6a2e":e,\u0938\u0902\u0917\u0920\u0928:e,"xn--imr513n":e,\u9910\u5385:e,"xn--io0a7i":e,\u7F51\u7EDC:e,"xn--j1aef":e,\u043A\u043E\u043C:e,"xn--jlq480n2rg":e,\u4E9A\u9A6C\u900A:e,"xn--jvr189m":e,\u98DF\u54C1:e,"xn--kcrx77d1x4a":e,\u98DE\u5229\u6D66:e,"xn--kput3i":e,\u624B\u673A:e,"xn--mgba3a3ejt":e,\u0627\u0631\u0627\u0645\u0643\u0648:e,"xn--mgba7c0bbn0a":e,\u0627\u0644\u0639\u0644\u064A\u0627\u0646:e,"xn--mgbab2bd":e,\u0628\u0627\u0632\u0627\u0631:e,"xn--mgbca7dzdo":e,\u0627\u0628\u0648\u0638\u0628\u064A:e,"xn--mgbi4ecexp":e,\u0643\u0627\u062B\u0648\u0644\u064A\u0643:e,"xn--mgbt3dhd":e,\u0647\u0645\u0631\u0627\u0647:e,"xn--mk1bu44c":e,\uB2F7\uCEF4:e,"xn--mxtq1m":e,\u653F\u5E9C:e,"xn--ngbc5azd":e,\u0634\u0628\u0643\u0629:e,"xn--ngbe9e0a":e,\u0628\u064A\u062A\u0643:e,"xn--ngbrx":e,\u0639\u0631\u0628:e,"xn--nqv7f":e,\u673A\u6784:e,"xn--nqv7fs00ema":e,\u7EC4\u7EC7\u673A\u6784:e,"xn--nyqy26a":e,\u5065\u5EB7:e,"xn--otu796d":e,\u62DB\u8058:e,"xn--p1acf":[1,{"xn--90amc":t,"xn--j1aef":t,"xn--j1ael8b":t,"xn--h1ahn":t,"xn--j1adp":t,"xn--c1avg":t,"xn--80aaa0cvac":t,"xn--h1aliz":t,"xn--90a1af":t,"xn--41a":t}],\u0440\u0443\u0441:[1,{\u0431\u0438\u0437:t,\u043A\u043E\u043C:t,\u043A\u0440\u044B\u043C:t,\u043C\u0438\u0440:t,\u043C\u0441\u043A:t,\u043E\u0440\u0433:t,\u0441\u0430\u043C\u0430\u0440\u0430:t,\u0441\u043E\u0447\u0438:t,\u0441\u043F\u0431:t,\u044F:t}],"xn--pssy2u":e,\u5927\u62FF:e,"xn--q9jyb4c":e,\u307F\u3093\u306A:e,"xn--qcka1pmc":e,\u30B0\u30FC\u30B0\u30EB:e,"xn--rhqv96g":e,\u4E16\u754C:e,"xn--rovu88b":e,\u66F8\u7C4D:e,"xn--ses554g":e,\u7F51\u5740:e,"xn--t60b56a":e,\uB2F7\uB137:e,"xn--tckwe":e,\u30B3\u30E0:e,"xn--tiq49xqyj":e,\u5929\u4E3B\u6559:e,"xn--unup4y":e,\u6E38\u620F:e,"xn--vermgensberater-ctb":e,verm\u00F6gensberater:e,"xn--vermgensberatung-pwb":e,verm\u00F6gensberatung:e,"xn--vhquv":e,\u4F01\u4E1A:e,"xn--vuq861b":e,\u4FE1\u606F:e,"xn--w4r85el8fhu5dnra":e,\u5609\u91CC\u5927\u9152\u5E97:e,"xn--w4rs40l":e,\u5609\u91CC:e,"xn--xhq521b":e,\u5E7F\u4E1C:e,"xn--zfr164b":e,\u653F\u52A1:e,xyz:[1,{botdash:t,telebit:s}],yachts:e,yahoo:e,yamaxun:e,yandex:e,yodobashi:e,yoga:e,yokohama:e,you:e,youtube:e,yun:e,zappos:e,zara:e,zero:e,zip:e,zone:[1,{cloud66:t,triton:s,stackit:t,lima:t}],zuerich:e}]})();function Nw(e,t,r,n){let s=null,i=t;for(;i!==void 0&&((i[0]&n)!==0&&(s={index:r+1,isIcann:i[0]===1,isPrivate:i[0]===2}),r!==-1);){let a=i[1];i=Object.prototype.hasOwnProperty.call(a,e[r])?a[e[r]]:a["*"],r-=1}return s}function yi(e,t,r){var n;if(hT(e,t,r))return;let s=e.split("."),i=(t.allowPrivateDomains?2:0)|(t.allowIcannDomains?1:0),a=Nw(s,fT,s.length-1,i);if(a!==null){r.isIcann=a.isIcann,r.isPrivate=a.isPrivate,r.publicSuffix=s.slice(a.index+1).join(".");return}let o=Nw(s,pT,s.length-1,i);if(o!==null){r.isIcann=o.isIcann,r.isPrivate=o.isPrivate,r.publicSuffix=s.slice(o.index).join(".");return}r.isIcann=!1,r.isPrivate=!1,r.publicSuffix=(n=s[s.length-1])!==null&&n!==void 0?n:null}var Hr=Lw();function mT(e,t={}){return gi(e,5,yi,t,Lw())}function gT(e,t={}){return Ua(Hr),gi(e,0,yi,t,Hr).hostname}function yT(e,t={}){return Ua(Hr),gi(e,2,yi,t,Hr).publicSuffix}function vT(e,t={}){return Ua(Hr),gi(e,3,yi,t,Hr).domain}function _T(e,t={}){return Ua(Hr),gi(e,4,yi,t,Hr).subdomain}function bT(e,t={}){return Ua(Hr),gi(e,5,yi,t,Hr).domainWithoutSuffix}Sn.getDomain=vT;Sn.getDomainWithoutSuffix=bT;Sn.getHostname=gT;Sn.getPublicSuffix=yT;Sn.getSubdomain=_T;Sn.parse=mT});var Na=j(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.getPublicSuffix=xT;var wT=qw(),zw=["local","example","invalid","localhost","test"],kT=["localhost","invalid"],ST={allowSpecialUseDomain:!1,ignoreError:!1};function xT(e,t={}){t={...ST,...t};let r=e.split("."),n=r[r.length-1],s=!!t.allowSpecialUseDomain,i=!!t.ignoreError;if(s&&n!==void 0&&zw.includes(n)){if(r.length>1)return`${r[r.length-2]}.${n}`;if(kT.includes(n))return n}if(!i&&n!==void 0&&zw.includes(n))throw new Error(`Cookie has domain set to the public suffix "${n}" which is a special use domain. To allow this, configure your CookieJar with {allowSpecialUseDomain: true, rejectPublicSuffixes: false}.`);let a=(0,wT.getDomain)(e,{allowIcannDomains:!0,allowPrivateDomains:!0});if(a)return a}});var hf=j(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.permuteDomain=CT;var ET=Na();function CT(e,t){let r=(0,ET.getPublicSuffix)(e,{allowSpecialUseDomain:t});if(!r)return;if(r==e)return[e];e.slice(-1)=="."&&(e=e.slice(0,-1));let s=e.slice(0,-(r.length+1)).split(".").reverse(),i=r,a=[i];for(;s.length;)i=`${s.shift()}.${i}`,a.push(i);return a}});var Ic=j(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.Store=void 0;var ff=class{constructor(){this.synchronous=!1}findCookie(t,r,n,s){throw new Error("findCookie is not implemented")}findCookies(t,r,n=!1,s){throw new Error("findCookies is not implemented")}putCookie(t,r){throw new Error("putCookie is not implemented")}updateCookie(t,r,n){throw new Error("updateCookie is not implemented")}removeCookie(t,r,n,s){throw new Error("removeCookie is not implemented")}removeCookies(t,r,n){throw new Error("removeCookies is not implemented")}removeAllCookies(t){throw new Error("removeAllCookies is not implemented")}getAllCookies(t){throw new Error("getAllCookies is not implemented (therefore jar cannot be serialized)")}};Rc.Store=ff});var $a=j(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.safeToString=Jr.objectToString=void 0;Jr.createPromiseCallback=OT;Jr.inOperator=TT;var PT=e=>Object.prototype.toString.call(e);Jr.objectToString=PT;var RT=(e,t)=>typeof e.join!="function"?(0,Jr.objectToString)(e):(t.add(e),e.map(n=>n==null||t.has(n)?"":Fw(n,t)).join()),Fw=(e,t=new WeakSet)=>typeof e!="object"||e===null?String(e):typeof e.toString=="function"?Array.isArray(e)?RT(e,t):String(e):(0,Jr.objectToString)(e),IT=e=>Fw(e);Jr.safeToString=IT;function OT(e){let t,r,n,s=new Promise((i,a)=>{r=i,n=a});return typeof e=="function"?t=(i,a)=>{try{i?e(i):e(null,a)}catch(o){n(o instanceof Error?o:new Error)}}:t=(i,a)=>{try{i?n(i):r(a)}catch(o){n(o instanceof Error?o:new Error)}},{promise:s,callback:t,resolve:i=>(t(null,i),s),reject:i=>(t(i),s)}}function TT(e,t){return e in t}});var mf=j(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.MemoryCookieStore=void 0;var jT=Pc(),DT=hf(),AT=Ic(),xn=$a(),pf=class extends AT.Store{constructor(){super(),this.synchronous=!0,this.idx=Object.create(null)}findCookie(t,r,n,s){let i=(0,xn.createPromiseCallback)(s);if(t==null||r==null||n==null)return i.resolve(void 0);let a=this.idx[t]?.[r]?.[n];return i.resolve(a)}findCookies(t,r,n=!1,s){typeof n=="function"&&(s=n,n=!0);let i=[],a=(0,xn.createPromiseCallback)(s);if(!t)return a.resolve([]);let o;r?o=function(d){for(let h in d)if((0,jT.pathMatch)(r,h)){let f=d[h];for(let p in f){let g=f[p];g&&i.push(g)}}}:o=function(d){for(let h in d){let f=d[h];for(let p in f){let g=f[p];g&&i.push(g)}}};let l=(0,DT.permuteDomain)(t,n)||[t],c=this.idx;return l.forEach(u=>{let d=c[u];d&&o(d)}),a.resolve(i)}putCookie(t,r){let n=(0,xn.createPromiseCallback)(r),{domain:s,path:i,key:a}=t;if(s==null||i==null||a==null)return n.resolve(void 0);let o=this.idx[s]??Object.create(null);this.idx[s]=o;let l=o[i]??Object.create(null);return o[i]=l,l[a]=t,n.resolve(void 0)}updateCookie(t,r,n){if(n)this.putCookie(r,n);else return this.putCookie(r)}removeCookie(t,r,n,s){let i=(0,xn.createPromiseCallback)(s);return delete this.idx[t]?.[r]?.[n],i.resolve(void 0)}removeCookies(t,r,n){let s=(0,xn.createPromiseCallback)(n),i=this.idx[t];return i&&(r?delete i[r]:delete this.idx[t]),s.resolve(void 0)}removeAllCookies(t){let r=(0,xn.createPromiseCallback)(t);return this.idx=Object.create(null),r.resolve(void 0)}getAllCookies(t){let r=(0,xn.createPromiseCallback)(t),n=[],s=this.idx;return Object.keys(s).forEach(a=>{let o=s[a]??{};Object.keys(o).forEach(c=>{let u=o[c]??{};Object.keys(u).forEach(h=>{let f=u[h];f!=null&&n.push(f)})})}),n.sort((a,o)=>(a.creationIndex||0)-(o.creationIndex||0)),r.resolve(n)}};Oc.MemoryCookieStore=pf});var La=j(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.ParameterError=void 0;br.isNonEmptyString=MT;br.isDate=UT;br.isEmptyString=NT;br.isString=Bw;br.isObject=Hw;br.isInteger=Jw;br.validate=$T;var Vw=$a();function MT(e){return Bw(e)&&e!==""}function UT(e){return e instanceof Date&&Jw(e.getTime())}function NT(e){return e===""||e instanceof String&&e.toString()===""}function Bw(e){return typeof e=="string"||e instanceof String}function Hw(e){return(0,Vw.objectToString)(e)==="[object Object]"}function Jw(e){return typeof e=="number"&&e%1===0}function $T(e,t,r){if(e)return;let n=typeof t=="function"?t:void 0,s=typeof t=="function"?r:t;Hw(s)||(s="[object Object]");let i=new Tc((0,Vw.safeToString)(s));if(n)n(i);else throw i}var Tc=class extends Error{};br.ParameterError=Tc});var gf=j(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.version=void 0;jc.version="5.1.2"});var Dc=j(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.IP_V6_REGEX_OBJECT=En.PrefixSecurityEnum=void 0;En.PrefixSecurityEnum={SILENT:"silent",STRICT:"strict",DISABLED:"unsafe-disabled"};Object.freeze(En.PrefixSecurityEnum);var LT=`
\\[?(?:
(?:[a-fA-F\\d]{1,4}:){7}(?:[a-fA-F\\d]{1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|:[a-fA-F\\d]{1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,2}|:)|
(?:[a-fA-F\\d]{1,4}:){4}(?:(?::[a-fA-F\\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,3}|:)|
(?:[a-fA-F\\d]{1,4}:){3}(?:(?::[a-fA-F\\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){2}(?:(?::[a-fA-F\\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,5}|:)|
(?:[a-fA-F\\d]{1,4}:){1}(?:(?::[a-fA-F\\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,6}|:)|
(?::(?:(?::[a-fA-F\\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,7}|:))
)(?:%[0-9a-zA-Z]{1,})?\\]?
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim();En.IP_V6_REGEX_OBJECT=new RegExp(`^${LT}$`)});var qa=j(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.canonicalDomain=zT;var qT=Dc();function Kw(e){return new URL(`http://${e}`).hostname}function zT(e){if(e==null)return;let t=e.trim().replace(/^\./,"");return qT.IP_V6_REGEX_OBJECT.test(t)?(t.startsWith("[")||(t="["+t),t.endsWith("]")||(t=t+"]"),Kw(t).slice(1,-1)):/[^\u0001-\u007f]/.test(t)?Kw(t):t.toLowerCase()}});var _f=j(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.formatDate=FT;function FT(e){return e.toUTCString()}});var kf=j(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.parseDate=JT;var VT=/[\x09\x20-\x2F\x3B-\x40\x5B-\x60\x7B-\x7E]/,hr={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11};function bf(e,t,r,n){let s=0;for(;s<e.length;){let i=e.charCodeAt(s);if(i<=47||i>=58)break;s++}if(!(s<t||s>r)&&!(!n&&s!=e.length))return parseInt(e.slice(0,s),10)}function BT(e){let t=e.split(":"),r=[0,0,0];if(t.length===3){for(let n=0;n<3;n++){let s=n==2,i=t[n];if(i===void 0)return;let a=bf(i,1,2,s);if(a===void 0)return;r[n]=a}return r}}function HT(e){switch(e=String(e).slice(0,3).toLowerCase(),e){case"jan":return hr.jan;case"feb":return hr.feb;case"mar":return hr.mar;case"apr":return hr.apr;case"may":return hr.may;case"jun":return hr.jun;case"jul":return hr.jul;case"aug":return hr.aug;case"sep":return hr.sep;case"oct":return hr.oct;case"nov":return hr.nov;case"dec":return hr.dec;default:return}}function JT(e){if(!e)return;let t=e.split(VT),r,n,s,i,a,o;for(let l=0;l<t.length;l++){let c=(t[l]??"").trim();if(c.length){if(s===void 0){let u=BT(c);if(u){r=u[0],n=u[1],s=u[2];continue}}if(i===void 0){let u=bf(c,1,2,!0);if(u!==void 0){i=u;continue}}if(a===void 0){let u=HT(c);if(u!==void 0){a=u;continue}}if(o===void 0){let u=bf(c,2,4,!0);u!==void 0&&(o=u,o>=70&&o<=99?o+=1900:o>=0&&o<=69&&(o+=2e3))}}}if(!(i===void 0||a===void 0||o===void 0||r===void 0||n===void 0||s===void 0||i<1||i>31||o<1601||r>23||n>59||s>59))return new Date(Date.UTC(o,a,i,r,n,s))}});var Mc=j(Wr=>{"use strict";var KT=Wr&&Wr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),WT=Wr&&Wr.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),GT=Wr&&Wr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&KT(t,e,r);return WT(t,e),t};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.Cookie=void 0;var ZT=Na(),Ac=GT(La()),Ww=$a(),YT=_f(),Sf=kf(),Gw=qa(),QT=/^[\x21\x23-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]+$/,XT=/[\x20-\x3A\x3C-\x7E]+/,Zw=/[\x00-\x1F]/,Yw=[`
`,"\r","\0"];function ej(e){if(Ac.isEmptyString(e))return e;for(let t=0;t<Yw.length;t++){let r=Yw[t],n=r?e.indexOf(r):-1;n!==-1&&(e=e.slice(0,n))}return e}function tj(e,t){e=ej(e);let r=e.indexOf("=");if(t)r===0&&(e=e.substring(1),r=e.indexOf("="));else if(r<=0)return;let n,s;if(r<=0?(n="",s=e.trim()):(n=e.slice(0,r).trim(),s=e.slice(r+1).trim()),Zw.test(n)||Zw.test(s))return;let i=new Kr;return i.key=n,i.value=s,i}function rj(e,t){if(Ac.isEmptyString(e)||!Ac.isString(e))return;e=e.trim();let r=e.indexOf(";"),n=r===-1?e:e.slice(0,r),s=tj(n,t?.loose??!1);if(!s)return;if(r===-1)return s;let i=e.slice(r+1).trim();if(i.length===0)return s;let a=i.split(";");for(;a.length;){let o=(a.shift()??"").trim();if(o.length===0)continue;let l=o.indexOf("="),c,u;switch(l===-1?(c=o,u=null):(c=o.slice(0,l),u=o.slice(l+1)),c=c.trim().toLowerCase(),u&&(u=u.trim()),c){case"expires":if(u){let d=(0,Sf.parseDate)(u);d&&(s.expires=d)}break;case"max-age":if(u&&/^-?[0-9]+$/.test(u)){let d=parseInt(u,10);s.setMaxAge(d)}break;case"domain":if(u){let d=u.trim().replace(/^\./,"");d&&(s.domain=d.toLowerCase())}break;case"path":s.path=u&&u[0]==="/"?u:null;break;case"secure":s.secure=!0;break;case"httponly":s.httpOnly=!0;break;case"samesite":switch(u?u.toLowerCase():""){case"strict":s.sameSite="strict";break;case"lax":s.sameSite="lax";break;case"none":s.sameSite="none";break;default:s.sameSite=void 0;break}break;default:s.extensions=s.extensions||[],s.extensions.push(o);break}}return s}function Qw(e){if(!e||Ac.isEmptyString(e))return;let t;if(typeof e=="string")try{t=JSON.parse(e)}catch{return}else t=e;let r=new Kr;return Kr.serializableProperties.forEach(n=>{if(t&&typeof t=="object"&&(0,Ww.inOperator)(n,t)){let s=t[n];if(s===void 0||(0,Ww.inOperator)(n,_t)&&s===_t[n])return;switch(n){case"key":case"value":case"sameSite":typeof s=="string"&&(r[n]=s);break;case"expires":case"creation":case"lastAccessed":typeof s=="number"||typeof s=="string"||s instanceof Date?r[n]=t[n]=="Infinity"?"Infinity":new Date(s):s===null&&(r[n]=null);break;case"maxAge":(typeof s=="number"||s==="Infinity"||s==="-Infinity")&&(r[n]=s);break;case"domain":case"path":(typeof s=="string"||s===null)&&(r[n]=s);break;case"secure":case"httpOnly":typeof s=="boolean"&&(r[n]=s);break;case"extensions":Array.isArray(s)&&s.every(i=>typeof i=="string")&&(r[n]=s);break;case"hostOnly":case"pathIsDefault":(typeof s=="boolean"||s===null)&&(r[n]=s);break}}}),r}var _t={key:"",value:"",expires:"Infinity",maxAge:null,domain:null,path:null,secure:!1,httpOnly:!1,extensions:null,hostOnly:null,pathIsDefault:null,creation:null,lastAccessed:null,sameSite:void 0},Kr=class e{constructor(t={}){this.key=t.key??_t.key,this.value=t.value??_t.value,this.expires=t.expires??_t.expires,this.maxAge=t.maxAge??_t.maxAge,this.domain=t.domain??_t.domain,this.path=t.path??_t.path,this.secure=t.secure??_t.secure,this.httpOnly=t.httpOnly??_t.httpOnly,this.extensions=t.extensions??_t.extensions,this.creation=t.creation??_t.creation,this.hostOnly=t.hostOnly??_t.hostOnly,this.pathIsDefault=t.pathIsDefault??_t.pathIsDefault,this.lastAccessed=t.lastAccessed??_t.lastAccessed,this.sameSite=t.sameSite??_t.sameSite,this.creation=t.creation??new Date,Object.defineProperty(this,"creationIndex",{configurable:!1,enumerable:!1,writable:!0,value:++e.cookiesCreated}),this.creationIndex=e.cookiesCreated}[Symbol.for("nodejs.util.inspect.custom")](){let t=Date.now(),r=this.hostOnly!=null?this.hostOnly.toString():"?",n=this.creation&&this.creation!=="Infinity"?`${String(t-this.creation.getTime())}ms`:"?",s=this.lastAccessed&&this.lastAccessed!=="Infinity"?`${String(t-this.lastAccessed.getTime())}ms`:"?";return`Cookie="${this.toString()}; hostOnly=${r}; aAge=${s}; cAge=${n}"`}toJSON(){let t={};for(let r of e.serializableProperties){let n=this[r];if(n!==_t[r])switch(r){case"key":case"value":case"sameSite":typeof n=="string"&&(t[r]=n);break;case"expires":case"creation":case"lastAccessed":typeof n=="number"||typeof n=="string"||n instanceof Date?t[r]=n=="Infinity"?"Infinity":new Date(n).toISOString():n===null&&(t[r]=null);break;case"maxAge":(typeof n=="number"||n==="Infinity"||n==="-Infinity")&&(t[r]=n);break;case"domain":case"path":(typeof n=="string"||n===null)&&(t[r]=n);break;case"secure":case"httpOnly":typeof n=="boolean"&&(t[r]=n);break;case"extensions":Array.isArray(n)&&(t[r]=n);break;case"hostOnly":case"pathIsDefault":(typeof n=="boolean"||n===null)&&(t[r]=n);break}}return t}clone(){return Qw(this.toJSON())}validate(){if(!this.value||!QT.test(this.value)||this.expires!="Infinity"&&!(this.expires instanceof Date)&&!(0,Sf.parseDate)(this.expires)||this.maxAge!=null&&this.maxAge!=="Infinity"&&(this.maxAge==="-Infinity"||this.maxAge<=0)||this.path!=null&&!XT.test(this.path))return!1;let t=this.cdomain();return!(t&&(t.match(/\.$/)||(0,ZT.getPublicSuffix)(t)==null))}setExpires(t){t instanceof Date?this.expires=t:this.expires=(0,Sf.parseDate)(t)||"Infinity"}setMaxAge(t){t===1/0?this.maxAge="Infinity":t===-1/0?this.maxAge="-Infinity":this.maxAge=t}cookieString(){let t=this.value||"";return this.key?`${this.key}=${t}`:t}toString(){let t=this.cookieString();return this.expires!="Infinity"&&this.expires instanceof Date&&(t+=`; Expires=${(0,YT.formatDate)(this.expires)}`),this.maxAge!=null&&this.maxAge!=1/0&&(t+=`; Max-Age=${String(this.maxAge)}`),this.domain&&!this.hostOnly&&(t+=`; Domain=${this.domain}`),this.path&&(t+=`; Path=${this.path}`),this.secure&&(t+="; Secure"),this.httpOnly&&(t+="; HttpOnly"),this.sameSite&&this.sameSite!=="none"&&(this.sameSite.toLowerCase()===e.sameSiteCanonical.lax.toLowerCase()?t+=`; SameSite=${e.sameSiteCanonical.lax}`:this.sameSite.toLowerCase()===e.sameSiteCanonical.strict.toLowerCase()?t+=`; SameSite=${e.sameSiteCanonical.strict}`:t+=`; SameSite=${this.sameSite}`),this.extensions&&this.extensions.forEach(r=>{t+=`; ${r}`}),t}TTL(t=Date.now()){if(this.maxAge!=null&&typeof this.maxAge=="number")return this.maxAge<=0?0:this.maxAge*1e3;let r=this.expires;return r==="Infinity"?1/0:(r?.getTime()??t)-(t||Date.now())}expiryTime(t){if(this.maxAge!=null){let r=t||this.lastAccessed||new Date,n=typeof this.maxAge=="number"?this.maxAge:-1/0,s=n<=0?-1/0:n*1e3;return r==="Infinity"?1/0:r.getTime()+s}return this.expires=="Infinity"?1/0:this.expires?this.expires.getTime():void 0}expiryDate(t){let r=this.expiryTime(t);return r==1/0?new Date(2147483647e3):r==-1/0?new Date(0):r==null?void 0:new Date(r)}isPersistent(){return this.maxAge!=null||this.expires!="Infinity"}canonicalizedDomain(){return(0,Gw.canonicalDomain)(this.domain)}cdomain(){return(0,Gw.canonicalDomain)(this.domain)}static parse(t,r){return rj(t,r)}static fromJSON(t){return Qw(t)}};Wr.Cookie=Kr;Kr.cookiesCreated=0;Kr.sameSiteLevel={strict:3,lax:2,none:1};Kr.sameSiteCanonical={strict:"Strict",lax:"Lax"};Kr.serializableProperties=["key","value","expires","maxAge","domain","path","secure","httpOnly","extensions","hostOnly","pathIsDefault","creation","lastAccessed","sameSite"]});var Ef=j(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.cookieCompare=sj;var Xw=2147483647e3;function sj(e,t){let r,n=e.path?e.path.length:0;if(r=(t.path?t.path.length:0)-n,r!==0)return r;let i=e.creation&&e.creation instanceof Date?e.creation.getTime():Xw,a=t.creation&&t.creation instanceof Date?t.creation.getTime():Xw;return r=i-a,r!==0||(r=(e.creationIndex||0)-(t.creationIndex||0)),r}});var Pf=j(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.defaultPath=nj;function nj(e){if(!e||e.slice(0,1)!=="/")return"/";if(e==="/")return e;let t=e.lastIndexOf("/");return t===0?"/":e.slice(0,t)}});var If=j(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});Rf.domainMatch=aj;var ek=qa(),ij=/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-f\d]{1,4}:){7}(?:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,2}|:)|(?:[a-f\d]{1,4}:){4}(?:(?::[a-f\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,3}|:)|(?:[a-f\d]{1,4}:){3}(?:(?::[a-f\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,4}|:)|(?:[a-f\d]{1,4}:){2}(?:(?::[a-f\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,5}|:)|(?:[a-f\d]{1,4}:){1}(?:(?::[a-f\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,6}|:)|(?::(?:(?::[a-f\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,7}|:)))$)/;function aj(e,t,r){if(e==null||t==null)return;let n,s;if(r!==!1?(n=(0,ek.canonicalDomain)(e),s=(0,ek.canonicalDomain)(t)):(n=e,s=t),n==null||s==null)return;if(n==s)return!0;let i=n.lastIndexOf(s);return i<=0||n.length!==s.length+i||n.substring(i-1,i)!=="."?!1:!ij.test(n)}});var ok=j(Gr=>{"use strict";var oj=Gr&&Gr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),lj=Gr&&Gr.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),cj=Gr&&Gr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&oj(t,e,r);return lj(t,e),t};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.CookieJar=void 0;var uj=Na(),wr=cj(La()),dj=La(),hj=Ic(),fj=mf(),pj=Pc(),ps=Mc(),Yt=$a(),tk=qa(),Cn=Dc(),mj=Pf(),rk=If(),sk=Ef(),gj=gf(),yj={loose:!1,sameSiteContext:void 0,ignoreError:!1,http:!0},nk={http:!0,expire:!0,allPaths:!1,sameSiteContext:void 0,sort:void 0},Of='Invalid sameSiteContext option for getCookies(); expected one of "strict", "lax", or "none"';function ik(e){if(e&&typeof e=="object"&&"hostname"in e&&typeof e.hostname=="string"&&"pathname"in e&&typeof e.pathname=="string"&&"protocol"in e&&typeof e.protocol=="string")return{hostname:e.hostname,pathname:e.pathname,protocol:e.protocol};if(typeof e=="string")try{return new URL(decodeURI(e))}catch{return new URL(e)}else throw new dj.ParameterError("`url` argument is not a string or URL.")}function ak(e){let t=String(e).toLowerCase();if(t==="none"||t==="lax"||t==="strict")return t}function vj(e){return!(typeof e.key=="string"&&e.key.startsWith("__Secure-"))||e.secure}function _j(e){return!(typeof e.key=="string"&&e.key.startsWith("__Host-"))||!!(e.secure&&e.hostOnly&&e.path!=null&&e.path==="/")}function Uc(e){let t=e.toLowerCase();switch(t){case Cn.PrefixSecurityEnum.STRICT:case Cn.PrefixSecurityEnum.SILENT:case Cn.PrefixSecurityEnum.DISABLED:return t;default:return Cn.PrefixSecurityEnum.SILENT}}var Tf=class e{constructor(t,r){typeof r=="boolean"&&(r={rejectPublicSuffixes:r}),this.rejectPublicSuffixes=r?.rejectPublicSuffixes??!0,this.enableLooseMode=r?.looseMode??!1,this.allowSpecialUseDomain=r?.allowSpecialUseDomain??!0,this.prefixSecurity=Uc(r?.prefixSecurity??"silent"),this.store=t??new fj.MemoryCookieStore}callSync(t){if(!this.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");let r=null,n;try{t.call(this,(s,i)=>{r=s,n=i})}catch(s){r=s}if(r)throw r;return n}setCookie(t,r,n,s){typeof n=="function"&&(s=n,n=void 0);let i=(0,Yt.createPromiseCallback)(s),a=i.callback,o;try{if(typeof r=="string"&&wr.validate(wr.isNonEmptyString(r),s,(0,Yt.safeToString)(n)),o=ik(r),typeof r=="function")return i.reject(new Error("No URL was specified"));if(typeof n=="function"&&(n=yj),wr.validate(typeof a=="function",a),!wr.isNonEmptyString(t)&&!wr.isObject(t)&&t instanceof String&&t.length==0)return i.resolve(void 0)}catch(y){return i.reject(y)}let l=(0,tk.canonicalDomain)(o.hostname)??null,c=n?.loose||this.enableLooseMode,u=null;if(n?.sameSiteContext&&(u=ak(n.sameSiteContext),!u))return i.reject(new Error(Of));if(typeof t=="string"||t instanceof String){let y=ps.Cookie.parse(t.toString(),{loose:c});if(!y){let v=new Error("Cookie failed to parse");return n?.ignoreError?i.resolve(void 0):i.reject(v)}t=y}else if(!(t instanceof ps.Cookie)){let y=new Error("First argument to setCookie must be a Cookie object or string");return n?.ignoreError?i.resolve(void 0):i.reject(y)}let d=n?.now||new Date;if(this.rejectPublicSuffixes&&t.domain)try{let y=t.cdomain();if((typeof y=="string"?(0,uj.getPublicSuffix)(y,{allowSpecialUseDomain:this.allowSpecialUseDomain,ignoreError:n?.ignoreError}):null)==null&&!Cn.IP_V6_REGEX_OBJECT.test(t.domain)){let C=new Error("Cookie has domain set to a public suffix");return n?.ignoreError?i.resolve(void 0):i.reject(C)}}catch(y){return n?.ignoreError?i.resolve(void 0):i.reject(y)}if(t.domain){if(!(0,rk.domainMatch)(l??void 0,t.cdomain()??void 0,!1)){let y=new Error(`Cookie not in this host's domain. Cookie:${t.cdomain()??"null"} Request:${l??"null"}`);return n?.ignoreError?i.resolve(void 0):i.reject(y)}t.hostOnly==null&&(t.hostOnly=!1)}else t.hostOnly=!0,t.domain=l;if((!t.path||t.path[0]!=="/")&&(t.path=(0,mj.defaultPath)(o.pathname),t.pathIsDefault=!0),n?.http===!1&&t.httpOnly){let y=new Error("Cookie is HttpOnly and this isn't an HTTP API");return n.ignoreError?i.resolve(void 0):i.reject(y)}if(t.sameSite!=="none"&&t.sameSite!==void 0&&u&&u==="none"){let y=new Error("Cookie is SameSite but this is a cross-origin request");return n?.ignoreError?i.resolve(void 0):i.reject(y)}let h=this.prefixSecurity===Cn.PrefixSecurityEnum.SILENT;if(!(this.prefixSecurity===Cn.PrefixSecurityEnum.DISABLED)){let y=!1,v;if(vj(t)?_j(t)||(y=!0,v="Cookie has __Host prefix but either Secure or HostOnly attribute is not set or Path is not '/'"):(y=!0,v="Cookie has __Secure prefix but Secure attribute is not set"),y)return n?.ignoreError||h?i.resolve(void 0):i.reject(new Error(v))}let p=this.store;p.updateCookie||(p.updateCookie=async function(y,v,C){return this.putCookie(v).then(()=>C?.(null),x=>C?.(x))});let g=function(v,C){if(v){a(v);return}let x=function(k){k?a(k):typeof t=="string"?a(null,void 0):a(null,t)};if(C){if(n&&"http"in n&&n.http===!1&&C.httpOnly){v=new Error("old Cookie is HttpOnly and this isn't an HTTP API"),n.ignoreError?a(null,void 0):a(v);return}t instanceof ps.Cookie&&(t.creation=C.creation,t.creationIndex=C.creationIndex,t.lastAccessed=d,p.updateCookie(C,t,x))}else t instanceof ps.Cookie&&(t.creation=t.lastAccessed=d,p.putCookie(t,x))};return p.findCookie(t.domain,t.path,t.key,g),i.promise}setCookieSync(t,r,n){let s=n?this.setCookie.bind(this,t,r,n):this.setCookie.bind(this,t,r);return this.callSync(s)}getCookies(t,r,n){typeof r=="function"?(n=r,r=nk):r===void 0&&(r=nk);let s=(0,Yt.createPromiseCallback)(n),i=s.callback,a;try{typeof t=="string"&&wr.validate(wr.isNonEmptyString(t),i,t),a=ik(t),wr.validate(wr.isObject(r),i,(0,Yt.safeToString)(r)),wr.validate(typeof i=="function",i)}catch(v){return s.reject(v)}let o=(0,tk.canonicalDomain)(a.hostname),l=a.pathname||"/",c=a.protocol&&(a.protocol=="https:"||a.protocol=="wss:"),u=0;if(r.sameSiteContext){let v=ak(r.sameSiteContext);if(v==null)return s.reject(new Error(Of));if(u=ps.Cookie.sameSiteLevel[v],!u)return s.reject(new Error(Of))}let d=r.http??!0,h=Date.now(),f=r.expire??!0,p=r.allPaths??!1,g=this.store;function y(v){if(v.hostOnly){if(v.domain!=o)return!1}else if(!(0,rk.domainMatch)(o??void 0,v.domain??void 0,!1))return!1;if(!p&&typeof v.path=="string"&&!(0,pj.pathMatch)(l,v.path)||v.secure&&!c||v.httpOnly&&!d)return!1;if(u){let x;if(v.sameSite==="lax"?x=ps.Cookie.sameSiteLevel.lax:v.sameSite==="strict"?x=ps.Cookie.sameSiteLevel.strict:x=ps.Cookie.sameSiteLevel.none,x>u)return!1}let C=v.expiryTime();return f&&C!=null&&C<=h?(g.removeCookie(v.domain,v.path,v.key,()=>{}),!1):!0}return g.findCookies(o,p?null:l,this.allowSpecialUseDomain,(v,C)=>{if(v){i(v);return}if(C==null){i(null,[]);return}C=C.filter(y),"sort"in r&&r.sort!==!1&&(C=C.sort(sk.cookieCompare));let x=new Date;for(let k of C)k.lastAccessed=x;i(null,C)}),s.promise}getCookiesSync(t,r){return this.callSync(this.getCookies.bind(this,t,r))??[]}getCookieString(t,r,n){typeof r=="function"&&(n=r,r=void 0);let s=(0,Yt.createPromiseCallback)(n),i=function(a,o){a?s.callback(a):s.callback(null,o?.sort(sk.cookieCompare).map(l=>l.cookieString()).join("; "))};return this.getCookies(t,r,i),s.promise}getCookieStringSync(t,r){return this.callSync(r?this.getCookieString.bind(this,t,r):this.getCookieString.bind(this,t))??""}getSetCookieStrings(t,r,n){typeof r=="function"&&(n=r,r=void 0);let s=(0,Yt.createPromiseCallback)(n),i=function(a,o){a?s.callback(a):s.callback(null,o?.map(l=>l.toString()))};return this.getCookies(t,r,i),s.promise}getSetCookieStringsSync(t,r={}){return this.callSync(this.getSetCookieStrings.bind(this,t,r))??[]}serialize(t){let r=(0,Yt.createPromiseCallback)(t),n=this.store.constructor.name;wr.isObject(n)&&(n=null);let s={version:`tough-cookie@${gj.version}`,storeType:n,rejectPublicSuffixes:this.rejectPublicSuffixes,enableLooseMode:this.enableLooseMode,allowSpecialUseDomain:this.allowSpecialUseDomain,prefixSecurity:Uc(this.prefixSecurity),cookies:[]};return typeof this.store.getAllCookies!="function"?r.reject(new Error("store does not support getAllCookies and cannot be serialized")):(this.store.getAllCookies((i,a)=>{if(i){r.callback(i);return}if(a==null){r.callback(null,s);return}s.cookies=a.map(o=>{let l=o.toJSON();return delete l.creationIndex,l}),r.callback(null,s)}),r.promise)}serializeSync(){return this.callSync(t=>{this.serialize(t)})}toJSON(){return this.serializeSync()}_importCookies(t,r){let n;if(t&&typeof t=="object"&&(0,Yt.inOperator)("cookies",t)&&Array.isArray(t.cookies)&&(n=t.cookies),!n){r(new Error("serialized jar has no cookies array"),void 0);return}n=n.slice();let s=i=>{if(i){r(i,void 0);return}if(Array.isArray(n)){if(!n.length){r(i,this);return}let a;try{a=ps.Cookie.fromJSON(n.shift())}catch(o){r(o instanceof Error?o:new Error,void 0);return}if(a===void 0){s(null);return}this.store.putCookie(a,s)}};s(null)}_importCookiesSync(t){this.callSync(this._importCookies.bind(this,t))}clone(t,r){typeof t=="function"&&(r=t,t=void 0);let n=(0,Yt.createPromiseCallback)(r),s=n.callback;return this.serialize((i,a)=>i?n.reject(i):e.deserialize(a??"",t,s)),n.promise}_cloneSync(t){let r=t&&typeof t!="function"?this.clone.bind(this,t):this.clone.bind(this);return this.callSync(n=>{r(n)})}cloneSync(t){if(!t)return this._cloneSync();if(!t.synchronous)throw new Error("CookieJar clone destination store is not synchronous; use async API instead.");return this._cloneSync(t)}removeAllCookies(t){let r=(0,Yt.createPromiseCallback)(t),n=r.callback,s=this.store;return typeof s.removeAllCookies=="function"&&s.removeAllCookies!==hj.Store.prototype.removeAllCookies?(s.removeAllCookies(n),r.promise):(s.getAllCookies((i,a)=>{if(i){n(i);return}if(a||(a=[]),a.length===0){n(null,void 0);return}let o=0,l=[],c=function(d){if(d&&l.push(d),o++,o===a.length){l[0]?n(l[0]):n(null,void 0);return}};a.forEach(u=>{s.removeCookie(u.domain,u.path,u.key,c)})}),r.promise)}removeAllCookiesSync(){this.callSync(t=>{this.removeAllCookies(t)})}static deserialize(t,r,n){typeof r=="function"&&(n=r,r=void 0);let s=(0,Yt.createPromiseCallback)(n),i;if(typeof t=="string")try{i=JSON.parse(t)}catch(u){return s.reject(u instanceof Error?u:new Error)}else i=t;let a=u=>i&&typeof i=="object"&&(0,Yt.inOperator)(u,i)?i[u]:void 0,o=u=>{let d=a(u);return typeof d=="boolean"?d:void 0},l=u=>{let d=a(u);return typeof d=="string"?d:void 0},c=new e(r,{rejectPublicSuffixes:o("rejectPublicSuffixes"),looseMode:o("enableLooseMode"),allowSpecialUseDomain:o("allowSpecialUseDomain"),prefixSecurity:Uc(l("prefixSecurity")??"silent")});return c._importCookies(i,u=>{if(u){s.callback(u);return}s.callback(null,c)}),s.promise}static deserializeSync(t,r){let n=typeof t=="string"?JSON.parse(t):t,s=l=>n&&typeof n=="object"&&(0,Yt.inOperator)(l,n)?n[l]:void 0,i=l=>{let c=s(l);return typeof c=="boolean"?c:void 0},a=l=>{let c=s(l);return typeof c=="string"?c:void 0},o=new e(r,{rejectPublicSuffixes:i("rejectPublicSuffixes"),looseMode:i("enableLooseMode"),allowSpecialUseDomain:i("allowSpecialUseDomain"),prefixSecurity:Uc(a("prefixSecurity")??"silent")});if(!o.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");return o._importCookiesSync(n),o}static fromJSON(t,r){return e.deserializeSync(t,r)}};Gr.CookieJar=Tf});var lk=j(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.permutePath=bj;function bj(e){if(e==="/")return["/"];let t=[e];for(;e.length>1;){let r=e.lastIndexOf("/");if(r===0)break;e=e.slice(0,r),t.push(e)}return t.push("/"),t}});var uk=j(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.permutePath=ge.parseDate=ge.formatDate=ge.domainMatch=ge.defaultPath=ge.CookieJar=ge.cookieCompare=ge.Cookie=ge.PrefixSecurityEnum=ge.canonicalDomain=ge.version=ge.ParameterError=ge.Store=ge.getPublicSuffix=ge.permuteDomain=ge.pathMatch=ge.MemoryCookieStore=void 0;ge.parse=$j;ge.fromJSON=Lj;var wj=mf();Object.defineProperty(ge,"MemoryCookieStore",{enumerable:!0,get:function(){return wj.MemoryCookieStore}});var kj=Pc();Object.defineProperty(ge,"pathMatch",{enumerable:!0,get:function(){return kj.pathMatch}});var Sj=hf();Object.defineProperty(ge,"permuteDomain",{enumerable:!0,get:function(){return Sj.permuteDomain}});var xj=Na();Object.defineProperty(ge,"getPublicSuffix",{enumerable:!0,get:function(){return xj.getPublicSuffix}});var Ej=Ic();Object.defineProperty(ge,"Store",{enumerable:!0,get:function(){return Ej.Store}});var Cj=La();Object.defineProperty(ge,"ParameterError",{enumerable:!0,get:function(){return Cj.ParameterError}});var Pj=gf();Object.defineProperty(ge,"version",{enumerable:!0,get:function(){return Pj.version}});var Rj=qa();Object.defineProperty(ge,"canonicalDomain",{enumerable:!0,get:function(){return Rj.canonicalDomain}});var Ij=Dc();Object.defineProperty(ge,"PrefixSecurityEnum",{enumerable:!0,get:function(){return Ij.PrefixSecurityEnum}});var Oj=Mc();Object.defineProperty(ge,"Cookie",{enumerable:!0,get:function(){return Oj.Cookie}});var Tj=Ef();Object.defineProperty(ge,"cookieCompare",{enumerable:!0,get:function(){return Tj.cookieCompare}});var jj=ok();Object.defineProperty(ge,"CookieJar",{enumerable:!0,get:function(){return jj.CookieJar}});var Dj=Pf();Object.defineProperty(ge,"defaultPath",{enumerable:!0,get:function(){return Dj.defaultPath}});var Aj=If();Object.defineProperty(ge,"domainMatch",{enumerable:!0,get:function(){return Aj.domainMatch}});var Mj=_f();Object.defineProperty(ge,"formatDate",{enumerable:!0,get:function(){return Mj.formatDate}});var Uj=kf();Object.defineProperty(ge,"parseDate",{enumerable:!0,get:function(){return Uj.parseDate}});var Nj=lk();Object.defineProperty(ge,"permutePath",{enumerable:!0,get:function(){return Nj.permutePath}});var ck=Mc();function $j(e,t){return ck.Cookie.parse(e,t)}function Lj(e){return ck.Cookie.fromJSON(e)}});import{createWriteStream as rM}from"fs";import{tmpdir as sM}from"os";import{join as mS}from"path";import{mkdtempSync as nM,unlink as iM}from"fs";import Mm from"node:process";var m={};qS(m,{BRAND:()=>fx,DIRTY:()=>Gs,EMPTY_PATH:()=>HS,INVALID:()=>ae,NEVER:()=>Yx,OK:()=>bt,ParseStatus:()=>mt,Schema:()=>pe,ZodAny:()=>Ss,ZodArray:()=>os,ZodBigInt:()=>Ys,ZodBoolean:()=>Qs,ZodBranded:()=>Qi,ZodCatch:()=>un,ZodDate:()=>Xs,ZodDefault:()=>cn,ZodDiscriminatedUnion:()=>xo,ZodEffects:()=>ir,ZodEnum:()=>on,ZodError:()=>Nt,ZodFirstPartyTypeKind:()=>B,ZodFunction:()=>Co,ZodIntersection:()=>sn,ZodIssueCode:()=>V,ZodLazy:()=>nn,ZodLiteral:()=>an,ZodMap:()=>Zn,ZodNaN:()=>Qn,ZodNativeEnum:()=>ln,ZodNever:()=>mr,ZodNull:()=>tn,ZodNullable:()=>Dr,ZodNumber:()=>Zs,ZodObject:()=>$t,ZodOptional:()=>sr,ZodParsedType:()=>te,ZodPipeline:()=>Xi,ZodPromise:()=>xs,ZodReadonly:()=>dn,ZodRecord:()=>Eo,ZodSchema:()=>pe,ZodSet:()=>Yn,ZodString:()=>ks,ZodSymbol:()=>Wn,ZodTransformer:()=>ir,ZodTuple:()=>jr,ZodType:()=>pe,ZodUndefined:()=>en,ZodUnion:()=>rn,ZodUnknown:()=>as,ZodVoid:()=>Gn,addIssueToContext:()=>Q,any:()=>kx,array:()=>Cx,bigint:()=>yx,boolean:()=>pm,coerce:()=>Zx,custom:()=>dm,date:()=>vx,datetimeRegex:()=>cm,defaultErrorMap:()=>ns,discriminatedUnion:()=>Ox,effect:()=>Fx,enum:()=>Lx,function:()=>Ux,getErrorMap:()=>Hn,getParsedType:()=>Tr,instanceof:()=>mx,intersection:()=>Tx,isAborted:()=>ko,isAsync:()=>Jn,isDirty:()=>So,isValid:()=>ws,late:()=>px,lazy:()=>Nx,literal:()=>$x,makeIssue:()=>Yi,map:()=>Ax,nan:()=>gx,nativeEnum:()=>qx,never:()=>xx,null:()=>wx,nullable:()=>Bx,number:()=>fm,object:()=>Px,objectUtil:()=>Vu,oboolean:()=>Gx,onumber:()=>Wx,optional:()=>Vx,ostring:()=>Kx,pipeline:()=>Jx,preprocess:()=>Hx,promise:()=>zx,quotelessJson:()=>FS,record:()=>Dx,set:()=>Mx,setErrorMap:()=>BS,strictObject:()=>Rx,string:()=>hm,symbol:()=>_x,transformer:()=>Fx,tuple:()=>jx,undefined:()=>bx,union:()=>Ix,unknown:()=>Sx,util:()=>ve,void:()=>Ex});var ve;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{let i={};for(let a of s)i[a]=a;return i},e.getValidEnumValues=s=>{let i=e.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(let o of i)a[o]=s[o];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let i=[];for(let a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(let a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ve||(ve={}));var Vu;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Vu||(Vu={}));var te=ve.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Tr=e=>{switch(typeof e){case"undefined":return te.undefined;case"string":return te.string;case"number":return Number.isNaN(e)?te.nan:te.number;case"boolean":return te.boolean;case"function":return te.function;case"bigint":return te.bigint;case"symbol":return te.symbol;case"object":return Array.isArray(e)?te.array:e===null?te.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?te.promise:typeof Map<"u"&&e instanceof Map?te.map:typeof Set<"u"&&e instanceof Set?te.set:typeof Date<"u"&&e instanceof Date?te.date:te.object;default:return te.unknown}};var V=ve.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),FS=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),Nt=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(let a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,l=0;for(;l<a.path.length;){let c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return s(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ve.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let s of this.issues)if(s.path.length>0){let i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Nt.create=e=>new Nt(e);var VS=(e,t)=>{let r;switch(e.code){case V.invalid_type:e.received===te.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case V.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ve.jsonStringifyReplacer)}`;break;case V.unrecognized_keys:r=`Unrecognized key(s) in object: ${ve.joinValues(e.keys,", ")}`;break;case V.invalid_union:r="Invalid input";break;case V.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ve.joinValues(e.options)}`;break;case V.invalid_enum_value:r=`Invalid enum value. Expected ${ve.joinValues(e.options)}, received '${e.received}'`;break;case V.invalid_arguments:r="Invalid function arguments";break;case V.invalid_return_type:r="Invalid function return type";break;case V.invalid_date:r="Invalid date";break;case V.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ve.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case V.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case V.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case V.custom:r="Invalid input";break;case V.invalid_intersection_types:r="Intersection results could not be merged";break;case V.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case V.not_finite:r="Number must be finite";break;default:r=t.defaultError,ve.assertNever(e)}return{message:r}},ns=VS;var nm=ns;function BS(e){nm=e}function Hn(){return nm}var Yi=e=>{let{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="",l=n.filter(c=>!!c).slice().reverse();for(let c of l)o=c(a,{data:t,defaultError:o}).message;return{...s,path:i,message:o}},HS=[];function Q(e,t){let r=Hn(),n=Yi({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===ns?void 0:ns].filter(s=>!!s)});e.common.issues.push(n)}var mt=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let s of r){if(s.status==="aborted")return ae;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let s of r){let i=await s.key,a=await s.value;n.push({key:i,value:a})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let s of r){let{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return ae;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:t.value,value:n}}},ae=Object.freeze({status:"aborted"}),Gs=e=>({status:"dirty",value:e}),bt=e=>({status:"valid",value:e}),ko=e=>e.status==="aborted",So=e=>e.status==="dirty",ws=e=>e.status==="valid",Jn=e=>typeof Promise<"u"&&e instanceof Promise;var se;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(se||(se={}));var nr=class{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},im=(e,t)=>{if(ws(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Nt(e.common.issues);return this._error=r,this._error}}};function fe(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,o)=>{let{message:l}=e;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:s}}var pe=class{get description(){return this._def.description}_getType(t){return Tr(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Tr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new mt,ctx:{common:t.parent.common,data:t.data,parsedType:Tr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(Jn(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Tr(t)},s=this._parseSync({data:t,path:n.path,parent:n});return im(n,s)}"~validate"(t){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Tr(t)};if(!this["~standard"].async)try{let n=this._parseSync({data:t,path:[],parent:r});return ws(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>ws(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Tr(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Jn(s)?s:Promise.resolve(s));return im(n,i)}refine(t,r){let n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{let a=t(s),o=()=>i.addIssue({code:V.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new ir({schema:this,typeName:B.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return sr.create(this,this._def)}nullable(){return Dr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return os.create(this)}promise(){return xs.create(this,this._def)}or(t){return rn.create([this,t],this._def)}and(t){return sn.create(this,t,this._def)}transform(t){return new ir({...fe(this._def),schema:this,typeName:B.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new cn({...fe(this._def),innerType:this,defaultValue:r,typeName:B.ZodDefault})}brand(){return new Qi({typeName:B.ZodBranded,type:this,...fe(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new un({...fe(this._def),innerType:this,catchValue:r,typeName:B.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Xi.create(this,t)}readonly(){return dn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},JS=/^c[^\s-]{8,}$/i,KS=/^[0-9a-z]+$/,WS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,GS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ZS=/^[a-z0-9_-]{21}$/i,YS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,QS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,XS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Bu,tx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,nx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ix=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ax=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,om="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ox=new RegExp(`^${om}$`);function lm(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function lx(e){return new RegExp(`^${lm(e)}$`)}function cm(e){let t=`${om}T${lm(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function cx(e,t){return!!((t==="v4"||!t)&&tx.test(e)||(t==="v6"||!t)&&sx.test(e))}function ux(e,t){if(!YS.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function dx(e,t){return!!((t==="v4"||!t)&&rx.test(e)||(t==="v6"||!t)&&nx.test(e))}var ks=class e extends pe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==te.string){let i=this._getOrReturnCtx(t);return Q(i,{code:V.invalid_type,expected:te.string,received:i.parsedType}),ae}let n=new mt,s;for(let i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Q(s,{code:V.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Q(s,{code:V.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let a=t.data.length>i.value,o=t.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(t,s),a?Q(s,{code:V.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&Q(s,{code:V.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")XS.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"email",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Bu||(Bu=new RegExp(ex,"u")),Bu.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"emoji",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")GS.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"uuid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")ZS.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"nanoid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")JS.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"cuid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")KS.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"cuid2",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")WS.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"ulid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Q(s,{validation:"url",code:V.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"regex",code:V.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Q(s,{code:V.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Q(s,{code:V.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Q(s,{code:V.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?cm(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{code:V.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?ox.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{code:V.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?lx(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{code:V.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?QS.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"duration",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?cx(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"ip",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?ux(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"jwt",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?dx(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"cidr",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?ix.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"base64",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?ax.test(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{validation:"base64url",code:V.invalid_string,message:i.message}),n.dirty()):ve.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:V.invalid_string,...se.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...se.errToObj(t)})}url(t){return this._addCheck({kind:"url",...se.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...se.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...se.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...se.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...se.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...se.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...se.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...se.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...se.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...se.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...se.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...se.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...se.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...se.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...se.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...se.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...se.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...se.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...se.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...se.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...se.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...se.errToObj(r)})}nonempty(t){return this.min(1,se.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};ks.create=e=>new ks({checks:[],typeName:B.ZodString,coerce:e?.coerce??!1,...fe(e)});function hx(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),a=Number.parseInt(t.toFixed(s).replace(".",""));return i%a/10**s}var Zs=class e extends pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==te.number){let i=this._getOrReturnCtx(t);return Q(i,{code:V.invalid_type,expected:te.number,received:i.parsedType}),ae}let n,s=new mt;for(let i of this._def.checks)i.kind==="int"?ve.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Q(n,{code:V.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Q(n,{code:V.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Q(n,{code:V.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?hx(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Q(n,{code:V.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Q(n,{code:V.not_finite,message:i.message}),s.dirty()):ve.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,se.toString(r))}setLimit(t,r,n,s){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:se.toString(s)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:se.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:se.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:se.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ve.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};Zs.create=e=>new Zs({checks:[],typeName:B.ZodNumber,coerce:e?.coerce||!1,...fe(e)});var Ys=class e extends pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==te.bigint)return this._getInvalidInput(t);let n,s=new mt;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Q(n,{code:V.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Q(n,{code:V.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Q(n,{code:V.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ve.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return Q(r,{code:V.invalid_type,expected:te.bigint,received:r.parsedType}),ae}gte(t,r){return this.setLimit("min",t,!0,se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,se.toString(r))}setLimit(t,r,n,s){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:se.toString(s)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:se.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};Ys.create=e=>new Ys({checks:[],typeName:B.ZodBigInt,coerce:e?.coerce??!1,...fe(e)});var Qs=class extends pe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==te.boolean){let n=this._getOrReturnCtx(t);return Q(n,{code:V.invalid_type,expected:te.boolean,received:n.parsedType}),ae}return bt(t.data)}};Qs.create=e=>new Qs({typeName:B.ZodBoolean,coerce:e?.coerce||!1,...fe(e)});var Xs=class e extends pe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==te.date){let i=this._getOrReturnCtx(t);return Q(i,{code:V.invalid_type,expected:te.date,received:i.parsedType}),ae}if(Number.isNaN(t.data.getTime())){let i=this._getOrReturnCtx(t);return Q(i,{code:V.invalid_date}),ae}let n=new mt,s;for(let i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Q(s,{code:V.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Q(s,{code:V.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ve.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:se.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:se.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};Xs.create=e=>new Xs({checks:[],coerce:e?.coerce||!1,typeName:B.ZodDate,...fe(e)});var Wn=class extends pe{_parse(t){if(this._getType(t)!==te.symbol){let n=this._getOrReturnCtx(t);return Q(n,{code:V.invalid_type,expected:te.symbol,received:n.parsedType}),ae}return bt(t.data)}};Wn.create=e=>new Wn({typeName:B.ZodSymbol,...fe(e)});var en=class extends pe{_parse(t){if(this._getType(t)!==te.undefined){let n=this._getOrReturnCtx(t);return Q(n,{code:V.invalid_type,expected:te.undefined,received:n.parsedType}),ae}return bt(t.data)}};en.create=e=>new en({typeName:B.ZodUndefined,...fe(e)});var tn=class extends pe{_parse(t){if(this._getType(t)!==te.null){let n=this._getOrReturnCtx(t);return Q(n,{code:V.invalid_type,expected:te.null,received:n.parsedType}),ae}return bt(t.data)}};tn.create=e=>new tn({typeName:B.ZodNull,...fe(e)});var Ss=class extends pe{constructor(){super(...arguments),this._any=!0}_parse(t){return bt(t.data)}};Ss.create=e=>new Ss({typeName:B.ZodAny,...fe(e)});var as=class extends pe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return bt(t.data)}};as.create=e=>new as({typeName:B.ZodUnknown,...fe(e)});var mr=class extends pe{_parse(t){let r=this._getOrReturnCtx(t);return Q(r,{code:V.invalid_type,expected:te.never,received:r.parsedType}),ae}};mr.create=e=>new mr({typeName:B.ZodNever,...fe(e)});var Gn=class extends pe{_parse(t){if(this._getType(t)!==te.undefined){let n=this._getOrReturnCtx(t);return Q(n,{code:V.invalid_type,expected:te.void,received:n.parsedType}),ae}return bt(t.data)}};Gn.create=e=>new Gn({typeName:B.ZodVoid,...fe(e)});var os=class e extends pe{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==te.array)return Q(r,{code:V.invalid_type,expected:te.array,received:r.parsedType}),ae;if(s.exactLength!==null){let a=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(a||o)&&(Q(r,{code:a?V.too_big:V.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Q(r,{code:V.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Q(r,{code:V.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>s.type._parseAsync(new nr(r,a,r.path,o)))).then(a=>mt.mergeArray(n,a));let i=[...r.data].map((a,o)=>s.type._parseSync(new nr(r,a,r.path,o)));return mt.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:se.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:se.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:se.toString(r)}})}nonempty(t){return this.min(1,t)}};os.create=(e,t)=>new os({type:e,minLength:null,maxLength:null,exactLength:null,typeName:B.ZodArray,...fe(t)});function Kn(e){if(e instanceof $t){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=sr.create(Kn(n))}return new $t({...e._def,shape:()=>t})}else return e instanceof os?new os({...e._def,type:Kn(e.element)}):e instanceof sr?sr.create(Kn(e.unwrap())):e instanceof Dr?Dr.create(Kn(e.unwrap())):e instanceof jr?jr.create(e.items.map(t=>Kn(t))):e}var $t=class e extends pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=ve.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==te.object){let c=this._getOrReturnCtx(t);return Q(c,{code:V.invalid_type,expected:te.object,received:c.parsedType}),ae}let{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof mr&&this._def.unknownKeys==="strip"))for(let c in s.data)a.includes(c)||o.push(c);let l=[];for(let c of a){let u=i[c],d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new nr(s,d,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof mr){let c=this._def.unknownKeys;if(c==="passthrough")for(let u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")o.length>0&&(Q(s,{code:V.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let u of o){let d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new nr(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let c=[];for(let u of l){let d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>mt.mergeObjectSync(n,c)):mt.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return se.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{let s=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:se.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:B.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};for(let n of ve.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new e({...this._def,shape:()=>r})}omit(t){let r={};for(let n of ve.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new e({...this._def,shape:()=>r})}deepPartial(){return Kn(this)}partial(t){let r={};for(let n of ve.objectKeys(this.shape)){let s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new e({...this._def,shape:()=>r})}required(t){let r={};for(let n of ve.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof sr;)i=i._def.innerType;r[n]=i}return new e({...this._def,shape:()=>r})}keyof(){return um(ve.objectKeys(this.shape))}};$t.create=(e,t)=>new $t({shape:()=>e,unknownKeys:"strip",catchall:mr.create(),typeName:B.ZodObject,...fe(t)});$t.strictCreate=(e,t)=>new $t({shape:()=>e,unknownKeys:"strict",catchall:mr.create(),typeName:B.ZodObject,...fe(t)});$t.lazycreate=(e,t)=>new $t({shape:e,unknownKeys:"strip",catchall:mr.create(),typeName:B.ZodObject,...fe(t)});var rn=class extends pe{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(let o of i)if(o.result.status==="valid")return o.result;for(let o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;let a=i.map(o=>new Nt(o.ctx.common.issues));return Q(r,{code:V.invalid_union,unionErrors:a}),ae}if(r.common.async)return Promise.all(n.map(async i=>{let a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i,a=[];for(let l of n){let c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let o=a.map(l=>new Nt(l));return Q(r,{code:V.invalid_union,unionErrors:o}),ae}}get options(){return this._def.options}};rn.create=(e,t)=>new rn({options:e,typeName:B.ZodUnion,...fe(t)});var is=e=>e instanceof nn?is(e.schema):e instanceof ir?is(e.innerType()):e instanceof an?[e.value]:e instanceof on?e.options:e instanceof ln?ve.objectValues(e.enum):e instanceof cn?is(e._def.innerType):e instanceof en?[void 0]:e instanceof tn?[null]:e instanceof sr?[void 0,...is(e.unwrap())]:e instanceof Dr?[null,...is(e.unwrap())]:e instanceof Qi||e instanceof dn?is(e.unwrap()):e instanceof un?is(e._def.innerType):[],xo=class e extends pe{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==te.object)return Q(r,{code:V.invalid_type,expected:te.object,received:r.parsedType}),ae;let n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Q(r,{code:V.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ae)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let s=new Map;for(let i of r){let a=is(i.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let o of a){if(s.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);s.set(o,i)}}return new e({typeName:B.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...fe(n)})}};function Hu(e,t){let r=Tr(e),n=Tr(t);if(e===t)return{valid:!0,data:e};if(r===te.object&&n===te.object){let s=ve.objectKeys(t),i=ve.objectKeys(e).filter(o=>s.indexOf(o)!==-1),a={...e,...t};for(let o of i){let l=Hu(e[o],t[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(r===te.array&&n===te.array){if(e.length!==t.length)return{valid:!1};let s=[];for(let i=0;i<e.length;i++){let a=e[i],o=t[i],l=Hu(a,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===te.date&&n===te.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var sn=class extends pe{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),s=(i,a)=>{if(ko(i)||ko(a))return ae;let o=Hu(i.value,a.value);return o.valid?((So(i)||So(a))&&r.dirty(),{status:r.value,value:o.data}):(Q(n,{code:V.invalid_intersection_types}),ae)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};sn.create=(e,t,r)=>new sn({left:e,right:t,typeName:B.ZodIntersection,...fe(r)});var jr=class e extends pe{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==te.array)return Q(n,{code:V.invalid_type,expected:te.array,received:n.parsedType}),ae;if(n.data.length<this._def.items.length)return Q(n,{code:V.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ae;!this._def.rest&&n.data.length>this._def.items.length&&(Q(n,{code:V.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((a,o)=>{let l=this._def.items[o]||this._def.rest;return l?l._parse(new nr(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>mt.mergeArray(r,a)):mt.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};jr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jr({items:e,typeName:B.ZodTuple,rest:null,...fe(t)})};var Eo=class e extends pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==te.object)return Q(n,{code:V.invalid_type,expected:te.object,received:n.parsedType}),ae;let s=[],i=this._def.keyType,a=this._def.valueType;for(let o in n.data)s.push({key:i._parse(new nr(n,o,n.path,o)),value:a._parse(new nr(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?mt.mergeObjectAsync(r,s):mt.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof pe?new e({keyType:t,valueType:r,typeName:B.ZodRecord,...fe(n)}):new e({keyType:ks.create(),valueType:t,typeName:B.ZodRecord,...fe(r)})}},Zn=class extends pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==te.map)return Q(n,{code:V.invalid_type,expected:te.map,received:n.parsedType}),ae;let s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([o,l],c)=>({key:s._parse(new nr(n,o,n.path,[c,"key"])),value:i._parse(new nr(n,l,n.path,[c,"value"]))}));if(n.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let l of a){let c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return ae;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{let o=new Map;for(let l of a){let c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return ae;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}};Zn.create=(e,t,r)=>new Zn({valueType:t,keyType:e,typeName:B.ZodMap,...fe(r)});var Yn=class e extends pe{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==te.set)return Q(n,{code:V.invalid_type,expected:te.set,received:n.parsedType}),ae;let s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Q(n,{code:V.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Q(n,{code:V.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());let i=this._def.valueType;function a(l){let c=new Set;for(let u of l){if(u.status==="aborted")return ae;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}let o=[...n.data.values()].map((l,c)=>i._parse(new nr(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(t,r){return new e({...this._def,minSize:{value:t,message:se.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:se.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};Yn.create=(e,t)=>new Yn({valueType:e,minSize:null,maxSize:null,typeName:B.ZodSet,...fe(t)});var Co=class e extends pe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==te.function)return Q(r,{code:V.invalid_type,expected:te.function,received:r.parsedType}),ae;function n(o,l){return Yi({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Hn(),ns].filter(c=>!!c),issueData:{code:V.invalid_arguments,argumentsError:l}})}function s(o,l){return Yi({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Hn(),ns].filter(c=>!!c),issueData:{code:V.invalid_return_type,returnTypeError:l}})}let i={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof xs){let o=this;return bt(async function(...l){let c=new Nt([]),u=await o._def.args.parseAsync(l,i).catch(f=>{throw c.addIssue(n(l,f)),c}),d=await Reflect.apply(a,this,u);return await o._def.returns._def.type.parseAsync(d,i).catch(f=>{throw c.addIssue(s(d,f)),c})})}else{let o=this;return bt(function(...l){let c=o._def.args.safeParse(l,i);if(!c.success)throw new Nt([n(l,c.error)]);let u=Reflect.apply(a,this,c.data),d=o._def.returns.safeParse(u,i);if(!d.success)throw new Nt([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:jr.create(t).rest(as.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||jr.create([]).rest(as.create()),returns:r||as.create(),typeName:B.ZodFunction,...fe(n)})}},nn=class extends pe{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};nn.create=(e,t)=>new nn({getter:e,typeName:B.ZodLazy,...fe(t)});var an=class extends pe{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return Q(r,{received:r.data,code:V.invalid_literal,expected:this._def.value}),ae}return{status:"valid",value:t.data}}get value(){return this._def.value}};an.create=(e,t)=>new an({value:e,typeName:B.ZodLiteral,...fe(t)});function um(e,t){return new on({values:e,typeName:B.ZodEnum,...fe(t)})}var on=class e extends pe{_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return Q(r,{expected:ve.joinValues(n),received:r.parsedType,code:V.invalid_type}),ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return Q(r,{received:r.data,code:V.invalid_enum_value,options:n}),ae}return bt(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};on.create=um;var ln=class extends pe{_parse(t){let r=ve.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==te.string&&n.parsedType!==te.number){let s=ve.objectValues(r);return Q(n,{expected:ve.joinValues(s),received:n.parsedType,code:V.invalid_type}),ae}if(this._cache||(this._cache=new Set(ve.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){let s=ve.objectValues(r);return Q(n,{received:n.data,code:V.invalid_enum_value,options:s}),ae}return bt(t.data)}get enum(){return this._def.values}};ln.create=(e,t)=>new ln({values:e,typeName:B.ZodNativeEnum,...fe(t)});var xs=class extends pe{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==te.promise&&r.common.async===!1)return Q(r,{code:V.invalid_type,expected:te.promise,received:r.parsedType}),ae;let n=r.parsedType===te.promise?r.data:Promise.resolve(r.data);return bt(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}};xs.create=(e,t)=>new xs({type:e,typeName:B.ZodPromise,...fe(t)});var ir=class extends pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===B.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{Q(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){let a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return ae;let l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?ae:l.status==="dirty"?Gs(l.value):r.value==="dirty"?Gs(l.value):l});{if(r.value==="aborted")return ae;let o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?ae:o.status==="dirty"?Gs(o.value):r.value==="dirty"?Gs(o.value):o}}if(s.type==="refinement"){let a=o=>{let l=s.refinement(o,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ae:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?ae:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ws(a))return ae;let o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>ws(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:r.value,value:o})):ae);ve.assertNever(s)}};ir.create=(e,t,r)=>new ir({schema:e,typeName:B.ZodEffects,effect:t,...fe(r)});ir.createWithPreprocess=(e,t,r)=>new ir({schema:t,effect:{type:"preprocess",transform:e},typeName:B.ZodEffects,...fe(r)});var sr=class extends pe{_parse(t){return this._getType(t)===te.undefined?bt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};sr.create=(e,t)=>new sr({innerType:e,typeName:B.ZodOptional,...fe(t)});var Dr=class extends pe{_parse(t){return this._getType(t)===te.null?bt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Dr.create=(e,t)=>new Dr({innerType:e,typeName:B.ZodNullable,...fe(t)});var cn=class extends pe{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===te.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};cn.create=(e,t)=>new cn({innerType:e,typeName:B.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...fe(t)});var un=class extends pe{_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Jn(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Nt(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Nt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};un.create=(e,t)=>new un({innerType:e,typeName:B.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...fe(t)});var Qn=class extends pe{_parse(t){if(this._getType(t)!==te.nan){let n=this._getOrReturnCtx(t);return Q(n,{code:V.invalid_type,expected:te.nan,received:n.parsedType}),ae}return{status:"valid",value:t.data}}};Qn.create=e=>new Qn({typeName:B.ZodNaN,...fe(e)});var fx=Symbol("zod_brand"),Qi=class extends pe{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},Xi=class e extends pe{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ae:i.status==="dirty"?(r.dirty(),Gs(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ae:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:B.ZodPipeline})}},dn=class extends pe{_parse(t){let r=this._def.innerType._parse(t),n=s=>(ws(s)&&(s.value=Object.freeze(s.value)),s);return Jn(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}};dn.create=(e,t)=>new dn({innerType:e,typeName:B.ZodReadonly,...fe(t)});function am(e,t){let r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function dm(e,t={},r){return e?Ss.create().superRefine((n,s)=>{let i=e(n);if(i instanceof Promise)return i.then(a=>{if(!a){let o=am(t,n),l=o.fatal??r??!0;s.addIssue({code:"custom",...o,fatal:l})}});if(!i){let a=am(t,n),o=a.fatal??r??!0;s.addIssue({code:"custom",...a,fatal:o})}}):Ss.create()}var px={object:$t.lazycreate},B;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(B||(B={}));var mx=(e,t={message:`Input not instance of ${e.name}`})=>dm(r=>r instanceof e,t),hm=ks.create,fm=Zs.create,gx=Qn.create,yx=Ys.create,pm=Qs.create,vx=Xs.create,_x=Wn.create,bx=en.create,wx=tn.create,kx=Ss.create,Sx=as.create,xx=mr.create,Ex=Gn.create,Cx=os.create,Px=$t.create,Rx=$t.strictCreate,Ix=rn.create,Ox=xo.create,Tx=sn.create,jx=jr.create,Dx=Eo.create,Ax=Zn.create,Mx=Yn.create,Ux=Co.create,Nx=nn.create,$x=an.create,Lx=on.create,qx=ln.create,zx=xs.create,Fx=ir.create,Vx=sr.create,Bx=Dr.create,Hx=ir.createWithPreprocess,Jx=Xi.create,Kx=()=>hm().optional(),Wx=()=>fm().optional(),Gx=()=>pm().optional(),Zx={string:(e=>ks.create({...e,coerce:!0})),number:(e=>Zs.create({...e,coerce:!0})),boolean:(e=>Qs.create({...e,coerce:!0})),bigint:(e=>Ys.create({...e,coerce:!0})),date:(e=>Xs.create({...e,coerce:!0}))};var Yx=ae;var Ju="2025-06-18";var mm=[Ju,"2025-03-26","2024-11-05","2024-10-07"],Po="2.0",gm=m.union([m.string(),m.number().int()]),ym=m.string(),Qx=m.object({progressToken:m.optional(gm)}).passthrough(),ar=m.object({_meta:m.optional(Qx)}).passthrough(),Lt=m.object({method:m.string(),params:m.optional(ar)}),ea=m.object({_meta:m.optional(m.object({}).passthrough())}).passthrough(),Ar=m.object({method:m.string(),params:m.optional(ea)}),or=m.object({_meta:m.optional(m.object({}).passthrough())}).passthrough(),Ro=m.union([m.string(),m.number().int()]),vm=m.object({jsonrpc:m.literal(Po),id:Ro}).merge(Lt).strict(),_m=e=>vm.safeParse(e).success,bm=m.object({jsonrpc:m.literal(Po)}).merge(Ar).strict(),wm=e=>bm.safeParse(e).success,km=m.object({jsonrpc:m.literal(Po),id:Ro,result:or}).strict(),Ku=e=>km.safeParse(e).success,Me;(function(e){e[e.ConnectionClosed=-32e3]="ConnectionClosed",e[e.RequestTimeout=-32001]="RequestTimeout",e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError"})(Me||(Me={}));var Sm=m.object({jsonrpc:m.literal(Po),id:Ro,error:m.object({code:m.number().int(),message:m.string(),data:m.optional(m.unknown())})}).strict(),xm=e=>Sm.safeParse(e).success,Em=m.union([vm,bm,km,Sm]),Io=or.strict(),Oo=Ar.extend({method:m.literal("notifications/cancelled"),params:ea.extend({requestId:Ro,reason:m.string().optional()})}),ta=m.object({name:m.string(),title:m.optional(m.string())}).passthrough(),Cm=ta.extend({version:m.string()}),Xx=m.object({experimental:m.optional(m.object({}).passthrough()),sampling:m.optional(m.object({}).passthrough()),elicitation:m.optional(m.object({}).passthrough()),roots:m.optional(m.object({listChanged:m.optional(m.boolean())}).passthrough())}).passthrough(),Wu=Lt.extend({method:m.literal("initialize"),params:ar.extend({protocolVersion:m.string(),capabilities:Xx,clientInfo:Cm})});var e1=m.object({experimental:m.optional(m.object({}).passthrough()),logging:m.optional(m.object({}).passthrough()),completions:m.optional(m.object({}).passthrough()),prompts:m.optional(m.object({listChanged:m.optional(m.boolean())}).passthrough()),resources:m.optional(m.object({subscribe:m.optional(m.boolean()),listChanged:m.optional(m.boolean())}).passthrough()),tools:m.optional(m.object({listChanged:m.optional(m.boolean())}).passthrough())}).passthrough(),t1=or.extend({protocolVersion:m.string(),capabilities:e1,serverInfo:Cm,instructions:m.optional(m.string())}),Gu=Ar.extend({method:m.literal("notifications/initialized")});var To=Lt.extend({method:m.literal("ping")}),r1=m.object({progress:m.number(),total:m.optional(m.number()),message:m.optional(m.string())}).passthrough(),jo=Ar.extend({method:m.literal("notifications/progress"),params:ea.merge(r1).extend({progressToken:gm})}),Do=Lt.extend({params:ar.extend({cursor:m.optional(ym)}).optional()}),Ao=or.extend({nextCursor:m.optional(ym)}),Pm=m.object({uri:m.string(),mimeType:m.optional(m.string()),_meta:m.optional(m.object({}).passthrough())}).passthrough(),Rm=Pm.extend({text:m.string()}),Zu=m.string().refine(e=>{try{return atob(e),!0}catch{return!1}},{message:"Invalid Base64 string"}),Im=Pm.extend({blob:Zu}),Om=ta.extend({uri:m.string(),description:m.optional(m.string()),mimeType:m.optional(m.string()),_meta:m.optional(m.object({}).passthrough())}),s1=ta.extend({uriTemplate:m.string(),description:m.optional(m.string()),mimeType:m.optional(m.string()),_meta:m.optional(m.object({}).passthrough())}),Mo=Do.extend({method:m.literal("resources/list")}),n1=Ao.extend({resources:m.array(Om)}),Uo=Do.extend({method:m.literal("resources/templates/list")}),i1=Ao.extend({resourceTemplates:m.array(s1)}),No=Lt.extend({method:m.literal("resources/read"),params:ar.extend({uri:m.string()})}),a1=or.extend({contents:m.array(m.union([Rm,Im]))}),o1=Ar.extend({method:m.literal("notifications/resources/list_changed")}),l1=Lt.extend({method:m.literal("resources/subscribe"),params:ar.extend({uri:m.string()})}),c1=Lt.extend({method:m.literal("resources/unsubscribe"),params:ar.extend({uri:m.string()})}),u1=Ar.extend({method:m.literal("notifications/resources/updated"),params:ea.extend({uri:m.string()})}),d1=m.object({name:m.string(),description:m.optional(m.string()),required:m.optional(m.boolean())}).passthrough(),h1=ta.extend({description:m.optional(m.string()),arguments:m.optional(m.array(d1)),_meta:m.optional(m.object({}).passthrough())}),$o=Do.extend({method:m.literal("prompts/list")}),f1=Ao.extend({prompts:m.array(h1)}),Lo=Lt.extend({method:m.literal("prompts/get"),params:ar.extend({name:m.string(),arguments:m.optional(m.record(m.string()))})}),Yu=m.object({type:m.literal("text"),text:m.string(),_meta:m.optional(m.object({}).passthrough())}).passthrough(),Qu=m.object({type:m.literal("image"),data:Zu,mimeType:m.string(),_meta:m.optional(m.object({}).passthrough())}).passthrough(),Xu=m.object({type:m.literal("audio"),data:Zu,mimeType:m.string(),_meta:m.optional(m.object({}).passthrough())}).passthrough(),p1=m.object({type:m.literal("resource"),resource:m.union([Rm,Im]),_meta:m.optional(m.object({}).passthrough())}).passthrough(),m1=Om.extend({type:m.literal("resource_link")}),Tm=m.union([Yu,Qu,Xu,m1,p1]),g1=m.object({role:m.enum(["user","assistant"]),content:Tm}).passthrough(),y1=or.extend({description:m.optional(m.string()),messages:m.array(g1)}),v1=Ar.extend({method:m.literal("notifications/prompts/list_changed")}),_1=m.object({title:m.optional(m.string()),readOnlyHint:m.optional(m.boolean()),destructiveHint:m.optional(m.boolean()),idempotentHint:m.optional(m.boolean()),openWorldHint:m.optional(m.boolean())}).passthrough(),b1=ta.extend({description:m.optional(m.string()),inputSchema:m.object({type:m.literal("object"),properties:m.optional(m.object({}).passthrough()),required:m.optional(m.array(m.string()))}).passthrough(),outputSchema:m.optional(m.object({type:m.literal("object"),properties:m.optional(m.object({}).passthrough()),required:m.optional(m.array(m.string()))}).passthrough()),annotations:m.optional(_1),_meta:m.optional(m.object({}).passthrough())}),qo=Do.extend({method:m.literal("tools/list")}),w1=Ao.extend({tools:m.array(b1)}),jm=or.extend({content:m.array(Tm).default([]),structuredContent:m.object({}).passthrough().optional(),isError:m.optional(m.boolean())}),JM=jm.or(or.extend({toolResult:m.unknown()})),zo=Lt.extend({method:m.literal("tools/call"),params:ar.extend({name:m.string(),arguments:m.optional(m.record(m.unknown()))})}),k1=Ar.extend({method:m.literal("notifications/tools/list_changed")}),Dm=m.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),S1=Lt.extend({method:m.literal("logging/setLevel"),params:ar.extend({level:Dm})}),x1=Ar.extend({method:m.literal("notifications/message"),params:ea.extend({level:Dm,logger:m.optional(m.string()),data:m.unknown()})}),E1=m.object({name:m.string().optional()}).passthrough(),C1=m.object({hints:m.optional(m.array(E1)),costPriority:m.optional(m.number().min(0).max(1)),speedPriority:m.optional(m.number().min(0).max(1)),intelligencePriority:m.optional(m.number().min(0).max(1))}).passthrough(),P1=m.object({role:m.enum(["user","assistant"]),content:m.union([Yu,Qu,Xu])}).passthrough(),R1=Lt.extend({method:m.literal("sampling/createMessage"),params:ar.extend({messages:m.array(P1),systemPrompt:m.optional(m.string()),includeContext:m.optional(m.enum(["none","thisServer","allServers"])),temperature:m.optional(m.number()),maxTokens:m.number().int(),stopSequences:m.optional(m.array(m.string())),metadata:m.optional(m.object({}).passthrough()),modelPreferences:m.optional(C1)})}),ed=or.extend({model:m.string(),stopReason:m.optional(m.enum(["endTurn","stopSequence","maxTokens"]).or(m.string())),role:m.enum(["user","assistant"]),content:m.discriminatedUnion("type",[Yu,Qu,Xu])}),I1=m.object({type:m.literal("boolean"),title:m.optional(m.string()),description:m.optional(m.string()),default:m.optional(m.boolean())}).passthrough(),O1=m.object({type:m.literal("string"),title:m.optional(m.string()),description:m.optional(m.string()),minLength:m.optional(m.number()),maxLength:m.optional(m.number()),format:m.optional(m.enum(["email","uri","date","date-time"]))}).passthrough(),T1=m.object({type:m.enum(["number","integer"]),title:m.optional(m.string()),description:m.optional(m.string()),minimum:m.optional(m.number()),maximum:m.optional(m.number())}).passthrough(),j1=m.object({type:m.literal("string"),title:m.optional(m.string()),description:m.optional(m.string()),enum:m.array(m.string()),enumNames:m.optional(m.array(m.string()))}).passthrough(),D1=m.union([I1,O1,T1,j1]),A1=Lt.extend({method:m.literal("elicitation/create"),params:ar.extend({message:m.string(),requestedSchema:m.object({type:m.literal("object"),properties:m.record(m.string(),D1),required:m.optional(m.array(m.string()))}).passthrough()})}),td=or.extend({action:m.enum(["accept","decline","cancel"]),content:m.optional(m.record(m.string(),m.unknown()))}),M1=m.object({type:m.literal("ref/resource"),uri:m.string()}).passthrough();var U1=m.object({type:m.literal("ref/prompt"),name:m.string()}).passthrough(),Fo=Lt.extend({method:m.literal("completion/complete"),params:ar.extend({ref:m.union([U1,M1]),argument:m.object({name:m.string(),value:m.string()}).passthrough(),context:m.optional(m.object({arguments:m.optional(m.record(m.string(),m.string()))}))})}),N1=or.extend({completion:m.object({values:m.array(m.string()).max(100),total:m.optional(m.number().int()),hasMore:m.optional(m.boolean())}).passthrough()}),$1=m.object({uri:m.string().startsWith("file://"),name:m.optional(m.string()),_meta:m.optional(m.object({}).passthrough())}).passthrough(),L1=Lt.extend({method:m.literal("roots/list")}),rd=or.extend({roots:m.array($1)}),q1=Ar.extend({method:m.literal("notifications/roots/list_changed")}),KM=m.union([To,Wu,Fo,S1,Lo,$o,Mo,Uo,No,l1,c1,zo,qo]),WM=m.union([Oo,jo,Gu,q1]),GM=m.union([Io,ed,td,rd]),ZM=m.union([To,R1,A1,L1]),YM=m.union([Oo,jo,x1,u1,o1,k1,v1]),QM=m.union([Io,t1,N1,y1,f1,n1,i1,a1,jm,w1]),Ue=class extends Error{constructor(t,r,n){super(`MCP error ${t}: ${r}`),this.code=t,this.data=n,this.name="McpError"}};var Vo=class{append(t){this._buffer=this._buffer?Buffer.concat([this._buffer,t]):t}readMessage(){if(!this._buffer)return null;let t=this._buffer.indexOf(`
`);if(t===-1)return null;let r=this._buffer.toString("utf8",0,t).replace(/\r$/,"");return this._buffer=this._buffer.subarray(t+1),z1(r)}clear(){this._buffer=void 0}};function z1(e){return Em.parse(JSON.parse(e))}function Am(e){return JSON.stringify(e)+`
`}var Bo=class{constructor(t=Mm.stdin,r=Mm.stdout){this._stdin=t,this._stdout=r,this._readBuffer=new Vo,this._started=!1,this._ondata=n=>{this._readBuffer.append(n),this.processReadBuffer()},this._onerror=n=>{var s;(s=this.onerror)===null||s===void 0||s.call(this,n)}}async start(){if(this._started)throw new Error("StdioServerTransport already started! If using Server class, note that connect() calls start() automatically.");this._started=!0,this._stdin.on("data",this._ondata),this._stdin.on("error",this._onerror)}processReadBuffer(){for(var t,r;;)try{let n=this._readBuffer.readMessage();if(n===null)break;(t=this.onmessage)===null||t===void 0||t.call(this,n)}catch(n){(r=this.onerror)===null||r===void 0||r.call(this,n)}}async close(){var t;this._stdin.off("data",this._ondata),this._stdin.off("error",this._onerror),this._stdin.listenerCount("data")===0&&this._stdin.pause(),this._readBuffer.clear(),(t=this.onclose)===null||t===void 0||t.call(this)}send(t){return new Promise(r=>{let n=Am(t);this._stdout.write(n)?r():this._stdout.once("drain",r)})}};var F1=6e4,Ho=class{constructor(t){this._options=t,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this.setNotificationHandler(Oo,r=>{let n=this._requestHandlerAbortControllers.get(r.params.requestId);n?.abort(r.params.reason)}),this.setNotificationHandler(jo,r=>{this._onprogress(r)}),this.setRequestHandler(To,r=>({}))}_setupTimeout(t,r,n,s,i=!1){this._timeoutInfo.set(t,{timeoutId:setTimeout(s,r),startTime:Date.now(),timeout:r,maxTotalTimeout:n,resetTimeoutOnProgress:i,onTimeout:s})}_resetTimeout(t){let r=this._timeoutInfo.get(t);if(!r)return!1;let n=Date.now()-r.startTime;if(r.maxTotalTimeout&&n>=r.maxTotalTimeout)throw this._timeoutInfo.delete(t),new Ue(Me.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:n});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(t){let r=this._timeoutInfo.get(t);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(t))}async connect(t){var r,n,s;this._transport=t;let i=(r=this.transport)===null||r===void 0?void 0:r.onclose;this._transport.onclose=()=>{i?.(),this._onclose()};let a=(n=this.transport)===null||n===void 0?void 0:n.onerror;this._transport.onerror=l=>{a?.(l),this._onerror(l)};let o=(s=this._transport)===null||s===void 0?void 0:s.onmessage;this._transport.onmessage=(l,c)=>{o?.(l,c),Ku(l)||xm(l)?this._onresponse(l):_m(l)?this._onrequest(l,c):wm(l)?this._onnotification(l):this._onerror(new Error(`Unknown message type: ${JSON.stringify(l)}`))},await this._transport.start()}_onclose(){var t;let r=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._pendingDebouncedNotifications.clear(),this._transport=void 0,(t=this.onclose)===null||t===void 0||t.call(this);let n=new Ue(Me.ConnectionClosed,"Connection closed");for(let s of r.values())s(n)}_onerror(t){var r;(r=this.onerror)===null||r===void 0||r.call(this,t)}_onnotification(t){var r;let n=(r=this._notificationHandlers.get(t.method))!==null&&r!==void 0?r:this.fallbackNotificationHandler;n!==void 0&&Promise.resolve().then(()=>n(t)).catch(s=>this._onerror(new Error(`Uncaught error in notification handler: ${s}`)))}_onrequest(t,r){var n,s;let i=(n=this._requestHandlers.get(t.method))!==null&&n!==void 0?n:this.fallbackRequestHandler,a=this._transport;if(i===void 0){a?.send({jsonrpc:"2.0",id:t.id,error:{code:Me.MethodNotFound,message:"Method not found"}}).catch(c=>this._onerror(new Error(`Failed to send an error response: ${c}`)));return}let o=new AbortController;this._requestHandlerAbortControllers.set(t.id,o);let l={signal:o.signal,sessionId:a?.sessionId,_meta:(s=t.params)===null||s===void 0?void 0:s._meta,sendNotification:c=>this.notification(c,{relatedRequestId:t.id}),sendRequest:(c,u,d)=>this.request(c,u,{...d,relatedRequestId:t.id}),authInfo:r?.authInfo,requestId:t.id,requestInfo:r?.requestInfo};Promise.resolve().then(()=>i(t,l)).then(c=>{if(!o.signal.aborted)return a?.send({result:c,jsonrpc:"2.0",id:t.id})},c=>{var u;if(!o.signal.aborted)return a?.send({jsonrpc:"2.0",id:t.id,error:{code:Number.isSafeInteger(c.code)?c.code:Me.InternalError,message:(u=c.message)!==null&&u!==void 0?u:"Internal error"}})}).catch(c=>this._onerror(new Error(`Failed to send response: ${c}`))).finally(()=>{this._requestHandlerAbortControllers.delete(t.id)})}_onprogress(t){let{progressToken:r,...n}=t.params,s=Number(r),i=this._progressHandlers.get(s);if(!i){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(t)}`));return}let a=this._responseHandlers.get(s),o=this._timeoutInfo.get(s);if(o&&a&&o.resetTimeoutOnProgress)try{this._resetTimeout(s)}catch(l){a(l);return}i(n)}_onresponse(t){let r=Number(t.id),n=this._responseHandlers.get(r);if(n===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(t)}`));return}if(this._responseHandlers.delete(r),this._progressHandlers.delete(r),this._cleanupTimeout(r),Ku(t))n(t);else{let s=new Ue(t.error.code,t.error.message,t.error.data);n(s)}}get transport(){return this._transport}async close(){var t;await((t=this._transport)===null||t===void 0?void 0:t.close())}request(t,r,n){let{relatedRequestId:s,resumptionToken:i,onresumptiontoken:a}=n??{};return new Promise((o,l)=>{var c,u,d,h,f,p;if(!this._transport){l(new Error("Not connected"));return}((c=this._options)===null||c===void 0?void 0:c.enforceStrictCapabilities)===!0&&this.assertCapabilityForMethod(t.method),(u=n?.signal)===null||u===void 0||u.throwIfAborted();let g=this._requestMessageId++,y={...t,jsonrpc:"2.0",id:g};n?.onprogress&&(this._progressHandlers.set(g,n.onprogress),y.params={...t.params,_meta:{...((d=t.params)===null||d===void 0?void 0:d._meta)||{},progressToken:g}});let v=k=>{var A;this._responseHandlers.delete(g),this._progressHandlers.delete(g),this._cleanupTimeout(g),(A=this._transport)===null||A===void 0||A.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:g,reason:String(k)}},{relatedRequestId:s,resumptionToken:i,onresumptiontoken:a}).catch(q=>this._onerror(new Error(`Failed to send cancellation: ${q}`))),l(k)};this._responseHandlers.set(g,k=>{var A;if(!(!((A=n?.signal)===null||A===void 0)&&A.aborted)){if(k instanceof Error)return l(k);try{let q=r.parse(k.result);o(q)}catch(q){l(q)}}}),(h=n?.signal)===null||h===void 0||h.addEventListener("abort",()=>{var k;v((k=n?.signal)===null||k===void 0?void 0:k.reason)});let C=(f=n?.timeout)!==null&&f!==void 0?f:F1,x=()=>v(new Ue(Me.RequestTimeout,"Request timed out",{timeout:C}));this._setupTimeout(g,C,n?.maxTotalTimeout,x,(p=n?.resetTimeoutOnProgress)!==null&&p!==void 0?p:!1),this._transport.send(y,{relatedRequestId:s,resumptionToken:i,onresumptiontoken:a}).catch(k=>{this._cleanupTimeout(g),l(k)})})}async notification(t,r){var n,s;if(!this._transport)throw new Error("Not connected");if(this.assertNotificationCapability(t.method),((s=(n=this._options)===null||n===void 0?void 0:n.debouncedNotificationMethods)!==null&&s!==void 0?s:[]).includes(t.method)&&!t.params&&!r?.relatedRequestId){if(this._pendingDebouncedNotifications.has(t.method))return;this._pendingDebouncedNotifications.add(t.method),Promise.resolve().then(()=>{var l;if(this._pendingDebouncedNotifications.delete(t.method),!this._transport)return;let c={...t,jsonrpc:"2.0"};(l=this._transport)===null||l===void 0||l.send(c,r).catch(u=>this._onerror(u))});return}let o={...t,jsonrpc:"2.0"};await this._transport.send(o,r)}setRequestHandler(t,r){let n=t.shape.method.value;this.assertRequestHandlerCapability(n),this._requestHandlers.set(n,(s,i)=>Promise.resolve(r(t.parse(s),i)))}removeRequestHandler(t){this._requestHandlers.delete(t)}assertCanSetRequestHandler(t){if(this._requestHandlers.has(t))throw new Error(`A request handler for ${t} already exists, which would be overridden`)}setNotificationHandler(t,r){this._notificationHandlers.set(t.shape.method.value,n=>Promise.resolve(r(t.parse(n))))}removeNotificationHandler(t){this._notificationHandlers.delete(t)}};function Um(e,t){return Object.entries(t).reduce((r,[n,s])=>(s&&typeof s=="object"?r[n]=r[n]?{...r[n],...s}:s:r[n]=s,r),{...e})}var $y=Te(Ny(),1),ul=class extends Ho{constructor(t,r){var n;super(r),this._serverInfo=t,this._capabilities=(n=r?.capabilities)!==null&&n!==void 0?n:{},this._instructions=r?.instructions,this.setRequestHandler(Wu,s=>this._oninitialize(s)),this.setNotificationHandler(Gu,()=>{var s;return(s=this.oninitialized)===null||s===void 0?void 0:s.call(this)})}registerCapabilities(t){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=Um(this._capabilities,t)}assertCapabilityForMethod(t){var r,n,s;switch(t){case"sampling/createMessage":if(!(!((r=this._clientCapabilities)===null||r===void 0)&&r.sampling))throw new Error(`Client does not support sampling (required for ${t})`);break;case"elicitation/create":if(!(!((n=this._clientCapabilities)===null||n===void 0)&&n.elicitation))throw new Error(`Client does not support elicitation (required for ${t})`);break;case"roots/list":if(!(!((s=this._clientCapabilities)===null||s===void 0)&&s.roots))throw new Error(`Client does not support listing roots (required for ${t})`);break;case"ping":break}}assertNotificationCapability(t){switch(t){case"notifications/message":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${t})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw new Error(`Server does not support notifying about resources (required for ${t})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw new Error(`Server does not support notifying of tool list changes (required for ${t})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw new Error(`Server does not support notifying of prompt list changes (required for ${t})`);break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(t){switch(t){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Server does not support sampling (required for ${t})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${t})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw new Error(`Server does not support prompts (required for ${t})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw new Error(`Server does not support resources (required for ${t})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw new Error(`Server does not support tools (required for ${t})`);break;case"ping":case"initialize":break}}async _oninitialize(t){let r=t.params.protocolVersion;return this._clientCapabilities=t.params.capabilities,this._clientVersion=t.params.clientInfo,{protocolVersion:mm.includes(r)?r:Ju,capabilities:this.getCapabilities(),serverInfo:this._serverInfo,...this._instructions&&{instructions:this._instructions}}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},Io)}async createMessage(t,r){return this.request({method:"sampling/createMessage",params:t},ed,r)}async elicitInput(t,r){let n=await this.request({method:"elicitation/create",params:t},td,r);if(n.action==="accept"&&n.content)try{let s=new $y.default,i=s.compile(t.requestedSchema);if(!i(n.content))throw new Ue(Me.InvalidParams,`Elicitation response content does not match requested schema: ${s.errorsText(i.errors)}`)}catch(s){throw s instanceof Ue?s:new Ue(Me.InternalError,`Error validating elicitation response: ${s}`)}return n}async listRoots(t,r){return this.request({method:"roots/list",params:t},rd,r)}async sendLoggingMessage(t){return this.notification({method:"notifications/message",params:t})}async sendResourceUpdated(t){return this.notification({method:"notifications/resources/updated",params:t})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}};var qy=Symbol("Let zodToJsonSchema decide on which parser to use");var Ly={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},zy=e=>typeof e=="string"?{...Ly,name:e}:{...Ly,...e};var Fy=e=>{let t=zy(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,s])=>[s._def,{def:s._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}};function Pd(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function be(e,t,r,n,s){e[t]=r,Pd(e,t,n,s)}var dl=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")};function ze(e){if(e.target!=="openAi")return{};let t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?dl(t,e.currentPath):t.join("/")}}function Vy(e,t){let r={type:"array"};return e.type?._def&&e.type?._def?.typeName!==B.ZodAny&&(r.items=le(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&be(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&be(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(be(r,"minItems",e.exactLength.value,e.exactLength.message,t),be(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}function By(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?be(r,"minimum",n.value,n.message,t):be(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),be(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?be(r,"maximum",n.value,n.message,t):be(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),be(r,"maximum",n.value,n.message,t));break;case"multipleOf":be(r,"multipleOf",n.value,n.message,t);break}return r}function Hy(){return{type:"boolean"}}function hl(e,t){return le(e.type._def,t)}var Jy=(e,t)=>le(e.innerType._def,t);function Rd(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((s,i)=>Rd(e,t,s))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return wC(e,t)}}var wC=(e,t)=>{let r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(let n of e.checks)switch(n.kind){case"min":be(r,"minimum",n.value,n.message,t);break;case"max":be(r,"maximum",n.value,n.message,t);break}return r};function Ky(e,t){return{...le(e.innerType._def,t),default:e.defaultValue()}}function Wy(e,t){return t.effectStrategy==="input"?le(e.schema._def,t):ze(t)}function Gy(e){return{type:"string",enum:Array.from(e.values)}}var kC=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function Zy(e,t){let r=[le(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),le(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(i=>!!i),n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,s=[];return r.forEach(i=>{if(kC(i))s.push(...i.allOf),i.unevaluatedProperties===void 0&&(n=void 0);else{let a=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:o,...l}=i;a=l}else n=void 0;s.push(a)}}),s.length?{allOf:s,...n}:void 0}function Yy(e,t){let r=typeof e.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[e.value]}:{type:r==="bigint"?"integer":r,const:e.value}}var Id,gr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Id===void 0&&(Id=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Id),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function fl(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":be(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":be(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":yr(r,"email",n.message,t);break;case"format:idn-email":yr(r,"idn-email",n.message,t);break;case"pattern:zod":Ct(r,gr.email,n.message,t);break}break;case"url":yr(r,"uri",n.message,t);break;case"uuid":yr(r,"uuid",n.message,t);break;case"regex":Ct(r,n.regex,n.message,t);break;case"cuid":Ct(r,gr.cuid,n.message,t);break;case"cuid2":Ct(r,gr.cuid2,n.message,t);break;case"startsWith":Ct(r,RegExp(`^${Od(n.value,t)}`),n.message,t);break;case"endsWith":Ct(r,RegExp(`${Od(n.value,t)}$`),n.message,t);break;case"datetime":yr(r,"date-time",n.message,t);break;case"date":yr(r,"date",n.message,t);break;case"time":yr(r,"time",n.message,t);break;case"duration":yr(r,"duration",n.message,t);break;case"length":be(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t),be(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":{Ct(r,RegExp(Od(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&yr(r,"ipv4",n.message,t),n.version!=="v4"&&yr(r,"ipv6",n.message,t);break}case"base64url":Ct(r,gr.base64url,n.message,t);break;case"jwt":Ct(r,gr.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&Ct(r,gr.ipv4Cidr,n.message,t),n.version!=="v4"&&Ct(r,gr.ipv6Cidr,n.message,t);break}case"emoji":Ct(r,gr.emoji(),n.message,t);break;case"ulid":{Ct(r,gr.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{yr(r,"binary",n.message,t);break}case"contentEncoding:base64":{be(r,"contentEncoding","base64",n.message,t);break}case"pattern:zod":{Ct(r,gr.base64,n.message,t);break}}break}case"nanoid":Ct(r,gr.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}function Od(e,t){return t.patternStrategy==="escape"?xC(e):e}var SC=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function xC(e){let t="";for(let r=0;r<e.length;r++)SC.has(e[r])||(t+="\\"),t+=e[r];return t}function yr(e,t,r,n){e.format||e.anyOf?.some(s=>s.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):be(e,"format",t,r,n)}function Ct(e,t,r,n){e.pattern||e.allOf?.some(s=>s.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:Qy(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):be(e,"pattern",Qy(t,n),r,n)}function Qy(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,s="",i=!1,a=!1,o=!1;for(let l=0;l<n.length;l++){if(i){s+=n[l],i=!1;continue}if(r.i){if(a){if(n[l].match(/[a-z]/)){o?(s+=n[l],s+=`${n[l-2]}-${n[l]}`.toUpperCase(),o=!1):n[l+1]==="-"&&n[l+2]?.match(/[a-z]/)?(s+=n[l],o=!0):s+=`${n[l]}${n[l].toUpperCase()}`;continue}}else if(n[l].match(/[a-z]/)){s+=`[${n[l]}${n[l].toUpperCase()}]`;continue}}if(r.m){if(n[l]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(n[l]==="$"){s+=`($|(?=[\r
]))`;continue}}if(r.s&&n[l]==="."){s+=a?`${n[l]}\r
`:`[${n[l]}\r
]`;continue}s+=n[l],n[l]==="\\"?i=!0:a&&n[l]==="]"?a=!1:!a&&n[l]==="["&&(a=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function pl(e,t){if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&e.keyType?._def.typeName===B.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,s)=>({...n,[s]:le(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",s]})??ze(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};let r={type:"object",additionalProperties:le(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return r;if(e.keyType?._def.typeName===B.ZodString&&e.keyType._def.checks?.length){let{type:n,...s}=fl(e.keyType._def,t);return{...r,propertyNames:s}}else{if(e.keyType?._def.typeName===B.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===B.ZodBranded&&e.keyType._def.type._def.typeName===B.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...s}=hl(e.keyType._def,t);return{...r,propertyNames:s}}}return r}function Xy(e,t){if(t.mapStrategy==="record")return pl(e,t);let r=le(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||ze(t),n=le(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||ze(t);return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function ev(e){let t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),s=Array.from(new Set(n.map(i=>typeof i)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:n}}function tv(e){return e.target==="openAi"?void 0:{not:ze({...e,currentPath:[...e.currentPath,"not"]})}}function rv(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var sa={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function nv(e,t){if(t.target==="openApi3")return sv(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in sa&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((s,i)=>{let a=sa[i._def.typeName];return a&&!s.includes(a)?[...s,a]:s},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((s,i)=>{let a=typeof i._def.value;switch(a){case"string":case"number":case"boolean":return[...s,a];case"bigint":return[...s,"integer"];case"object":if(i._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(n.length===r.length){let s=n.filter((i,a,o)=>o.indexOf(i)===a);return{type:s.length>1?s:s[0],enum:r.reduce((i,a)=>i.includes(a._def.value)?i:[...i,a._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,s)=>[...n,...s._def.values.filter(i=>!n.includes(i))],[])};return sv(e,t)}var sv=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,s)=>le(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${s}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function iv(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:sa[e.innerType._def.typeName],nullable:!0}:{type:[sa[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){let n=le(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=le(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function av(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",Pd(r,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?be(r,"minimum",n.value,n.message,t):be(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),be(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?be(r,"maximum",n.value,n.message,t):be(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),be(r,"maximum",n.value,n.message,t));break;case"multipleOf":be(r,"multipleOf",n.value,n.message,t);break}return r}function ov(e,t){let r=t.target==="openAi",n={type:"object",properties:{}},s=[],i=e.shape();for(let o in i){let l=i[o];if(l===void 0||l._def===void 0)continue;let c=CC(l);c&&r&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),c=!1);let u=le(l._def,{...t,currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]});u!==void 0&&(n.properties[o]=u,c||s.push(o))}s.length&&(n.required=s);let a=EC(e,t);return a!==void 0&&(n.additionalProperties=a),n}function EC(e,t){if(e.catchall._def.typeName!=="ZodNever")return le(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function CC(e){try{return e.isOptional()}catch{return!0}}var lv=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return le(e.innerType._def,t);let r=le(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:ze(t)},r]}:ze(t)};var cv=(e,t)=>{if(t.pipeStrategy==="input")return le(e.in._def,t);if(t.pipeStrategy==="output")return le(e.out._def,t);let r=le(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=le(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(s=>s!==void 0)}};function uv(e,t){return le(e.type._def,t)}function dv(e,t){let n={type:"array",uniqueItems:!0,items:le(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&be(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&be(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}function hv(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>le(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:le(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>le(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function fv(e){return{not:ze(e)}}function pv(e){return ze(e)}var mv=(e,t)=>le(e.innerType._def,t);var gv=(e,t,r)=>{switch(t){case B.ZodString:return fl(e,r);case B.ZodNumber:return av(e,r);case B.ZodObject:return ov(e,r);case B.ZodBigInt:return By(e,r);case B.ZodBoolean:return Hy();case B.ZodDate:return Rd(e,r);case B.ZodUndefined:return fv(r);case B.ZodNull:return rv(r);case B.ZodArray:return Vy(e,r);case B.ZodUnion:case B.ZodDiscriminatedUnion:return nv(e,r);case B.ZodIntersection:return Zy(e,r);case B.ZodTuple:return hv(e,r);case B.ZodRecord:return pl(e,r);case B.ZodLiteral:return Yy(e,r);case B.ZodEnum:return Gy(e);case B.ZodNativeEnum:return ev(e);case B.ZodNullable:return iv(e,r);case B.ZodOptional:return lv(e,r);case B.ZodMap:return Xy(e,r);case B.ZodSet:return dv(e,r);case B.ZodLazy:return()=>e.getter()._def;case B.ZodPromise:return uv(e,r);case B.ZodNaN:case B.ZodNever:return tv(r);case B.ZodEffects:return Wy(e,r);case B.ZodAny:return ze(r);case B.ZodUnknown:return pv(r);case B.ZodDefault:return Ky(e,r);case B.ZodBranded:return hl(e,r);case B.ZodReadonly:return mv(e,r);case B.ZodCatch:return Jy(e,r);case B.ZodPipeline:return cv(e,r);case B.ZodFunction:case B.ZodVoid:case B.ZodSymbol:return;default:return(n=>{})(t)}};function le(e,t,r=!1){let n=t.seen.get(e);if(t.override){let o=t.override?.(e,t,n,r);if(o!==qy)return o}if(n&&!r){let o=PC(n,t);if(o!==void 0)return o}let s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);let i=gv(e,e.typeName,t),a=typeof i=="function"?le(i(),t):i;if(a&&RC(e,t,a),t.postProcess){let o=t.postProcess(a,e,t);return s.jsonSchema=a,o}return s.jsonSchema=a,a}var PC=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:dl(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),ze(t)):t.$refStrategy==="seen"?ze(t):void 0}},RC=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r);var ml=(e,t)=>{let r=Fy(t),n=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((l,[c,u])=>({...l,[c]:le(u._def,{...r,currentPath:[...r.basePath,r.definitionPath,c]},!0)??ze(r)}),{}):void 0,s=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,i=le(e._def,s===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,s]},!1)??ze(r),a=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;a!==void 0&&(i.title=a),r.flags.hasReferencedOpenAiAnyType&&(n||(n={}),n[r.openAiAnyTypeName]||(n[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:r.$refStrategy==="relative"?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));let o=s===void 0?n?{...i,[r.definitionPath]:n}:i:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:{...n,[s]:i}};return r.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in o||"oneOf"in o||"allOf"in o||"type"in o&&Array.isArray(o.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),o};var Td;(function(e){e.Completable="McpCompletable"})(Td||(Td={}));var Xn=class extends pe{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}};Xn.create=(e,t)=>new Xn({type:e,typeName:Td.Completable,complete:t.complete,...IC(t)});function IC(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,o)=>{var l,c;let{message:u}=e;return a.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??n)!==null&&l!==void 0?l:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:o.defaultError}},description:s}}var yl=class{constructor(t,r){this._registeredResources={},this._registeredResourceTemplates={},this._registeredTools={},this._registeredPrompts={},this._toolHandlersInitialized=!1,this._completionHandlerInitialized=!1,this._resourceHandlersInitialized=!1,this._promptHandlersInitialized=!1,this.server=new ul(t,r)}async connect(t){return await this.server.connect(t)}async close(){await this.server.close()}setToolRequestHandlers(){this._toolHandlersInitialized||(this.server.assertCanSetRequestHandler(qo.shape.method.value),this.server.assertCanSetRequestHandler(zo.shape.method.value),this.server.registerCapabilities({tools:{listChanged:!0}}),this.server.setRequestHandler(qo,()=>({tools:Object.entries(this._registeredTools).filter(([,t])=>t.enabled).map(([t,r])=>{let n={name:t,title:r.title,description:r.description,inputSchema:r.inputSchema?ml(r.inputSchema,{strictUnions:!0}):OC,annotations:r.annotations};return r.outputSchema&&(n.outputSchema=ml(r.outputSchema,{strictUnions:!0})),n})})),this.server.setRequestHandler(zo,async(t,r)=>{let n=this._registeredTools[t.params.name];if(!n)throw new Ue(Me.InvalidParams,`Tool ${t.params.name} not found`);if(!n.enabled)throw new Ue(Me.InvalidParams,`Tool ${t.params.name} disabled`);let s;if(n.inputSchema){let i=await n.inputSchema.safeParseAsync(t.params.arguments);if(!i.success)throw new Ue(Me.InvalidParams,`Invalid arguments for tool ${t.params.name}: ${i.error.message}`);let a=i.data,o=n.callback;try{s=await Promise.resolve(o(a,r))}catch(l){s={content:[{type:"text",text:l instanceof Error?l.message:String(l)}],isError:!0}}}else{let i=n.callback;try{s=await Promise.resolve(i(r))}catch(a){s={content:[{type:"text",text:a instanceof Error?a.message:String(a)}],isError:!0}}}if(n.outputSchema&&!s.isError){if(!s.structuredContent)throw new Ue(Me.InvalidParams,`Tool ${t.params.name} has an output schema but no structured content was provided`);let i=await n.outputSchema.safeParseAsync(s.structuredContent);if(!i.success)throw new Ue(Me.InvalidParams,`Invalid structured content for tool ${t.params.name}: ${i.error.message}`)}return s}),this._toolHandlersInitialized=!0)}setCompletionRequestHandler(){this._completionHandlerInitialized||(this.server.assertCanSetRequestHandler(Fo.shape.method.value),this.server.registerCapabilities({completions:{}}),this.server.setRequestHandler(Fo,async t=>{switch(t.params.ref.type){case"ref/prompt":return this.handlePromptCompletion(t,t.params.ref);case"ref/resource":return this.handleResourceCompletion(t,t.params.ref);default:throw new Ue(Me.InvalidParams,`Invalid completion reference: ${t.params.ref}`)}}),this._completionHandlerInitialized=!0)}async handlePromptCompletion(t,r){let n=this._registeredPrompts[r.name];if(!n)throw new Ue(Me.InvalidParams,`Prompt ${r.name} not found`);if(!n.enabled)throw new Ue(Me.InvalidParams,`Prompt ${r.name} disabled`);if(!n.argsSchema)return gl;let s=n.argsSchema.shape[t.params.argument.name];if(!(s instanceof Xn))return gl;let a=await s._def.complete(t.params.argument.value,t.params.context);return vv(a)}async handleResourceCompletion(t,r){let n=Object.values(this._registeredResourceTemplates).find(a=>a.resourceTemplate.uriTemplate.toString()===r.uri);if(!n){if(this._registeredResources[r.uri])return gl;throw new Ue(Me.InvalidParams,`Resource template ${t.params.ref.uri} not found`)}let s=n.resourceTemplate.completeCallback(t.params.argument.name);if(!s)return gl;let i=await s(t.params.argument.value,t.params.context);return vv(i)}setResourceRequestHandlers(){this._resourceHandlersInitialized||(this.server.assertCanSetRequestHandler(Mo.shape.method.value),this.server.assertCanSetRequestHandler(Uo.shape.method.value),this.server.assertCanSetRequestHandler(No.shape.method.value),this.server.registerCapabilities({resources:{listChanged:!0}}),this.server.setRequestHandler(Mo,async(t,r)=>{let n=Object.entries(this._registeredResources).filter(([i,a])=>a.enabled).map(([i,a])=>({uri:i,name:a.name,...a.metadata})),s=[];for(let i of Object.values(this._registeredResourceTemplates)){if(!i.resourceTemplate.listCallback)continue;let a=await i.resourceTemplate.listCallback(r);for(let o of a.resources)s.push({...i.metadata,...o})}return{resources:[...n,...s]}}),this.server.setRequestHandler(Uo,async()=>({resourceTemplates:Object.entries(this._registeredResourceTemplates).map(([r,n])=>({name:r,uriTemplate:n.resourceTemplate.uriTemplate.toString(),...n.metadata}))})),this.server.setRequestHandler(No,async(t,r)=>{let n=new URL(t.params.uri),s=this._registeredResources[n.toString()];if(s){if(!s.enabled)throw new Ue(Me.InvalidParams,`Resource ${n} disabled`);return s.readCallback(n,r)}for(let i of Object.values(this._registeredResourceTemplates)){let a=i.resourceTemplate.uriTemplate.match(n.toString());if(a)return i.readCallback(n,a,r)}throw new Ue(Me.InvalidParams,`Resource ${n} not found`)}),this.setCompletionRequestHandler(),this._resourceHandlersInitialized=!0)}setPromptRequestHandlers(){this._promptHandlersInitialized||(this.server.assertCanSetRequestHandler($o.shape.method.value),this.server.assertCanSetRequestHandler(Lo.shape.method.value),this.server.registerCapabilities({prompts:{listChanged:!0}}),this.server.setRequestHandler($o,()=>({prompts:Object.entries(this._registeredPrompts).filter(([,t])=>t.enabled).map(([t,r])=>({name:t,title:r.title,description:r.description,arguments:r.argsSchema?jC(r.argsSchema):void 0}))})),this.server.setRequestHandler(Lo,async(t,r)=>{let n=this._registeredPrompts[t.params.name];if(!n)throw new Ue(Me.InvalidParams,`Prompt ${t.params.name} not found`);if(!n.enabled)throw new Ue(Me.InvalidParams,`Prompt ${t.params.name} disabled`);if(n.argsSchema){let s=await n.argsSchema.safeParseAsync(t.params.arguments);if(!s.success)throw new Ue(Me.InvalidParams,`Invalid arguments for prompt ${t.params.name}: ${s.error.message}`);let i=s.data,a=n.callback;return await Promise.resolve(a(i,r))}else{let s=n.callback;return await Promise.resolve(s(r))}}),this.setCompletionRequestHandler(),this._promptHandlersInitialized=!0)}resource(t,r,...n){let s;typeof n[0]=="object"&&(s=n.shift());let i=n[0];if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let a=this._createRegisteredResource(t,void 0,r,s,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),a}else{if(this._registeredResourceTemplates[t])throw new Error(`Resource template ${t} is already registered`);let a=this._createRegisteredResourceTemplate(t,void 0,r,s,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),a}}registerResource(t,r,n,s){if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let i=this._createRegisteredResource(t,n.title,r,n,s);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}else{if(this._registeredResourceTemplates[t])throw new Error(`Resource template ${t} is already registered`);let i=this._createRegisteredResourceTemplate(t,n.title,r,n,s);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}}_createRegisteredResource(t,r,n,s,i){let a={name:t,title:r,metadata:s,readCallback:i,enabled:!0,disable:()=>a.update({enabled:!1}),enable:()=>a.update({enabled:!0}),remove:()=>a.update({uri:null}),update:o=>{typeof o.uri<"u"&&o.uri!==n&&(delete this._registeredResources[n],o.uri&&(this._registeredResources[o.uri]=a)),typeof o.name<"u"&&(a.name=o.name),typeof o.title<"u"&&(a.title=o.title),typeof o.metadata<"u"&&(a.metadata=o.metadata),typeof o.callback<"u"&&(a.readCallback=o.callback),typeof o.enabled<"u"&&(a.enabled=o.enabled),this.sendResourceListChanged()}};return this._registeredResources[n]=a,a}_createRegisteredResourceTemplate(t,r,n,s,i){let a={resourceTemplate:n,title:r,metadata:s,readCallback:i,enabled:!0,disable:()=>a.update({enabled:!1}),enable:()=>a.update({enabled:!0}),remove:()=>a.update({name:null}),update:o=>{typeof o.name<"u"&&o.name!==t&&(delete this._registeredResourceTemplates[t],o.name&&(this._registeredResourceTemplates[o.name]=a)),typeof o.title<"u"&&(a.title=o.title),typeof o.template<"u"&&(a.resourceTemplate=o.template),typeof o.metadata<"u"&&(a.metadata=o.metadata),typeof o.callback<"u"&&(a.readCallback=o.callback),typeof o.enabled<"u"&&(a.enabled=o.enabled),this.sendResourceListChanged()}};return this._registeredResourceTemplates[t]=a,a}_createRegisteredPrompt(t,r,n,s,i){let a={title:r,description:n,argsSchema:s===void 0?void 0:m.object(s),callback:i,enabled:!0,disable:()=>a.update({enabled:!1}),enable:()=>a.update({enabled:!0}),remove:()=>a.update({name:null}),update:o=>{typeof o.name<"u"&&o.name!==t&&(delete this._registeredPrompts[t],o.name&&(this._registeredPrompts[o.name]=a)),typeof o.title<"u"&&(a.title=o.title),typeof o.description<"u"&&(a.description=o.description),typeof o.argsSchema<"u"&&(a.argsSchema=m.object(o.argsSchema)),typeof o.callback<"u"&&(a.callback=o.callback),typeof o.enabled<"u"&&(a.enabled=o.enabled),this.sendPromptListChanged()}};return this._registeredPrompts[t]=a,a}_createRegisteredTool(t,r,n,s,i,a,o){let l={title:r,description:n,inputSchema:s===void 0?void 0:m.object(s),outputSchema:i===void 0?void 0:m.object(i),annotations:a,callback:o,enabled:!0,disable:()=>l.update({enabled:!1}),enable:()=>l.update({enabled:!0}),remove:()=>l.update({name:null}),update:c=>{typeof c.name<"u"&&c.name!==t&&(delete this._registeredTools[t],c.name&&(this._registeredTools[c.name]=l)),typeof c.title<"u"&&(l.title=c.title),typeof c.description<"u"&&(l.description=c.description),typeof c.paramsSchema<"u"&&(l.inputSchema=m.object(c.paramsSchema)),typeof c.callback<"u"&&(l.callback=c.callback),typeof c.annotations<"u"&&(l.annotations=c.annotations),typeof c.enabled<"u"&&(l.enabled=c.enabled),this.sendToolListChanged()}};return this._registeredTools[t]=l,this.setToolRequestHandlers(),this.sendToolListChanged(),l}tool(t,...r){if(this._registeredTools[t])throw new Error(`Tool ${t} is already registered`);let n,s,i,a;if(typeof r[0]=="string"&&(n=r.shift()),r.length>1){let l=r[0];yv(l)?(s=r.shift(),r.length>1&&typeof r[0]=="object"&&r[0]!==null&&!yv(r[0])&&(a=r.shift())):typeof l=="object"&&l!==null&&(a=r.shift())}let o=r[0];return this._createRegisteredTool(t,void 0,n,s,i,a,o)}registerTool(t,r,n){if(this._registeredTools[t])throw new Error(`Tool ${t} is already registered`);let{title:s,description:i,inputSchema:a,outputSchema:o,annotations:l}=r;return this._createRegisteredTool(t,s,i,a,o,l,n)}prompt(t,...r){if(this._registeredPrompts[t])throw new Error(`Prompt ${t} is already registered`);let n;typeof r[0]=="string"&&(n=r.shift());let s;r.length>1&&(s=r.shift());let i=r[0],a=this._createRegisteredPrompt(t,void 0,n,s,i);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),a}registerPrompt(t,r,n){if(this._registeredPrompts[t])throw new Error(`Prompt ${t} is already registered`);let{title:s,description:i,argsSchema:a}=r,o=this._createRegisteredPrompt(t,s,i,a,n);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),o}isConnected(){return this.server.transport!==void 0}sendResourceListChanged(){this.isConnected()&&this.server.sendResourceListChanged()}sendToolListChanged(){this.isConnected()&&this.server.sendToolListChanged()}sendPromptListChanged(){this.isConnected()&&this.server.sendPromptListChanged()}};var OC={type:"object",properties:{}};function yv(e){return typeof e!="object"||e===null?!1:Object.keys(e).length===0||Object.values(e).some(TC)}function TC(e){return e!==null&&typeof e=="object"&&"parse"in e&&typeof e.parse=="function"&&"safeParse"in e&&typeof e.safeParse=="function"}function jC(e){return Object.entries(e.shape).map(([t,r])=>({name:t,description:r.description,required:!r.isOptional()}))}function vv(e){return{completion:{values:e.slice(0,100),total:e.length,hasMore:e.length>100}}}var gl={completion:{values:[],hasMore:!1}};var jd={name:"jupyterlab-rtc-mcp",version:"0.1.0",description:"MCP server for JupyterLab real-time collaboration",main:"dist/index.js",type:"module",bin:{"jupyterlab-rtc-mcp":"dist/index.js","jupyterlab-rtc-mcp-http":"dist/http-server.js"},scripts:{build:"tsc",lint:"eslint src --ext .ts",format:"prettier --write src/**/*.ts",bundle:"node esbuild.config.js"},dependencies:{"@jupyter/ydoc":"^3.1.0","@jupyterlab/coreutils":"^6.4.5","@jupyterlab/services":"^7.4.5","@modelcontextprotocol/sdk":"^1.17.3",cors:"^2.8.5",express:"^4.21.2","tough-cookie":"^5.1.2",ws:"^8.18.3","y-websocket":"^3.0.0",yjs:"^13.6.27",zod:"^3.25.76"},devDependencies:{"@types/cors":"^2.8.19","@types/express":"^5.0.3","@types/node":"^22.17.1","@types/ws":"^8.18.1","@typescript-eslint/eslint-plugin":"^8.39.1","@typescript-eslint/parser":"^8.39.1",esbuild:"^0.25.9",eslint:"^9.33.0",prettier:"^3.6.2",tsx:"^4.20.4",typescript:"^5.9.2"},keywords:["jupyterlab","mcp","ai","agentic","real-time","collaboration"],author:"Compl Yue",license:"MIT",repository:{type:"git",url:"https://github.com/complyue/jupyterlab-rtc-mcp.git"},bugs:{url:"https://github.com/complyue/jupyterlab-rtc-mcp/issues"},homepage:"https://github.com/complyue/jupyterlab-rtc-mcp#readme"};var Bp=Te(Ke(),1),Nn=Te(It(),1),Du=Te(uk(),1);var wu=Te(nt(),1),ku=Te(et(),1);var zt=Math.floor;var vi=Math.abs;var _i=(e,t)=>e<t?e:t,ms=(e,t)=>e>t?e:t,ez=Number.isNaN,dk=Math.pow;var Nc=e=>e!==0?e<0:1/e<0;var Df=Number.MAX_SAFE_INTEGER,tz=Number.MIN_SAFE_INTEGER,rz=1<<31;var hk=Number.isInteger||(e=>typeof e=="number"&&isFinite(e)&&zt(e)===e),sz=Number.isNaN,nz=Number.parseInt;var Zr=()=>new Set;var $c=e=>e[e.length-1];var pk=(e,t)=>{for(let r=0;r<t.length;r++)e.push(t[r])},kr=Array.from;var mk=(e,t)=>{for(let r=0;r<e.length;r++)if(t(e[r],r,e))return!0;return!1};var za=Array.isArray;var Uf=String.fromCharCode,iz=String.fromCodePoint,az=Uf(65535),qj=e=>e.toLowerCase(),zj=/^\s*/g,Fj=e=>e.replace(zj,""),Vj=/([A-Z])/g,Nf=(e,t)=>Fj(e.replace(Vj,r=>`${t}${qj(r)}`));var Bj=e=>{let t=unescape(encodeURIComponent(e)),r=t.length,n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=t.codePointAt(s);return n},ki=typeof TextEncoder<"u"?new TextEncoder:null,Hj=e=>ki.encode(e),gk=ki?Hj:Bj;var wi=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});wi&&wi.decode(new Uint8Array).length===1&&(wi=null);var Pn=class{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}},ot=()=>new Pn;var zc=e=>{let t=e.cpos;for(let r=0;r<e.bufs.length;r++)t+=e.bufs[r].length;return t};var Ne=e=>{let t=new Uint8Array(zc(e)),r=0;for(let n=0;n<e.bufs.length;n++){let s=e.bufs[n];t.set(s,r),r+=s.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),r),t},Jj=(e,t)=>{let r=e.cbuf.length;r-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(ms(r,t)*2),e.cpos=0)},pt=(e,t)=>{let r=e.cbuf.length;e.cpos===r&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(r*2),e.cpos=0),e.cbuf[e.cpos++]=t};var Fc=pt;var ie=(e,t)=>{for(;t>127;)pt(e,128|127&t),t=zt(t/128);pt(e,127&t)},Vc=(e,t)=>{let r=Nc(t);for(r&&(t=-t),pt(e,(t>63?128:0)|(r?64:0)|63&t),t=zt(t/64);t>0;)pt(e,(t>127?128:0)|127&t),t=zt(t/128)},$f=new Uint8Array(3e4),Kj=$f.length/3,Wj=(e,t)=>{if(t.length<Kj){let r=ki.encodeInto(t,$f).written||0;ie(e,r);for(let n=0;n<r;n++)pt(e,$f[n])}else Ve(e,gk(t))},Gj=(e,t)=>{let r=unescape(encodeURIComponent(t)),n=r.length;ie(e,n);for(let s=0;s<n;s++)pt(e,r.codePointAt(s))},gs=ki&&ki.encodeInto?Wj:Gj;var Va=(e,t)=>{let r=e.cbuf.length,n=e.cpos,s=_i(r-n,t.length),i=t.length-s;e.cbuf.set(t.subarray(0,s),n),e.cpos+=s,i>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(ms(r*2,i)),e.cbuf.set(t.subarray(s)),e.cpos=i)},Ve=(e,t)=>{ie(e,t.byteLength),Va(e,t)},Lf=(e,t)=>{Jj(e,t);let r=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,r},Zj=(e,t)=>Lf(e,4).setFloat32(0,t,!1),Yj=(e,t)=>Lf(e,8).setFloat64(0,t,!1),Qj=(e,t)=>Lf(e,8).setBigInt64(0,t,!1);var vk=new DataView(new ArrayBuffer(4)),Xj=e=>(vk.setFloat32(0,e),vk.getFloat32(0)===e),xi=(e,t)=>{switch(typeof t){case"string":pt(e,119),gs(e,t);break;case"number":hk(t)&&vi(t)<=2147483647?(pt(e,125),Vc(e,t)):Xj(t)?(pt(e,124),Zj(e,t)):(pt(e,123),Yj(e,t));break;case"bigint":pt(e,122),Qj(e,t);break;case"object":if(t===null)pt(e,126);else if(za(t)){pt(e,117),ie(e,t.length);for(let r=0;r<t.length;r++)xi(e,t[r])}else if(t instanceof Uint8Array)pt(e,116),Ve(e,t);else{pt(e,118);let r=Object.keys(t);ie(e,r.length);for(let n=0;n<r.length;n++){let s=r[n];gs(e,s),xi(e,t[s])}}break;case"boolean":pt(e,t?120:121);break;default:pt(e,127)}},Fa=class extends Pn{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&ie(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}};var _k=e=>{e.count>0&&(Vc(e.encoder,e.count===1?e.s:-e.s),e.count>1&&ie(e.encoder,e.count-2))},Rn=class{constructor(){this.encoder=new Pn,this.s=0,this.count=0}write(t){this.s===t?this.count++:(_k(this),this.count=1,this.s=t)}toUint8Array(){return _k(this),Ne(this.encoder)}};var bk=e=>{if(e.count>0){let t=e.diff*2+(e.count===1?0:1);Vc(e.encoder,t),e.count>1&&ie(e.encoder,e.count-2)}},Ei=class{constructor(){this.encoder=new Pn,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(bk(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return bk(this),Ne(this.encoder)}},qc=class{constructor(){this.sarr=[],this.s="",this.lensE=new Rn}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){let t=new Pn;return this.sarr.push(this.s),this.s="",gs(t,this.sarr.join("")),Va(t,this.lensE.toUint8Array()),Ne(t)}};var Yr=e=>new Error(e),Sr=()=>{throw Yr("Method unimplemented")},xr=()=>{throw Yr("Unexpected case")};var kk=Yr("Unexpected end of array"),Sk=Yr("Integer out of Range"),Ci=class{constructor(t){this.arr=t,this.pos=0}},Cr=e=>new Ci(e),xk=e=>e.pos!==e.arr.length;var eD=(e,t)=>{let r=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,r},lt=e=>eD(e,ce(e));var In=e=>e.arr[e.pos++];var ce=e=>{let t=0,r=1,n=e.arr.length;for(;e.pos<n;){let s=e.arr[e.pos++];if(t=t+(s&127)*r,r*=128,s<128)return t;if(t>Df)throw Sk}throw kk},Jc=e=>{let t=e.arr[e.pos++],r=t&63,n=64,s=(t&64)>0?-1:1;if((t&128)===0)return s*r;let i=e.arr.length;for(;e.pos<i;){if(t=e.arr[e.pos++],r=r+(t&127)*n,n*=128,t<128)return s*r;if(r>Df)throw Sk}throw kk};var tD=e=>{let t=ce(e);if(t===0)return"";{let r=String.fromCodePoint(In(e));if(--t<100)for(;t--;)r+=String.fromCodePoint(In(e));else for(;t>0;){let n=t<1e4?t:1e4,s=e.arr.subarray(e.pos,e.pos+n);e.pos+=n,r+=String.fromCodePoint.apply(null,s),t-=n}return decodeURIComponent(escape(r))}},rD=e=>wi.decode(lt(e)),Er=wi?rD:tD;var qf=(e,t)=>{let r=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,r},sD=e=>qf(e,4).getFloat32(0,!1),nD=e=>qf(e,8).getFloat64(0,!1),iD=e=>qf(e,8).getBigInt64(0,!1);var aD=[e=>{},e=>null,Jc,sD,nD,iD,e=>!1,e=>!0,Er,e=>{let t=ce(e),r={};for(let n=0;n<t;n++){let s=Er(e);r[s]=Pi(e)}return r},e=>{let t=ce(e),r=[];for(let n=0;n<t;n++)r.push(Pi(e));return r},lt],Pi=e=>aD[127-In(e)](e),Ba=class extends Ci{constructor(t,r){super(t),this.reader=r,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),xk(this)?this.count=ce(this)+1:this.count=-1),this.count--,this.s}};var On=class extends Ci{constructor(t){super(t),this.s=0,this.count=0}read(){if(this.count===0){this.s=Jc(this);let t=Nc(this.s);this.count=1,t&&(this.s=-this.s,this.count=ce(this)+2)}return this.count--,this.s}};var Ri=class extends Ci{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){let t=Jc(this),r=t&1;this.diff=zt(t/2),this.count=1,r&&(this.count=ce(this)+2)}return this.s+=this.diff,this.count--,this.s}},Hc=class{constructor(t){this.decoder=new On(t),this.str=Er(this.decoder),this.spos=0}read(){let t=this.spos+this.decoder.read(),r=this.str.slice(this.spos,t);return this.spos=t,r}};var Qt=Date.now;var xt=()=>new Map,Wc=e=>{let t=xt();return e.forEach((r,n)=>{t.set(n,r)}),t},Xt=(e,t,r)=>{let n=e.get(t);return n===void 0&&e.set(t,n=r()),n};var Ek=(e,t)=>{for(let[r,n]of e)if(t(n,r))return!0;return!1};var Tn=class{constructor(){this._observers=xt()}on(t,r){return Xt(this._observers,t,Zr).add(r),r}once(t,r){let n=(...s)=>{this.off(t,n),r(...s)};this.on(t,n)}off(t,r){let n=this._observers.get(t);n!==void 0&&(n.delete(r),n.size===0&&this._observers.delete(t))}emit(t,r){return kr((this._observers.get(t)||xt()).values()).forEach(n=>n(...r))}destroy(){this._observers=xt()}},Zc=class{constructor(){this._observers=xt()}on(t,r){Xt(this._observers,t,Zr).add(r)}once(t,r){let n=(...s)=>{this.off(t,n),r(...s)};this.on(t,n)}off(t,r){let n=this._observers.get(t);n!==void 0&&(n.delete(r),n.size===0&&this._observers.delete(t))}emit(t,r){return kr((this._observers.get(t)||xt()).values()).forEach(n=>n(...r))}destroy(){this._observers=xt()}};var Pk=Object.assign,Rk=Object.keys;var Ik=(e,t)=>{for(let r in e)t(e[r],r)},Ok=(e,t)=>{let r=[];for(let n in e)r.push(t(e[n],n));return r},zf=e=>Rk(e).length,Ck=e=>Rk(e).length;var Tk=e=>{for(let t in e)return!1;return!0},oD=(e,t)=>{for(let r in e)if(!t(e[r],r))return!1;return!0},Ff=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Vf=(e,t)=>e===t||Ck(e)===Ck(t)&&oD(e,(r,n)=>(r!==void 0||Ff(t,n))&&t[n]===r),lD=Object.freeze,Bf=e=>{for(let t in e){let r=e[t];(typeof r=="object"||typeof r=="function")&&Bf(e[t])}return lD(e)};var Jf=Symbol("Equality");var Ja=(e,t,r=0)=>{try{for(;r<e.length;r++)e[r](...t)}finally{r<e.length&&Ja(e,t,r+1)}};var jk=e=>e;var Ii=(e,t)=>{if(e===t)return!0;if(e==null||t==null||e.constructor!==t.constructor)return!1;if(e[Jf]!=null)return e[Jf](t);switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:{if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;break}case Set:{if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;break}case Map:{if(e.size!==t.size)return!1;for(let r of e.keys())if(!t.has(r)||!Ii(e.get(r),t.get(r)))return!1;break}case Object:if(zf(e)!==zf(t))return!1;for(let r in e)if(!Ff(e,r)||!Ii(e[r],t[r]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Ii(e[r],t[r]))return!1;break;default:return!1}return!0},Dk=(e,t)=>t.includes(e);import{webcrypto as Wf}from"node:crypto";var dz=Wf.subtle,Ak=Wf.getRandomValues.bind(Wf);var Gf=()=>Ak(new Uint32Array(1))[0];var uD="10000000-1000-4000-8000"+-1e11,Mk=()=>uD.replace(/[018]/g,e=>(e^Gf()&15>>e/4).toString(16));var Zf=e=>new Promise(e);var pz=Promise.all.bind(Promise);var Yf=e=>e===void 0?null:e;var Qf=class{constructor(){this.map=new Map}setItem(t,r){this.map.set(t,r)}getItem(t){return this.map.get(t)}},Uk=new Qf,Xf=!0;try{typeof localStorage<"u"&&localStorage&&(Uk=localStorage,Xf=!1)}catch{}var Yc=Uk,Nk=e=>Xf||addEventListener("storage",e),$k=e=>Xf||removeEventListener("storage",e);var ys=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",tp=typeof window<"u"&&typeof document<"u"&&!ys,mz=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,Qr,pD=[],mD=()=>{if(Qr===void 0)if(ys){Qr=xt();let e=process.argv,t=null;for(let r=0;r<e.length;r++){let n=e[r];n[0]==="-"?(t!==null&&Qr.set(t,""),t=n):t!==null?(Qr.set(t,n),t=null):pD.push(n)}t!==null&&Qr.set(t,"")}else typeof location=="object"?(Qr=xt(),(location.search||"?").slice(1).split("&").forEach(e=>{if(e.length!==0){let[t,r]=e.split("=");Qr.set(`--${Nf(t,"-")}`,r),Qr.set(`-${Nf(t,"-")}`,r)}})):Qr=xt();return Qr},ep=e=>mD().has(e);var Ka=e=>ys?Yf(process.env[e.toUpperCase().replaceAll("-","_")]):Yf(Yc.getItem(e));var qk=e=>ep("--"+e)||Ka(e)!==null,gz=qk("production"),gD=ys&&Dk(process.env.FORCE_COLOR,["true","1","2"]),zk=gD||!ep("--no-colors")&&!qk("no-color")&&(!ys||process.stdout.isTTY)&&(!ys||ep("--color")||Ka("COLORTERM")!==null||(Ka("TERM")||"").includes("color"));var Fk=e=>new Uint8Array(e),yD=(e,t,r)=>new Uint8Array(e,t,r),Vk=e=>new Uint8Array(e),vD=e=>{let t="";for(let r=0;r<e.byteLength;r++)t+=Uf(e[r]);return btoa(t)},_D=e=>Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"),bD=e=>{let t=atob(e),r=Fk(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r},wD=e=>{let t=Buffer.from(e,"base64");return yD(t.buffer,t.byteOffset,t.byteLength)},Bk=tp?vD:_D,Hk=tp?bD:wD;var Jk=e=>{let t=Fk(e.byteLength);return t.set(e),t};var Xr=Symbol;var Wa=Xr(),Ga=Xr(),rp=Xr(),sp=Xr(),np=Xr(),Za=Xr(),ip=Xr(),Ya=Xr(),ap=Xr(),Wk=e=>{e.length===1&&e[0]?.constructor===Function&&(e=e[0]());let t=[],r=[],n=0;for(;n<e.length;n++){let s=e[n];if(s===void 0)break;if(s.constructor===String||s.constructor===Number)t.push(s);else if(s.constructor===Object)break}for(n>0&&r.push(t.join(""));n<e.length;n++){let s=e[n];s instanceof Symbol||r.push(s)}return r};var yz=Qt();var xD={[Wa]:"\x1B[1m",[Ga]:"\x1B[2m",[rp]:"\x1B[34m",[np]:"\x1B[32m",[sp]:"\x1B[37m",[Za]:"\x1B[31m",[ip]:"\x1B[35m",[Ya]:"\x1B[38;5;208m",[ap]:"\x1B[0m"},ED=e=>{e.length===1&&e[0]?.constructor===Function&&(e=e[0]());let t=[],r=[],n=0;for(;n<e.length;n++){let s=e[n],i=xD[s];if(i!==void 0)t.push(i);else{if(s===void 0)break;if(s.constructor===String||s.constructor===Number)t.push(s);else break}}for(n>0&&(t.push("\x1B[0m"),r.push(t.join("")));n<e.length;n++){let s=e[n];s instanceof Symbol||r.push(s)}return r},Gk=zk?ED:Wk,Zk=(...e)=>{console.log(...Gk(e))},op=(...e)=>{console.warn(...Gk(e))};var Yk=e=>({[Symbol.iterator](){return this},next:e}),Qk=(e,t)=>Yk(()=>{let r;do r=e.next();while(!r.done&&!t(r.value));return r}),Xc=(e,t)=>Yk(()=>{let{done:r,value:n}=e.next();return{done:r,value:r?void 0:t(n)}});var Xa=class{constructor(t,r){this.clock=t,this.len=r}},zs=class{constructor(){this.clients=new Map}},Ti=(e,t,r)=>t.clients.forEach((n,s)=>{let i=e.doc.store.clients.get(s);if(i!=null){let a=i[i.length-1],o=a.id.clock+a.length;for(let l=0,c=n[l];l<n.length&&c.clock<o;c=n[++l])E0(e,i,c.clock,c.len,r)}}),OD=(e,t)=>{let r=0,n=e.length-1;for(;r<=n;){let s=zt((r+n)/2),i=e[s],a=i.clock;if(a<=t){if(t<a+i.len)return s;r=s+1}else n=s-1}return null},uo=(e,t)=>{let r=e.clients.get(t.client);return r!==void 0&&OD(r,t.clock)!==null},Cp=e=>{e.clients.forEach(t=>{t.sort((s,i)=>s.clock-i.clock);let r,n;for(r=1,n=1;r<t.length;r++){let s=t[n-1],i=t[r];s.clock+s.len>=i.clock?s.len=ms(s.len,i.clock+i.len-s.clock):(n<r&&(t[n]=i),n++)}t.length=n})},cp=e=>{let t=new zs;for(let r=0;r<e.length;r++)e[r].clients.forEach((n,s)=>{if(!t.clients.has(s)){let i=n.slice();for(let a=r+1;a<e.length;a++)pk(i,e[a].clients.get(s)||[]);t.clients.set(s,i)}});return Cp(t),t},eo=(e,t,r,n)=>{Xt(e.clients,t,()=>[]).push(new Xa(r,n))},m0=()=>new zs,TD=e=>{let t=m0();return e.clients.forEach((r,n)=>{let s=[];for(let i=0;i<r.length;i++){let a=r[i];if(a.deleted){let o=a.id.clock,l=a.length;if(i+1<r.length)for(let c=r[i+1];i+1<r.length&&c.deleted;c=r[++i+1])l+=c.length;s.push(new Xa(o,l))}}s.length>0&&t.clients.set(n,s)}),t},Ui=(e,t)=>{ie(e.restEncoder,t.clients.size),kr(t.clients.entries()).sort((r,n)=>n[0]-r[0]).forEach(([r,n])=>{e.resetDsCurVal(),ie(e.restEncoder,r);let s=n.length;ie(e.restEncoder,s);for(let i=0;i<s;i++){let a=n[i];e.writeDsClock(a.clock),e.writeDsLen(a.len)}})},Pp=e=>{let t=new zs,r=ce(e.restDecoder);for(let n=0;n<r;n++){e.resetDsCurVal();let s=ce(e.restDecoder),i=ce(e.restDecoder);if(i>0){let a=Xt(t.clients,s,()=>[]);for(let o=0;o<i;o++)a.push(new Xa(e.readDsClock(),e.readDsLen()))}}return t},t0=(e,t,r)=>{let n=new zs,s=ce(e.restDecoder);for(let i=0;i<s;i++){e.resetDsCurVal();let a=ce(e.restDecoder),o=ce(e.restDecoder),l=r.clients.get(a)||[],c=ct(r,a);for(let u=0;u<o;u++){let d=e.readDsClock(),h=d+e.readDsLen();if(d<c){c<h&&eo(n,a,c,h-c);let f=es(l,d),p=l[f];for(!p.deleted&&p.id.clock<d&&(l.splice(f+1,0,gu(t,p,d-p.id.clock)),f++);f<l.length&&(p=l[f++],p.id.clock<h);)p.deleted||(h<p.id.clock+p.length&&l.splice(f,0,gu(t,p,h-p.id.clock)),p.delete(t))}else eo(n,a,d,h-d)}}if(n.clients.size>0){let i=new vs;return ie(i.restEncoder,0),Ui(i,n),i.toUint8Array()}return null};var g0=Gf,Ht=class e extends Tn{constructor({guid:t=Mk(),collectionid:r=null,gc:n=!0,gcFilter:s=()=>!0,meta:i=null,autoLoad:a=!1,shouldLoad:o=!0}={}){super(),this.gc=n,this.gcFilter=s,this.clientID=g0(),this.guid=t,this.collectionid=r,this.share=new Map,this.store=new du,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=o,this.autoLoad=a,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=Zf(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});let l=()=>Zf(c=>{let u=d=>{(d===void 0||d===!0)&&(this.off("sync",u),c())};this.on("sync",u)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=l()}load(){let t=this._item;t!==null&&!this.shouldLoad&&je(t.parent.doc,r=>{r.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(kr(this.subdocs).map(t=>t.guid))}transact(t,r=null){return je(this,t,r)}get(t,r=it){let n=Xt(this.share,t,()=>{let i=new r;return i._integrate(this,null),i}),s=n.constructor;if(r!==it&&s!==r)if(s===it){let i=new r;i._map=n._map,n._map.forEach(a=>{for(;a!==null;a=a.left)a.parent=i}),i._start=n._start;for(let a=i._start;a!==null;a=a.right)a.parent=i;return i._length=n._length,this.share.set(t,i),i._integrate(this,null),i}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return n}getArray(t=""){return this.get(t,Di)}getText(t=""){return this.get(t,Vs)}getMap(t=""){return this.get(t,Pr)}getXmlElement(t=""){return this.get(t,ao)}getXmlFragment(t=""){return this.get(t,Ai)}toJSON(){let t={};return this.share.forEach((r,n)=>{t[n]=r.toJSON()}),t}destroy(){this.isDestroyed=!0,kr(this.subdocs).forEach(r=>r.destroy());let t=this._item;if(t!==null){this._item=null;let r=t.content;r.doc=new e({guid:this.guid,...r.opts,shouldLoad:!1}),r.doc._item=t,je(t.parent.doc,n=>{let s=r.doc;t.deleted||n.subdocsAdded.add(s),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}},au=class{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return ce(this.restDecoder)}readDsLen(){return ce(this.restDecoder)}},ou=class extends au{readLeftID(){return ye(ce(this.restDecoder),ce(this.restDecoder))}readRightID(){return ye(ce(this.restDecoder),ce(this.restDecoder))}readClient(){return ce(this.restDecoder)}readInfo(){return In(this.restDecoder)}readString(){return Er(this.restDecoder)}readParentInfo(){return ce(this.restDecoder)===1}readTypeRef(){return ce(this.restDecoder)}readLen(){return ce(this.restDecoder)}readAny(){return Pi(this.restDecoder)}readBuf(){return Jk(lt(this.restDecoder))}readJSON(){return JSON.parse(Er(this.restDecoder))}readKey(){return Er(this.restDecoder)}},up=class{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=ce(this.restDecoder),this.dsCurrVal}readDsLen(){let t=ce(this.restDecoder)+1;return this.dsCurrVal+=t,t}},Fs=class extends up{constructor(t){super(t),this.keys=[],ce(t),this.keyClockDecoder=new Ri(lt(t)),this.clientDecoder=new On(lt(t)),this.leftClockDecoder=new Ri(lt(t)),this.rightClockDecoder=new Ri(lt(t)),this.infoDecoder=new Ba(lt(t),In),this.stringDecoder=new Hc(lt(t)),this.parentInfoDecoder=new Ba(lt(t),In),this.typeRefDecoder=new On(lt(t)),this.lenDecoder=new On(lt(t))}readLeftID(){return new qs(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new qs(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Pi(this.restDecoder)}readBuf(){return lt(this.restDecoder)}readJSON(){return Pi(this.restDecoder)}readKey(){let t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{let r=this.stringDecoder.read();return this.keys.push(r),r}}},lu=class{constructor(){this.restEncoder=ot()}toUint8Array(){return Ne(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){ie(this.restEncoder,t)}writeDsLen(t){ie(this.restEncoder,t)}},jn=class extends lu{writeLeftID(t){ie(this.restEncoder,t.client),ie(this.restEncoder,t.clock)}writeRightID(t){ie(this.restEncoder,t.client),ie(this.restEncoder,t.clock)}writeClient(t){ie(this.restEncoder,t)}writeInfo(t){Fc(this.restEncoder,t)}writeString(t){gs(this.restEncoder,t)}writeParentInfo(t){ie(this.restEncoder,t?1:0)}writeTypeRef(t){ie(this.restEncoder,t)}writeLen(t){ie(this.restEncoder,t)}writeAny(t){xi(this.restEncoder,t)}writeBuf(t){Ve(this.restEncoder,t)}writeJSON(t){gs(this.restEncoder,JSON.stringify(t))}writeKey(t){gs(this.restEncoder,t)}},cu=class{constructor(){this.restEncoder=ot(),this.dsCurrVal=0}toUint8Array(){return Ne(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){let r=t-this.dsCurrVal;this.dsCurrVal=t,ie(this.restEncoder,r)}writeDsLen(t){t===0&&xr(),ie(this.restEncoder,t-1),this.dsCurrVal+=t}},vs=class extends cu{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Ei,this.clientEncoder=new Rn,this.leftClockEncoder=new Ei,this.rightClockEncoder=new Ei,this.infoEncoder=new Fa(Fc),this.stringEncoder=new qc,this.parentInfoEncoder=new Fa(Fc),this.typeRefEncoder=new Rn,this.lenEncoder=new Rn}toUint8Array(){let t=ot();return ie(t,0),Ve(t,this.keyClockEncoder.toUint8Array()),Ve(t,this.clientEncoder.toUint8Array()),Ve(t,this.leftClockEncoder.toUint8Array()),Ve(t,this.rightClockEncoder.toUint8Array()),Ve(t,Ne(this.infoEncoder)),Ve(t,this.stringEncoder.toUint8Array()),Ve(t,Ne(this.parentInfoEncoder)),Ve(t,this.typeRefEncoder.toUint8Array()),Ve(t,this.lenEncoder.toUint8Array()),Va(t,Ne(this.restEncoder)),Ne(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){xi(this.restEncoder,t)}writeBuf(t){Ve(this.restEncoder,t)}writeJSON(t){xi(this.restEncoder,t)}writeKey(t){let r=this.keyMap.get(t);r===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(r)}},jD=(e,t,r,n)=>{n=ms(n,t[0].id.clock);let s=es(t,n);ie(e.restEncoder,t.length-s),e.writeClient(r),ie(e.restEncoder,n);let i=t[s];i.write(e,n-i.id.clock);for(let a=s+1;a<t.length;a++)t[a].write(e,0)},Rp=(e,t,r)=>{let n=new Map;r.forEach((s,i)=>{ct(t,i)>s&&n.set(i,s)}),yu(t).forEach((s,i)=>{r.has(i)||n.set(i,0)}),ie(e.restEncoder,n.size),kr(n.entries()).sort((s,i)=>i[0]-s[0]).forEach(([s,i])=>{jD(e,t.clients.get(s),s,i)})},DD=(e,t)=>{let r=xt(),n=ce(e.restDecoder);for(let s=0;s<n;s++){let i=ce(e.restDecoder),a=new Array(i),o=e.readClient(),l=ce(e.restDecoder);r.set(o,{i:0,refs:a});for(let c=0;c<i;c++){let u=e.readInfo();switch(31&u){case 0:{let d=e.readLen();a[c]=new Vt(ye(o,l),d),l+=d;break}case 10:{let d=ce(e.restDecoder);a[c]=new Bt(ye(o,l),d),l+=d;break}default:{let d=(u&192)===0,h=new Be(ye(o,l),null,(u&128)===128?e.readLeftID():null,null,(u&64)===64?e.readRightID():null,d?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,d&&(u&32)===32?e.readString():null,H0(e,u));a[c]=h,l+=h.length}}}}return r},AD=(e,t,r)=>{let n=[],s=kr(r.keys()).sort((f,p)=>f-p);if(s.length===0)return null;let i=()=>{if(s.length===0)return null;let f=r.get(s[s.length-1]);for(;f.refs.length===f.i;)if(s.pop(),s.length>0)f=r.get(s[s.length-1]);else return null;return f},a=i();if(a===null)return null;let o=new du,l=new Map,c=(f,p)=>{let g=l.get(f);(g==null||g>p)&&l.set(f,p)},u=a.refs[a.i++],d=new Map,h=()=>{for(let f of n){let p=f.id.client,g=r.get(p);g?(g.i--,o.clients.set(p,g.refs.slice(g.i)),r.delete(p),g.i=0,g.refs=[]):o.clients.set(p,[f]),s=s.filter(y=>y!==p)}n.length=0};for(;;){if(u.constructor!==Bt){let p=Xt(d,u.id.client,()=>ct(t,u.id.client))-u.id.clock;if(p<0)n.push(u),c(u.id.client,u.id.clock-1),h();else{let g=u.getMissing(e,t);if(g!==null){n.push(u);let y=r.get(g)||{refs:[],i:0};if(y.refs.length===y.i)c(g,ct(t,g)),h();else{u=y.refs[y.i++];continue}}else(p===0||p<u.length)&&(u.integrate(e,p),d.set(u.id.client,u.id.clock+u.length))}}if(n.length>0)u=n.pop();else if(a!==null&&a.i<a.refs.length)u=a.refs[a.i++];else{if(a=i(),a===null)break;u=a.refs[a.i++]}}if(o.clients.size>0){let f=new vs;return Rp(f,o,new Map),ie(f.restEncoder,0),{missing:l,update:f.toUint8Array()}}return null},MD=(e,t)=>Rp(e,t.doc.store,t.beforeState),UD=(e,t,r,n=new Fs(e))=>je(t,s=>{s.local=!1;let i=!1,a=s.doc,o=a.store,l=DD(n,a),c=AD(s,o,l),u=o.pendingStructs;if(u){for(let[h,f]of u.missing)if(f<ct(o,h)){i=!0;break}if(c){for(let[h,f]of c.missing){let p=u.missing.get(h);(p==null||p>f)&&u.missing.set(h,f)}u.update=hu([u.update,c.update])}}else o.pendingStructs=c;let d=t0(n,s,o);if(o.pendingDs){let h=new Fs(Cr(o.pendingDs));ce(h.restDecoder);let f=t0(h,s,o);d&&f?o.pendingDs=hu([d,f]):o.pendingDs=d||f}else o.pendingDs=d;if(i){let h=o.pendingStructs.update;o.pendingStructs=null,y0(s.doc,h)}},r,!1);var y0=(e,t,r,n=Fs)=>{let s=Cr(t);UD(s,e,r,new n(s))},v0=(e,t,r)=>y0(e,t,r,ou),ND=(e,t,r=new Map)=>{Rp(e,t.store,r),Ui(e,TD(t.store))},$D=(e,t=new Uint8Array([0]),r=new vs)=>{let n=b0(t);ND(r,e,n);let s=[r.toUint8Array()];if(e.store.pendingDs&&s.push(e.store.pendingDs),e.store.pendingStructs&&s.push(YD(e.store.pendingStructs.update,t)),s.length>1){if(r.constructor===jn)return GD(s.map((i,a)=>a===0?i:XD(i)));if(r.constructor===vs)return hu(s)}return s[0]},_0=(e,t)=>$D(e,t,new jn),LD=e=>{let t=new Map,r=ce(e.restDecoder);for(let n=0;n<r;n++){let s=ce(e.restDecoder),i=ce(e.restDecoder);t.set(s,i)}return t},b0=e=>LD(new au(Cr(e))),w0=(e,t)=>(ie(e.restEncoder,t.size),kr(t.entries()).sort((r,n)=>n[0]-r[0]).forEach(([r,n])=>{ie(e.restEncoder,r),ie(e.restEncoder,n)}),e),qD=(e,t)=>w0(e,yu(t.store)),zD=(e,t=new cu)=>(e instanceof Map?w0(t,e):qD(t,e),t.toUint8Array()),k0=e=>zD(e,new lu),dp=class{constructor(){this.l=[]}},r0=()=>new dp,s0=(e,t)=>e.l.push(t),n0=(e,t)=>{let r=e.l,n=r.length;e.l=r.filter(s=>t!==s),n===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},S0=(e,t,r)=>Ja(e.l,[t,r]),qs=class{constructor(t,r){this.client=t,this.clock=r}},eu=(e,t)=>e===t||e!==null&&t!==null&&e.client===t.client&&e.clock===t.clock,ye=(e,t)=>new qs(e,t);var FD=e=>{for(let[t,r]of e.doc.share.entries())if(r===e)return t;throw xr()},uu=(e,t)=>{for(;t!==null;){if(t.parent===e)return!0;t=t.parent._item}return!1};var hp=class{constructor(t,r){this.ds=t,this.sv=r}};var VD=(e,t)=>new hp(e,t),Sz=VD(m0(),new Map);var Oi=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!uo(t.ds,e.id),fp=(e,t)=>{let r=Xt(e.meta,fp,Zr),n=e.doc.store;r.has(t)||(t.sv.forEach((s,i)=>{s<ct(n,i)&&Ft(e,ye(i,s))}),Ti(e,t.ds,s=>{}),r.add(t))};var du=class{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}},yu=e=>{let t=new Map;return e.clients.forEach((r,n)=>{let s=r[r.length-1];t.set(n,s.id.clock+s.length)}),t},ct=(e,t)=>{let r=e.clients.get(t);if(r===void 0)return 0;let n=r[r.length-1];return n.id.clock+n.length},x0=(e,t)=>{let r=e.clients.get(t.id.client);if(r===void 0)r=[],e.clients.set(t.id.client,r);else{let n=r[r.length-1];if(n.id.clock+n.length!==t.id.clock)throw xr()}r.push(t)},es=(e,t)=>{let r=0,n=e.length-1,s=e[n],i=s.id.clock;if(i===t)return n;let a=zt(t/(i+s.length-1)*n);for(;r<=n;){if(s=e[a],i=s.id.clock,i<=t){if(t<i+s.length)return a;r=a+1}else n=a-1;a=zt((r+n)/2)}throw xr()},BD=(e,t)=>{let r=e.clients.get(t.client);return r[es(r,t.clock)]},su=BD,pp=(e,t,r)=>{let n=es(t,r),s=t[n];return s.id.clock<r&&s instanceof Be?(t.splice(n+1,0,gu(e,s,r-s.id.clock)),n+1):n},Ft=(e,t)=>{let r=e.doc.store.clients.get(t.client);return r[pp(e,r,t.clock)]},i0=(e,t,r)=>{let n=t.clients.get(r.client),s=es(n,r.clock),i=n[s];return r.clock!==i.id.clock+i.length-1&&i.constructor!==Vt&&n.splice(s+1,0,gu(e,i,r.clock-i.id.clock+1)),i},HD=(e,t,r)=>{let n=e.clients.get(t.id.client);n[es(n,t.id.clock)]=r},E0=(e,t,r,n,s)=>{if(n===0)return;let i=r+n,a=pp(e,t,r),o;do o=t[a++],i<o.id.clock+o.length&&pp(e,t,i),s(o);while(a<t.length&&t[a].id.clock<i)},mp=class{constructor(t,r,n){this.doc=t,this.deleteSet=new zs,this.beforeState=yu(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=r,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}},a0=(e,t)=>t.deleteSet.clients.size===0&&!Ek(t.afterState,(r,n)=>t.beforeState.get(n)!==r)?!1:(Cp(t.deleteSet),MD(e,t),Ui(e,t.deleteSet),!0),o0=(e,t,r)=>{let n=t._item;(n===null||n.id.clock<(e.beforeState.get(n.id.client)||0)&&!n.deleted)&&Xt(e.changed,t,Zr).add(r)},nu=(e,t)=>{let r=e[t],n=e[t-1],s=t;for(;s>0;r=n,n=e[--s-1]){if(n.deleted===r.deleted&&n.constructor===r.constructor&&n.mergeWith(r)){r instanceof Be&&r.parentSub!==null&&r.parent._map.get(r.parentSub)===r&&r.parent._map.set(r.parentSub,n);continue}break}let i=t-s;return i&&e.splice(t+1-i,i),i},JD=(e,t,r)=>{for(let[n,s]of e.clients.entries()){let i=t.clients.get(n);for(let a=s.length-1;a>=0;a--){let o=s[a],l=o.clock+o.len;for(let c=es(i,o.clock),u=i[c];c<i.length&&u.id.clock<l;u=i[++c]){let d=i[c];if(o.clock+o.len<=d.id.clock)break;d instanceof Be&&d.deleted&&!d.keep&&r(d)&&d.gc(t,!1)}}}},KD=(e,t)=>{e.clients.forEach((r,n)=>{let s=t.clients.get(n);for(let i=r.length-1;i>=0;i--){let a=r[i],o=_i(s.length-1,1+es(s,a.clock+a.len-1));for(let l=o,c=s[l];l>0&&c.id.clock>=a.clock;c=s[l])l-=1+nu(s,l)}})};var C0=(e,t)=>{if(t<e.length){let r=e[t],n=r.doc,s=n.store,i=r.deleteSet,a=r._mergeStructs;try{Cp(i),r.afterState=yu(r.doc.store),n.emit("beforeObserverCalls",[r,n]);let o=[];r.changed.forEach((l,c)=>o.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(r,l)})),o.push(()=>{r.changedParentTypes.forEach((l,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(l=l.filter(u=>u.target._item===null||!u.target._item.deleted),l.forEach(u=>{u.currentTarget=c,u._path=null}),l.sort((u,d)=>u.path.length-d.path.length),S0(c._dEH,l,r))})}),o.push(()=>n.emit("afterTransaction",[r,n])),Ja(o,[]),r._needFormattingCleanup&&uA(r)}finally{n.gc&&JD(i,s,n.gcFilter),KD(i,s),r.afterState.forEach((u,d)=>{let h=r.beforeState.get(d)||0;if(h!==u){let f=s.clients.get(d),p=ms(es(f,h),1);for(let g=f.length-1;g>=p;)g-=1+nu(f,g)}});for(let u=a.length-1;u>=0;u--){let{client:d,clock:h}=a[u].id,f=s.clients.get(d),p=es(f,h);p+1<f.length&&nu(f,p+1)>1||p>0&&nu(f,p)}if(!r.local&&r.afterState.get(n.clientID)!==r.beforeState.get(n.clientID)&&(Zk(Ya,Wa,"[yjs] ",Ga,Za,"Changed the client-id because another client seems to be using it."),n.clientID=g0()),n.emit("afterTransactionCleanup",[r,n]),n._observers.has("update")){let u=new jn;a0(u,r)&&n.emit("update",[u.toUint8Array(),r.origin,n,r])}if(n._observers.has("updateV2")){let u=new vs;a0(u,r)&&n.emit("updateV2",[u.toUint8Array(),r.origin,n,r])}let{subdocsAdded:o,subdocsLoaded:l,subdocsRemoved:c}=r;(o.size>0||c.size>0||l.size>0)&&(o.forEach(u=>{u.clientID=n.clientID,u.collectionid==null&&(u.collectionid=n.collectionid),n.subdocs.add(u)}),c.forEach(u=>n.subdocs.delete(u)),n.emit("subdocs",[{loaded:l,added:o,removed:c},n,r]),c.forEach(u=>u.destroy())),e.length<=t+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,e])):C0(e,t+1)}}},je=(e,t,r=null,n=!0)=>{let s=e._transactionCleanups,i=!1,a=null;e._transaction===null&&(i=!0,e._transaction=new mp(e,r,n),s.push(e._transaction),s.length===1&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{a=t(e._transaction)}finally{if(i){let o=e._transaction===s[0];e._transaction=null,o&&C0(s,0)}}return a},gp=class{constructor(t,r){this.insertions=r,this.deletions=t,this.meta=new Map}},l0=(e,t,r)=>{Ti(e,r.deletions,n=>{n instanceof Be&&t.scope.some(s=>s===e.doc||uu(s,n))&&Dp(n,!1)})},c0=(e,t,r)=>{let n=null,s=e.doc,i=e.scope;je(s,o=>{for(;t.length>0&&e.currStackItem===null;){let l=s.store,c=t.pop(),u=new Set,d=[],h=!1;Ti(o,c.insertions,f=>{if(f instanceof Be){if(f.redone!==null){let{item:p,diff:g}=MA(l,f.id);g>0&&(p=Ft(o,ye(p.id.client,p.id.clock+g))),f=p}!f.deleted&&i.some(p=>p===o.doc||uu(p,f))&&d.push(f)}}),Ti(o,c.deletions,f=>{f instanceof Be&&i.some(p=>p===o.doc||uu(p,f))&&!uo(c.insertions,f.id)&&u.add(f)}),u.forEach(f=>{h=B0(o,f,u,c.insertions,e.ignoreRemoteMapChanges,e)!==null||h});for(let f=d.length-1;f>=0;f--){let p=d[f];e.deleteFilter(p)&&(p.delete(o),h=!0)}e.currStackItem=h?c:null}o.changed.forEach((l,c)=>{l.has(null)&&c._searchMarker&&(c._searchMarker.length=0)}),n=o},e);let a=e.currStackItem;if(a!=null){let o=n.changedParentTypes;e.emit("stack-item-popped",[{stackItem:a,type:r,changedParentTypes:o,origin:e},e]),e.currStackItem=null}return a},Dn=class extends Tn{constructor(t,{captureTimeout:r=500,captureTransaction:n=l=>!0,deleteFilter:s=()=>!0,trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:a=!1,doc:o=za(t)?t[0].doc:t instanceof Ht?t:t.doc}={}){super(),this.scope=[],this.doc=o,this.addToScope(t),this.deleteFilter=s,i.add(this),this.trackedOrigins=i,this.captureTransaction=n,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=a,this.captureTimeout=r,this.afterTransactionHandler=l=>{if(!this.captureTransaction(l)||!this.scope.some(y=>l.changedParentTypes.has(y)||y===this.doc)||!this.trackedOrigins.has(l.origin)&&(!l.origin||!this.trackedOrigins.has(l.origin.constructor)))return;let c=this.undoing,u=this.redoing,d=c?this.redoStack:this.undoStack;c?this.stopCapturing():u||this.clear(!1,!0);let h=new zs;l.afterState.forEach((y,v)=>{let C=l.beforeState.get(v)||0,x=y-C;x>0&&eo(h,v,C,x)});let f=Qt(),p=!1;if(this.lastChange>0&&f-this.lastChange<this.captureTimeout&&d.length>0&&!c&&!u){let y=d[d.length-1];y.deletions=cp([y.deletions,l.deleteSet]),y.insertions=cp([y.insertions,h])}else d.push(new gp(l.deleteSet,h)),p=!0;!c&&!u&&(this.lastChange=f),Ti(l,l.deleteSet,y=>{y instanceof Be&&this.scope.some(v=>v===l.doc||uu(v,y))&&Dp(y,!0)});let g=[{stackItem:d[d.length-1],origin:l.origin,type:c?"redo":"undo",changedParentTypes:l.changedParentTypes},this];p?this.emit("stack-item-added",g):this.emit("stack-item-updated",g)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(t){let r=new Set(this.scope);t=za(t)?t:[t],t.forEach(n=>{r.has(n)||(r.add(n),(n instanceof it?n.doc!==this.doc:n!==this.doc)&&op("[yjs#509] Not same Y.Doc"),this.scope.push(n))})}addTrackedOrigin(t){this.trackedOrigins.add(t)}removeTrackedOrigin(t){this.trackedOrigins.delete(t)}clear(t=!0,r=!0){(t&&this.canUndo()||r&&this.canRedo())&&this.doc.transact(n=>{t&&(this.undoStack.forEach(s=>l0(n,this,s)),this.undoStack=[]),r&&(this.redoStack.forEach(s=>l0(n,this,s)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:t,redoStackCleared:r}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let t;try{t=c0(this,this.undoStack,"undo")}finally{this.undoing=!1}return t}redo(){this.redoing=!0;let t;try{t=c0(this,this.redoStack,"redo")}finally{this.redoing=!1}return t}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}};function*WD(e){let t=ce(e.restDecoder);for(let r=0;r<t;r++){let n=ce(e.restDecoder),s=e.readClient(),i=ce(e.restDecoder);for(let a=0;a<n;a++){let o=e.readInfo();if(o===10){let l=ce(e.restDecoder);yield new Bt(ye(s,i),l),i+=l}else if((31&o)!==0){let l=(o&192)===0,c=new Be(ye(s,i),null,(o&128)===128?e.readLeftID():null,null,(o&64)===64?e.readRightID():null,l?e.readParentInfo()?e.readString():e.readLeftID():null,l&&(o&32)===32?e.readString():null,H0(e,o));yield c,i+=c.length}else{let l=e.readLen();yield new Vt(ye(s,i),l),i+=l}}}}var to=class{constructor(t,r){this.gen=WD(t),this.curr=null,this.done=!1,this.filterSkips=r,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Bt);return this.curr}};var ro=class{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}},GD=e=>hu(e,ou,jn);var ZD=(e,t)=>{if(e.constructor===Vt){let{client:r,clock:n}=e.id;return new Vt(ye(r,n+t),e.length-t)}else if(e.constructor===Bt){let{client:r,clock:n}=e.id;return new Bt(ye(r,n+t),e.length-t)}else{let r=e,{client:n,clock:s}=r.id;return new Be(ye(n,s+t),null,ye(n,s+t-1),null,r.rightOrigin,r.parent,r.parentSub,r.content.splice(t))}},hu=(e,t=Fs,r=vs)=>{if(e.length===1)return e[0];let n=e.map(u=>new t(Cr(u))),s=n.map(u=>new to(u,!0)),i=null,a=new r,o=new ro(a);for(;s=s.filter(h=>h.curr!==null),s.sort((h,f)=>{if(h.curr.id.client===f.curr.id.client){let p=h.curr.id.clock-f.curr.id.clock;return p===0?h.curr.constructor===f.curr.constructor?0:h.curr.constructor===Bt?1:-1:p}else return f.curr.id.client-h.curr.id.client}),s.length!==0;){let u=s[0],d=u.curr.id.client;if(i!==null){let h=u.curr,f=!1;for(;h!==null&&h.id.clock+h.length<=i.struct.id.clock+i.struct.length&&h.id.client>=i.struct.id.client;)h=u.next(),f=!0;if(h===null||h.id.client!==d||f&&h.id.clock>i.struct.id.clock+i.struct.length)continue;if(d!==i.struct.id.client)$s(o,i.struct,i.offset),i={struct:h,offset:0},u.next();else if(i.struct.id.clock+i.struct.length<h.id.clock)if(i.struct.constructor===Bt)i.struct.length=h.id.clock+h.length-i.struct.id.clock;else{$s(o,i.struct,i.offset);let p=h.id.clock-i.struct.id.clock-i.struct.length;i={struct:new Bt(ye(d,i.struct.id.clock+i.struct.length),p),offset:0}}else{let p=i.struct.id.clock+i.struct.length-h.id.clock;p>0&&(i.struct.constructor===Bt?i.struct.length-=p:h=ZD(h,p)),i.struct.mergeWith(h)||($s(o,i.struct,i.offset),i={struct:h,offset:0},u.next())}}else i={struct:u.curr,offset:0},u.next();for(let h=u.curr;h!==null&&h.id.client===d&&h.id.clock===i.struct.id.clock+i.struct.length&&h.constructor!==Bt;h=u.next())$s(o,i.struct,i.offset),i={struct:h,offset:0}}i!==null&&($s(o,i.struct,i.offset),i=null),Ip(o);let l=n.map(u=>Pp(u)),c=cp(l);return Ui(a,c),a.toUint8Array()},YD=(e,t,r=Fs,n=vs)=>{let s=b0(t),i=new n,a=new ro(i),o=new r(Cr(e)),l=new to(o,!1);for(;l.curr;){let u=l.curr,d=u.id.client,h=s.get(d)||0;if(l.curr.constructor===Bt){l.next();continue}if(u.id.clock+u.length>h)for($s(a,u,ms(h-u.id.clock,0)),l.next();l.curr&&l.curr.id.client===d;)$s(a,l.curr,0),l.next();else for(;l.curr&&l.curr.id.client===d&&l.curr.id.clock+l.curr.length<=h;)l.next()}Ip(a);let c=Pp(o);return Ui(i,c),i.toUint8Array()};var P0=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:Ne(e.encoder.restEncoder)}),e.encoder.restEncoder=ot(),e.written=0)},$s=(e,t,r)=>{e.written>0&&e.currClient!==t.id.client&&P0(e),e.written===0&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),ie(e.encoder.restEncoder,t.id.clock+r)),t.write(e.encoder,r),e.written++},Ip=e=>{P0(e);let t=e.encoder.restEncoder;ie(t,e.clientStructs.length);for(let r=0;r<e.clientStructs.length;r++){let n=e.clientStructs[r];ie(t,n.written),Va(t,n.restEncoder)}},QD=(e,t,r,n)=>{let s=new r(Cr(e)),i=new to(s,!1),a=new n,o=new ro(a);for(let c=i.curr;c!==null;c=i.next())$s(o,t(c),0);Ip(o);let l=Pp(s);return Ui(a,l),a.toUint8Array()};var XD=e=>QD(e,jk,Fs,jn),u0="You must not compute changes after the event-handler fired.",ji=class{constructor(t,r){this.target=t,this.currentTarget=t,this.transaction=r,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=eA(this.currentTarget,this.target))}deletes(t){return uo(this.transaction.deleteSet,t.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Yr(u0);let t=new Map,r=this.target;this.transaction.changed.get(r).forEach(s=>{if(s!==null){let i=r._map.get(s),a,o;if(this.adds(i)){let l=i.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(i))if(l!==null&&this.deletes(l))a="delete",o=$c(l.content.getContent());else return;else l!==null&&this.deletes(l)?(a="update",o=$c(l.content.getContent())):(a="add",o=void 0)}else if(this.deletes(i))a="delete",o=$c(i.content.getContent());else return;t.set(s,{action:a,oldValue:o})}}),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(t===null){if(this.transaction.doc._transactionCleanups.length===0)throw Yr(u0);let r=this.target,n=Zr(),s=Zr(),i=[];if(t={added:n,deleted:s,delta:i,keys:this.keys},this.transaction.changed.get(r).has(null)){let o=null,l=()=>{o&&i.push(o)};for(let c=r._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((o===null||o.delete===void 0)&&(l(),o={delete:0}),o.delete+=c.length,s.add(c)):this.adds(c)?((o===null||o.insert===void 0)&&(l(),o={insert:[]}),o.insert=o.insert.concat(c.content.getContent()),n.add(c)):((o===null||o.retain===void 0)&&(l(),o={retain:0}),o.retain+=c.length);o!==null&&o.retain===void 0&&l()}this._changes=t}return t}},eA=(e,t)=>{let r=[];for(;t._item!==null&&t!==e;){if(t._item.parentSub!==null)r.unshift(t._item.parentSub);else{let n=0,s=t._item.parent._start;for(;s!==t._item&&s!==null;)!s.deleted&&s.countable&&(n+=s.length),s=s.right;r.unshift(n)}t=t._item.parent}return r},Et=()=>{op("Invalid access: Add Yjs type to a document before reading data.")},R0=80,Op=0,yp=class{constructor(t,r){t.marker=!0,this.p=t,this.index=r,this.timestamp=Op++}},tA=e=>{e.timestamp=Op++},I0=(e,t,r)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=r,e.timestamp=Op++},rA=(e,t,r)=>{if(e.length>=R0){let n=e.reduce((s,i)=>s.timestamp<i.timestamp?s:i);return I0(n,t,r),n}else{let n=new yp(t,r);return e.push(n),n}},vu=(e,t)=>{if(e._start===null||t===0||e._searchMarker===null)return null;let r=e._searchMarker.length===0?null:e._searchMarker.reduce((i,a)=>vi(t-i.index)<vi(t-a.index)?i:a),n=e._start,s=0;for(r!==null&&(n=r.p,s=r.index,tA(r));n.right!==null&&s<t;){if(!n.deleted&&n.countable){if(t<s+n.length)break;s+=n.length}n=n.right}for(;n.left!==null&&s>t;)n=n.left,!n.deleted&&n.countable&&(s-=n.length);for(;n.left!==null&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)n=n.left,!n.deleted&&n.countable&&(s-=n.length);return r!==null&&vi(r.index-s)<n.parent.length/R0?(I0(r,n,s),r):rA(e._searchMarker,n,s)},so=(e,t,r)=>{for(let n=e.length-1;n>=0;n--){let s=e[n];if(r>0){let i=s.p;for(i.marker=!1;i&&(i.deleted||!i.countable);)i=i.left,i&&!i.deleted&&i.countable&&(s.index-=i.length);if(i===null||i.marker===!0){e.splice(n,1);continue}s.p=i,i.marker=!0}(t<s.index||r>0&&t===s.index)&&(s.index=ms(t,s.index+r))}};var _u=(e,t,r)=>{let n=e,s=t.changedParentTypes;for(;Xt(s,e,()=>[]).push(r),e._item!==null;)e=e._item.parent;S0(n._eH,r,t)},it=class{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=r0(),this._dEH=r0(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,r){this.doc=t,this._item=r}_copy(){throw Sr()}clone(){throw Sr()}_write(t){}get _first(){let t=this._start;for(;t!==null&&t.deleted;)t=t.right;return t}_callObserver(t,r){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){s0(this._eH,t)}observeDeep(t){s0(this._dEH,t)}unobserve(t){n0(this._eH,t)}unobserveDeep(t){n0(this._dEH,t)}toJSON(){}},O0=(e,t,r)=>{e.doc??Et(),t<0&&(t=e._length+t),r<0&&(r=e._length+r);let n=r-t,s=[],i=e._start;for(;i!==null&&n>0;){if(i.countable&&!i.deleted){let a=i.content.getContent();if(a.length<=t)t-=a.length;else{for(let o=t;o<a.length&&n>0;o++)s.push(a[o]),n--;t=0}}i=i.right}return s},T0=e=>{e.doc??Et();let t=[],r=e._start;for(;r!==null;){if(r.countable&&!r.deleted){let n=r.content.getContent();for(let s=0;s<n.length;s++)t.push(n[s])}r=r.right}return t};var no=(e,t)=>{let r=0,n=e._start;for(e.doc??Et();n!==null;){if(n.countable&&!n.deleted){let s=n.content.getContent();for(let i=0;i<s.length;i++)t(s[i],r++,e)}n=n.right}},j0=(e,t)=>{let r=[];return no(e,(n,s)=>{r.push(t(n,s,e))}),r},sA=e=>{let t=e._start,r=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(r===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};r=t.content.getContent(),n=0,t=t.right}let s=r[n++];return r.length<=n&&(r=null),{done:!1,value:s}}}},D0=(e,t)=>{e.doc??Et();let r=vu(e,t),n=e._start;for(r!==null&&(n=r.p,t-=r.index);n!==null;n=n.right)if(!n.deleted&&n.countable){if(t<n.length)return n.content.getContent()[t];t-=n.length}},fu=(e,t,r,n)=>{let s=r,i=e.doc,a=i.clientID,o=i.store,l=r===null?t._start:r.right,c=[],u=()=>{c.length>0&&(s=new Be(ye(a,ct(o,a)),s,s&&s.lastId,l,l&&l.id,t,null,new Mi(c)),s.integrate(e,0),c=[])};n.forEach(d=>{if(d===null)c.push(d);else switch(d.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(d);break;default:switch(u(),d.constructor){case Uint8Array:case ArrayBuffer:s=new Be(ye(a,ct(o,a)),s,s&&s.lastId,l,l&&l.id,t,null,new lo(new Uint8Array(d))),s.integrate(e,0);break;case Ht:s=new Be(ye(a,ct(o,a)),s,s&&s.lastId,l,l&&l.id,t,null,new co(d)),s.integrate(e,0);break;default:if(d instanceof it)s=new Be(ye(a,ct(o,a)),s,s&&s.lastId,l,l&&l.id,t,null,new bs(d)),s.integrate(e,0);else throw new Error("Unexpected content type in insert operation")}}}),u()},A0=()=>Yr("Length exceeded!"),M0=(e,t,r,n)=>{if(r>t._length)throw A0();if(r===0)return t._searchMarker&&so(t._searchMarker,r,n.length),fu(e,t,null,n);let s=r,i=vu(t,r),a=t._start;for(i!==null&&(a=i.p,r-=i.index,r===0&&(a=a.prev,r+=a&&a.countable&&!a.deleted?a.length:0));a!==null;a=a.right)if(!a.deleted&&a.countable){if(r<=a.length){r<a.length&&Ft(e,ye(a.id.client,a.id.clock+r));break}r-=a.length}return t._searchMarker&&so(t._searchMarker,s,n.length),fu(e,t,a,n)},nA=(e,t,r)=>{let s=(t._searchMarker||[]).reduce((i,a)=>a.index>i.index?a:i,{index:0,p:t._start}).p;if(s)for(;s.right;)s=s.right;return fu(e,t,s,r)},U0=(e,t,r,n)=>{if(n===0)return;let s=r,i=n,a=vu(t,r),o=t._start;for(a!==null&&(o=a.p,r-=a.index);o!==null&&r>0;o=o.right)!o.deleted&&o.countable&&(r<o.length&&Ft(e,ye(o.id.client,o.id.clock+r)),r-=o.length);for(;n>0&&o!==null;)o.deleted||(n<o.length&&Ft(e,ye(o.id.client,o.id.clock+n)),o.delete(e),n-=o.length),o=o.right;if(n>0)throw A0();t._searchMarker&&so(t._searchMarker,s,-i+n)},pu=(e,t,r)=>{let n=t._map.get(r);n!==void 0&&n.delete(e)},Tp=(e,t,r,n)=>{let s=t._map.get(r)||null,i=e.doc,a=i.clientID,o;if(n==null)o=new Mi([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:o=new Mi([n]);break;case Uint8Array:o=new lo(n);break;case Ht:o=new co(n);break;default:if(n instanceof it)o=new bs(n);else throw new Error("Unexpected content type")}new Be(ye(a,ct(i.store,a)),s,s&&s.lastId,null,null,t,r,o).integrate(e,0)},jp=(e,t)=>{e.doc??Et();let r=e._map.get(t);return r!==void 0&&!r.deleted?r.content.getContent()[r.length-1]:void 0},N0=e=>{let t={};return e.doc??Et(),e._map.forEach((r,n)=>{r.deleted||(t[n]=r.content.getContent()[r.length-1])}),t},$0=(e,t)=>{e.doc??Et();let r=e._map.get(t);return r!==void 0&&!r.deleted};var iA=(e,t)=>{let r={};return e._map.forEach((n,s)=>{let i=n;for(;i!==null&&(!t.sv.has(i.id.client)||i.id.clock>=(t.sv.get(i.id.client)||0));)i=i.left;i!==null&&Oi(i,t)&&(r[s]=i.content.getContent()[i.length-1])}),r},tu=e=>(e.doc??Et(),Qk(e._map.entries(),t=>!t[1].deleted)),vp=class extends ji{},Di=class e extends it{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){let r=new e;return r.push(t),r}_integrate(t,r){super._integrate(t,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new e}clone(){let t=new e;return t.insert(0,this.toArray().map(r=>r instanceof it?r.clone():r)),t}get length(){return this.doc??Et(),this._length}_callObserver(t,r){super._callObserver(t,r),_u(this,t,new vp(this,t))}insert(t,r){this.doc!==null?je(this.doc,n=>{M0(n,this,t,r)}):this._prelimContent.splice(t,0,...r)}push(t){this.doc!==null?je(this.doc,r=>{nA(r,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,r=1){this.doc!==null?je(this.doc,n=>{U0(n,this,t,r)}):this._prelimContent.splice(t,r)}get(t){return D0(this,t)}toArray(){return T0(this)}slice(t=0,r=this.length){return O0(this,t,r)}toJSON(){return this.map(t=>t instanceof it?t.toJSON():t)}map(t){return j0(this,t)}forEach(t){no(this,t)}[Symbol.iterator](){return sA(this)}_write(t){t.writeTypeRef(PA)}},aA=e=>new Di,_p=class extends ji{constructor(t,r,n){super(t,r),this.keysChanged=n}},Pr=class e extends it{constructor(t){super(),this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,r){super._integrate(t,r),this._prelimContent.forEach((n,s)=>{this.set(s,n)}),this._prelimContent=null}_copy(){return new e}clone(){let t=new e;return this.forEach((r,n)=>{t.set(n,r instanceof it?r.clone():r)}),t}_callObserver(t,r){_u(this,t,new _p(this,t,r))}toJSON(){this.doc??Et();let t={};return this._map.forEach((r,n)=>{if(!r.deleted){let s=r.content.getContent()[r.length-1];t[n]=s instanceof it?s.toJSON():s}}),t}get size(){return[...tu(this)].length}keys(){return Xc(tu(this),t=>t[0])}values(){return Xc(tu(this),t=>t[1].content.getContent()[t[1].length-1])}entries(){return Xc(tu(this),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){this.doc??Et(),this._map.forEach((r,n)=>{r.deleted||t(r.content.getContent()[r.length-1],n,this)})}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?je(this.doc,r=>{pu(r,this,t)}):this._prelimContent.delete(t)}set(t,r){return this.doc!==null?je(this.doc,n=>{Tp(n,this,t,r)}):this._prelimContent.set(t,r),r}get(t){return jp(this,t)}has(t){return $0(this,t)}clear(){this.doc!==null?je(this.doc,t=>{this.forEach(function(r,n,s){pu(t,s,n)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(RA)}},oA=e=>new Pr,Ls=(e,t)=>e===t||typeof e=="object"&&typeof t=="object"&&e&&t&&Vf(e,t),io=class{constructor(t,r,n,s){this.left=t,this.right=r,this.index=n,this.currentAttributes=s}forward(){switch(this.right===null&&xr(),this.right.content.constructor){case ut:this.right.deleted||Ni(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}},d0=(e,t,r)=>{for(;t.right!==null&&r>0;){switch(t.right.content.constructor){case ut:t.right.deleted||Ni(t.currentAttributes,t.right.content);break;default:t.right.deleted||(r<t.right.length&&Ft(e,ye(t.right.id.client,t.right.id.clock+r)),t.index+=t.right.length,r-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},ru=(e,t,r,n)=>{let s=new Map,i=n?vu(t,r):null;if(i){let a=new io(i.p.left,i.p,i.index,s);return d0(e,a,r-i.index)}else{let a=new io(null,t._start,0,s);return d0(e,a,r)}},L0=(e,t,r,n)=>{for(;r.right!==null&&(r.right.deleted===!0||r.right.content.constructor===ut&&Ls(n.get(r.right.content.key),r.right.content.value));)r.right.deleted||n.delete(r.right.content.key),r.forward();let s=e.doc,i=s.clientID;n.forEach((a,o)=>{let l=r.left,c=r.right,u=new Be(ye(i,ct(s.store,i)),l,l&&l.lastId,c,c&&c.id,t,null,new ut(o,a));u.integrate(e,0),r.right=u,r.forward()})},Ni=(e,t)=>{let{key:r,value:n}=t;n===null?e.delete(r):e.set(r,n)},q0=(e,t)=>{for(;e.right!==null;){if(!(e.right.deleted||e.right.content.constructor===ut&&Ls(t[e.right.content.key]??null,e.right.content.value)))break;e.forward()}},z0=(e,t,r,n)=>{let s=e.doc,i=s.clientID,a=new Map;for(let o in n){let l=n[o],c=r.currentAttributes.get(o)??null;if(!Ls(c,l)){a.set(o,c);let{left:u,right:d}=r;r.right=new Be(ye(i,ct(s.store,i)),u,u&&u.lastId,d,d&&d.id,t,null,new ut(o,l)),r.right.integrate(e,0),r.forward()}}return a},lp=(e,t,r,n,s)=>{r.currentAttributes.forEach((h,f)=>{s[f]===void 0&&(s[f]=null)});let i=e.doc,a=i.clientID;q0(r,s);let o=z0(e,t,r,s),l=n.constructor===String?new _s(n):n instanceof it?new bs(n):new An(n),{left:c,right:u,index:d}=r;t._searchMarker&&so(t._searchMarker,r.index,l.getLength()),u=new Be(ye(a,ct(i.store,a)),c,c&&c.lastId,u,u&&u.id,t,null,l),u.integrate(e,0),r.right=u,r.index=d,r.forward(),L0(e,t,r,o)},h0=(e,t,r,n,s)=>{let i=e.doc,a=i.clientID;q0(r,s);let o=z0(e,t,r,s);e:for(;r.right!==null&&(n>0||o.size>0&&(r.right.deleted||r.right.content.constructor===ut));){if(!r.right.deleted)switch(r.right.content.constructor){case ut:{let{key:l,value:c}=r.right.content,u=s[l];if(u!==void 0){if(Ls(u,c))o.delete(l);else{if(n===0)break e;o.set(l,c)}r.right.delete(e)}else r.currentAttributes.set(l,c);break}default:n<r.right.length&&Ft(e,ye(r.right.id.client,r.right.id.clock+n)),n-=r.right.length;break}r.forward()}if(n>0){let l="";for(;n>0;n--)l+=`
`;r.right=new Be(ye(a,ct(i.store,a)),r.left,r.left&&r.left.lastId,r.right,r.right&&r.right.id,t,null,new _s(l)),r.right.integrate(e,0),r.forward()}L0(e,t,r,o)},F0=(e,t,r,n,s)=>{let i=t,a=xt();for(;i&&(!i.countable||i.deleted);){if(!i.deleted&&i.content.constructor===ut){let c=i.content;a.set(c.key,c)}i=i.right}let o=0,l=!1;for(;t!==i;){if(r===t&&(l=!0),!t.deleted){let c=t.content;switch(c.constructor){case ut:{let{key:u,value:d}=c,h=n.get(u)??null;(a.get(u)!==c||h===d)&&(t.delete(e),o++,!l&&(s.get(u)??null)===d&&h!==d&&(h===null?s.delete(u):s.set(u,h))),!l&&!t.deleted&&Ni(s,c);break}}}t=t.right}return o},lA=(e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;let r=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===ut){let n=t.content.key;r.has(n)?t.delete(e):r.add(n)}t=t.left}},cA=e=>{let t=0;return je(e.doc,r=>{let n=e._start,s=e._start,i=xt(),a=Wc(i);for(;s;){if(s.deleted===!1)switch(s.content.constructor){case ut:Ni(a,s.content);break;default:t+=F0(r,n,s,i,a),i=Wc(a),n=s;break}s=s.right}}),t},uA=e=>{let t=new Set,r=e.doc;for(let[n,s]of e.afterState.entries()){let i=e.beforeState.get(n)||0;s!==i&&E0(e,r.store.clients.get(n),i,s,a=>{!a.deleted&&a.content.constructor===ut&&a.constructor!==Vt&&t.add(a.parent)})}je(r,n=>{Ti(e,e.deleteSet,s=>{if(s instanceof Vt||!s.parent._hasFormatting||t.has(s.parent))return;let i=s.parent;s.content.constructor===ut?t.add(i):lA(n,s)});for(let s of t)cA(s)})},f0=(e,t,r)=>{let n=r,s=Wc(t.currentAttributes),i=t.right;for(;r>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case bs:case An:case _s:r<t.right.length&&Ft(e,ye(t.right.id.client,t.right.id.clock+r)),r-=t.right.length,t.right.delete(e);break}t.forward()}i&&F0(e,i,t.right,s,t.currentAttributes);let a=(t.left||t.right).parent;return a._searchMarker&&so(a._searchMarker,t.index,-n+r),t},bp=class extends ji{constructor(t,r,n){super(t,r),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(s=>{s===null?this.childListChanged=!0:this.keysChanged.add(s)})}get changes(){if(this._changes===null){let t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(this._delta===null){let t=this.target.doc,r=[];je(t,n=>{let s=new Map,i=new Map,a=this.target._start,o=null,l={},c="",u=0,d=0,h=()=>{if(o!==null){let f=null;switch(o){case"delete":d>0&&(f={delete:d}),d=0;break;case"insert":(typeof c=="object"||c.length>0)&&(f={insert:c},s.size>0&&(f.attributes={},s.forEach((p,g)=>{p!==null&&(f.attributes[g]=p)}))),c="";break;case"retain":u>0&&(f={retain:u},Tk(l)||(f.attributes=Pk({},l))),u=0;break}f&&r.push(f),o=null}};for(;a!==null;){switch(a.content.constructor){case bs:case An:this.adds(a)?this.deletes(a)||(h(),o="insert",c=a.content.getContent()[0],h()):this.deletes(a)?(o!=="delete"&&(h(),o="delete"),d+=1):a.deleted||(o!=="retain"&&(h(),o="retain"),u+=1);break;case _s:this.adds(a)?this.deletes(a)||(o!=="insert"&&(h(),o="insert"),c+=a.content.str):this.deletes(a)?(o!=="delete"&&(h(),o="delete"),d+=a.length):a.deleted||(o!=="retain"&&(h(),o="retain"),u+=a.length);break;case ut:{let{key:f,value:p}=a.content;if(this.adds(a)){if(!this.deletes(a)){let g=s.get(f)??null;Ls(g,p)?p!==null&&a.delete(n):(o==="retain"&&h(),Ls(p,i.get(f)??null)?delete l[f]:l[f]=p)}}else if(this.deletes(a)){i.set(f,p);let g=s.get(f)??null;Ls(g,p)||(o==="retain"&&h(),l[f]=g)}else if(!a.deleted){i.set(f,p);let g=l[f];g!==void 0&&(Ls(g,p)?g!==null&&a.delete(n):(o==="retain"&&h(),p===null?delete l[f]:l[f]=p))}a.deleted||(o==="insert"&&h(),Ni(s,a.content));break}}a=a.right}for(h();r.length>0;){let f=r[r.length-1];if(f.retain!==void 0&&f.attributes===void 0)r.pop();else break}}),this._delta=r}return this._delta}},Vs=class e extends it{constructor(t){super(),this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Et(),this._length}_integrate(t,r){super._integrate(t,r);try{this._pending.forEach(n=>n())}catch(n){console.error(n)}this._pending=null}_copy(){return new e}clone(){let t=new e;return t.applyDelta(this.toDelta()),t}_callObserver(t,r){super._callObserver(t,r);let n=new bp(this,t,r);_u(this,t,n),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){this.doc??Et();let t="",r=this._start;for(;r!==null;)!r.deleted&&r.countable&&r.content.constructor===_s&&(t+=r.content.str),r=r.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:r=!0}={}){this.doc!==null?je(this.doc,n=>{let s=new io(null,this._start,0,new Map);for(let i=0;i<t.length;i++){let a=t[i];if(a.insert!==void 0){let o=!r&&typeof a.insert=="string"&&i===t.length-1&&s.right===null&&a.insert.slice(-1)===`
`?a.insert.slice(0,-1):a.insert;(typeof o!="string"||o.length>0)&&lp(n,this,s,o,a.attributes||{})}else a.retain!==void 0?h0(n,this,s,a.retain,a.attributes||{}):a.delete!==void 0&&f0(n,s,a.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,r,n){this.doc??Et();let s=[],i=new Map,a=this.doc,o="",l=this._start;function c(){if(o.length>0){let d={},h=!1;i.forEach((p,g)=>{h=!0,d[g]=p});let f={insert:o};h&&(f.attributes=d),s.push(f),o=""}}let u=()=>{for(;l!==null;){if(Oi(l,t)||r!==void 0&&Oi(l,r))switch(l.content.constructor){case _s:{let d=i.get("ychange");t!==void 0&&!Oi(l,t)?(d===void 0||d.user!==l.id.client||d.type!=="removed")&&(c(),i.set("ychange",n?n("removed",l.id):{type:"removed"})):r!==void 0&&!Oi(l,r)?(d===void 0||d.user!==l.id.client||d.type!=="added")&&(c(),i.set("ychange",n?n("added",l.id):{type:"added"})):d!==void 0&&(c(),i.delete("ychange")),o+=l.content.str;break}case bs:case An:{c();let d={insert:l.content.getContent()[0]};if(i.size>0){let h={};d.attributes=h,i.forEach((f,p)=>{h[p]=f})}s.push(d);break}case ut:Oi(l,t)&&(c(),Ni(i,l.content));break}l=l.right}c()};return t||r?je(a,d=>{t&&fp(d,t),r&&fp(d,r),u()},"cleanup"):u(),s}insert(t,r,n){if(r.length<=0)return;let s=this.doc;s!==null?je(s,i=>{let a=ru(i,this,t,!n);n||(n={},a.currentAttributes.forEach((o,l)=>{n[l]=o})),lp(i,this,a,r,n)}):this._pending.push(()=>this.insert(t,r,n))}insertEmbed(t,r,n){let s=this.doc;s!==null?je(s,i=>{let a=ru(i,this,t,!n);lp(i,this,a,r,n||{})}):this._pending.push(()=>this.insertEmbed(t,r,n||{}))}delete(t,r){if(r===0)return;let n=this.doc;n!==null?je(n,s=>{f0(s,ru(s,this,t,!0),r)}):this._pending.push(()=>this.delete(t,r))}format(t,r,n){if(r===0)return;let s=this.doc;s!==null?je(s,i=>{let a=ru(i,this,t,!1);a.right!==null&&h0(i,this,a,r,n)}):this._pending.push(()=>this.format(t,r,n))}removeAttribute(t){this.doc!==null?je(this.doc,r=>{pu(r,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,r){this.doc!==null?je(this.doc,n=>{Tp(n,this,t,r)}):this._pending.push(()=>this.setAttribute(t,r))}getAttribute(t){return jp(this,t)}getAttributes(){return N0(this)}_write(t){t.writeTypeRef(IA)}},dA=e=>new Vs,Qa=class{constructor(t,r=()=>!0){this._filter=r,this._root=t,this._currentNode=t._start,this._firstCall=!0,t.doc??Et()}[Symbol.iterator](){return this}next(){let t=this._currentNode,r=t&&t.content&&t.content.type;if(t!==null&&(!this._firstCall||t.deleted||!this._filter(r)))do if(r=t.content.type,!t.deleted&&(r.constructor===ao||r.constructor===Ai)&&r._start!==null)t=r._start;else for(;t!==null;){let n=t.next;if(n!==null){t=n;break}else t.parent===this._root?t=null:t=t.parent._item}while(t!==null&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,t===null?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}},Ai=class e extends it{constructor(){super(),this._prelimContent=[]}get firstChild(){let t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,r){super._integrate(t,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new e}clone(){let t=new e;return t.insert(0,this.toArray().map(r=>r instanceof it?r.clone():r)),t}get length(){return this.doc??Et(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new Qa(this,t)}querySelector(t){t=t.toUpperCase();let n=new Qa(this,s=>s.nodeName&&s.nodeName.toUpperCase()===t).next();return n.done?null:n.value}querySelectorAll(t){return t=t.toUpperCase(),kr(new Qa(this,r=>r.nodeName&&r.nodeName.toUpperCase()===t))}_callObserver(t,r){_u(this,t,new wp(this,r,t))}toString(){return j0(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,r={},n){let s=t.createDocumentFragment();return n!==void 0&&n._createAssociation(s,this),no(this,i=>{s.insertBefore(i.toDOM(t,r,n),null)}),s}insert(t,r){this.doc!==null?je(this.doc,n=>{M0(n,this,t,r)}):this._prelimContent.splice(t,0,...r)}insertAfter(t,r){if(this.doc!==null)je(this.doc,n=>{let s=t&&t instanceof it?t._item:t;fu(n,this,s,r)});else{let n=this._prelimContent,s=t===null?0:n.findIndex(i=>i===t)+1;if(s===0&&t!==null)throw Yr("Reference item not found");n.splice(s,0,...r)}}delete(t,r=1){this.doc!==null?je(this.doc,n=>{U0(n,this,t,r)}):this._prelimContent.splice(t,r)}toArray(){return T0(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return D0(this,t)}slice(t=0,r=this.length){return O0(this,t,r)}forEach(t){no(this,t)}_write(t){t.writeTypeRef(TA)}},hA=e=>new Ai,ao=class e extends Ai{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){let t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){let t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,r){super._integrate(t,r),this._prelimAttrs.forEach((n,s)=>{this.setAttribute(s,n)}),this._prelimAttrs=null}_copy(){return new e(this.nodeName)}clone(){let t=new e(this.nodeName),r=this.getAttributes();return Ik(r,(n,s)=>{typeof n=="string"&&t.setAttribute(s,n)}),t.insert(0,this.toArray().map(n=>n instanceof it?n.clone():n)),t}toString(){let t=this.getAttributes(),r=[],n=[];for(let o in t)n.push(o);n.sort();let s=n.length;for(let o=0;o<s;o++){let l=n[o];r.push(l+'="'+t[l]+'"')}let i=this.nodeName.toLocaleLowerCase(),a=r.length>0?" "+r.join(" "):"";return`<${i}${a}>${super.toString()}</${i}>`}removeAttribute(t){this.doc!==null?je(this.doc,r=>{pu(r,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,r){this.doc!==null?je(this.doc,n=>{Tp(n,this,t,r)}):this._prelimAttrs.set(t,r)}getAttribute(t){return jp(this,t)}hasAttribute(t){return $0(this,t)}getAttributes(t){return t?iA(this,t):N0(this)}toDOM(t=document,r={},n){let s=t.createElement(this.nodeName),i=this.getAttributes();for(let a in i){let o=i[a];typeof o=="string"&&s.setAttribute(a,o)}return no(this,a=>{s.appendChild(a.toDOM(t,r,n))}),n!==void 0&&n._createAssociation(s,this),s}_write(t){t.writeTypeRef(OA),t.writeKey(this.nodeName)}},fA=e=>new ao(e.readKey()),wp=class extends ji{constructor(t,r,n){super(t,n),this.childListChanged=!1,this.attributesChanged=new Set,r.forEach(s=>{s===null?this.childListChanged=!0:this.attributesChanged.add(s)})}},kp=class e extends Pr{constructor(t){super(),this.hookName=t}_copy(){return new e(this.hookName)}clone(){let t=new e(this.hookName);return this.forEach((r,n)=>{t.set(n,r)}),t}toDOM(t=document,r={},n){let s=r[this.hookName],i;return s!==void 0?i=s.createDom(this):i=document.createElement(this.hookName),i.setAttribute("data-yjs-hook",this.hookName),n!==void 0&&n._createAssociation(i,this),i}_write(t){t.writeTypeRef(jA),t.writeKey(this.hookName)}},pA=e=>new kp(e.readKey()),Sp=class e extends Vs{get nextSibling(){let t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){let t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new e}clone(){let t=new e;return t.applyDelta(this.toDelta()),t}toDOM(t=document,r,n){let s=t.createTextNode(this.toString());return n!==void 0&&n._createAssociation(s,this),s}toString(){return this.toDelta().map(t=>{let r=[];for(let s in t.attributes){let i=[];for(let a in t.attributes[s])i.push({key:a,value:t.attributes[s][a]});i.sort((a,o)=>a.key<o.key?-1:1),r.push({nodeName:s,attrs:i})}r.sort((s,i)=>s.nodeName<i.nodeName?-1:1);let n="";for(let s=0;s<r.length;s++){let i=r[s];n+=`<${i.nodeName}`;for(let a=0;a<i.attrs.length;a++){let o=i.attrs[a];n+=` ${o.key}="${o.value}"`}n+=">"}n+=t.insert;for(let s=r.length-1;s>=0;s--)n+=`</${r[s].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(DA)}},mA=e=>new Sp,oo=class{constructor(t,r){this.id=t,this.length=r}get deleted(){throw Sr()}mergeWith(t){return!1}write(t,r,n){throw Sr()}integrate(t,r){throw Sr()}},gA=0,Vt=class extends oo{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,r){r>0&&(this.id.clock+=r,this.length-=r),x0(t.doc.store,this)}write(t,r){t.writeInfo(gA),t.writeLen(this.length-r)}getMissing(t,r){return null}},lo=class e{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new e(this.content)}splice(t){throw Sr()}mergeWith(t){return!1}integrate(t,r){}delete(t){}gc(t){}write(t,r){t.writeBuf(this.content)}getRef(){return 3}},yA=e=>new lo(e.readBuf()),mu=class e{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new e(this.len)}splice(t){let r=new e(this.len-t);return this.len=t,r}mergeWith(t){return this.len+=t.len,!0}integrate(t,r){eo(t.deleteSet,r.id.client,r.id.clock,this.len),r.markDeleted()}delete(t){}gc(t){}write(t,r){t.writeLen(this.len-r)}getRef(){return 1}},vA=e=>new mu(e.readLen()),V0=(e,t)=>new Ht({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1}),co=class e{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;let r={};this.opts=r,t.gc||(r.gc=!1),t.autoLoad&&(r.autoLoad=!0),t.meta!==null&&(r.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new e(V0(this.doc.guid,this.opts))}splice(t){throw Sr()}mergeWith(t){return!1}integrate(t,r){this.doc._item=r,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,r){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}},_A=e=>new co(V0(e.readString(),e.readAny())),An=class e{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new e(this.embed)}splice(t){throw Sr()}mergeWith(t){return!1}integrate(t,r){}delete(t){}gc(t){}write(t,r){t.writeJSON(this.embed)}getRef(){return 5}},bA=e=>new An(e.readJSON()),ut=class e{constructor(t,r){this.key=t,this.value=r}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new e(this.key,this.value)}splice(t){throw Sr()}mergeWith(t){return!1}integrate(t,r){let n=r.parent;n._searchMarker=null,n._hasFormatting=!0}delete(t){}gc(t){}write(t,r){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}},wA=e=>new ut(e.readKey(),e.readJSON()),xp=class e{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new e(this.arr)}splice(t){let r=new e(this.arr.slice(t));return this.arr=this.arr.slice(0,t),r}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,r){}delete(t){}gc(t){}write(t,r){let n=this.arr.length;t.writeLen(n-r);for(let s=r;s<n;s++){let i=this.arr[s];t.writeString(i===void 0?"undefined":JSON.stringify(i))}}getRef(){return 2}},kA=e=>{let t=e.readLen(),r=[];for(let n=0;n<t;n++){let s=e.readString();s==="undefined"?r.push(void 0):r.push(JSON.parse(s))}return new xp(r)},SA=Ka("node_env")==="development",Mi=class e{constructor(t){this.arr=t,SA&&Bf(t)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new e(this.arr)}splice(t){let r=new e(this.arr.slice(t));return this.arr=this.arr.slice(0,t),r}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,r){}delete(t){}gc(t){}write(t,r){let n=this.arr.length;t.writeLen(n-r);for(let s=r;s<n;s++){let i=this.arr[s];t.writeAny(i)}}getRef(){return 8}},xA=e=>{let t=e.readLen(),r=[];for(let n=0;n<t;n++)r.push(e.readAny());return new Mi(r)},_s=class e{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new e(this.str)}splice(t){let r=new e(this.str.slice(t));this.str=this.str.slice(0,t);let n=this.str.charCodeAt(t-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,t-1)+"\uFFFD",r.str="\uFFFD"+r.str.slice(1)),r}mergeWith(t){return this.str+=t.str,!0}integrate(t,r){}delete(t){}gc(t){}write(t,r){t.writeString(r===0?this.str:this.str.slice(r))}getRef(){return 4}},EA=e=>new _s(e.readString()),CA=[aA,oA,dA,fA,hA,pA,mA],PA=0,RA=1,IA=2,OA=3,TA=4,jA=5,DA=6,bs=class e{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new e(this.type._copy())}splice(t){throw Sr()}mergeWith(t){return!1}integrate(t,r){this.type._integrate(t.doc,r)}delete(t){let r=this.type._start;for(;r!==null;)r.deleted?r.id.clock<(t.beforeState.get(r.id.client)||0)&&t._mergeStructs.push(r):r.delete(t),r=r.right;this.type._map.forEach(n=>{n.deleted?n.id.clock<(t.beforeState.get(n.id.client)||0)&&t._mergeStructs.push(n):n.delete(t)}),t.changed.delete(this.type)}gc(t){let r=this.type._start;for(;r!==null;)r.gc(t,!0),r=r.right;this.type._start=null,this.type._map.forEach(n=>{for(;n!==null;)n.gc(t,!0),n=n.left}),this.type._map=new Map}write(t,r){this.type._write(t)}getRef(){return 7}},AA=e=>new bs(CA[e.readTypeRef()](e)),MA=(e,t)=>{let r=t,n=0,s;do n>0&&(r=ye(r.client,r.clock+n)),s=su(e,r),n=r.clock-s.id.clock,r=s.redone;while(r!==null&&s instanceof Be);return{item:s,diff:n}},Dp=(e,t)=>{for(;e!==null&&e.keep!==t;)e.keep=t,e=e.parent._item},gu=(e,t,r)=>{let{client:n,clock:s}=t.id,i=new Be(ye(n,s+r),t,ye(n,s+r-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(r));return t.deleted&&i.markDeleted(),t.keep&&(i.keep=!0),t.redone!==null&&(i.redone=ye(t.redone.client,t.redone.clock+r)),t.right=i,i.right!==null&&(i.right.left=i),e._mergeStructs.push(i),i.parentSub!==null&&i.right===null&&i.parent._map.set(i.parentSub,i),t.length=r,i},p0=(e,t)=>mk(e,r=>uo(r.deletions,t)),B0=(e,t,r,n,s,i)=>{let a=e.doc,o=a.store,l=a.clientID,c=t.redone;if(c!==null)return Ft(e,c);let u=t.parent._item,d=null,h;if(u!==null&&u.deleted===!0){if(u.redone===null&&(!r.has(u)||B0(e,u,r,n,s,i)===null))return null;for(;u.redone!==null;)u=Ft(e,u.redone)}let f=u===null?t.parent:u.content.type;if(t.parentSub===null){for(d=t.left,h=t;d!==null;){let v=d;for(;v!==null&&v.parent._item!==u;)v=v.redone===null?null:Ft(e,v.redone);if(v!==null&&v.parent._item===u){d=v;break}d=d.left}for(;h!==null;){let v=h;for(;v!==null&&v.parent._item!==u;)v=v.redone===null?null:Ft(e,v.redone);if(v!==null&&v.parent._item===u){h=v;break}h=h.right}}else if(h=null,t.right&&!s){for(d=t;d!==null&&d.right!==null&&(d.right.redone||uo(n,d.right.id)||p0(i.undoStack,d.right.id)||p0(i.redoStack,d.right.id));)for(d=d.right;d.redone;)d=Ft(e,d.redone);if(d&&d.right!==null)return null}else d=f._map.get(t.parentSub)||null;let p=ct(o,l),g=ye(l,p),y=new Be(g,d,d&&d.lastId,h,h&&h.id,f,t.parentSub,t.content.copy());return t.redone=g,Dp(y,!0),y.integrate(e,0),y},Be=class e extends oo{constructor(t,r,n,s,i,a,o,l){super(t,l.getLength()),this.origin=n,this.left=r,this.right=s,this.rightOrigin=i,this.parent=a,this.parentSub=o,this.redone=null,this.content=l,this.info=this.content.isCountable()?2:0}set marker(t){(this.info&8)>0!==t&&(this.info^=8)}get marker(){return(this.info&8)>0}get keep(){return(this.info&1)>0}set keep(t){this.keep!==t&&(this.info^=1)}get countable(){return(this.info&2)>0}get deleted(){return(this.info&4)>0}set deleted(t){this.deleted!==t&&(this.info^=4)}markDeleted(){this.info|=4}getMissing(t,r){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=ct(r,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=ct(r,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===qs&&this.id.client!==this.parent.client&&this.parent.clock>=ct(r,this.parent.client))return this.parent.client;if(this.origin&&(this.left=i0(t,r,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Ft(t,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Vt||this.right&&this.right.constructor===Vt)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===e?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===e&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===qs){let n=su(r,this.parent);n.constructor===Vt?this.parent=null:this.parent=n.content.type}return null}integrate(t,r){if(r>0&&(this.id.clock+=r,this.left=i0(t,t.doc.store,ye(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(r),this.length-=r),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let n=this.left,s;if(n!==null)s=n.right;else if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start;let i=new Set,a=new Set;for(;s!==null&&s!==this.right;){if(a.add(s),i.add(s),eu(this.origin,s.origin)){if(s.id.client<this.id.client)n=s,i.clear();else if(eu(this.rightOrigin,s.rightOrigin))break}else if(s.origin!==null&&a.has(su(t.doc.store,s.origin)))i.has(su(t.doc.store,s.origin))||(n=s,i.clear());else break;s=s.right}this.left=n}if(this.left!==null){let n=this.left.right;this.right=n,this.left.right=this}else{let n;if(this.parentSub!==null)for(n=this.parent._map.get(this.parentSub)||null;n!==null&&n.left!==null;)n=n.left;else n=this.parent._start,this.parent._start=this;this.right=n}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),x0(t.doc.store,this),this.content.integrate(t,this),o0(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new Vt(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:ye(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&eu(t.origin,this.lastId)&&this.right===t&&eu(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){let r=this.parent._searchMarker;return r&&r.forEach(n=>{n.p===t&&(n.p=this,!this.deleted&&this.countable&&(n.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){let r=this.parent;this.countable&&this.parentSub===null&&(r._length-=this.length),this.markDeleted(),eo(t.deleteSet,this.id.client,this.id.clock,this.length),o0(t,r,this.parentSub),this.content.delete(t)}}gc(t,r){if(!this.deleted)throw xr();this.content.gc(t),r?HD(t,this,new Vt(this.id,this.length)):this.content=new mu(this.length)}write(t,r){let n=r>0?ye(this.id.client,this.id.clock+r-1):this.origin,s=this.rightOrigin,i=this.parentSub,a=this.content.getRef()&31|(n===null?0:128)|(s===null?0:64)|(i===null?0:32);if(t.writeInfo(a),n!==null&&t.writeLeftID(n),s!==null&&t.writeRightID(s),n===null&&s===null){let o=this.parent;if(o._item!==void 0){let l=o._item;if(l===null){let c=FD(o);t.writeParentInfo(!0),t.writeString(c)}else t.writeParentInfo(!1),t.writeLeftID(l.id)}else o.constructor===String?(t.writeParentInfo(!0),t.writeString(o)):o.constructor===qs?(t.writeParentInfo(!1),t.writeLeftID(o)):xr();i!==null&&t.writeString(i)}this.content.write(t,r)}},H0=(e,t)=>UA[t&31](e),UA=[()=>{xr()},vA,kA,yA,EA,bA,wA,AA,xA,_A,()=>{xr()}],NA=10,Bt=class extends oo{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,r){xr()}write(t,r){t.writeInfo(NA),ie(t.restEncoder,this.length-r)}getMissing(t,r){return null}},J0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},K0="__ $YJS$ __";J0[K0]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");J0[K0]=!0;var Ap=3e4,Bs=class extends Zc{constructor(t){super(),this.doc=t,this.clientID=t.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{let r=Qt();this.getLocalState()!==null&&Ap/2<=r-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());let n=[];this.meta.forEach((s,i)=>{i!==this.clientID&&Ap<=r-s.lastUpdated&&this.states.has(i)&&n.push(i)}),n.length>0&&bu(this,n,"timeout")},zt(Ap/10)),t.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(t){let r=this.clientID,n=this.meta.get(r),s=n===void 0?0:n.clock+1,i=this.states.get(r);t===null?this.states.delete(r):this.states.set(r,t),this.meta.set(r,{clock:s,lastUpdated:Qt()});let a=[],o=[],l=[],c=[];t===null?c.push(r):i==null?t!=null&&a.push(r):(o.push(r),Ii(i,t)||l.push(r)),(a.length>0||l.length>0||c.length>0)&&this.emit("change",[{added:a,updated:l,removed:c},"local"]),this.emit("update",[{added:a,updated:o,removed:c},"local"])}setLocalStateField(t,r){let n=this.getLocalState();n!==null&&this.setLocalState({...n,[t]:r})}getStates(){return this.states}},bu=(e,t,r)=>{let n=[];for(let s=0;s<t.length;s++){let i=t[s];if(e.states.has(i)){if(e.states.delete(i),i===e.clientID){let a=e.meta.get(i);e.meta.set(i,{clock:a.clock+1,lastUpdated:Qt()})}n.push(i)}}n.length>0&&(e.emit("change",[{added:[],updated:[],removed:n},r]),e.emit("update",[{added:[],updated:[],removed:n},r]))},Li=(e,t,r=e.states)=>{let n=t.length,s=ot();ie(s,n);for(let i=0;i<n;i++){let a=t[i],o=r.get(a)||null,l=e.meta.get(a).clock;ie(s,a),ie(s,l),gs(s,JSON.stringify(o))}return Ne(s)};var W0=(e,t,r)=>{let n=Cr(t),s=Qt(),i=[],a=[],o=[],l=[],c=ce(n);for(let u=0;u<c;u++){let d=ce(n),h=ce(n),f=JSON.parse(Er(n)),p=e.meta.get(d),g=e.states.get(d),y=p===void 0?0:p.clock;(y<h||y===h&&f===null&&e.states.has(d))&&(f===null?d===e.clientID&&e.getLocalState()!=null?h++:e.states.delete(d):e.states.set(d,f),e.meta.set(d,{clock:h,lastUpdated:s}),p===void 0&&f!==null?i.push(d):p!==void 0&&f===null?l.push(d):f!==null&&(Ii(f,g)||o.push(d),a.push(d)))}(i.length>0||o.length>0||l.length>0)&&e.emit("change",[{added:i,updated:o,removed:l},r]),(i.length>0||a.length>0||l.length>0)&&e.emit("update",[{added:i,updated:a,removed:l},r])};var ho=class{constructor(t){var r;this.onStateChanged=n=>{let s=new Array;n.keysChanged.forEach(i=>{let a=n.changes.keys.get(i);a&&s.push({name:i,oldValue:a.oldValue,newValue:this.ystate.get(i)})}),this._changed.emit({stateChange:s})},this._changed=new ku.Signal(this),this._isDisposed=!1,this._disposed=new ku.Signal(this),this._ydoc=(r=t?.ydoc)!==null&&r!==void 0?r:new Ht,this._ystate=this._ydoc.getMap("state"),this._undoManager=new Dn([],{trackedOrigins:new Set([this]),doc:this._ydoc}),this._awareness=new Bs(this._ydoc),this._ystate.observe(this.onStateChanged)}get ydoc(){return this._ydoc}get ystate(){return this._ystate}get undoManager(){return this._undoManager}get awareness(){return this._awareness}get changed(){return this._changed}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}get state(){return wu.JSONExt.deepCopy(this.ystate.toJSON())}canUndo(){return this.undoManager.undoStack.length>0}canRedo(){return this.undoManager.redoStack.length>0}dispose(){this._isDisposed||(this._isDisposed=!0,this.ystate.unobserve(this.onStateChanged),this.awareness.destroy(),this.undoManager.destroy(),this.ydoc.destroy(),this._disposed.emit(),ku.Signal.clearData(this))}getState(t){let r=this.ystate.get(t);return typeof r>"u"?r:wu.JSONExt.deepCopy(r)}setState(t,r){wu.JSONExt.deepEqual(this.ystate.get(t),r)||this.ystate.set(t,r)}get source(){return this.getSource()}set source(t){this.setSource(t)}undo(){this.undoManager.undo()}redo(){this.undoManager.redo()}clearUndoHistory(){this.undoManager.clear()}transact(t,r=!0,n=null){this.ydoc.transact(t,r?this:n)}};var Hs=Te(nt(),1),G0=Te(et(),1);var Rr=Te(nt(),1),fo=Te(et(),1);var Mp=(e,t={})=>{switch(e.get("cell_type")){case"code":return new mo(e,e.get("source"),e.get("outputs"),t);case"markdown":return new yo(e,e.get("source"),t);case"raw":return new go(e,e.get("source"),t);default:throw new Error("Found unknown cell type")}},xu=(e,t)=>{var r,n;let s=new Pr,i=new Vs,a=new Pr;s.set("source",i),s.set("metadata",a),s.set("cell_type",e.cell_type),s.set("id",(r=e.id)!==null&&r!==void 0?r:Rr.UUID.uuid4());let o;switch(e.cell_type){case"markdown":{o=new yo(s,i,{notebook:t},a),e.attachments!=null&&o.setAttachments(e.attachments);break}case"code":{let l=new Di;s.set("outputs",l),o=new mo(s,i,l,{notebook:t},a);let c=e;o.execution_count=(n=c.execution_count)!==null&&n!==void 0?n:null,c.outputs&&o.setOutputs(c.outputs);break}default:{o=new go(s,i,{notebook:t},a),e.attachments&&o.setAttachments(e.attachments);break}}return e.metadata!=null&&o.setMetadata(e.metadata),e.source!=null&&o.setSource(typeof e.source=="string"?e.source:e.source.join("")),o};var po=class{static create(t){return xu({id:t,cell_type:this.prototype.cell_type})}constructor(t,r,n={},s){if(this._modelObserver=(i,a)=>{a.origin!=="silent-change"&&this._changed.emit(this.getChanges(i))},this._metadataChanged=new fo.Signal(this),this._notebook=null,this._changed=new fo.Signal(this),this._disposed=new fo.Signal(this),this._isDisposed=!1,this._undoManager=null,this.ymodel=t,this._ysource=r,this._ymetadata=s??this.ymodel.get("metadata"),this._prevSourceLength=r?r.length:0,this._notebook=null,this._awareness=null,this._undoManager=null,n.notebook)this._notebook=n.notebook,this._notebook.disableDocumentWideUndoRedo&&(this._undoManager=new Dn([this.ymodel],{trackedOrigins:new Set([this]),doc:this._notebook.ydoc}));else{let i=new Ht;i.getArray().insert(0,[this.ymodel]),this._awareness=new Bs(i),this._undoManager=new Dn([this.ymodel],{trackedOrigins:new Set([this])})}this.ymodel.observeDeep(this._modelObserver)}get awareness(){var t,r,n;return(n=(t=this._awareness)!==null&&t!==void 0?t:(r=this.notebook)===null||r===void 0?void 0:r.awareness)!==null&&n!==void 0?n:null}get cell_type(){throw new Error("A YBaseCell must not be constructed")}get changed(){return this._changed}get disposed(){return this._disposed}get id(){return this.getId()}get isDisposed(){return this._isDisposed}get isStandalone(){return this._notebook!==null}get metadata(){return this.getMetadata()}set metadata(t){this.setMetadata(t)}get metadataChanged(){return this._metadataChanged}get notebook(){return this._notebook}get source(){return this.getSource()}set source(t){this.setSource(t)}get undoManager(){var t;return this.notebook?!((t=this.notebook)===null||t===void 0)&&t.disableDocumentWideUndoRedo?this._undoManager:this.notebook.undoManager:this._undoManager}get ysource(){return this._ysource}canUndo(){return!!this.undoManager&&this.undoManager.undoStack.length>0}canRedo(){return!!this.undoManager&&this.undoManager.redoStack.length>0}clearUndoHistory(){var t;(t=this.undoManager)===null||t===void 0||t.clear()}undo(){var t;(t=this.undoManager)===null||t===void 0||t.undo()}redo(){var t;(t=this.undoManager)===null||t===void 0||t.redo()}dispose(){var t;if(!this._isDisposed){if(this._isDisposed=!0,this.ymodel.unobserveDeep(this._modelObserver),this._awareness){let r=this._awareness.doc;this._awareness.destroy(),r.destroy()}this._undoManager&&(this._undoManager===((t=this.notebook)===null||t===void 0?void 0:t.undoManager)?this._undoManager=null:this._undoManager.destroy()),this._disposed.emit(),fo.Signal.clearData(this)}}getId(){return this.ymodel.get("id")}getSource(){return this.ysource.toString()}setSource(t){this.transact(()=>{this.ysource.delete(0,this.ysource.length),this.ysource.insert(0,t)})}updateSource(t,r,n=""){this.transact(()=>{let s=this.ysource;s.insert(t,n),s.delete(t+n.length,r-t)})}deleteMetadata(t){typeof this.getMetadata(t)>"u"||this.transact(()=>{this._ymetadata.delete(t);let r=this.getMetadata("jupyter");if(t==="collapsed"&&r){let{outputs_hidden:n,...s}=r;Object.keys(s).length===0?this._ymetadata.delete("jupyter"):this._ymetadata.set("jupyter",s)}else t==="jupyter"&&this._ymetadata.delete("collapsed")},!1)}getMetadata(t){let r=this._ymetadata;if(r!==void 0)return typeof t=="string"?typeof r.get(t)>"u"?void 0:Rr.JSONExt.deepCopy(r.get(t)):Rr.JSONExt.deepCopy(r.toJSON())}setMetadata(t,r){var n,s;if(typeof t=="string"){if(typeof r>"u")throw new TypeError(`Metadata value for ${t} cannot be 'undefined'; use deleteMetadata.`);let i=t;if(Rr.JSONExt.deepEqual((n=this.getMetadata(i))!==null&&n!==void 0?n:null,r))return;this.transact(()=>{var a;if(this._ymetadata.set(i,r),i==="collapsed"){let o=(a=this.getMetadata("jupyter"))!==null&&a!==void 0?a:{};o.outputs_hidden!==r&&this.setMetadata("jupyter",{...o,outputs_hidden:r})}else if(i==="jupyter"){let o=r.outputs_hidden;typeof o<"u"?this.getMetadata("collapsed")!==o&&this.setMetadata("collapsed",o):this.deleteMetadata("collapsed")}},!1)}else{let i=Rr.JSONExt.deepCopy(t);i.collapsed!=null?(i.jupyter=i.jupyter||{},i.jupyter.outputs_hidden=i.collapsed):((s=i?.jupyter)===null||s===void 0?void 0:s.outputs_hidden)!=null&&(i.collapsed=i.jupyter.outputs_hidden),Rr.JSONExt.deepEqual(i,this.getMetadata())||this.transact(()=>{for(let[a,o]of Object.entries(i))this._ymetadata.set(a,o)},!1)}}toJSON(){return{id:this.getId(),cell_type:this.cell_type,source:this.getSource(),metadata:this.getMetadata()}}transact(t,r=!0,n=null){!this.notebook||this.notebook.disableDocumentWideUndoRedo?this.ymodel.doc==null?t():this.ymodel.doc.transact(t,r?this:n):this.notebook.transact(t,r)}getChanges(t){let r={},n=t.find(o=>o.target===this.ymodel.get("source"));n&&(r.sourceChange=n.changes.delta);let s=t.find(o=>o.target===this._ymetadata);s&&(r.metadataChange=s.changes.keys,s.changes.keys.forEach((o,l)=>{switch(o.action){case"add":this._metadataChanged.emit({key:l,newValue:this._ymetadata.get(l),type:"add"});break;case"delete":this._metadataChanged.emit({key:l,oldValue:o.oldValue,type:"remove"});break;case"update":{let c=this._ymetadata.get(l),u=o.oldValue,d=!0;typeof u=="object"&&typeof c=="object"?d=Rr.JSONExt.deepEqual(u,c):d=u===c,d||this._metadataChanged.emit({key:l,type:"change",oldValue:u,newValue:c})}break}}));let i=t.find(o=>o.target===this.ymodel),a=this.ymodel.get("source");return i&&i.keysChanged.has("source")&&(r.sourceChange=[{delete:this._prevSourceLength},{insert:a.toString()}]),this._prevSourceLength=a.length,r}},mo=class extends po{static create(t){return super.create(t)}constructor(t,r,n,s={},i){super(t,r,s,i),this._youtputs=n}get cell_type(){return"code"}get execution_count(){return this.ymodel.get("execution_count")||null}set execution_count(t){this.ymodel.get("execution_count")!==t&&this.transact(()=>{this.ymodel.set("execution_count",t)},!1)}get executionState(){var t;return(t=this.ymodel.get("execution_state"))!==null&&t!==void 0?t:"idle"}set executionState(t){this.ymodel.get("execution_state")!==t&&this.transact(()=>{this.ymodel.set("execution_state",t)},!1)}get outputs(){return this.getOutputs()}set outputs(t){this.setOutputs(t)}get youtputs(){return this._youtputs}getOutputs(){return Rr.JSONExt.deepCopy(this._youtputs.toJSON())}createOutputs(t){let r=[];for(let n of Rr.JSONExt.deepCopy(t)){let s;if(n.output_type==="stream"){let{text:o,...l}=n;s=l;let c=new Vs,u=o instanceof Array?o.join():o;c.insert(0,u),s.text=c}else s=n;let i=[];for(let[o,l]of Object.entries(s))i.push([o,l]);let a=new Pr(i);r.push(a)}return r}setOutputs(t){this.transact(()=>{this._youtputs.delete(0,this._youtputs.length);let r=this.createOutputs(t);this._youtputs.insert(0,r)},!1)}removeStreamOutput(t,r,n=null){this.transact(()=>{let i=this._youtputs.get(t).get("text"),a=i.length-r;i.delete(r,a)},!1,n)}appendStreamOutput(t,r,n=null){this.transact(()=>{let i=this._youtputs.get(t).get("text");i.insert(i.length,r)},!1,n)}updateOutputs(t,r,n=[],s=null){let i=r<this._youtputs.length?r-t:this._youtputs.length-t;this.transact(()=>{this._youtputs.delete(t,i);let a=this.createOutputs(n);this._youtputs.insert(t,a)},!1,s)}clearOutputs(t=null){this.transact(()=>{this._youtputs.delete(0,this._youtputs.length)},!1,t)}toJSON(){return{...super.toJSON(),outputs:this.getOutputs(),execution_count:this.execution_count}}getChanges(t){let r=super.getChanges(t),n=t.find(a=>a.path.length===3&&a.path[0]==="outputs"&&a.path[2]==="text");n&&(r.streamOutputChange=n.changes.delta);let s=t.find(a=>a.target===this.ymodel.get("outputs"));s&&(r.outputsChange=s.changes.delta);let i=t.find(a=>a.target===this.ymodel);if(i&&i.keysChanged.has("execution_count")){let a=i.changes.keys.get("execution_count");r.executionCountChange={oldValue:a.oldValue,newValue:this.ymodel.get("execution_count")}}if(i&&i.keysChanged.has("execution_state")){let a=i.changes.keys.get("execution_state");r.executionStateChange={oldValue:a.oldValue,newValue:this.ymodel.get("execution_state")}}return r}},Su=class extends po{get attachments(){return this.getAttachments()}set attachments(t){this.setAttachments(t)}getAttachments(){return this.ymodel.get("attachments")}setAttachments(t){this.transact(()=>{t==null?this.ymodel.delete("attachments"):this.ymodel.set("attachments",t)},!1)}getChanges(t){let r=super.getChanges(t),n=t.find(s=>s.target===this.ymodel);if(n&&n.keysChanged.has("attachments")){let s=n.changes.keys.get("attachments");r.attachmentsChange={oldValue:s.oldValue,newValue:this.ymodel.get("attachments")}}return r}},go=class extends Su{static create(t){return super.create(t)}get cell_type(){return"raw"}toJSON(){return{id:this.getId(),cell_type:"raw",source:this.getSource(),metadata:this.getMetadata(),attachments:this.getAttachments()}}},yo=class extends Su{static create(t){return super.create(t)}get cell_type(){return"markdown"}toJSON(){return{id:this.getId(),cell_type:"markdown",source:this.getSource(),metadata:this.getMetadata(),attachments:this.getAttachments()}}};var Eu=class e extends ho{constructor(t={}){var r;super(),this.version="2.0.0",this.ymeta=this.ydoc.getMap("meta"),this._onMetaChanged=n=>{let s=n.find(a=>a.target===this.ymeta.get("metadata"));if(s){let a=s.changes.keys,o=this.ymeta.get("metadata");s.changes.keys.forEach((l,c)=>{switch(l.action){case"add":this._metadataChanged.emit({key:c,type:"add",newValue:o.get(c)});break;case"delete":this._metadataChanged.emit({key:c,type:"remove",oldValue:l.oldValue});break;case"update":{let u=o.get(c),d=l.oldValue,h=!0;typeof d=="object"&&typeof u=="object"?h=Hs.JSONExt.deepEqual(d,u):h=d===u,h||this._metadataChanged.emit({key:c,type:"change",oldValue:d,newValue:u})}break}}),this._changed.emit({metadataChange:a})}let i=n.find(a=>a.target===this.ymeta);if(i){if(i.keysChanged.has("metadata")){let a=i.changes.keys.get("metadata");if(a?.action==="add"&&!a.oldValue){let o=new Map;for(let l of Object.keys(this.metadata))o.set(l,{action:"add",oldValue:void 0}),this._metadataChanged.emit({key:l,type:"add",newValue:this.getMetadata(l)});this._changed.emit({metadataChange:o})}}if(i.keysChanged.has("nbformat")){let a=i.changes.keys.get("nbformat"),o={key:"nbformat",oldValue:a?.oldValue?a.oldValue:void 0,newValue:this.nbformat};this._changed.emit({nbformatChanged:o})}if(i.keysChanged.has("nbformat_minor")){let a=i.changes.keys.get("nbformat_minor"),o={key:"nbformat_minor",oldValue:a?.oldValue?a.oldValue:void 0,newValue:this.nbformat_minor};this._changed.emit({nbformatChanged:o})}}},this._onYCellsChanged=n=>{n.changes.added.forEach(a=>{let o=a.content.type;if(!this._ycellMapping.has(o)){let l=Mp(o,{notebook:this});this._ycellMapping.set(o,l)}}),n.changes.deleted.forEach(a=>{let o=a.content.type,l=this._ycellMapping.get(o);l&&(l.dispose(),this._ycellMapping.delete(o))});let s=0,i=[];n.changes.delta.forEach(a=>{if(a.insert!=null){let o=a.insert.map(l=>this._ycellMapping.get(l));i.push({insert:o}),this.cells.splice(s,0,...o),s+=a.insert.length}else a.delete!=null?(i.push(a),this.cells.splice(s,a.delete)):a.retain!=null&&(i.push(a),s+=a.retain)}),this._changed.emit({cellsChange:i})},this._metadataChanged=new G0.Signal(this),this._ycells=this.ydoc.getArray("cells"),this._ycellMapping=new WeakMap,this._disableDocumentWideUndoRedo=(r=t.disableDocumentWideUndoRedo)!==null&&r!==void 0?r:!1,this.cells=this._ycells.toArray().map(n=>(this._ycellMapping.has(n)||this._ycellMapping.set(n,Mp(n,{notebook:this})),this._ycellMapping.get(n))),this.undoManager.addToScope(this._ycells),this._ycells.observe(this._onYCellsChanged),this.ymeta.observeDeep(this._onMetaChanged)}static create(t={}){var r,n,s,i,a,o,l,c,u;let d=new e({disableDocumentWideUndoRedo:(r=t.disableDocumentWideUndoRedo)!==null&&r!==void 0?r:!1}),h={cells:(s=(n=t.data)===null||n===void 0?void 0:n.cells)!==null&&s!==void 0?s:[],nbformat:(a=(i=t.data)===null||i===void 0?void 0:i.nbformat)!==null&&a!==void 0?a:4,nbformat_minor:(l=(o=t.data)===null||o===void 0?void 0:o.nbformat_minor)!==null&&l!==void 0?l:5,metadata:(u=(c=t.data)===null||c===void 0?void 0:c.metadata)!==null&&u!==void 0?u:{}};return d.fromJSON(h),d}get disableDocumentWideUndoRedo(){return this._disableDocumentWideUndoRedo}get metadata(){return this.getMetadata()}set metadata(t){this.setMetadata(t)}get metadataChanged(){return this._metadataChanged}get nbformat(){return this.ymeta.get("nbformat")}set nbformat(t){this.transact(()=>{this.ymeta.set("nbformat",t)},!1)}get nbformat_minor(){return this.ymeta.get("nbformat_minor")}set nbformat_minor(t){this.transact(()=>{this.ymeta.set("nbformat_minor",t)},!1)}dispose(){this.isDisposed||(this._ycells.unobserve(this._onYCellsChanged),this.ymeta.unobserveDeep(this._onMetaChanged),super.dispose())}getCell(t){return this.cells[t]}addCell(t){return this.insertCell(this._ycells.length,t)}insertCell(t,r){return this.insertCells(t,[r])[0]}insertCells(t,r){let n=r.map(s=>{let i=xu(s,this);return this._ycellMapping.set(i.ymodel,i),i});return this.transact(()=>{this._ycells.insert(t,n.map(s=>s.ymodel))}),n}moveCell(t,r){this.moveCells(t,r)}moveCells(t,r,n=1){let s=new Array(n).fill(!0).map((i,a)=>this.getCell(t+a).toJSON());this.transact(()=>{this._ycells.delete(t,n),this._ycells.insert(t>r?r:r-n+1,s.map(i=>xu(i,this).ymodel))})}deleteCell(t){this.deleteCellRange(t,t+1)}deleteCellRange(t,r){this.transact(()=>{this._ycells.delete(t,r-t)})}deleteMetadata(t){if(typeof this.getMetadata(t)>"u")return;let r=this.metadata;delete r[t],this.setMetadata(r)}getMetadata(t){let r=this.ymeta.get("metadata");if(r!==void 0)if(typeof t=="string"){let n=r.get(t);return typeof n>"u"?void 0:Hs.JSONExt.deepCopy(n)}else return Hs.JSONExt.deepCopy(r.toJSON())}setMetadata(t,r){var n;if(typeof t=="string"){if(typeof r>"u")throw new TypeError(`Metadata value for ${t} cannot be 'undefined'; use deleteMetadata.`);if(Hs.JSONExt.deepEqual((n=this.getMetadata(t))!==null&&n!==void 0?n:null,r))return;let s={};s[t]=r,this.updateMetadata(s)}else if(!this.metadata||!Hs.JSONExt.deepEqual(this.metadata,t)){let s=Hs.JSONExt.deepCopy(t),i=this.ymeta.get("metadata");if(i===void 0)return;this.transact(()=>{i.clear();for(let[a,o]of Object.entries(s))i.set(a,o)})}}updateMetadata(t){let r=Hs.JSONExt.deepCopy(t),n=this.ymeta.get("metadata");n!==void 0&&this.transact(()=>{for(let[s,i]of Object.entries(r))n.set(s,i)})}getSource(){return this.toJSON()}setSource(t){this.fromJSON(t)}fromJSON(t){this.transact(()=>{this.nbformat=t.nbformat,this.nbformat_minor=t.nbformat_minor;let r=t.metadata;if(r.orig_nbformat!==void 0&&delete r.orig_nbformat,this.metadata)this.metadata=r;else{let i=new Pr;for(let[a,o]of Object.entries(r))i.set(a,o);this.ymeta.set("metadata",i)}let n=t.nbformat===4&&t.nbformat_minor>=5,s=t.cells.map(i=>(n||delete i.id,i));this.insertCells(this.cells.length,s),this.deleteCellRange(0,this.cells.length)})}toJSON(){let t=this.nbformat===4&&this.nbformat_minor<=4;return{metadata:this.metadata,nbformat_minor:this.nbformat_minor,nbformat:this.nbformat,cells:this.cells.map(r=>{let n=r.toJSON();return t&&delete n.id,n})}}};import{inspect as Z0}from"util";var Y0=2;function LA(e){switch(e.toLowerCase()){case"error":return 0;case"warn":case"warning":return 1;case"info":return 2;case"debug":return 3;default:return Y0}}var Cu=process.env.LOG_LEVEL?LA(process.env.LOG_LEVEL):Y0,Up=class e{context;constructor(t=""){this.context=t}error(t,r){if(Cu>=0){let n=new Date().toISOString(),s=this.context?`[${this.context}] `:"",i="",a="";r!=null&&(r instanceof Error?(i=`: ${r.message}`,a=r.stack?`
${r.stack}`:""):i=`: ${Z0(r,{depth:3,colors:!1,maxArrayLength:10})}`),console.error(`${n} [ERROR] ${s}${t}${i}${a}`)}}warn(t,r){if(Cu>=1){let n=new Date().toISOString(),s=this.context?`[${this.context}] `:"",i="",a="";r&&(r instanceof Error?(i=`: ${r.message}`,a=r.stack?`
${r.stack}`:""):i=`: ${Z0(r,{depth:3,colors:!1,maxArrayLength:10})}`),console.error(`${n} [WARN] ${s}${t}${i}${a}`)}}info(t){if(Cu>=2){let r=new Date().toISOString(),n=this.context?`[${this.context}] `:"";console.error(`${r} [INFO] ${n}${t}`)}}debug(t){if(Cu>=3){let r=new Date().toISOString(),n=this.context?`[${this.context}] `:"";console.error(`${r} [DEBUG] ${n}${t}`)}}withContext(t){return new e(t)}},Z=new Up;var Q0=new Map,Np=class{constructor(t){this.room=t,this.onmessage=null,this._onChange=r=>r.key===t&&this.onmessage!==null&&this.onmessage({data:Hk(r.newValue||"")}),Nk(this._onChange)}postMessage(t){Yc.setItem(this.room,Bk(Vk(t)))}close(){$k(this._onChange)}},qA=typeof BroadcastChannel>"u"?Np:BroadcastChannel,$p=e=>Xt(Q0,e,()=>{let t=Zr(),r=new qA(e);return r.onmessage=n=>t.forEach(s=>s(n.data,"broadcastchannel")),{bc:r,subs:t}}),X0=(e,t)=>($p(e).subs.add(t),t),eS=(e,t)=>{let r=$p(e),n=r.subs.delete(t);return n&&r.subs.size===0&&(r.bc.close(),Q0.delete(e)),n},Mn=(e,t,r=null)=>{let n=$p(e);n.bc.postMessage(t),n.subs.forEach(s=>s(t,r))};var tS=0,Pu=1,rS=2,Ru=(e,t)=>{ie(e,tS);let r=k0(t);Ve(e,r)},Lp=(e,t,r)=>{ie(e,Pu),Ve(e,_0(t,r))},FA=(e,t,r)=>Lp(t,r,lt(e)),sS=(e,t,r)=>{try{v0(t,lt(e),r)}catch(n){console.error("Caught error while handling a Yjs update",n)}},nS=(e,t)=>{ie(e,rS),Ve(e,t)},VA=sS,iS=(e,t,r,n)=>{let s=ce(e);switch(s){case tS:FA(e,t,r);break;case Pu:sS(e,r,n);break;case rS:VA(e,r,n);break;default:throw new Error("Unknown message type")}return s};var HA=0;var aS=(e,t,r)=>{switch(ce(e)){case HA:r(t,Er(e))}};var oS=e=>Ok(e,(t,r)=>`${encodeURIComponent(r)}=${encodeURIComponent(t)}`).join("&");var Un=0,cS=3,qi=1,WA=2,vo=[];vo[Un]=(e,t,r,n,s)=>{ie(e,Un);let i=iS(t,e,r.doc,r);n&&i===Pu&&!r.synced&&(r.synced=!0)};vo[cS]=(e,t,r,n,s)=>{ie(e,qi),Ve(e,Li(r.awareness,Array.from(r.awareness.getStates().keys())))};vo[qi]=(e,t,r,n,s)=>{W0(r.awareness,lt(t),r)};vo[WA]=(e,t,r,n,s)=>{aS(t,r.doc,(i,a)=>GA(r,a))};var lS=3e4,GA=(e,t)=>console.warn(`Permission denied to access ${e.url}.
${t}`),uS=(e,t,r)=>{let n=Cr(t),s=ot(),i=ce(n),a=e.messageHandlers[i];return a?a(s,n,e,r,i):console.error("Unable to compute message"),s},zp=(e,t,r)=>{t===e.ws&&(e.emit("connection-close",[r,e]),e.ws=null,t.close(),e.wsconnecting=!1,e.wsconnected?(e.wsconnected=!1,e.synced=!1,bu(e.awareness,Array.from(e.awareness.getStates().keys()).filter(n=>n!==e.doc.clientID),e),e.emit("status",[{status:"disconnected"}])):e.wsUnsuccessfulReconnects++,setTimeout(dS,_i(dk(2,e.wsUnsuccessfulReconnects)*100,e.maxBackoffTime),e))},dS=e=>{if(e.shouldConnect&&e.ws===null){let t=new e._WS(e.url,e.protocols);t.binaryType="arraybuffer",e.ws=t,e.wsconnecting=!0,e.wsconnected=!1,e.synced=!1,t.onmessage=r=>{e.wsLastMessageReceived=Qt();let n=uS(e,new Uint8Array(r.data),!0);zc(n)>1&&t.send(Ne(n))},t.onerror=r=>{e.emit("connection-error",[r,e])},t.onclose=r=>{zp(e,t,r)},t.onopen=()=>{e.wsLastMessageReceived=Qt(),e.wsconnecting=!1,e.wsconnected=!0,e.wsUnsuccessfulReconnects=0,e.emit("status",[{status:"connected"}]);let r=ot();if(ie(r,Un),Ru(r,e.doc),t.send(Ne(r)),e.awareness.getLocalState()!==null){let n=ot();ie(n,qi),Ve(n,Li(e.awareness,[e.doc.clientID])),t.send(Ne(n))}},e.emit("status",[{status:"connecting"}])}},qp=(e,t)=>{let r=e.ws;e.wsconnected&&r&&r.readyState===r.OPEN&&r.send(t),e.bcconnected&&Mn(e.bcChannel,t,e)},Iu=class extends Tn{constructor(t,r,n,{connect:s=!0,awareness:i=new Bs(n),params:a={},protocols:o=[],WebSocketPolyfill:l=WebSocket,resyncInterval:c=-1,maxBackoffTime:u=2500,disableBc:d=!1}={}){for(super();t[t.length-1]==="/";)t=t.slice(0,t.length-1);this.serverUrl=t,this.bcChannel=t+"/"+r,this.maxBackoffTime=u,this.params=a,this.protocols=o,this.roomname=r,this.doc=n,this._WS=l,this.awareness=i,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=d,this.wsUnsuccessfulReconnects=0,this.messageHandlers=vo.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=s,this._resyncInterval=0,c>0&&(this._resyncInterval=setInterval(()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN){let h=ot();ie(h,Un),Ru(h,n),this.ws.send(Ne(h))}},c)),this._bcSubscriber=(h,f)=>{if(f!==this){let p=uS(this,new Uint8Array(h),!1);zc(p)>1&&Mn(this.bcChannel,Ne(p),this)}},this._updateHandler=(h,f)=>{if(f!==this){let p=ot();ie(p,Un),nS(p,h),qp(this,Ne(p))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:h,updated:f,removed:p},g)=>{let y=h.concat(f).concat(p),v=ot();ie(v,qi),Ve(v,Li(i,y)),qp(this,Ne(v))},this._exitHandler=()=>{bu(this.awareness,[n.clientID],"app closed")},ys&&typeof process<"u"&&process.on("exit",this._exitHandler),i.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&lS<Qt()-this.wsLastMessageReceived&&zp(this,this.ws,null)},lS/10),s&&this.connect()}get url(){let t=oS(this.params);return this.serverUrl+"/"+this.roomname+(t.length===0?"":"?"+t)}get synced(){return this._synced}set synced(t){this._synced!==t&&(this._synced=t,this.emit("synced",[t]),this.emit("sync",[t]))}destroy(){this._resyncInterval!==0&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),ys&&typeof process<"u"&&process.off("exit",this._exitHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){if(this.disableBc)return;this.bcconnected||(X0(this.bcChannel,this._bcSubscriber),this.bcconnected=!0);let t=ot();ie(t,Un),Ru(t,this.doc),Mn(this.bcChannel,Ne(t),this);let r=ot();ie(r,Un),Lp(r,this.doc),Mn(this.bcChannel,Ne(r),this);let n=ot();ie(n,cS),Mn(this.bcChannel,Ne(n),this);let s=ot();ie(s,qi),Ve(s,Li(this.awareness,[this.doc.clientID])),Mn(this.bcChannel,Ne(s),this)}disconnectBc(){let t=ot();ie(t,qi),Ve(t,Li(this.awareness,[this.doc.clientID],new Map)),qp(this,Ne(t)),this.bcconnected&&(eS(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),this.ws!==null&&zp(this,this.ws,null)}connect(){this.shouldConnect=!0,!this.wsconnected&&this.ws===null&&(dS(this),this.connectBc())}};var ZA=Te(ch(),1),YA=Te(Al(),1),QA=Te(Ul(),1),hS=Te(ua(),1),XA=Te(dh(),1);var fS=hS.default;import*as Fp from"util";var zi=class{_session;jupyterAdapter;ydoc;provider;_syncedPromise;_resolveSynced;_rejectSynced;constructor(t,r,n){this._session=t,this.jupyterAdapter=r,this.ydoc=n||new Ht,this.provider=this._createProvider(this.jupyterAdapter.maxWsPayload),this.provider.connect()}get session(){return this._session}get docpath(){return this._session.docpath}getDocument(){return this.ydoc}isConnected(){return this.provider.wsconnected??!1}isSynced(){return this.provider.synced??!1}async disconnect(){Z.debug(`Disconnecting document: ${this._session.fileId}`);let t=new Error(`Document session disconnected: ${this._session.fileId}`);this._rejectSynced&&this._rejectSynced(t),this._syncedPromise=void 0,this._resolveSynced=void 0,this._rejectSynced=void 0,this.provider.destroy()}async ensureSynchronized(){if(!this.isConnected)throw new Error(`Document session disconnected: ${this._session.fileId}`);this.isSynced()||(this._syncedPromise||(this._syncedPromise=new Promise((t,r)=>{this._resolveSynced=t,this._rejectSynced=r})),await this._syncedPromise)}_onSync=t=>{t?(this._resolveSynced&&(this._resolveSynced(),this._resolveSynced=void 0,this._rejectSynced=void 0),this.isConnected()&&this.ydoc.getMap("state").set("document_id",this.provider.roomname)):(this._syncedPromise=void 0,this._resolveSynced=void 0,this._rejectSynced=void 0)};_onConnectionClosed=t=>{if(Z.debug(`Disconnected from document: ${this._session.fileId}`),this._rejectSynced){let r=new Error(`Document connection closed: ${this._session.fileId} - ${Fp.inspect(t)}`);this._rejectSynced(r)}this._syncedPromise=void 0,this._resolveSynced=void 0,this._rejectSynced=void 0};_createProvider(t){let r=this.jupyterAdapter,n=`${r.baseUrl.replace(/^http/,"ws")}/api/collaboration/room/${this._session.format}:${this._session.type}:${this._session.fileId}`;class s extends fS{constructor(l,c){let u={maxPayload:t,...c,headers:{...r.sessionHeaders(),...c?.headers||{}}};Z.debug(`Creating WebSocket connection with maxPayload: ${t} bytes (${(t/1024/1024).toFixed(1)} MB)`),super(l,u)}}class i extends Iu{constructor(l,c,u,d={}){super(l,c,u,{...d,WebSocketPolyfill:s})}}let a=new i(n,`${this._session.format}:${this._session.type}:${this._session.fileId}`,this.ydoc,{connect:!1,params:{sessionId:this._session.sessionId}});return a.on("status",o=>{Z.debug(`Doc Session ${this._session.fileId} WS status changed to ${o.status}`)}),a.on("sync",this._onSync),a.on("connection-close",this._onConnectionClosed),a.on("connection-error",o=>{Z.error(`WebSocket error for document ${this._session.fileId}`,o);let l=new Error(`Document connection error: ${this._session.fileId}:
  ${Fp.inspect(o)}`);this._rejectSynced&&this._rejectSynced(l),this._syncedPromise=void 0,this._resolveSynced=void 0,this._rejectSynced=void 0,a.destroy()}),a}};var Ou=class extends zi{yNotebook;kernelManager;kernelConn;constructor(t,r,n){let s=new Eu;super(t,n,s.ydoc),this.yNotebook=s,this.kernelManager=r,this.kernelConn=null}async disconnect(){let t=this.kernelConn;t&&(t.dispose(),this.kernelConn=null),await super.disconnect()}getDocument(){return this.yNotebook.ydoc}getYNotebook(){return this.yNotebook}async ensureSynchronized(){return Z.debug("Waiting for notebook synchronization..."),super.ensureSynchronized()}async ensureKernelConnection(t){let r=await this.getKernelConnection(t);if(!r)throw new Error(`No connection with <${t||"default"}> kernel established for notebook ${this._session.fileId}, try assign/restart with some proper kernel and retry!`);return r}async getKernelConnection(t){let r=this.kernelConn;return r&&!r.isDisposed&&(!t||r.name===t)?r:(r&&(r.dispose(),this.kernelConn=null),this.kernelConn=await this._connectKernel(t),this.kernelConn)}async _connectKernel(t){try{let{ServerConnection:r}=await Promise.resolve().then(()=>Te(It(),1)),{URLExt:n}=await Promise.resolve().then(()=>Te(Ke(),1)),s=r.makeSettings({baseUrl:this.jupyterAdapter.baseUrl}),i=n.join(s.baseUrl,"api/sessions",this._session.sessionId),a={method:"GET"},o=!1;try{o=(await this.jupyterAdapter.makeJupyterRequest(i,a)).ok}catch(h){Z.debug(`Session check failed: ${h instanceof Error?h.message:String(h)}`)}let l=t?{name:t}:{},c=o?i:n.join(s.baseUrl,"api/sessions"),u={method:o?"PATCH":"POST",body:JSON.stringify({kernel:l,...o?{}:{path:`/notebooks/${this._session.fileId}`,name:`Notebook ${this._session.fileId}`,type:"notebook"}})},d;try{d=await this.jupyterAdapter.makeJupyterRequest(c,u);let h=await d.text(),f=null;if(h.length>0)try{f=JSON.parse(h)}catch(p){return Z.error("Not a JSON response body.",p),null}if(!d.ok)return Z.error(`Server returned ${d.status}: ${f&&typeof f=="object"&&"message"in f?f.message:h}`),null;if(f&&typeof f=="object"&&"kernel"in f&&f.kernel){let p=f.kernel;return this.kernelManager.connectTo({model:p})}return null}catch(h){return Z.error("Error requesting kernel session:",h),null}}catch(r){return Z.error("Error in _connectKernel:",r),null}}async restartKernel(t,r=!1,n=!1){let s=this.kernelConn;if(s){t||(t=s.name);try{await s.restart(),Z.debug(`Kernel <${s.name}> (${s.id}) restarted successfully`)}catch(a){Z.error(`Failed to restart kernel <${s.name}> (${s.id}):`,a),s.dispose(),this.kernelConn=null}}if(r){await this.ensureSynchronized();for(let a of this.yNotebook.cells)if(a.cell_type==="code"){let o=a;o.clearOutputs(),o.execution_count=null}}let i=await this.getKernelConnection(t);if(n!==!1&&i){for(let a of this.getYNotebook().cells)if(a.cell_type==="code"){let o=a;if(!o.getSource().trim())continue;await Fi(o,i)}}}};var Tu=class extends zi{yText;constructor(t,r,n){let s=n||new Ht;super(t,r,s),this.yText=s.getText("content")}getYText(){return this.yText}getContent(){return this.yText.toString()}setContent(t){this.ydoc.transact(()=>{this.yText.delete(0,this.yText.length),this.yText.insert(0,t)})}insertText(t,r){this.ydoc.transact(()=>{this.yText.insert(t,r)})}deleteText(t,r){this.ydoc.transact(()=>{this.yText.delete(t,r)})}replaceText(t,r,n){this.ydoc.transact(()=>{this.yText.delete(t,r),this.yText.insert(t,n)})}getLength(){return this.yText.length}};function Ge(e,t,r,n,s,i){let a=t;return n&&n.length>0&&(a+=`

**Next steps:**
`+n.map(l=>`- ${l}`).join(`
`)),{content:[{type:"text",text:a},{type:"text",text:JSON.stringify({success:!0,operation:e,data:r,metadata:{timestamp:new Date().toISOString(),session_id:s,warnings:i||[]}},null,2)}]}}function Vp(e,t,r,n,s,i,a,o){let l=t;return s&&s.length>0&&(l+=`

**Next steps:**
`+s.map(u=>`- ${u}`).join(`
`)),{content:[{type:"text",text:l},{type:"text",text:JSON.stringify({success:!1,operation:e,error:{code:r,details:n,suggestion:o},metadata:{timestamp:new Date().toISOString(),session_id:i,warnings:a||[]}},null,2)}]}}var Hp=class{cookies;baseUrl;constructor(t="http://localhost:8888"){this.cookies=new Du.CookieJar,this.baseUrl=t}parseSetCookieHeader(t){try{let r=Du.Cookie.parse(t);r?this.cookies.setCookieSync(r,this.baseUrl):Z.warn(`Failed to parse cookie from header: ${t}`)}catch(r){Z.error(`Error parsing cookie header: ${t}`,r)}}parseResponseHeaders(t){let r=t.get("set-cookie");r&&r.split(`
`).forEach(s=>{let i=s.trim();i&&this.parseSetCookieHeader(i)}),t.forEach((n,s)=>{s.toLowerCase()==="set-cookie"&&this.parseSetCookieHeader(n)})}sessionHeaders(){let t={},r=this.cookies.getCookieStringSync(this.baseUrl);r&&(t.Cookie=r);let s=this.cookies.getCookiesSync(this.baseUrl).find(i=>i.key==="_xsrf");return s&&(t["X-XSRFToken"]=s.value),t}clear(){this.cookies.removeAllCookiesSync()}},ju=class{_baseUrl;_token;_kernelManager;sessionTimeout;maxWsPayload;sessionTimeoutTimers;documentSessions;notebookSessions;_cookieManager;constructor(t,r,n,s){this.sessionTimeout=t||300*1e3,this.maxWsPayload=r||100*1024*1024,this.sessionTimeoutTimers=new Map,this._baseUrl=n||process.env.JUPYTERLAB_URL||"http://localhost:8888",this._token=s||process.env.JUPYTERLAB_TOKEN,this._cookieManager=new Hp(this._baseUrl);let i=Nn.ServerConnection.makeSettings({baseUrl:this.baseUrl,token:this.token});this._kernelManager=new Nn.KernelManager({serverSettings:i}),this.documentSessions=new Map,this.notebookSessions=new Map}get baseUrl(){return this._baseUrl}get token(){return this._token}get kernelManager(){return this._kernelManager}sessionHeaders(){return this._cookieManager.sessionHeaders()}getDocumentSession(t){return this.documentSessions.get(t)}getNotebookSession(t){return this.notebookSessions.get(t)}listCurrNotebookSessions(t){let r=[];for(let n of this.notebookSessions.values())n.session.docpath.startsWith(t)&&r.push(n);return r}listCurrTextDocSessions(t){let r=[];for(let n of this.documentSessions.values())n.session.docpath.startsWith(t)&&r.push(n);return r}async closeDocumentSession(t){let r=this.documentSessions.get(t);r&&(this.clearSessionTimeout(t),await r.disconnect(),this.documentSessions.delete(t))}async closeNotebookSession(t){let r=this.notebookSessions.get(t);r&&(this.clearSessionTimeout(t),await r.disconnect(),this.notebookSessions.delete(t))}async closeAllDocumentSessions(){for(let r of this.documentSessions.keys())this.clearSessionTimeout(r);let t=Array.from(this.documentSessions.values()).map(r=>r.disconnect());await Promise.all(t),this.documentSessions.clear()}async closeAllNotebookSessions(){for(let r of this.notebookSessions.keys())this.clearSessionTimeout(r);let t=Array.from(this.notebookSessions.values()).map(r=>r.disconnect());await Promise.all(t),this.notebookSessions.clear()}async createDocumentSession(t){try{let r=await this.requestDocSession(t,"file"),n=this.documentSessions.get(r.fileId);if(n&&n.isConnected())return n;let s=new Tu(r,this,void 0);return this.documentSessions.set(r.fileId,s),this.setupSessionTimeout(r.fileId),s}catch(r){throw Z.error(`Error in createDocumentSession for path ${t}`,r),r}}async createNotebookSession(t){try{let r=await this.requestDocSession(t,"notebook"),n=this.notebookSessions.get(r.fileId);if(n&&n.isConnected())return n;let s=new Ou(r,this._kernelManager,this);return s.originalPath=t,this.notebookSessions.set(r.fileId,s),this.setupSessionTimeout(r.fileId),s}catch(r){throw Z.error(`Error in createNotebookSession for path ${t}`,r),r}}async endDocumentSession(t){let r=null,n=null;for(let[s,i]of this.documentSessions)if(i.session.docpath===t.path){r=i,n=s;break}if(r){this.clearSessionTimeout(n),await r.disconnect(),this.documentSessions.delete(n);let s=`\u2705 Successfully ended RTC session for notebook '${t.path}'. Resources have been cleaned up and session is now disconnected.`,i=["Create a new session if you need to work with this notebook again","Check other active sessions for continued collaboration","Monitor system resources after session cleanup"];return Ge("end_nb_session",s,{path:t.path,status:"disconnected",session_ended:!0},i)}else return{content:[{type:"text",text:JSON.stringify({path:t.path,status:"not_found",message:"No active RTC session found for this document"},null,2)}]}}async endNotebookSession(t){Z.info(`Attempting to end notebook session for path: ${t.path}`);let r=null,n=null;for(let[s,i]of this.notebookSessions)if(i.session.docpath===t.path){r=i,n=s;break}if(r){this.clearSessionTimeout(n),await r.disconnect(),this.notebookSessions.delete(n);let s=`\u2705 Successfully ended RTC session for notebook '${t.path}'. Resources have been cleaned up and session is now disconnected.`,i=["Create a new session if you need to work with this notebook again","Check other active sessions for continued collaboration","Monitor system resources after session cleanup"];return Ge("end_nb_session",s,{path:t.path,status:"disconnected",session_ended:!0},i)}else{Z.info(`No matching session found for path ${t.path}`);let s=`\u2139\uFE0F No active RTC session found for notebook '${t.path}'. The notebook may not have an active session or the path may be incorrect.`,i=["Verify the notebook path is correct","Check if the notebook has an active session using query_nb_sessions","Create a new session if needed for collaboration"];return Ge("end_nb_session",s,{path:t.path,status:"not_found",session_ended:!1},i)}}async makeJupyterRequest(t,r={}){let n=Nn.ServerConnection.makeSettings({baseUrl:this.baseUrl});r.headers||(r.headers={}),this.token&&(r.headers={...r.headers,Authorization:`token ${this.token}`});let s=this._cookieManager.sessionHeaders();r.headers={...r.headers,...s};let i=await Nn.ServerConnection.makeRequest(t,r,n);return this._cookieManager.parseResponseHeaders(i.headers),i}async requestDocSession(t,r){let n=Nn.ServerConnection.makeSettings({baseUrl:this.baseUrl}),s=Bp.URLExt.join(n.baseUrl,"api/collaboration/session",Bp.URLExt.encodeParts(t)),i={method:"PUT",body:JSON.stringify({format:"json",type:r})},a=await this.makeJupyterRequest(s,i),o=await a.text(),l=null;if(o.length>0)try{l=JSON.parse(o)}catch{Z.error("Not a JSON response body.",a)}if(!a.ok)throw new Error(`Server returned ${a.status}: ${l&&typeof l=="object"&&"message"in l?l.message:o}`);let c=l;return c.docpath=t,c}setupSessionTimeout(t){this.clearSessionTimeout(t);let r=setTimeout(async()=>{Z.info(`Session timeout reached for notebook ${t}, closing session...`),await this.closeNotebookSession(t)},this.sessionTimeout);this.sessionTimeoutTimers.set(t,r)}clearSessionTimeout(t){let r=this.sessionTimeoutTimers.get(t);r&&(clearTimeout(r),this.sessionTimeoutTimers.delete(t))}updateSessionActivity(t){this.notebookSessions.has(t)&&this.setupSessionTimeout(t)}};async function Fi(e,t,r=2e3){Z.debug(`Executing cell with source: ${e.source}`),e.clearOutputs(),e.execution_count=null,e.executionState="running";try{let n=t.requestExecute({code:e.source,silent:!1}),s=[];n.onIOPub=l=>{switch(Z.debug(`Received IOPub message: ${l.header.msg_type}`),l.header.msg_type){case"execute_result":{let c=l.content,u={output_type:"execute_result",execution_count:c.execution_count,data:c.data,metadata:c.metadata||{}};s.push(u),e.updateOutputs(s.length-1,s.length,[u]);break}case"stream":{let c=l.content,u={output_type:"stream",name:c.name,text:c.text},d=-1;for(let h=s.length-1;h>=0;h--)if(s[h].output_type==="stream"&&s[h].name===c.name){d=h;break}d>=0?(e.appendStreamOutput(d,c.text),s[d]={...s[d],text:(s[d].text||"")+c.text}):(s.push(u),e.updateOutputs(s.length-1,s.length,[u]));break}case"display_data":{let c=l.content,u={output_type:"display_data",data:c.data,metadata:c.metadata||{}};s.push(u),e.updateOutputs(s.length-1,s.length,[u]);break}case"error":{let c=l.content,u={output_type:"error",ename:c.ename,evalue:c.evalue,traceback:c.traceback};s.push(u),e.updateOutputs(s.length-1,s.length,[u]);break}case"execute_input":{let c=l.content;e.execution_count=c.execution_count;break}case"status":break;default:Z.debug(`Unhandled IOPub message type: ${l.header.msg_type}`)}},await n.done,Z.debug("Cell execution completed successfully");let{outputs:i,truncated:a,originalSize:o}=pS(s,r);return{outputs:i,truncated:a,originalSize:o}}catch(n){Z.error("Error executing cell:",n);let s={output_type:"error",ename:"ExecutionError",evalue:n instanceof Error?n.message:String(n),traceback:n instanceof Error?[n.stack||""]:[String(n)]},i=e.getOutputs();e.updateOutputs(0,i.length,[s]);let{outputs:a,truncated:o,originalSize:l}=pS([s],r);return{outputs:a,truncated:o,originalSize:l}}finally{e.executionState="idle"}}function pS(e,t){let r=[],n=!1,s=0;for(let i of e)if(i.output_type==="execute_result"||i.output_type==="display_data"){let a={output_type:i.output_type,execution_count:i.execution_count,data:{},metadata:i.metadata||{}},o=i.data||{};for(let[l,c]of Object.entries(o))typeof c=="string"?(s+=c.length,c.length>t?(a.data[l]=c.substring(0,t-14)+"... [truncated]",n=!0):a.data[l]=c):a.data[l]=c;r.push(a)}else if(i.output_type==="error"){let a={output_type:"error",ename:i.ename,evalue:i.evalue,traceback:i.traceback};if(typeof a.evalue=="string"&&a.evalue.length>t&&(s+=a.evalue.length,a.evalue=a.evalue.substring(0,t-14)+"... [truncated]",n=!0),a.traceback&&Array.isArray(a.traceback)){let o=[];for(let l of a.traceback)typeof l=="string"&&l.length>t?(s+=l.length,o.push(l.substring(0,t-14)+"... [truncated]"),n=!0):typeof l=="string"&&(s+=l.length,o.push(l));a.traceback=o}r.push(a)}else if(i.output_type==="stream"){let a={output_type:"stream",name:i.name,text:i.text};typeof a.text=="string"&&a.text.length>t&&(s+=a.text.length,a.text=a.text.substring(0,t-14)+"... [truncated]",n=!0),r.push(a)}else r.push(i);return{outputs:r,truncated:n,originalSize:n?s:void 0}}var Au=class{jupyterAdapter;constructor(t){this.jupyterAdapter=t}async listNotebooks(t,r,n){try{let{ServerConnection:s}=await Promise.resolve().then(()=>Te(It(),1)),{URLExt:i}=await Promise.resolve().then(()=>Te(Ke(),1)),a=s.makeSettings({baseUrl:this.jupyterAdapter.baseUrl}),o=t||"",l=i.encodeParts(o)||"/",c=i.join(a.baseUrl,"/api/contents",l),u={method:"GET"},d;try{d=await this.jupyterAdapter.makeJupyterRequest(c,u)}catch(O){throw Z.error(`Network error in listNotebooks. URL: ${c}, Method: ${u.method}, Base URL: ${a.baseUrl}`,O),new Error(`Network error when accessing ${c}: ${O instanceof Error?O.message:String(O)}`)}let h=await d.text(),f=null;if(h.length>0)try{f=JSON.parse(h)}catch(O){Z.error(`Not a JSON response body in listNotebooks. Response status: ${d.status}, Response text: ${await d.text().catch(()=>"Could not read response text")}`,O)}if(!d.ok)throw new Error(`Server returned ${d.status}: ${f?.message||h}`);if(!f)throw new Error("Failed to parse response data");let p=[],g=r??3,y=n??10,v=async(O,b=0)=>{let P=i.encodeParts(O)||"/",R=i.join(a.baseUrl,"/api/contents",P),E;try{E=await this.jupyterAdapter.makeJupyterRequest(R,u)}catch(J){throw Z.error(`Network error in extractNotebooks. URL: ${R}`,J),new Error(`Network error when accessing ${R}: ${J instanceof Error?J.message:String(J)}`)}let $=await E.text(),H=null;if($.length>0)try{H=JSON.parse($)}catch(J){Z.error(`Not a JSON response body in extractNotebooks. Response status: ${E.status}`,J)}if(!E.ok)throw new Error(`Server returned ${E.status}: ${H?.message||$}`);if(!H)throw new Error("Failed to parse response data");let Y=H;if(Y.type==="directory"){if(Y.content){for(let J of Y.content)if(J.type==="notebook"){let ee=`${this.jupyterAdapter.baseUrl}/notebooks/${J.path}`,X=this._getNotebookRTCSession(J.path);if(p.length>=y)return!0;p.push({path:J.path,name:J.name,last_modified:J.last_modified,created:J.created,size:J.size,writable:J.writable,url:ee,rtc_session:X})}else if(J.type==="directory"&&b<g&&!this._shouldSkipDirectory(J.name))try{await v(J.path,b+1)}catch(G){Z.warn(`Failed to access subdirectory ${J.path}`,G)}}}else if(Y.type==="notebook"){let G=`${this.jupyterAdapter.baseUrl}/notebooks/${Y.path}`,ee=this._getNotebookRTCSession(Y.path);if(p.length>=y)return!0;p.push({path:Y.path,name:Y.name,last_modified:Y.last_modified,created:Y.created,size:Y.size,writable:Y.writable,url:G,rtc_session:ee})}return!1},C=await v(o,0),x=p.filter(O=>O.rtc_session).length,k=p.reduce((O,b)=>O+(b.size||0),0),A=new Date().toISOString(),q=`Found ${p.length} notebooks${C?" (more available)":""}${x>0?` (${x} with active RTC sessions)`:""}. Focus on notebooks with active sessions first for immediate collaboration.`,L=C?["Increase maxDepth to search deeper into nested directories for more notebooks","Use a more nested path to search inside a specific deeper directory","Select a notebook with active session for real-time collaboration"]:x>0?["Select a notebook with active session for real-time collaboration","Use get_nb_stat on specific notebooks for detailed information"]:["Use get_nb_stat on specific notebooks for detailed information","Assign kernels to notebooks to start RTC sessions"],N={total_notebooks:p.length,active_sessions:x,total_size:`${(k/1024).toFixed(1)}KB`,last_scan:A};return Ge("list_nbs",q,{summary:N,notebooks:p,more_exist:C},L)}catch(s){throw Z.error(`Failed to list notebooks from ${t||"root"}`,s),new Error(`Failed to list notebooks from ${t||"root"}: ${s instanceof Error?s.message:String(s)}`)}}_shouldSkipDirectory(t){return[".ipynb_checkpoints","__pycache__",".git",".vscode",".idea","node_modules"].includes(t)}_getNotebookRTCSession(t){for(let r of this.jupyterAdapter.listCurrNotebookSessions(t)){let n=r.session;return{session_id:n.sessionId,file_id:n.fileId,connected:r.isConnected(),synced:r.isSynced()}}}_getCollaborators(t){return[]}async getNotebookStatus(t){try{let r=await this.jupyterAdapter.createNotebookSession(t);await r.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(r.session.fileId);let n=r.getYNotebook().toJSON(),{ServerConnection:s}=await Promise.resolve().then(()=>Te(It(),1)),{URLExt:i}=await Promise.resolve().then(()=>Te(Ke(),1)),a=s.makeSettings({baseUrl:this.jupyterAdapter.baseUrl}),o=i.join(a.baseUrl,"/api/contents",i.encodeParts(t)),l={method:"GET"},c;try{c=await this.jupyterAdapter.makeJupyterRequest(o,l)}catch(x){throw Z.error(`Network error in getNotebookStatus. URL: ${o}, Notebook path: ${t}, Base URL: ${a.baseUrl}`,x),new Error(`Network error when accessing ${o} for notebook ${t}: ${x instanceof Error?x.message:String(x)}`)}let u=await c.text(),d=null;if(u.length>0)try{d=JSON.parse(u)}catch(x){Z.error(`Not a JSON response body in getNotebookStatus. Response status: ${c.status}, Response text: ${await c.text().catch(()=>"Could not read response text")}`,x)}if(!c.ok)throw new Error(`Server returned ${c.status}: ${d?.message||u}`);let h={path:t,cell_count:n.cells.length,last_modified:d.last_modified},f=await r.getKernelConnection();f&&(h.kernel={id:f.id,name:f.name});let p={session_id:r.session.sessionId,file_id:r.session.fileId,connected:r.isConnected(),synced:r.isSynced()},g=p!==void 0,y=`Retrieved status for notebook '${t}' with ${h.cell_count} cells${g?". RTC session is active and ready for operations":". No active RTC session - kernel assignment will create one"}.`,v=h.cell_count===0?["Add cells to the notebook to start working","Assign a kernel to enable execution and RTC collaboration"]:g?["Execute cells to see current output","Modify content if needed","Check kernel health for performance"]:["Assign a kernel to start an RTC session for collaboration","Execute cells to see current output","Modify content if needed"],C={...h,rtc_session:g?"active":"inactive",session_details:p};return Ge("get_nb_stat",y,C,v)}catch(r){throw Z.error(`Failed to get status for notebook ${t}`,r),new Error(`Failed to get status for notebook ${t}: ${r instanceof Error?r.message:String(r)}`)}}_truncateText(t,r){return t.length<=r?{text:t,truncated:!1}:{text:t.substring(0,r-14)+"... [truncated]",truncated:!0}}_processCellOutputs(t,r){let n=[],s=[];for(let i of t){let a=i;if(a.output_type==="execute_result"||a.output_type==="display_data"){let o={data:{},metadata:a.metadata||{},execution_count:a.execution_count};for(let[l,c]of Object.entries(a.data||{}))if(typeof c=="string"){let u=this._truncateText(c,r);o.data[l]=u.text,u.truncated?s.push(!0):s.push(!1)}else o.data[l]=c,s.push(!1);n.push(o)}else if(a.output_type==="error"){let o={name:a.ename||"Error",value:a.evalue||"",traceback:a.traceback||[]},l=this._truncateText(o.value,r);o.value=l.text,l.truncated?s.push(!0):s.push(!1);let c=[],u=!1;for(let d of o.traceback){let h=this._truncateText(d,r);c.push(h.text),h.truncated&&(u=!0)}o.traceback=c,u&&s.push(!0),n.push(o)}else if(a.output_type==="stream"){let o={data:{"text/plain":a.text||""},metadata:{}},l=this._truncateText(String(o.data["text/plain"]),r);o.data["text/plain"]=l.text,s.push(l.truncated),n.push(o)}else s.push(!1)}return{outputs:n,truncated:s}}async readNotebookCells(t,r,n=2048){try{let s=await this.jupyterAdapter.createNotebookSession(t);await s.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(s.session.fileId);let i=s.getYNotebook().toJSON(),a=r||[{start:0,end:i.cells.length}],o=[],l=!1;for(let p of a){let g=Math.max(0,p.start),y=Math.min(i.cells.length,p.end||i.cells.length);for(let v=g;v<y;v++){let C=i.cells[v],x=this._truncateText(Array.isArray(C.source)?C.source.join(""):C.source||"",n),k={index:v,id:String(C.id||`cell-${v}`),cell_type:C.cell_type,source:x.text,metadata:C.metadata||{}};if(x.truncated?(k.truncated={source:!0},l=!0):k.truncated={source:!1},C.cell_type==="code"&&(C.execution_count!==null&&C.execution_count!==void 0&&(k.execution_count=Number(C.execution_count)),C.outputs&&Array.isArray(C.outputs)&&C.outputs.length>0)){let{outputs:A,truncated:q}=this._processCellOutputs(C.outputs,n);k.outputs=A,k.truncated?k.truncated.outputs=q:k.truncated={source:!1,outputs:q},q.some(L=>L)&&(l=!0)}o.push(k)}}let c={path:t,cells:o,truncated:l,max_cell_data:n},d={session_id:s.session.sessionId,file_id:s.session.fileId,connected:s.isConnected(),synced:s.isSynced()}!==void 0,h=`Read ${o.length} cells from notebook '${t}'${l?" (some content was truncated)":""}${d?". RTC session is active":". No active RTC session"}. Cells appear readable and actionable.`;return Ge("read_nb_cells",h,c,d?["Execute cells to see current output","Modify cells if needed","Analyze cell outputs for insights"]:["Execute cells to see current output","Modify cells if needed","Assign a kernel to start an RTC session for collaboration"])}catch(s){throw Z.error(`Failed to read cells from notebook ${t}. Cell ranges: ${JSON.stringify(r)}`,s),new Error(`Failed to read cells from notebook ${t}: ${s instanceof Error?s.message:String(s)}`)}}async modifyNotebookCells(t,r,n,s=2e3){try{let i=await this.jupyterAdapter.createNotebookSession(t);await i.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(i.session.fileId);let a=i.getYNotebook(),o=[];a.transact(()=>{for(let d of r){let h=Math.max(0,d.range.start),f=Math.min(a.cells.length,d.range.end||a.cells.length);for(let p=h;p<f;p++){let g=a.getCell(p);g.setSource(d.content),g.cell_type==="code"&&o.push(g)}}});let l=[];if(n!==!1){let d=await i.ensureKernelConnection();for(let h of o){if(!h.getSource().trim()){h.clearOutputs(),h.execution_count=null;continue}let f=await Fi(h,d,s);l.push({outputs:f.outputs,truncated:f.truncated,original_size:f.originalSize})}}let c=`Successfully modified ${r.length} cell ranges${n!==!1?" and executed cells":""} in notebook. RTC session maintained changes in real-time.`,u=n!==!1?["Check execution results for any errors","Verify the execution results","Continue with next cell modifications"]:["Execute cells to see the changes","Save changes if satisfied","Continue with additional modifications if needed"];return Ge("modify_nb_cells",c,{modified_ranges:r.length,executed:n!==!1,execution_results:n!==!1?l:void 0},u)}catch(i){throw Z.error(`Failed to modify cells in notebook ${t}. Modifications count: ${r.length}`,i),new Error(`Failed to modify cells in notebook ${t}: ${i instanceof Error?i.message:String(i)}`)}}async createNotebook(t){try{let{ServerConnection:r}=await Promise.resolve().then(()=>Te(It(),1)),{URLExt:n}=await Promise.resolve().then(()=>Te(Ke(),1)),s=r.makeSettings({baseUrl:this.jupyterAdapter.baseUrl}),i=n.join(s.baseUrl,"/api/contents",n.encodeParts(t));if(!t.toLowerCase().endsWith(".ipynb"))throw new Error("Notebook file path must end with .ipynb extension");let o={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"notebook",content:{cells:[],metadata:{},nbformat:4,nbformat_minor:5},format:"json"})},l;try{l=await this.jupyterAdapter.makeJupyterRequest(i,o)}catch(h){throw Z.error(`Network error in createNotebook. URL: ${i}, Notebook path: ${t}, Base URL: ${s.baseUrl}`,h),new Error(`Network error when creating notebook at ${i}: ${h instanceof Error?h.message:String(h)}`)}if(!l.ok){let h="";try{h=` - Response body: ${await l.text()}`}catch{h=" - Could not read response body"}throw Z.error(`Server error in createNotebook. URL: ${i}, Notebook path: ${t}, Error details: ${h}`),new Error(`Server returned ${l.status} when creating notebook at ${t}: ${l.statusText}${h}`)}let c=`Successfully created empty notebook at '${t}'. Ready for initial setup and RTC session creation.`,u=["Add initial cells to start working","Assign a kernel for execution (this will create an RTC session)","Set up basic notebook structure","Begin collaborative work once session is established"],d={path:t,type:"notebook",size:72,cells:0,urls:{notebook:`${this.jupyterAdapter.baseUrl}/notebooks/${t}`,edit:`${this.jupyterAdapter.baseUrl}/edit/${t}`}};return Ge("create_notebook",c,d,u)}catch(r){throw Z.error(`Failed to create notebook at ${t}`,r),new Error(`Failed to create notebook at ${t}: ${r instanceof Error?r.message:String(r)}`)}}async insertNotebookCells(t,r,n,s,i=2e3){try{let a=n.map(f=>({cell_type:f.type||"code",source:f.content})),o=await this.jupyterAdapter.createNotebookSession(t);await o.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(o.session.fileId);let l=o.getYNotebook(),c=[];l.insertCells(r,a);for(let f=0;f<a.length;f++){let p=r+f,g=l.cells[p];g&&g.cell_type==="code"&&c.push(g)}let u=[];if(s!==!1){let f=await o.ensureKernelConnection();for(let p of c){if(!p.getSource().trim()){p.clearOutputs(),p.execution_count=null;continue}let g=await Fi(p,f,i);u.push({outputs:g.outputs,truncated:g.truncated,original_size:g.originalSize})}}let d=`Successfully inserted ${n.length} cells at position ${r}${s!==!1?" and executed them":""} in notebook. RTC session maintained changes in real-time.`,h=s!==!1?["Check execution results for any errors","Verify the inserted cells are working correctly","Continue building the notebook structure"]:["Execute the cells to see the output","Verify the inserted cells are working correctly","Continue building the notebook structure"];return Ge("insert_nb_cells",d,{position:r,cells_inserted:n.length,executed:s!==!1,execution_results:s!==!1?u:void 0},h)}catch(a){throw Z.error(`Failed to insert cells into notebook ${t} at position ${r}. Cells count: ${n.length}`,a),new Error(`Failed to insert cells into notebook ${t} at position ${r}: ${a instanceof Error?a.message:String(a)}`)}}async deleteNotebookCells(t,r){try{let n=await this.jupyterAdapter.createNotebookSession(t);await n.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(n.session.fileId);let s=n.getYNotebook(),i=[...r].sort((c,u)=>u.start-c.start),a=0;s.transact(()=>{for(let c of i){let u=Math.max(0,c.start-a),d=Math.min(s.cells.length,(c.end||s.cells.length)-a),h=d-u;h>=1&&(s.deleteCellRange(u,d),a+=h)}});let o=`Successfully deleted ${a} cells from notebook '${t}'. RTC session maintained changes in real-time.`,l=["Add new cells if needed to replace deleted content","Execute remaining cells to verify notebook integrity","Review notebook structure after deletions"];return Ge("delete_nb_cells",o,{cells_deleted:a,ranges_processed:r.length},l)}catch(n){throw Z.error(`Failed to delete cells from notebook ${t}. Ranges: ${JSON.stringify(r)}`,n),new Error(`Failed to delete cells from notebook ${t}: ${n instanceof Error?n.message:String(n)}`)}}async restartNotebookKernel(t,r,n,s){try{let i=await this.jupyterAdapter.createNotebookSession(t);this.jupyterAdapter.updateSessionActivity(i.session.fileId),await i.restartKernel(s,r,n);let a=`Successfully restarted kernel for notebook '${t}'${s?` with '${s}'`:""}. RTC session maintained throughout restart process.`;return Ge("restart_nb_kernel",a,{kernel_restarted:!0,cleared_outputs:!!r,executed_cells:n!==!1,kernel_name:s||"default"},n!==!1?["Check execution results for any errors","Verify all cells executed correctly with new kernel","Continue working with refreshed kernel environment"]:["Execute cells to test the restarted kernel","Verify kernel is responding correctly","Continue working with refreshed kernel environment"])}catch(i){throw Z.error(`Failed to restart kernel for notebook ${t}. Clear outputs: ${!!r}, Execute cells: ${!!n}, Kernel name: ${s||"default"}`,i),new Error(`Failed to restart kernel for notebook ${t}: ${i instanceof Error?i.message:String(i)}`)}}async listAvailableKernels(){try{let{ServerConnection:t}=await Promise.resolve().then(()=>Te(It(),1)),{URLExt:r}=await Promise.resolve().then(()=>Te(Ke(),1)),n=t.makeSettings({baseUrl:this.jupyterAdapter.baseUrl}),s=r.join(n.baseUrl,"/api/kernelspecs"),i={method:"GET"},a;try{a=await this.jupyterAdapter.makeJupyterRequest(s,i)}catch(h){throw Z.error(`Network error in listAvailableKernels. URL: ${s}, Base URL: ${n.baseUrl}`,h),new Error(`Network error when accessing ${s}: ${h instanceof Error?h.message:String(h)}`)}let o=await a.text(),l=null;if(o.length>0)try{l=JSON.parse(o)}catch(h){Z.error(`Not a JSON response body in listAvailableKernels. Response status: ${a.status}, Response text: ${await a.text().catch(()=>"Could not read response text")}`,h)}if(!a.ok)throw new Error(`Server returned ${a.status}: ${l?.message||o}`);let c=[];if(l&&l.kernelspecs){let h=l.kernelspecs;for(let[f,p]of Object.entries(h))c.push({name:f,display_name:p.display_name,language:p.language,path:p.resource_dir})}let u=`\u{1F4CB} Found ${c.length} available kernels. Ready for notebook kernel assignments.`;return Ge("list_available_kernels",u,{kernels:c},["Assign selected kernel to your notebook to start working"])}catch(t){throw Z.error(`Failed to list available kernels. Base URL: ${this.jupyterAdapter.baseUrl}`,t),new Error(`Failed to list available kernels: ${t instanceof Error?t.message:String(t)}`)}}async assignNotebookKernel(t,r){try{let n=await this.jupyterAdapter.createNotebookSession(t);this.jupyterAdapter.updateSessionActivity(n.session.fileId);let s=await n.getKernelConnection(r);if(!s)return Vp("assign_notebook_kernel","Failed to establish kernel connection","KERNEL_CONNECTION_FAILED",{kernel_name:r,notebook_path:t},["Check that the kernel name is correct and available","Use list_available_kernels to see available options"]);let i=`\u2705 Successfully assigned kernel '${r}' to notebook '${t}'.`,a=["Execute cells to test the new kernel"];return Ge("assign_nb_kernel",i,{kernel_assigned:!0,kernel_name:r,notebook_path:t,kernel_id:s.id,kernel_display_name:s.name},a)}catch(n){return Z.error(`Failed to assign notebook kernel. Notebook path: ${t}, Kernel name: ${r}`,n),Vp("assign_notebook_kernel","Failed to assign kernel to notebook","KERNEL_ASSIGNMENT_FAILED",{kernel_name:r,notebook_path:t,error_details:n instanceof Error?n.message:String(n)},["Check that the notebook exists","Verify the kernel name is available","Try restarting the notebook kernel"])}}async executeNotebookCells(t,r,n=2e3){try{let s=await this.jupyterAdapter.createNotebookSession(t);await s.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(s.session.fileId);let i=s.getYNotebook(),a=await s.ensureKernelConnection(),o=[];for(let d of r){let h=Math.max(0,d.start),f=Math.min(i.cells.length,d.end||i.cells.length);for(let p=h;p<f;p++){let g=i.getCell(p);g.cell_type==="code"&&o.push(g)}}let l=[];for(let d of o){if(!d.getSource().trim()){d.clearOutputs(),d.execution_count=null;continue}let h=await Fi(d,a,n);l.push({outputs:h.outputs,truncated:h.truncated,original_size:h.originalSize})}let c=`Successfully executed ${o.length} cells across ${r.length} ranges. RTC session maintained execution results in real-time.`,u=["Check execution results for any errors","Review cell outputs for expected results","Continue with next steps based on execution outcomes"];return Ge("execute_nb_cells",c,{executed_ranges:r.length,executed_cells:o.length,execution_results:l},u)}catch(s){throw Z.error(`Failed to execute cells in notebook ${t}. Ranges: ${JSON.stringify(r)}`,s),new Error(`Failed to execute cells in notebook ${t}: ${s instanceof Error?s.message:String(s)}`)}}};var Mu=class{jupyterAdapter;constructor(t){this.jupyterAdapter=t}async listDocuments(t){try{let r=this.jupyterAdapter.baseUrl,s=`${r}/api/contents/${t||""}`,i={method:"GET"},a=await this.jupyterAdapter.makeJupyterRequest(s,i);if(!a.ok)throw new Error(`Server returned ${a.status}: ${a.statusText}`);let l=(await a.json()).content.map(d=>{let h;return d.type==="notebook"?h=`${r}/notebooks/${d.path}`:d.type==="file"?h=`${r}/edit/${d.path}`:h=`${r}/tree/${d.path}`,{name:d.name,path:d.path,type:d.type,created:d.created,last_modified:d.last_modified,size:d.size,writable:d.writable,url:h}}),c=`Found ${l.length} documents in the specified path. Ready for document operations and RTC session management.`;return Ge("list_documents",c,{documents:l},["Select a document for reading or editing","Use get_document_info for detailed information","Create new documents if needed"])}catch(r){throw Z.error(`Failed to list documents from ${t||"root"}`,r),new Error(`Failed to list documents: ${r instanceof Error?r.message:String(r)}`)}}async createDocument(t,r,n){try{let s=`${this.jupyterAdapter.baseUrl}/api/contents/${t}`,i=r||"markdown",a={type:i};if(n!==void 0&&(a.content=n,a.format="text"),t.toLowerCase().endsWith(".ipynb"))throw new Error("Cannot create .ipynb files with create_document. Use create_notebook tool instead.");let o={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},l=this.jupyterAdapter.token;l&&(o.headers={...o.headers,Authorization:`token ${l}`});let c=await this.jupyterAdapter.makeJupyterRequest(s,o);if(!c.ok){let f="";try{f=` - Response body: ${await c.text()}`}catch{f=" - Could not read response body"}throw new Error(`Server returned ${c.status}: ${c.statusText}${f}`)}let u=`Successfully created document at '${t}'. Ready for content editing and RTC session creation.`,d=["Add content to the document","Open the document in JupyterLab to start working","Begin collaborative editing once RTC session is established"],h={path:t,type:i,size:n?n.length:0,urls:{document:`${this.jupyterAdapter.baseUrl}/edit/${t}`}};return Ge("create_document",u,h,d)}catch(s){throw Z.error(`Failed to create document at ${t}. Document type: ${r||"markdown"}`,s),new Error(`Failed to create document: ${s instanceof Error?s.message:String(s)}`)}}async getDocumentInfo(t,r=!1,n=32768){try{let s=`${this.jupyterAdapter.baseUrl}/api/contents/${t}`,i={method:"GET"},a=await this.jupyterAdapter.makeJupyterRequest(s,i);if(!a.ok){let h="";try{h=` - Response body: ${await a.text()}`}catch{h=" - Could not read response body"}throw new Error(`Server returned ${a.status}: ${a.statusText}${h}`)}let o=await a.json(),l=this.jupyterAdapter.baseUrl,c;o.type==="notebook"?c=`${l}/notebooks/${o.path}`:o.type==="file"?c=`${l}/edit/${o.path}`:c=`${l}/tree/${o.path}`;let u={name:o.name,path:o.path,type:o.type,created:o.created,last_modified:o.last_modified,size:o.size,writable:o.writable,mimetype:o.mimetype,format:o.format,url:c},d=[{type:"text",text:JSON.stringify(u,null,2)}];if(r&&typeof o.content=="string"){let h=o.content,f=h.length,p={content_length:f};if(f>n){let g=`

...[CONTENT TRUNCATED]`;h=h.substring(0,n-g.length)+g,p.truncated=!0}else p.truncated=!1;d.push({type:"text",text:JSON.stringify(p,null,2)}),d.push({type:"text",text:h})}return{content:d}}catch(s){throw Z.error(`Failed to get document info for ${t}. Include content: ${r}, Max content: ${n}`,s),new Error(`Failed to get document info: ${s instanceof Error?s.message:String(s)}`)}}async deleteDocument(t){try{let r=`${this.jupyterAdapter.baseUrl}/api/contents/${t}`,n={method:"DELETE"},s=await this.jupyterAdapter.makeJupyterRequest(r,n);if(!s.ok){let o="";try{o=` - Response body: ${await s.text()}`}catch{o=" - Could not read response body"}throw new Error(`Server returned ${s.status}: ${s.statusText}${o}`)}let i=`Successfully deleted document at '${t}'. Document is permanently removed from the server.`;return Ge("delete_document",i,{path:t},["Create a new document if needed to replace the deleted one","Update any references to the deleted document","Verify that dependent files are still functional"])}catch(r){throw Z.error(`Failed to delete document at ${t}`,r),new Error(`Failed to delete document: ${r instanceof Error?r.message:String(r)}`)}}async renameDocument(t,r){try{let n=`${this.jupyterAdapter.baseUrl}/api/contents/${t}`,i={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:r})},a=this.jupyterAdapter.token;a&&(i.headers={...i.headers,Authorization:`token ${a}`});let o=await this.jupyterAdapter.makeJupyterRequest(n,i);if(!o.ok){let l="";try{l=` - Response body: ${await o.text()}`}catch{l=" - Could not read response body"}throw new Error(`Server returned ${o.status}: ${o.statusText}${l}`)}return{content:[{type:"text",text:`Successfully renamed document from ${t} to ${r}`}]}}catch(n){throw Z.error(`Failed to rename document from ${t} to ${r}`,n),new Error(`Failed to rename document: ${n instanceof Error?n.message:String(n)}`)}}async copyDocument(t,r){try{let n=`${this.jupyterAdapter.baseUrl}/api/contents/${r}`,i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({copy_from:t})},a=await this.jupyterAdapter.makeJupyterRequest(n,i);if(!a.ok){let o="";try{o=` - Response body: ${await a.text()}`}catch{o=" - Could not read response body"}throw new Error(`Server returned ${a.status}: ${a.statusText}${o}`)}return{content:[{type:"text",text:`Successfully copied document from ${t} to ${r}`}]}}catch(n){throw Z.error(`Failed to copy document from ${t} to ${r}`,n),new Error(`Failed to copy document: ${n instanceof Error?n.message:String(n)}`)}}async overwriteDocument(t,r,n){try{let s=`${this.jupyterAdapter.baseUrl}/api/contents/${t}`,a={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:r,format:"text",type:n})},o=this.jupyterAdapter.token;o&&(a.headers={...a.headers,Authorization:`token ${o}`});let l=await this.jupyterAdapter.makeJupyterRequest(s,a);if(!l.ok){let c="";try{c=` - Response body: ${await l.text()}`}catch{c=" - Could not read response body"}throw new Error(`Server returned ${l.status}: ${l.statusText}${c}`)}return{content:[{type:"text",text:`Successfully modified document at ${t}`}]}}catch(s){throw Z.error(`Failed to modify document at ${t}. Document type: ${n}`,s),new Error(`Failed to modify document: ${s instanceof Error?s.message:String(s)}`)}}async insertDocumentText(t,r,n){try{if(t.toLowerCase().endsWith(".ipynb"))throw new Error("Cannot insert text into notebook files. Use notebook tools instead.");let s=await this.jupyterAdapter.createDocumentSession(t);return await s.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(s.session.fileId),s.insertText(r,n),{content:[{type:"text",text:`Successfully inserted text at position ${r} in document ${t} using RTC`}]}}catch(s){throw Z.error(`Failed to insert document text at position ${r} in document ${t}`,s),new Error(`Failed to insert document text: ${s instanceof Error?s.message:String(s)}`)}}async deleteDocumentText(t,r,n){try{if(t.toLowerCase().endsWith(".ipynb"))throw new Error("Cannot delete text from notebook files. Use notebook tools instead.");let s=await this.jupyterAdapter.createDocumentSession(t);return await s.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(s.session.fileId),s.deleteText(r,n),{content:[{type:"text",text:`Successfully deleted ${n} characters from position ${r} in document ${t} using RTC`}]}}catch(s){throw Z.error(`Failed to delete ${n} characters from position ${r} in document ${t}`,s),new Error(`Failed to delete document text: ${s instanceof Error?s.message:String(s)}`)}}async replaceDocumentText(t,r,n,s){try{if(t.toLowerCase().endsWith(".ipynb"))throw new Error("Cannot replace text in notebook files. Use notebook tools instead.");let i=await this.jupyterAdapter.createDocumentSession(t);return await i.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(i.session.fileId),i.replaceText(r,n,s),{content:[{type:"text",text:`Successfully replaced ${n} characters with new text at position ${r} in document ${t} using RTC`}]}}catch(i){throw Z.error(`Failed to replace ${n} characters at position ${r} in document ${t}`,i),new Error(`Failed to replace document text: ${i instanceof Error?i.message:String(i)}`)}}async getDocumentContent(t,r=32768){try{if(t.toLowerCase().endsWith(".ipynb"))throw new Error("Cannot get content from notebook files using this method. Use notebook tools instead.");let n=await this.jupyterAdapter.createDocumentSession(t);await n.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(n.session.fileId);let s=n.getContent(),i=s.length,a={content_length:i};if(i>r){let o=`

...[CONTENT TRUNCATED]`;s=s.substring(0,r-o.length)+o,a.truncated=!0}else a.truncated=!1;return{content:[{type:"text",text:JSON.stringify(a,null,2)},{type:"text",text:s}]}}catch(n){throw Z.error(`Failed to get document content for ${t}. Max content: ${r}`,n),new Error(`Failed to get document content: ${n instanceof Error?n.message:String(n)}`)}}async endDocumentSession(t){try{return await this.jupyterAdapter.endDocumentSession({path:t})}catch(r){throw Z.error(`Failed to end document session for ${t}`,r),new Error(`Failed to end document session: ${r instanceof Error?r.message:String(r)}`)}}async queryDocumentSession(t){try{let r=this.jupyterAdapter.listCurrTextDocSessions(t);return{content:[{type:"text",text:JSON.stringify(r,null,2)}]}}catch(r){throw Z.error(`Failed to query document session for ${t}`,r),new Error(`Failed to query document session: ${r instanceof Error?r.message:String(r)}`)}}};var Uu=class{jupyterAdapter;constructor(t){this.jupyterAdapter=t}async getBaseUrl(){try{let t=this.jupyterAdapter.baseUrl;return Ge("get_base_url","\u{1F310} Successfully retrieved JupyterLab base URL. Server ready for notebook operations.",{base_url:t},["Use nb_path_from_url to extract notebook paths from full URLs","Use this base URL to construct full notebook URLs for sharing"],void 0,[])}catch(t){throw Z.error("Failed to get base URL:",t),new Error(`Failed to get base URL: ${t instanceof Error?t.message:String(t)}`)}}async nbPathFromUrl(t){try{if(!t)throw new Error("URL is required");let r=this.jupyterAdapter.baseUrl,n;try{n=new URL(t)}catch{throw new Error(`Invalid URL provided: ${t}`)}let s=n.pathname,i;try{i=new URL(r)}catch{throw new Error(`Invalid base URL: ${r}`)}let a=i.pathname;if(n.protocol!==i.protocol)throw new Error(`URL protocol does not match the JupyterLab base URL protocol: ${i.protocol}`);if(n.host!==i.host)throw new Error(`URL host does not match the JupyterLab base URL host: ${i.host}`);let o=a.replace(/\/$/,""),l=s.replace(/\/$/,"");if(!l.startsWith(o))throw new Error(`URL path does not match the JupyterLab base URL path: ${a}`);let c=l.substring(o.length);c.startsWith("/")&&(c=c.substring(1));let u=["tree/","notebooks/","nbclassic/notebooks/","edit/","view/","lab/tree/"];for(let k of u)if(c.startsWith(k)){c=c.substring(k.length);break}let d;try{d=decodeURIComponent(c)}catch{throw new Error(`Failed to decode URL path: ${c}`)}let h=!1,f="absent",p="",g="",y="";try{let{ServerConnection:k}=await Promise.resolve().then(()=>Te(It(),1)),{URLExt:A}=await Promise.resolve().then(()=>Te(Ke(),1)),q=k.makeSettings({baseUrl:this.jupyterAdapter.baseUrl}),L=A.join(q.baseUrl,"/api/contents",A.encodeParts(d)),N=await this.jupyterAdapter.makeJupyterRequest(L,{method:"GET"});if(N.ok){let O=await N.json();if(O.type==="notebook"){h=!0;let b=this.jupyterAdapter.getNotebookSession(O.path);b&&b.isConnected()&&(f="present");let P=d.split("/");g=P.pop()||"",p=P.join("/"),y=`${r}/notebooks/${d}`}}}catch(k){Z.warn(`Failed to check notebook existence for ${d}:`,k)}let v=h?`\u{1F517} Successfully extracted notebook path '${d}' from the provided JupyterLab URL. RTC session is ${f} for real-time collaboration.`:`\u{1F517} Successfully extracted notebook path '${d}' from the provided JupyterLab URL. Notebook may not exist or is inaccessible.`;return Ge("nb_path_from_url",v,{original_url:t,base_url:r,notebook_path:d,directory:p,filename:g,notebook_exists:h,rtc_session:f,url:y},h?f==="present"?["Use read_nb_cells to examine the notebook content","Use get_nb_stat to check kernel and cell information","Modify cells with immediate collaboration visibility"]:["Use read_nb_cells to examine the notebook content","Use get_nb_stat to check kernel and cell information","Assign a kernel to start an RTC session for collaboration"]:["Verify the notebook path exists","Use list_nbs to find available notebooks","Create the notebook if it doesn't exist"],void 0,[])}catch(r){throw Z.error("Failed to extract notebook path from URL:",r),new Error(`Failed to extract notebook path from URL: ${r instanceof Error?r.message:String(r)}`)}}};var Nu=class{server;jupyterAdapter;notebookTools;documentTools;urlTools;constructor(t,r){this.server=new yl({name:jd.name,version:jd.version},{capabilities:{tools:{}}}),this.jupyterAdapter=new ju(t,r),this.urlTools=new Uu(this.jupyterAdapter),this.notebookTools=new Au(this.jupyterAdapter),this.documentTools=new Mu(this.jupyterAdapter),this.registerURLTools(),this.registerNotebookTools(),process.env.JUPYTERLAB_DOC_TOOLS&&this.registerDocumentTools()}sanitizeNotebookSessions(t){return t.map(r=>({path:r.docpath,session_id:r.session.sessionId,file_id:r.session.fileId,status:r.isConnected()?r.isSynced()?"connected":"connecting":"disconnected",cell_count:r.getYNotebook().cells.length,last_activity:new Date().toISOString(),message:r.isConnected()?r.isSynced()?"RTC session is active and synchronized":"RTC session is connecting":"RTC session is disconnected"}))}registerURLTools(){this.server.tool("get_base_url","Get the base URL of the JupyterLab server",{},async()=>await this.urlTools.getBaseUrl()),this.server.tool("nb_path_from_url","Extract the notebook path from a full JupyterLab URL with proper URL decoding and RTC session status",{url:m.string().describe("Full JupyterLab URL to a notebook")},async({url:t})=>await this.urlTools.nbPathFromUrl(t))}registerNotebookTools(){this.server.tool("query_nb_sessions","Query the status of real-time collaboration sessions for notebooks in a directory",{root_path:m.string().optional().describe("Directory path to search for notebook sessions (default: lab root directory)")},async({root_path:t})=>{let r=this.jupyterAdapter.listCurrNotebookSessions(t||""),n=this.sanitizeNotebookSessions(r),s={root_path:t||"",sessions:n,total_sessions:n.length,active_sessions:n.filter(i=>i.status==="connected").length};return{content:[{type:"text",text:JSON.stringify(s,null,2)}]}}),this.server.tool("end_nb_session","End a real-time collaboration session for a notebook",{path:m.string().describe("Path to the notebook file")},async({path:t})=>await this.jupyterAdapter.endNotebookSession({path:t})),this.server.tool("list_nbs","List all notebook files under specified directory with summary statistics and active session counts",{path:m.string().optional().describe("Directory path to search for notebooks (default: root)"),max_depth:m.number().default(3).describe("Maximum depth to search recursively (0 for current directory only, default: 3)"),max_nbs:m.number().default(10).describe("Maximum number of notebooks to return (default: 10)")},async({path:t,max_depth:r,max_nbs:n})=>await this.notebookTools.listNotebooks(t,r,n)),this.server.tool("create_notebook","Create a new empty notebook in JupyterLab",{path:m.string().describe("Path for the new notebook file (must end with .ipynb)")},async({path:t})=>await this.notebookTools.createNotebook(t)),this.server.tool("get_nb_stat","Get status information about a notebook (establishes RTC session)",{path:m.string().describe("Path to the notebook file")},async({path:t})=>await this.notebookTools.getNotebookStatus(t)),this.server.tool("read_nb_cells","Read multiple cells by specifying ranges (establishes RTC session)",{path:m.string().describe("Path to the notebook file"),ranges:m.array(m.object({start:m.number().describe("Starting cell index"),end:m.number().optional().describe("Ending cell index (exclusive)")})).optional().describe("Array of cell ranges to read"),max_cell_data:m.number().default(2048).describe("Maximum size in characters for cell source and output data (default: 2048)")},async({path:t,ranges:r,max_cell_data:n})=>await this.notebookTools.readNotebookCells(t,r,n)),this.server.tool("modify_nb_cells","Modify multiple cells by specifying ranges, execute them if not disabled (establishes RTC session)",{path:m.string().describe("Path to the notebook file"),modifications:m.array(m.object({range:m.object({start:m.number().describe("Starting cell index"),end:m.number().optional().describe("Ending cell index (exclusive)")}),content:m.string().describe("New content for the cells")})).describe("Array of cell modifications"),exec:m.boolean().default(!0).describe("Whether to execute the modified cells"),max_cell_output_size:m.number().default(2e3).describe("Maximum size in characters for cell output data when executing cells (default: 2000)")},async({path:t,modifications:r,exec:n,max_cell_output_size:s})=>await this.notebookTools.modifyNotebookCells(t,r,n,s)),this.server.tool("insert_nb_cells","Insert multiple cells at specified location, execute them if not disabled (establishes RTC session)",{path:m.string().describe("Path to the notebook file"),position:m.number().describe("Position to insert the cells"),cells:m.array(m.object({type:m.enum(["code","markdown"]).default("code").describe("Cell type"),content:m.string().describe("Cell content")})).describe("Array of cells to insert"),exec:m.boolean().default(!0).describe("Whether to execute the inserted cells"),max_cell_output_size:m.number().default(2e3).describe("Maximum size in characters for cell output data when executing cells (default: 2000)")},async({path:t,position:r,cells:n,exec:s,max_cell_output_size:i})=>await this.notebookTools.insertNotebookCells(t,r,n,s,i)),this.server.tool("delete_nb_cells","Delete multiple cells by specifying ranges (establishes RTC session)",{path:m.string().describe("Path to the notebook file"),ranges:m.array(m.object({start:m.number().describe("Starting cell index"),end:m.number().optional().describe("Ending cell index (exclusive)")})).describe("Array of cell ranges to delete")},async({path:t,ranges:r})=>await this.notebookTools.deleteNotebookCells(t,r)),this.server.tool("execute_nb_cells","Execute multiple cells by specifying ranges (establishes RTC session)",{path:m.string().describe("Path to the notebook file"),ranges:m.array(m.object({start:m.number().describe("Starting cell index"),end:m.number().optional().describe("Ending cell index (exclusive)")})).describe("Array of cell ranges to execute"),max_cell_output_size:m.number().default(2e3).describe("Maximum size in characters for cell output data when executing cells (default: 2000)")},async({path:t,ranges:r,max_cell_output_size:n})=>await this.notebookTools.executeNotebookCells(t,r,n)),this.server.tool("restart_nb_kernel","Restart the kernel of a specified notebook (establishes RTC session)",{path:m.string().describe("Path to the notebook file"),clear_outputs:m.boolean().default(!1).describe("Whether to clear cell contents after restart"),exec:m.boolean().default(!0).describe("Whether to execute cells after restart"),kernel_name:m.string().optional().describe("Name of the kernel to use (from list_available_kernels)")},async({path:t,clear_outputs:r,exec:n,kernel_name:s})=>await this.notebookTools.restartNotebookKernel(t,r,n,s)),this.server.tool("list_available_kernels","List all available kernels on the JupyterLab server",{},async()=>await this.notebookTools.listAvailableKernels()),this.server.tool("assign_nb_kernel","Assign a specific kernel to a notebook (establishes RTC session)",{path:m.string().describe("Path to the notebook file"),kernel_name:m.string().describe("Name of the kernel to assign (from list_available_kernels)")},async({path:t,kernel_name:r})=>await this.notebookTools.assignNotebookKernel(t,r))}registerDocumentTools(){this.server.tool("list_documents","List available documents in JupyterLab",{path:m.string().optional().describe("Path to list documents from (default: root)")},async({path:t})=>await this.documentTools.listDocuments(t)),this.server.tool("create_document","Create a new text document in JupyterLab (markdown, txt, rst, etc.)",{path:m.string().describe("Path for the new document"),type:m.enum(["markdown","txt","rst"]).default("markdown").describe("Document type (markdown, txt, rst, etc.)"),content:m.string().optional().describe("Initial content for the document")},async({path:t,type:r,content:n})=>await this.documentTools.createDocument(t,r,n)),this.server.tool("get_document_info","Get information about a document",{path:m.string().describe("Path to the document"),include_content:m.boolean().default(!1).describe("Whether to include document content"),max_content:m.number().default(32768).describe("Maximum content length to return (default: 32KB)")},async({path:t,include_content:r,max_content:n})=>await this.documentTools.getDocumentInfo(t,r,n)),this.server.tool("delete_document","Delete a document in JupyterLab",{path:m.string().describe("Path to the document to delete")},async({path:t})=>await this.documentTools.deleteDocument(t)),this.server.tool("rename_document","Rename a document in JupyterLab",{path:m.string().describe("Current path to the document"),newPath:m.string().describe("New path for the document")},async({path:t,newPath:r})=>await this.documentTools.renameDocument(t,r)),this.server.tool("copy_document","Copy a document in JupyterLab",{path:m.string().describe("Path to the document to copy"),copyPath:m.string().describe("Path for the copied document")},async({path:t,copyPath:r})=>await this.documentTools.copyDocument(t,r)),this.server.tool("overwrite_document","Overwrite the entire content of a document",{path:m.string().describe("Path to the document to overwrite"),content:m.string().describe("New content for the document"),type:m.enum(["markdown","txt","rst"]).default("markdown").describe("Document type (markdown, txt, rst, etc.)")},async({path:t,content:r,type:n})=>await this.documentTools.overwriteDocument(t,r,n)),this.server.tool("get_document_content","Get document content using real-time collaboration",{path:m.string().describe("Path to the document"),max_content:m.number().default(32768).describe("Maximum content length to return (default: 32KB)")},async({path:t,max_content:r})=>await this.documentTools.getDocumentContent(t,r)),this.server.tool("insert_document_text","Insert text at a specific position in a document using real-time collaboration",{path:m.string().describe("Path to the document"),position:m.number().describe("Position to insert the text (0-based)"),text:m.string().describe("Text to insert")},async({path:t,position:r,text:n})=>await this.documentTools.insertDocumentText(t,r,n)),this.server.tool("delete_document_text","Delete text from a specific position in a document using real-time collaboration",{path:m.string().describe("Path to the document"),position:m.number().describe("Starting position to delete from (0-based)"),length:m.number().describe("Number of characters to delete")},async({path:t,position:r,length:n})=>await this.documentTools.deleteDocumentText(t,r,n)),this.server.tool("replace_document_text","Replace text in a specific range in a document using real-time collaboration",{path:m.string().describe("Path to the document"),position:m.number().describe("Starting position to replace from (0-based)"),length:m.number().describe("Number of characters to replace"),text:m.string().describe("Replacement text")},async({path:t,position:r,length:n,text:s})=>await this.documentTools.replaceDocumentText(t,r,n,s)),this.server.tool("end_document_session","End a real-time collaboration session for a document",{path:m.string().describe("Path to the document")},async({path:t})=>await this.documentTools.endDocumentSession(t)),this.server.tool("query_document_session","Query the status of a real-time collaboration session for a document",{path:m.string().describe("Path to the document")},async({path:t})=>await this.documentTools.queryDocumentSession(t))}async connect(t){await this.server.connect(t)}getServer(){return this.server}getJupyterLabAdapter(){return this.jupyterAdapter}};var eM=process.stdin,tM=process.stdout;function aM(){let e=!1,t=process.env.JUPYTERLAB_DEPS_LOG_FILE;if(!t){e=!0;let n=nM(mS(sM(),"jupyterlab-rtc-mcp-"));t=mS(n,"deps-out.log")}let r=rM(t,{flags:"a"});return e&&iM(t,n=>{}),Object.defineProperty(process,"stdout",{get:()=>r,configurable:!0}),t}var oM=aM();function lM(){let e=process.argv.slice(2),t={sessionTimeout:300*1e3,maxWsPayload:100*1024*1024};for(let r=0;r<e.length;r++){let n=e[r];if(n==="--session-timeout"){let s=parseInt(e[r+1],10);(isNaN(s)||s<1)&&(Z.error(`Invalid session timeout: ${e[r+1]}. Must be a positive number of minutes`),process.exit(1)),t.sessionTimeout=s*60*1e3,r++}else if(n==="--max-ws-payload"){let s=parseInt(e[r+1],10);(isNaN(s)||s<1)&&(Z.error(`Invalid max payload: ${e[r+1]}. Must be a positive number of MB`),process.exit(1)),t.maxWsPayload=s*1024*1024,r++}}return t}async function cM(){Z.info(`Dependency logs redirected to: ${oM}`);let e=lM(),t=new Nu(e.sessionTimeout,e.maxWsPayload);try{let r=new Bo(eM,tM);await t.connect(r),Z.info("JupyterLab RTC MCP Server started successfully with stdio transport")}catch(r){Z.error("Failed to start stdio transport server",r),process.exit(1)}}cM().catch(e=>{Z.error("Failed to start JupyterLab RTC MCP Server",e),process.exit(1)});
/*! Bundled license information:

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

tough-cookie/dist/cookie/cookie.js:
  (*!
   * Copyright (c) 2015-2020, Salesforce.com, Inc.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice,
   * this list of conditions and the following disclaimer.
   *
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   * this list of conditions and the following disclaimer in the documentation
   * and/or other materials provided with the distribution.
   *
   * 3. Neither the name of Salesforce.com nor the names of its contributors may
   * be used to endorse or promote products derived from this software without
   * specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
   * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
   * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
   * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
   * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
   * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
   * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   * POSSIBILITY OF SUCH DAMAGE.
   *)
*/
