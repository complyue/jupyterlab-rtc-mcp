#!/usr/bin/env node

import { createRequire } from 'module';
const require = createRequire(import.meta.url);

var MS=Object.create;var Hu=Object.defineProperty;var US=Object.getOwnPropertyDescriptor;var NS=Object.getOwnPropertyNames;var LS=Object.getPrototypeOf,qS=Object.prototype.hasOwnProperty;var Ae=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var T=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),$S=(e,t)=>{for(var r in t)Hu(e,r,{get:t[r],enumerable:!0})},zS=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of NS(t))!qS.call(e,s)&&s!==r&&Hu(e,s,{get:()=>t[s],enumerable:!(n=US(t,s))||n.enumerable});return e};var Ee=(e,t,r)=>(r=e!=null?MS(LS(e)):{},zS(t||!e||!e.__esModule?Hu(r,"default",{value:e,enumerable:!0}):r,e));var Lm=T((Wo,Nm)=>{(function(e,t){typeof Wo=="object"&&typeof Nm<"u"?t(Wo):typeof define=="function"&&define.amd?define(["exports"],t):t(e.URI=e.URI||{})})(Wo,(function(e){"use strict";function t(){for(var b=arguments.length,_=Array(b),k=0;k<b;k++)_[k]=arguments[k];if(_.length>1){_[0]=_[0].slice(0,-1);for(var D=_.length-1,M=1;M<D;++M)_[M]=_[M].slice(1,-1);return _[D]=_[D].slice(1),_.join("")}else return _[0]}function r(b){return"(?:"+b+")"}function n(b){return b===void 0?"undefined":b===null?"null":Object.prototype.toString.call(b).split(" ").pop().split("]").shift().toLowerCase()}function s(b){return b.toUpperCase()}function i(b){return b!=null?b instanceof Array?b:typeof b.length!="number"||b.split||b.setInterval||b.call?[b]:Array.prototype.slice.call(b):[]}function a(b,_){var k=b;if(_)for(var D in _)k[D]=_[D];return k}function o(b){var _="[A-Za-z]",k="[\\x0D]",D="[0-9]",M="[\\x22]",ee=t(D,"[A-Fa-f]"),me="[\\x0A]",ke="[\\x20]",Pe=r(r("%[EFef]"+ee+"%"+ee+ee+"%"+ee+ee)+"|"+r("%[89A-Fa-f]"+ee+"%"+ee+ee)+"|"+r("%"+ee+ee)),rt="[\\:\\/\\?\\#\\[\\]\\@]",we="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Je=t(rt,we),st=b?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ze=b?"[\\uE000-\\uF8FF]":"[]",Se=t(_,D,"[\\-\\.\\_\\~]",st),Ke=r(_+t(_,D,"[\\+\\-\\.]")+"*"),Ie=r(r(Pe+"|"+t(Se,we,"[\\:]"))+"*"),Ws=r(r("25[0-5]")+"|"+r("2[0-4]"+D)+"|"+r("1"+D+D)+"|"+r("[1-9]"+D)+"|"+D),Wt=r(r("25[0-5]")+"|"+r("2[0-4]"+D)+"|"+r("1"+D+D)+"|"+r("0?[1-9]"+D)+"|0?0?"+D),rr=r(Wt+"\\."+Wt+"\\."+Wt+"\\."+Wt),Te=r(ee+"{1,4}"),Gt=r(r(Te+"\\:"+Te)+"|"+rr),sr=r(r(Te+"\\:")+"{6}"+Gt),Tr=r("\\:\\:"+r(Te+"\\:")+"{5}"+Gt),Gs=r(r(Te)+"?\\:\\:"+r(Te+"\\:")+"{4}"+Gt),rs=r(r(r(Te+"\\:")+"{0,1}"+Te)+"?\\:\\:"+r(Te+"\\:")+"{3}"+Gt),Wi=r(r(r(Te+"\\:")+"{0,2}"+Te)+"?\\:\\:"+r(Te+"\\:")+"{2}"+Gt),wo=r(r(r(Te+"\\:")+"{0,3}"+Te)+"?\\:\\:"+Te+"\\:"+Gt),ko=r(r(r(Te+"\\:")+"{0,4}"+Te)+"?\\:\\:"+Gt),$n=r(r(r(Te+"\\:")+"{0,5}"+Te)+"?\\:\\:"+Te),zn=r(r(r(Te+"\\:")+"{0,6}"+Te)+"?\\:\\:"),ss=r([sr,Tr,Gs,rs,Wi,wo,ko,$n,zn].join("|")),Fn=r(r(Se+"|"+Pe)+"+"),Vu=r(ss+"\\%25"+Fn),Zs=r(ss+r("\\%25|\\%(?!"+ee+"{2})")+Fn),RS=r("[vV]"+ee+"+\\."+t(Se,we,"[\\:]")+"+"),IS=r("\\["+r(Zs+"|"+ss+"|"+RS)+"\\]"),em=r(r(Pe+"|"+t(Se,we))+"*"),Gi=r(IS+"|"+rr+"(?!"+em+")|"+em),Zi=r(D+"*"),tm=r(r(Ie+"@")+"?"+Gi+r("\\:"+Zi)+"?"),Yi=r(Pe+"|"+t(Se,we,"[\\:\\@]")),OS=r(Yi+"*"),rm=r(Yi+"+"),TS=r(r(Pe+"|"+t(Se,we,"[\\@]"))+"+"),ns=r(r("\\/"+OS)+"*"),Vn=r("\\/"+r(rm+ns)+"?"),Bu=r(TS+ns),So=r(rm+ns),Bn="(?!"+Yi+")",tM=r(ns+"|"+Vn+"|"+Bu+"|"+So+"|"+Bn),Hn=r(r(Yi+"|"+t("[\\/\\?]",ze))+"*"),Qi=r(r(Yi+"|[\\/\\?]")+"*"),sm=r(r("\\/\\/"+tm+ns)+"|"+Vn+"|"+So+"|"+Bn),DS=r(Ke+"\\:"+sm+r("\\?"+Hn)+"?"+r("\\#"+Qi)+"?"),jS=r(r("\\/\\/"+tm+ns)+"|"+Vn+"|"+Bu+"|"+Bn),AS=r(jS+r("\\?"+Hn)+"?"+r("\\#"+Qi)+"?"),rM=r(DS+"|"+AS),sM=r(Ke+"\\:"+sm+r("\\?"+Hn)+"?"),nM="^("+Ke+")\\:"+r(r("\\/\\/("+r("("+Ie+")@")+"?("+Gi+")"+r("\\:("+Zi+")")+"?)")+"?("+ns+"|"+Vn+"|"+So+"|"+Bn+")")+r("\\?("+Hn+")")+"?"+r("\\#("+Qi+")")+"?$",iM="^(){0}"+r(r("\\/\\/("+r("("+Ie+")@")+"?("+Gi+")"+r("\\:("+Zi+")")+"?)")+"?("+ns+"|"+Vn+"|"+Bu+"|"+Bn+")")+r("\\?("+Hn+")")+"?"+r("\\#("+Qi+")")+"?$",aM="^("+Ke+")\\:"+r(r("\\/\\/("+r("("+Ie+")@")+"?("+Gi+")"+r("\\:("+Zi+")")+"?)")+"?("+ns+"|"+Vn+"|"+So+"|"+Bn+")")+r("\\?("+Hn+")")+"?$",oM="^"+r("\\#("+Qi+")")+"?$",lM="^"+r("("+Ie+")@")+"?("+Gi+")"+r("\\:("+Zi+")")+"?$";return{NOT_SCHEME:new RegExp(t("[^]",_,D,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",Se,we),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",Se,we),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",Se,we),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",Se,we),"g"),NOT_QUERY:new RegExp(t("[^\\%]",Se,we,"[\\:\\@\\/\\?]",ze),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",Se,we,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",Se,we),"g"),UNRESERVED:new RegExp(Se,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",Se,Je),"g"),PCT_ENCODED:new RegExp(Pe,"g"),IPV4ADDRESS:new RegExp("^("+rr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ss+")"+r(r("\\%25|\\%(?!"+ee+"{2})")+"("+Fn+")")+"?\\]?$")}}var l=o(!1),c=o(!0),u=(function(){function b(_,k){var D=[],M=!0,ee=!1,me=void 0;try{for(var ke=_[Symbol.iterator](),Pe;!(M=(Pe=ke.next()).done)&&(D.push(Pe.value),!(k&&D.length===k));M=!0);}catch(rt){ee=!0,me=rt}finally{try{!M&&ke.return&&ke.return()}finally{if(ee)throw me}}return D}return function(_,k){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return b(_,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),d=function(b){if(Array.isArray(b)){for(var _=0,k=Array(b.length);_<b.length;_++)k[_]=b[_];return k}else return Array.from(b)},f=2147483647,h=36,p=1,g=26,y=38,v=700,P=72,E=128,S="-",U=/^xn--/,z=/[^\0-\x7E]/,$=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=h-p,w=Math.floor,C=String.fromCharCode;function R(b){throw new RangeError(L[b])}function x(b,_){for(var k=[],D=b.length;D--;)k[D]=_(b[D]);return k}function N(b,_){var k=b.split("@"),D="";k.length>1&&(D=k[0]+"@",b=k[1]),b=b.replace($,".");var M=b.split("."),ee=x(M,_).join(".");return D+ee}function H(b){for(var _=[],k=0,D=b.length;k<D;){var M=b.charCodeAt(k++);if(M>=55296&&M<=56319&&k<D){var ee=b.charCodeAt(k++);(ee&64512)==56320?_.push(((M&1023)<<10)+(ee&1023)+65536):(_.push(M),k--)}else _.push(M)}return _}var re=function(_){return String.fromCodePoint.apply(String,d(_))},X=function(_){return _-48<10?_-22:_-65<26?_-65:_-97<26?_-97:h},W=function(_,k){return _+22+75*(_<26)-((k!=0)<<5)},te=function(_,k,D){var M=0;for(_=D?w(_/v):_>>1,_+=w(_/k);_>A*g>>1;M+=h)_=w(_/A);return w(M+(A+1)*_/(_+y))},Y=function(_){var k=[],D=_.length,M=0,ee=E,me=P,ke=_.lastIndexOf(S);ke<0&&(ke=0);for(var Pe=0;Pe<ke;++Pe)_.charCodeAt(Pe)>=128&&R("not-basic"),k.push(_.charCodeAt(Pe));for(var rt=ke>0?ke+1:0;rt<D;){for(var we=M,Je=1,st=h;;st+=h){rt>=D&&R("invalid-input");var ze=X(_.charCodeAt(rt++));(ze>=h||ze>w((f-M)/Je))&&R("overflow"),M+=ze*Je;var Se=st<=me?p:st>=me+g?g:st-me;if(ze<Se)break;var Ke=h-Se;Je>w(f/Ke)&&R("overflow"),Je*=Ke}var Ie=k.length+1;me=te(M-we,Ie,we==0),w(M/Ie)>f-ee&&R("overflow"),ee+=w(M/Ie),M%=Ie,k.splice(M++,0,ee)}return String.fromCodePoint.apply(String,k)},de=function(_){var k=[];_=H(_);var D=_.length,M=E,ee=0,me=P,ke=!0,Pe=!1,rt=void 0;try{for(var we=_[Symbol.iterator](),Je;!(ke=(Je=we.next()).done);ke=!0){var st=Je.value;st<128&&k.push(C(st))}}catch(Zs){Pe=!0,rt=Zs}finally{try{!ke&&we.return&&we.return()}finally{if(Pe)throw rt}}var ze=k.length,Se=ze;for(ze&&k.push(S);Se<D;){var Ke=f,Ie=!0,Ws=!1,Wt=void 0;try{for(var rr=_[Symbol.iterator](),Te;!(Ie=(Te=rr.next()).done);Ie=!0){var Gt=Te.value;Gt>=M&&Gt<Ke&&(Ke=Gt)}}catch(Zs){Ws=!0,Wt=Zs}finally{try{!Ie&&rr.return&&rr.return()}finally{if(Ws)throw Wt}}var sr=Se+1;Ke-M>w((f-ee)/sr)&&R("overflow"),ee+=(Ke-M)*sr,M=Ke;var Tr=!0,Gs=!1,rs=void 0;try{for(var Wi=_[Symbol.iterator](),wo;!(Tr=(wo=Wi.next()).done);Tr=!0){var ko=wo.value;if(ko<M&&++ee>f&&R("overflow"),ko==M){for(var $n=ee,zn=h;;zn+=h){var ss=zn<=me?p:zn>=me+g?g:zn-me;if($n<ss)break;var Fn=$n-ss,Vu=h-ss;k.push(C(W(ss+Fn%Vu,0))),$n=w(Fn/Vu)}k.push(C(W($n,0))),me=te(ee,sr,Se==ze),ee=0,++Se}}}catch(Zs){Gs=!0,rs=Zs}finally{try{!Tr&&Wi.return&&Wi.return()}finally{if(Gs)throw rs}}++ee,++M}return k.join("")},_e=function(_){return N(_,function(k){return U.test(k)?Y(k.slice(4).toLowerCase()):k})},Ce=function(_){return N(_,function(k){return z.test(k)?"xn--"+de(k):k})},ue={version:"2.1.0",ucs2:{decode:H,encode:re},decode:Y,encode:de,toASCII:Ce,toUnicode:_e},je={};function Re(b){var _=b.charCodeAt(0),k=void 0;return _<16?k="%0"+_.toString(16).toUpperCase():_<128?k="%"+_.toString(16).toUpperCase():_<2048?k="%"+(_>>6|192).toString(16).toUpperCase()+"%"+(_&63|128).toString(16).toUpperCase():k="%"+(_>>12|224).toString(16).toUpperCase()+"%"+(_>>6&63|128).toString(16).toUpperCase()+"%"+(_&63|128).toString(16).toUpperCase(),k}function Qe(b){for(var _="",k=0,D=b.length;k<D;){var M=parseInt(b.substr(k+1,2),16);if(M<128)_+=String.fromCharCode(M),k+=3;else if(M>=194&&M<224){if(D-k>=6){var ee=parseInt(b.substr(k+4,2),16);_+=String.fromCharCode((M&31)<<6|ee&63)}else _+=b.substr(k,6);k+=6}else if(M>=224){if(D-k>=9){var me=parseInt(b.substr(k+4,2),16),ke=parseInt(b.substr(k+7,2),16);_+=String.fromCharCode((M&15)<<12|(me&63)<<6|ke&63)}else _+=b.substr(k,9);k+=9}else _+=b.substr(k,3),k+=3}return _}function Kt(b,_){function k(D){var M=Qe(D);return M.match(_.UNRESERVED)?M:D}return b.scheme&&(b.scheme=String(b.scheme).replace(_.PCT_ENCODED,k).toLowerCase().replace(_.NOT_SCHEME,"")),b.userinfo!==void 0&&(b.userinfo=String(b.userinfo).replace(_.PCT_ENCODED,k).replace(_.NOT_USERINFO,Re).replace(_.PCT_ENCODED,s)),b.host!==void 0&&(b.host=String(b.host).replace(_.PCT_ENCODED,k).toLowerCase().replace(_.NOT_HOST,Re).replace(_.PCT_ENCODED,s)),b.path!==void 0&&(b.path=String(b.path).replace(_.PCT_ENCODED,k).replace(b.scheme?_.NOT_PATH:_.NOT_PATH_NOSCHEME,Re).replace(_.PCT_ENCODED,s)),b.query!==void 0&&(b.query=String(b.query).replace(_.PCT_ENCODED,k).replace(_.NOT_QUERY,Re).replace(_.PCT_ENCODED,s)),b.fragment!==void 0&&(b.fragment=String(b.fragment).replace(_.PCT_ENCODED,k).replace(_.NOT_FRAGMENT,Re).replace(_.PCT_ENCODED,s)),b}function Nt(b){return b.replace(/^0*(.*)/,"$1")||"0"}function Le(b,_){var k=b.match(_.IPV4ADDRESS)||[],D=u(k,2),M=D[1];return M?M.split(".").map(Nt).join("."):b}function Oe(b,_){var k=b.match(_.IPV6ADDRESS)||[],D=u(k,3),M=D[1],ee=D[2];if(M){for(var me=M.toLowerCase().split("::").reverse(),ke=u(me,2),Pe=ke[0],rt=ke[1],we=rt?rt.split(":").map(Nt):[],Je=Pe.split(":").map(Nt),st=_.IPV4ADDRESS.test(Je[Je.length-1]),ze=st?7:8,Se=Je.length-ze,Ke=Array(ze),Ie=0;Ie<ze;++Ie)Ke[Ie]=we[Ie]||Je[Se+Ie]||"";st&&(Ke[ze-1]=Le(Ke[ze-1],_));var Ws=Ke.reduce(function(sr,Tr,Gs){if(!Tr||Tr==="0"){var rs=sr[sr.length-1];rs&&rs.index+rs.length===Gs?rs.length++:sr.push({index:Gs,length:1})}return sr},[]),Wt=Ws.sort(function(sr,Tr){return Tr.length-sr.length})[0],rr=void 0;if(Wt&&Wt.length>1){var Te=Ke.slice(0,Wt.index),Gt=Ke.slice(Wt.index+Wt.length);rr=Te.join(":")+"::"+Gt.join(":")}else rr=Ke.join(":");return ee&&(rr+="%"+ee),rr}else return b}var tr=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,F="".match(/(){0}/)[1]===void 0;function q(b){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k={},D=_.iri!==!1?c:l;_.reference==="suffix"&&(b=(_.scheme?_.scheme+":":"")+"//"+b);var M=b.match(tr);if(M){F?(k.scheme=M[1],k.userinfo=M[3],k.host=M[4],k.port=parseInt(M[5],10),k.path=M[6]||"",k.query=M[7],k.fragment=M[8],isNaN(k.port)&&(k.port=M[5])):(k.scheme=M[1]||void 0,k.userinfo=b.indexOf("@")!==-1?M[3]:void 0,k.host=b.indexOf("//")!==-1?M[4]:void 0,k.port=parseInt(M[5],10),k.path=M[6]||"",k.query=b.indexOf("?")!==-1?M[7]:void 0,k.fragment=b.indexOf("#")!==-1?M[8]:void 0,isNaN(k.port)&&(k.port=b.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?M[4]:void 0)),k.host&&(k.host=Oe(Le(k.host,D),D)),k.scheme===void 0&&k.userinfo===void 0&&k.host===void 0&&k.port===void 0&&!k.path&&k.query===void 0?k.reference="same-document":k.scheme===void 0?k.reference="relative":k.fragment===void 0?k.reference="absolute":k.reference="uri",_.reference&&_.reference!=="suffix"&&_.reference!==k.reference&&(k.error=k.error||"URI is not a "+_.reference+" reference.");var ee=je[(_.scheme||k.scheme||"").toLowerCase()];if(!_.unicodeSupport&&(!ee||!ee.unicodeSupport)){if(k.host&&(_.domainHost||ee&&ee.domainHost))try{k.host=ue.toASCII(k.host.replace(D.PCT_ENCODED,Qe).toLowerCase())}catch(me){k.error=k.error||"Host's domain name can not be converted to ASCII via punycode: "+me}Kt(k,l)}else Kt(k,D);ee&&ee.parse&&ee.parse(k,_)}else k.error=k.error||"URI can not be parsed.";return k}function O(b,_){var k=_.iri!==!1?c:l,D=[];return b.userinfo!==void 0&&(D.push(b.userinfo),D.push("@")),b.host!==void 0&&D.push(Oe(Le(String(b.host),k),k).replace(k.IPV6ADDRESS,function(M,ee,me){return"["+ee+(me?"%25"+me:"")+"]"})),(typeof b.port=="number"||typeof b.port=="string")&&(D.push(":"),D.push(String(b.port))),D.length?D.join(""):void 0}var I=/^\.\.?\//,j=/^\/\.(\/|$)/,J=/^\/\.\.(\/|$)/,K=/^\/?(?:.|\n)*?(?=\/|$)/;function he(b){for(var _=[];b.length;)if(b.match(I))b=b.replace(I,"");else if(b.match(j))b=b.replace(j,"/");else if(b.match(J))b=b.replace(J,"/"),_.pop();else if(b==="."||b==="..")b="";else{var k=b.match(K);if(k){var D=k[0];b=b.slice(D.length),_.push(D)}else throw new Error("Unexpected dot segment condition")}return _.join("")}function oe(b){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=_.iri?c:l,D=[],M=je[(_.scheme||b.scheme||"").toLowerCase()];if(M&&M.serialize&&M.serialize(b,_),b.host&&!k.IPV6ADDRESS.test(b.host)){if(_.domainHost||M&&M.domainHost)try{b.host=_.iri?ue.toUnicode(b.host):ue.toASCII(b.host.replace(k.PCT_ENCODED,Qe).toLowerCase())}catch(ke){b.error=b.error||"Host's domain name can not be converted to "+(_.iri?"Unicode":"ASCII")+" via punycode: "+ke}}Kt(b,k),_.reference!=="suffix"&&b.scheme&&(D.push(b.scheme),D.push(":"));var ee=O(b,_);if(ee!==void 0&&(_.reference!=="suffix"&&D.push("//"),D.push(ee),b.path&&b.path.charAt(0)!=="/"&&D.push("/")),b.path!==void 0){var me=b.path;!_.absolutePath&&(!M||!M.absolutePath)&&(me=he(me)),ee===void 0&&(me=me.replace(/^\/\//,"/%2F")),D.push(me)}return b.query!==void 0&&(D.push("?"),D.push(b.query)),b.fragment!==void 0&&(D.push("#"),D.push(b.fragment)),D.join("")}function $e(b,_){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=arguments[3],M={};return D||(b=q(oe(b,k),k),_=q(oe(_,k),k)),k=k||{},!k.tolerant&&_.scheme?(M.scheme=_.scheme,M.userinfo=_.userinfo,M.host=_.host,M.port=_.port,M.path=he(_.path||""),M.query=_.query):(_.userinfo!==void 0||_.host!==void 0||_.port!==void 0?(M.userinfo=_.userinfo,M.host=_.host,M.port=_.port,M.path=he(_.path||""),M.query=_.query):(_.path?(_.path.charAt(0)==="/"?M.path=he(_.path):((b.userinfo!==void 0||b.host!==void 0||b.port!==void 0)&&!b.path?M.path="/"+_.path:b.path?M.path=b.path.slice(0,b.path.lastIndexOf("/")+1)+_.path:M.path=_.path,M.path=he(M.path)),M.query=_.query):(M.path=b.path,_.query!==void 0?M.query=_.query:M.query=b.query),M.userinfo=b.userinfo,M.host=b.host,M.port=b.port),M.scheme=b.scheme),M.fragment=_.fragment,M}function ne(b,_,k){var D=a({scheme:"null"},k);return oe($e(q(b,D),q(_,D),D,!0),D)}function ut(b,_){return typeof b=="string"?b=oe(q(b,_),_):n(b)==="object"&&(b=q(oe(b,_),_)),b}function Hi(b,_,k){return typeof b=="string"?b=oe(q(b,k),k):n(b)==="object"&&(b=oe(b,k)),typeof _=="string"?_=oe(q(_,k),k):n(_)==="object"&&(_=oe(_,k)),b===_}function zu(b,_){return b&&b.toString().replace(!_||!_.iri?l.ESCAPE:c.ESCAPE,Re)}function mr(b,_){return b&&b.toString().replace(!_||!_.iri?l.PCT_ENCODED:c.PCT_ENCODED,Qe)}var Ji={scheme:"http",domainHost:!0,parse:function(_,k){return _.host||(_.error=_.error||"HTTP URIs must have a host."),_},serialize:function(_,k){var D=String(_.scheme).toLowerCase()==="https";return(_.port===(D?443:80)||_.port==="")&&(_.port=void 0),_.path||(_.path="/"),_}},Jp={scheme:"https",domainHost:Ji.domainHost,parse:Ji.parse,serialize:Ji.serialize};function Kp(b){return typeof b.secure=="boolean"?b.secure:String(b.scheme).toLowerCase()==="wss"}var Ki={scheme:"ws",domainHost:!0,parse:function(_,k){var D=_;return D.secure=Kp(D),D.resourceName=(D.path||"/")+(D.query?"?"+D.query:""),D.path=void 0,D.query=void 0,D},serialize:function(_,k){if((_.port===(Kp(_)?443:80)||_.port==="")&&(_.port=void 0),typeof _.secure=="boolean"&&(_.scheme=_.secure?"wss":"ws",_.secure=void 0),_.resourceName){var D=_.resourceName.split("?"),M=u(D,2),ee=M[0],me=M[1];_.path=ee&&ee!=="/"?ee:void 0,_.query=me,_.resourceName=void 0}return _.fragment=void 0,_}},Wp={scheme:"wss",domainHost:Ki.domainHost,parse:Ki.parse,serialize:Ki.serialize},gS={},yS=!0,Gp="[A-Za-z0-9\\-\\.\\_\\~"+(yS?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Or="[0-9A-Fa-f]",vS=r(r("%[EFef]"+Or+"%"+Or+Or+"%"+Or+Or)+"|"+r("%[89A-Fa-f]"+Or+"%"+Or+Or)+"|"+r("%"+Or+Or)),_S="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",bS="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",wS=t(bS,'[\\"\\\\]'),kS="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",SS=new RegExp(Gp,"g"),qn=new RegExp(vS,"g"),xS=new RegExp(t("[^]",_S,"[\\.]",'[\\"]',wS),"g"),Zp=new RegExp(t("[^]",Gp,kS),"g"),ES=Zp;function Fu(b){var _=Qe(b);return _.match(SS)?_:b}var Yp={scheme:"mailto",parse:function(_,k){var D=_,M=D.to=D.path?D.path.split(","):[];if(D.path=void 0,D.query){for(var ee=!1,me={},ke=D.query.split("&"),Pe=0,rt=ke.length;Pe<rt;++Pe){var we=ke[Pe].split("=");switch(we[0]){case"to":for(var Je=we[1].split(","),st=0,ze=Je.length;st<ze;++st)M.push(Je[st]);break;case"subject":D.subject=mr(we[1],k);break;case"body":D.body=mr(we[1],k);break;default:ee=!0,me[mr(we[0],k)]=mr(we[1],k);break}}ee&&(D.headers=me)}D.query=void 0;for(var Se=0,Ke=M.length;Se<Ke;++Se){var Ie=M[Se].split("@");if(Ie[0]=mr(Ie[0]),k.unicodeSupport)Ie[1]=mr(Ie[1],k).toLowerCase();else try{Ie[1]=ue.toASCII(mr(Ie[1],k).toLowerCase())}catch(Ws){D.error=D.error||"Email address's domain name can not be converted to ASCII via punycode: "+Ws}M[Se]=Ie.join("@")}return D},serialize:function(_,k){var D=_,M=i(_.to);if(M){for(var ee=0,me=M.length;ee<me;++ee){var ke=String(M[ee]),Pe=ke.lastIndexOf("@"),rt=ke.slice(0,Pe).replace(qn,Fu).replace(qn,s).replace(xS,Re),we=ke.slice(Pe+1);try{we=k.iri?ue.toUnicode(we):ue.toASCII(mr(we,k).toLowerCase())}catch(Se){D.error=D.error||"Email address's domain name can not be converted to "+(k.iri?"Unicode":"ASCII")+" via punycode: "+Se}M[ee]=rt+"@"+we}D.path=M.join(",")}var Je=_.headers=_.headers||{};_.subject&&(Je.subject=_.subject),_.body&&(Je.body=_.body);var st=[];for(var ze in Je)Je[ze]!==gS[ze]&&st.push(ze.replace(qn,Fu).replace(qn,s).replace(Zp,Re)+"="+Je[ze].replace(qn,Fu).replace(qn,s).replace(ES,Re));return st.length&&(D.query=st.join("&")),D}},CS=/^([^\:]+)\:(.*)/,Qp={scheme:"urn",parse:function(_,k){var D=_.path&&_.path.match(CS),M=_;if(D){var ee=k.scheme||M.scheme||"urn",me=D[1].toLowerCase(),ke=D[2],Pe=ee+":"+(k.nid||me),rt=je[Pe];M.nid=me,M.nss=ke,M.path=void 0,rt&&(M=rt.parse(M,k))}else M.error=M.error||"URN can not be parsed.";return M},serialize:function(_,k){var D=k.scheme||_.scheme||"urn",M=_.nid,ee=D+":"+(k.nid||M),me=je[ee];me&&(_=me.serialize(_,k));var ke=_,Pe=_.nss;return ke.path=(M||k.nid)+":"+Pe,ke}},PS=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Xp={scheme:"urn:uuid",parse:function(_,k){var D=_;return D.uuid=D.nss,D.nss=void 0,!k.tolerant&&(!D.uuid||!D.uuid.match(PS))&&(D.error=D.error||"UUID is not valid."),D},serialize:function(_,k){var D=_;return D.nss=(_.uuid||"").toLowerCase(),D}};je[Ji.scheme]=Ji,je[Jp.scheme]=Jp,je[Ki.scheme]=Ki,je[Wp.scheme]=Wp,je[Yp.scheme]=Yp,je[Qp.scheme]=Qp,je[Xp.scheme]=Xp,e.SCHEMES=je,e.pctEncChar=Re,e.pctDecChars=Qe,e.parse=q,e.removeDotSegments=he,e.serialize=oe,e.resolveComponents=$e,e.resolve=ne,e.normalize=ut,e.equal=Hi,e.escapeComponent=zu,e.unescapeComponent=mr,Object.defineProperty(e,"__esModule",{value:!0})}))});var Go=T((QM,qm)=>{"use strict";qm.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var a=i[s];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}});var zm=T((XM,$m)=>{"use strict";$m.exports=function(t){for(var r=0,n=t.length,s=0,i;s<n;)r++,i=t.charCodeAt(s++),i>=55296&&i<=56319&&s<n&&(i=t.charCodeAt(s),(i&64512)==56320&&s++);return r}});var pn=T((eU,Bm)=>{"use strict";Bm.exports={copy:V1,checkDataType:ad,checkDataTypes:B1,coerceToTypes:H1,toHash:ld,getProperty:cd,escapeQuotes:ud,equal:Go(),ucs2length:zm(),varOccurences:W1,varReplace:G1,schemaHasRules:Z1,schemaHasRulesExcept:Y1,schemaUnknownRules:Q1,toQuotedString:od,getPathExpr:X1,getPath:eE,getData:sE,unescapeFragment:nE,unescapeJsonPointer:hd,escapeFragment:iE,escapeJsonPointer:dd};function V1(e,t){t=t||{};for(var r in e)t[r]=e[r];return t}function ad(e,t,r,n){var s=n?" !== ":" === ",i=n?" || ":" && ",a=n?"!":"",o=n?"":"!";switch(e){case"null":return t+s+"null";case"array":return a+"Array.isArray("+t+")";case"object":return"("+a+t+i+"typeof "+t+s+'"object"'+i+o+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+s+'"number"'+i+o+"("+t+" % 1)"+i+t+s+t+(r?i+a+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+s+'"'+e+'"'+(r?i+a+"isFinite("+t+")":"")+")";default:return"typeof "+t+s+'"'+e+'"'}}function B1(e,t,r){switch(e.length){case 1:return ad(e[0],t,r,!0);default:var n="",s=ld(e);s.array&&s.object&&(n=s.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete s.null,delete s.array,delete s.object),s.number&&delete s.integer;for(var i in s)n+=(n?" && ":"")+ad(i,t,r,!0);return n}}var Fm=ld(["string","number","integer","boolean","null"]);function H1(e,t){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++){var s=t[n];(Fm[s]||e==="array"&&s==="array")&&(r[r.length]=s)}if(r.length)return r}else{if(Fm[t])return[t];if(e==="array"&&t==="array")return["array"]}}function ld(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var J1=/^[a-z$_][a-z$_0-9]*$/i,K1=/'|\\/g;function cd(e){return typeof e=="number"?"["+e+"]":J1.test(e)?"."+e:"['"+ud(e)+"']"}function ud(e){return e.replace(K1,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function W1(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0}function G1(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")}function Z1(e,t){if(typeof e=="boolean")return!e;for(var r in e)if(t[r])return!0}function Y1(e,t,r){if(typeof e=="boolean")return!e&&r!="not";for(var n in e)if(n!=r&&t[n])return!0}function Q1(e,t){if(typeof e!="boolean"){for(var r in e)if(!t[r])return r}}function od(e){return"'"+ud(e)+"'"}function X1(e,t,r,n){var s=r?"'/' + "+t+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'";return Vm(e,s)}function eE(e,t,r){var n=od(r?"/"+dd(t):cd(t));return Vm(e,n)}var tE=/^\/(?:[^~]|~0|~1)*$/,rE=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function sE(e,t,r){var n,s,i,a;if(e==="")return"rootData";if(e[0]=="/"){if(!tE.test(e))throw new Error("Invalid JSON-pointer: "+e);s=e,i="rootData"}else{if(a=e.match(rE),!a)throw new Error("Invalid JSON-pointer: "+e);if(n=+a[1],s=a[2],s=="#"){if(n>=t)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return r[t-n]}if(n>t)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(i="data"+(t-n||""),!s)return i}for(var o=i,l=s.split("/"),c=0;c<l.length;c++){var u=l[c];u&&(i+=cd(hd(u)),o+=" && "+i)}return o}function Vm(e,t){return e=='""'?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function nE(e){return hd(decodeURIComponent(e))}function iE(e){return encodeURIComponent(dd(e))}function dd(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function hd(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}});var fd=T((tU,Hm)=>{"use strict";var aE=pn();Hm.exports=oE;function oE(e){aE.copy(e,this)}});var Km=T((rU,Jm)=>{"use strict";var Cs=Jm.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Zo(t,n,s,e,"",e)};Cs.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};Cs.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Cs.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Cs.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Zo(e,t,r,n,s,i,a,o,l,c){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,i,a,o,l,c);for(var u in n){var d=n[u];if(Array.isArray(d)){if(u in Cs.arrayKeywords)for(var f=0;f<d.length;f++)Zo(e,t,r,d[f],s+"/"+u+"/"+f,i,s,u,n,f)}else if(u in Cs.propsKeywords){if(d&&typeof d=="object")for(var h in d)Zo(e,t,r,d[h],s+"/"+u+"/"+lE(h),i,s,u,n,h)}else(u in Cs.keywords||e.allKeys&&!(u in Cs.skipKeywords))&&Zo(e,t,r,d,s+"/"+u,i,s,u,n)}r(n,s,i,a,o,l,c)}}function lE(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var rl=T((sU,Ym)=>{"use strict";var na=Lm(),Wm=Go(),el=pn(),Yo=fd(),cE=Km();Ym.exports=Rs;Rs.normalizeId=Ps;Rs.fullPath=Qo;Rs.url=Xo;Rs.ids=pE;Rs.inlineRef=pd;Rs.schema=tl;function Rs(e,t,r){var n=this._refs[r];if(typeof n=="string")if(this._refs[n])n=this._refs[n];else return Rs.call(this,e,t,n);if(n=n||this._schemas[r],n instanceof Yo)return pd(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var s=tl.call(this,t,r),i,a,o;return s&&(i=s.schema,t=s.root,o=s.baseId),i instanceof Yo?a=i.validate||e.call(this,i.schema,t,void 0,o):i!==void 0&&(a=pd(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,o)),a}function tl(e,t){var r=na.parse(t),n=Zm(r),s=Qo(this._getId(e.schema));if(Object.keys(e.schema).length===0||n!==s){var i=Ps(n),a=this._refs[i];if(typeof a=="string")return uE.call(this,e,a,r);if(a instanceof Yo)a.validate||this._compile(a),e=a;else if(a=this._schemas[i],a instanceof Yo){if(a.validate||this._compile(a),i==Ps(t))return{schema:a,root:e,baseId:s};e=a}else return;if(!e.schema)return;s=Qo(this._getId(e.schema))}return Gm.call(this,r,s,e.schema,e)}function uE(e,t,r){var n=tl.call(this,e,t);if(n){var s=n.schema,i=n.baseId;e=n.root;var a=this._getId(s);return a&&(i=Xo(i,a)),Gm.call(this,r,i,s,e)}}var dE=el.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function Gm(e,t,r,n){if(e.fragment=e.fragment||"",e.fragment.slice(0,1)=="/"){for(var s=e.fragment.split("/"),i=1;i<s.length;i++){var a=s[i];if(a){if(a=el.unescapeFragment(a),r=r[a],r===void 0)break;var o;if(!dE[a]&&(o=this._getId(r),o&&(t=Xo(t,o)),r.$ref)){var l=Xo(t,r.$ref),c=tl.call(this,n,l);c&&(r=c.schema,n=c.root,t=c.baseId)}}}if(r!==void 0&&r!==n.schema)return{schema:r,root:n,baseId:t}}}var hE=el.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function pd(e,t){if(t===!1)return!1;if(t===void 0||t===!0)return md(e);if(t)return gd(e)<=t}function md(e){var t;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(t=e[r],typeof t=="object"&&!md(t))return!1}else for(var n in e)if(n=="$ref"||(t=e[n],typeof t=="object"&&!md(t)))return!1;return!0}function gd(e){var t=0,r;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(r=e[n],typeof r=="object"&&(t+=gd(r)),t==1/0)return 1/0}else for(var s in e){if(s=="$ref")return 1/0;if(hE[s])t++;else if(r=e[s],typeof r=="object"&&(t+=gd(r)+1),t==1/0)return 1/0}return t}function Qo(e,t){t!==!1&&(e=Ps(e));var r=na.parse(e);return Zm(r)}function Zm(e){return na.serialize(e).split("#")[0]+"#"}var fE=/#\/?$/;function Ps(e){return e?e.replace(fE,""):""}function Xo(e,t){return t=Ps(t),na.resolve(e,t)}function pE(e){var t=Ps(this._getId(e)),r={"":t},n={"":Qo(t,!1)},s={},i=this;return cE(e,{allKeys:!0},function(a,o,l,c,u,d,f){if(o!==""){var h=i._getId(a),p=r[c],g=n[c]+"/"+u;if(f!==void 0&&(g+="/"+(typeof f=="number"?f:el.escapeFragment(f))),typeof h=="string"){h=p=Ps(p?na.resolve(p,h):h);var y=i._refs[h];if(typeof y=="string"&&(y=i._refs[y]),y&&y.schema){if(!Wm(a,y.schema))throw new Error('id "'+h+'" resolves to more than one schema')}else if(h!=Ps(g))if(h[0]=="#"){if(s[h]&&!Wm(a,s[h]))throw new Error('id "'+h+'" resolves to more than one schema');s[h]=a}else i._refs[h]=g}r[o]=p,n[o]=g}}),s}});var sl=T((nU,Xm)=>{"use strict";var yd=rl();Xm.exports={Validation:Qm(mE),MissingRef:Qm(vd)};function mE(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}vd.message=function(e,t){return"can't resolve reference "+t+" from id "+e};function vd(e,t,r){this.message=r||vd.message(e,t),this.missingRef=yd.url(e,t),this.missingSchema=yd.normalizeId(yd.fullPath(this.missingRef))}function Qm(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}});var _d=T((iU,eg)=>{"use strict";eg.exports=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var r=typeof t.cycles=="boolean"?t.cycles:!1,n=t.cmp&&(function(i){return function(a){return function(o,l){var c={key:o,value:a[o]},u={key:l,value:a[l]};return i(c,u)}}})(t.cmp),s=[];return(function i(a){if(a&&a.toJSON&&typeof a.toJSON=="function"&&(a=a.toJSON()),a!==void 0){if(typeof a=="number")return isFinite(a)?""+a:"null";if(typeof a!="object")return JSON.stringify(a);var o,l;if(Array.isArray(a)){for(l="[",o=0;o<a.length;o++)o&&(l+=","),l+=i(a[o])||"null";return l+"]"}if(a===null)return"null";if(s.indexOf(a)!==-1){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=s.push(a)-1,u=Object.keys(a).sort(n&&n(a));for(l="",o=0;o<u.length;o++){var d=u[o],f=i(a[d]);f&&(l&&(l+=","),l+=JSON.stringify(d)+":"+f)}return s.splice(c,1),"{"+l+"}"}})(e)}});var bd=T((aU,tg)=>{"use strict";tg.exports=function(t,r,n){var s="",i=t.schema.$async===!0,a=t.util.schemaHasRulesExcept(t.schema,t.RULES.all,"$ref"),o=t.self._getId(t.schema);if(t.opts.strictKeywords){var l=t.util.schemaUnknownRules(t.schema,t.RULES.keywords);if(l){var c="unknown keyword: "+l;if(t.opts.strictKeywords==="log")t.logger.warn(c);else throw new Error(c)}}if(t.isTop&&(s+=" var validate = ",i&&(t.async=!0,s+="async "),s+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(t.opts.sourceCode||t.opts.processCode)&&(s+=" "+("/*# sourceURL="+o+" */")+" ")),typeof t.schema=="boolean"||!(a||t.schema.$ref)){var r="false schema",u=t.level,d=t.dataLevel,f=t.schema[r],h=t.schemaPath+t.util.getProperty(r),p=t.errSchemaPath+"/"+r,U=!t.opts.allErrors,L,g="data"+(d||""),S="valid"+u;if(t.schema===!1){t.isTop?U=!0:s+=" var "+S+" = false; ";var y=y||[];y.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(L||"false schema")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(p)+" , params: {} ",t.opts.messages!==!1&&(s+=" , message: 'boolean schema is false' "),t.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+g+" "),s+=" } "):s+=" {} ";var v=s;s=y.pop(),!t.compositeRule&&U?t.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else t.isTop?i?s+=" return data; ":s+=" validate.errors = null; return true; ":s+=" var "+S+" = true; ";return t.isTop&&(s+=" }; return validate; "),s}if(t.isTop){var P=t.isTop,u=t.level=0,d=t.dataLevel=0,g="data";if(t.rootId=t.resolve.fullPath(t.self._getId(t.root.schema)),t.baseId=t.baseId||t.rootId,delete t.isTop,t.dataPathArr=[""],t.schema.default!==void 0&&t.opts.useDefaults&&t.opts.strictDefaults){var E="default is ignored in the schema root";if(t.opts.strictDefaults==="log")t.logger.warn(E);else throw new Error(E)}s+=" var vErrors = null; ",s+=" var errors = 0;     ",s+=" if (rootData === undefined) rootData = data; "}else{var u=t.level,d=t.dataLevel,g="data"+(d||"");if(o&&(t.baseId=t.resolve.url(t.baseId,o)),i&&!t.async)throw new Error("async schema in sync schema");s+=" var errs_"+u+" = errors;"}var S="valid"+u,U=!t.opts.allErrors,z="",$="",L,A=t.schema.type,w=Array.isArray(A);if(A&&t.opts.nullable&&t.schema.nullable===!0&&(w?A.indexOf("null")==-1&&(A=A.concat("null")):A!="null"&&(A=[A,"null"],w=!0)),w&&A.length==1&&(A=A[0],w=!1),t.schema.$ref&&a){if(t.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+t.errSchemaPath+'" (see option extendRefs)');t.opts.extendRefs!==!0&&(a=!1,t.logger.warn('$ref: keywords ignored in schema at path "'+t.errSchemaPath+'"'))}if(t.schema.$comment&&t.opts.$comment&&(s+=" "+t.RULES.all.$comment.code(t,"$comment")),A){if(t.opts.coerceTypes)var C=t.util.coerceToTypes(t.opts.coerceTypes,A);var R=t.RULES.types[A];if(C||w||R===!0||R&&!K(R)){var h=t.schemaPath+".type",p=t.errSchemaPath+"/type",h=t.schemaPath+".type",p=t.errSchemaPath+"/type",x=w?"checkDataTypes":"checkDataType";if(s+=" if ("+t.util[x](A,g,t.opts.strictNumbers,!0)+") { ",C){var N="dataType"+u,H="coerced"+u;s+=" var "+N+" = typeof "+g+"; var "+H+" = undefined; ",t.opts.coerceTypes=="array"&&(s+=" if ("+N+" == 'object' && Array.isArray("+g+") && "+g+".length == 1) { "+g+" = "+g+"[0]; "+N+" = typeof "+g+"; if ("+t.util.checkDataType(t.schema.type,g,t.opts.strictNumbers)+") "+H+" = "+g+"; } "),s+=" if ("+H+" !== undefined) ; ";var re=C;if(re)for(var X,W=-1,te=re.length-1;W<te;)X=re[W+=1],X=="string"?s+=" else if ("+N+" == 'number' || "+N+" == 'boolean') "+H+" = '' + "+g+"; else if ("+g+" === null) "+H+" = ''; ":X=="number"||X=="integer"?(s+=" else if ("+N+" == 'boolean' || "+g+" === null || ("+N+" == 'string' && "+g+" && "+g+" == +"+g+" ",X=="integer"&&(s+=" && !("+g+" % 1)"),s+=")) "+H+" = +"+g+"; "):X=="boolean"?s+=" else if ("+g+" === 'false' || "+g+" === 0 || "+g+" === null) "+H+" = false; else if ("+g+" === 'true' || "+g+" === 1) "+H+" = true; ":X=="null"?s+=" else if ("+g+" === '' || "+g+" === 0 || "+g+" === false) "+H+" = null; ":t.opts.coerceTypes=="array"&&X=="array"&&(s+=" else if ("+N+" == 'string' || "+N+" == 'number' || "+N+" == 'boolean' || "+g+" == null) "+H+" = ["+g+"]; ");s+=" else {   ";var y=y||[];y.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(L||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(p)+" , params: { type: '",w?s+=""+A.join(","):s+=""+A,s+="' } ",t.opts.messages!==!1&&(s+=" , message: 'should be ",w?s+=""+A.join(","):s+=""+A,s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+g+" "),s+=" } "):s+=" {} ";var v=s;s=y.pop(),!t.compositeRule&&U?t.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } if ("+H+" !== undefined) {  ";var Y=d?"data"+(d-1||""):"parentData",de=d?t.dataPathArr[d]:"parentDataProperty";s+=" "+g+" = "+H+"; ",d||(s+="if ("+Y+" !== undefined)"),s+=" "+Y+"["+de+"] = "+H+"; } "}else{var y=y||[];y.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(L||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(p)+" , params: { type: '",w?s+=""+A.join(","):s+=""+A,s+="' } ",t.opts.messages!==!1&&(s+=" , message: 'should be ",w?s+=""+A.join(","):s+=""+A,s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+g+" "),s+=" } "):s+=" {} ";var v=s;s=y.pop(),!t.compositeRule&&U?t.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}s+=" } "}}if(t.schema.$ref&&!a)s+=" "+t.RULES.all.$ref.code(t,"$ref")+" ",U&&(s+=" } if (errors === ",P?s+="0":s+="errs_"+u,s+=") { ",$+="}");else{var _e=t.RULES;if(_e){for(var R,Ce=-1,ue=_e.length-1;Ce<ue;)if(R=_e[Ce+=1],K(R)){if(R.type&&(s+=" if ("+t.util.checkDataType(R.type,g,t.opts.strictNumbers)+") { "),t.opts.useDefaults){if(R.type=="object"&&t.schema.properties){var f=t.schema.properties,je=Object.keys(f),Re=je;if(Re)for(var Qe,Kt=-1,Nt=Re.length-1;Kt<Nt;){Qe=Re[Kt+=1];var Le=f[Qe];if(Le.default!==void 0){var Oe=g+t.util.getProperty(Qe);if(t.compositeRule){if(t.opts.strictDefaults){var E="default is ignored for: "+Oe;if(t.opts.strictDefaults==="log")t.logger.warn(E);else throw new Error(E)}}else s+=" if ("+Oe+" === undefined ",t.opts.useDefaults=="empty"&&(s+=" || "+Oe+" === null || "+Oe+" === '' "),s+=" ) "+Oe+" = ",t.opts.useDefaults=="shared"?s+=" "+t.useDefault(Le.default)+" ":s+=" "+JSON.stringify(Le.default)+" ",s+="; "}}}else if(R.type=="array"&&Array.isArray(t.schema.items)){var tr=t.schema.items;if(tr){for(var Le,W=-1,F=tr.length-1;W<F;)if(Le=tr[W+=1],Le.default!==void 0){var Oe=g+"["+W+"]";if(t.compositeRule){if(t.opts.strictDefaults){var E="default is ignored for: "+Oe;if(t.opts.strictDefaults==="log")t.logger.warn(E);else throw new Error(E)}}else s+=" if ("+Oe+" === undefined ",t.opts.useDefaults=="empty"&&(s+=" || "+Oe+" === null || "+Oe+" === '' "),s+=" ) "+Oe+" = ",t.opts.useDefaults=="shared"?s+=" "+t.useDefault(Le.default)+" ":s+=" "+JSON.stringify(Le.default)+" ",s+="; "}}}}var q=R.rules;if(q){for(var O,I=-1,j=q.length-1;I<j;)if(O=q[I+=1],he(O)){var J=O.code(t,O.keyword,R.type);J&&(s+=" "+J+" ",U&&(z+="}"))}}if(U&&(s+=" "+z+" ",z=""),R.type&&(s+=" } ",A&&A===R.type&&!C)){s+=" else { ";var h=t.schemaPath+".type",p=t.errSchemaPath+"/type",y=y||[];y.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(L||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(p)+" , params: { type: '",w?s+=""+A.join(","):s+=""+A,s+="' } ",t.opts.messages!==!1&&(s+=" , message: 'should be ",w?s+=""+A.join(","):s+=""+A,s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+g+" "),s+=" } "):s+=" {} ";var v=s;s=y.pop(),!t.compositeRule&&U?t.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } "}U&&(s+=" if (errors === ",P?s+="0":s+="errs_"+u,s+=") { ",$+="}")}}}U&&(s+=" "+$+" "),P?(i?(s+=" if (errors === 0) return data;           ",s+=" else throw new ValidationError(vErrors); "):(s+=" validate.errors = vErrors; ",s+=" return errors === 0;       "),s+=" }; return validate;"):s+=" var "+S+" = errors === errs_"+u+";";function K($e){for(var ne=$e.rules,ut=0;ut<ne.length;ut++)if(he(ne[ut]))return!0}function he($e){return t.schema[$e.keyword]!==void 0||$e.implements&&oe($e)}function oe($e){for(var ne=$e.implements,ut=0;ut<ne.length;ut++)if(t.schema[ne[ut]]!==void 0)return!0}return s}});var ag=T((oU,ig)=>{"use strict";var nl=rl(),al=pn(),sg=sl(),gE=_d(),rg=bd(),yE=al.ucs2length,vE=Go(),_E=sg.Validation;ig.exports=wd;function wd(e,t,r,n){var s=this,i=this._opts,a=[void 0],o={},l=[],c={},u=[],d={},f=[];t=t||{schema:e,refVal:a,refs:o};var h=bE.call(this,e,t,n),p=this._compilations[h.index];if(h.compiling)return p.callValidate=E;var g=this._formats,y=this.RULES;try{var v=S(e,t,r,n);p.validate=v;var P=p.callValidate;return P&&(P.schema=v.schema,P.errors=null,P.refs=v.refs,P.refVal=v.refVal,P.root=v.root,P.$async=v.$async,i.sourceCode&&(P.source=v.source)),v}finally{wE.call(this,e,t,n)}function E(){var x=p.validate,N=x.apply(this,arguments);return E.errors=x.errors,N}function S(x,N,H,re){var X=!N||N&&N.schema==x;if(N.schema!=t.schema)return wd.call(s,x,N,H,re);var W=x.$async===!0,te=rg({isTop:!0,schema:x,isRoot:X,baseId:re,root:N,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:sg.MissingRef,RULES:y,validate:rg,util:al,resolve:nl,resolveRef:U,usePattern:w,useDefault:C,useCustomRule:R,opts:i,formats:g,logger:s.logger,self:s});te=il(a,xE)+il(l,kE)+il(u,SE)+il(f,EE)+te,i.processCode&&(te=i.processCode(te,x));var Y;try{var de=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",te);Y=de(s,y,g,t,a,u,f,vE,yE,_E),a[0]=Y}catch(_e){throw s.logger.error("Error compiling schema, function code:",te),_e}return Y.schema=x,Y.errors=null,Y.refs=o,Y.refVal=a,Y.root=X?Y:N,W&&(Y.$async=!0),i.sourceCode===!0&&(Y.source={code:te,patterns:l,defaults:u}),Y}function U(x,N,H){N=nl.url(x,N);var re=o[N],X,W;if(re!==void 0)return X=a[re],W="refVal["+re+"]",A(X,W);if(!H&&t.refs){var te=t.refs[N];if(te!==void 0)return X=t.refVal[te],W=z(N,X),A(X,W)}W=z(N);var Y=nl.call(s,S,t,N);if(Y===void 0){var de=r&&r[N];de&&(Y=nl.inlineRef(de,i.inlineRefs)?de:wd.call(s,de,t,r,x))}if(Y===void 0)$(N);else return L(N,Y),A(Y,W)}function z(x,N){var H=a.length;return a[H]=N,o[x]=H,"refVal"+H}function $(x){delete o[x]}function L(x,N){var H=o[x];a[H]=N}function A(x,N){return typeof x=="object"||typeof x=="boolean"?{code:N,schema:x,inline:!0}:{code:N,$async:x&&!!x.$async}}function w(x){var N=c[x];return N===void 0&&(N=c[x]=l.length,l[N]=x),"pattern"+N}function C(x){switch(typeof x){case"boolean":case"number":return""+x;case"string":return al.toQuotedString(x);case"object":if(x===null)return"null";var N=gE(x),H=d[N];return H===void 0&&(H=d[N]=u.length,u[H]=x),"default"+H}}function R(x,N,H,re){if(s._opts.validateSchema!==!1){var X=x.definition.dependencies;if(X&&!X.every(function(Re){return Object.prototype.hasOwnProperty.call(H,Re)}))throw new Error("parent schema must have all required keywords: "+X.join(","));var W=x.definition.validateSchema;if(W){var te=W(N);if(!te){var Y="keyword schema is invalid: "+s.errorsText(W.errors);if(s._opts.validateSchema=="log")s.logger.error(Y);else throw new Error(Y)}}}var de=x.definition.compile,_e=x.definition.inline,Ce=x.definition.macro,ue;if(de)ue=de.call(s,N,H,re);else if(Ce)ue=Ce.call(s,N,H,re),i.validateSchema!==!1&&s.validateSchema(ue,!0);else if(_e)ue=_e.call(s,re,x.keyword,N,H);else if(ue=x.definition.validate,!ue)return;if(ue===void 0)throw new Error('custom keyword "'+x.keyword+'"failed to compile');var je=f.length;return f[je]=ue,{code:"customRule"+je,validate:ue}}}function bE(e,t,r){var n=ng.call(this,e,t,r);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:r},{index:n,compiling:!1})}function wE(e,t,r){var n=ng.call(this,e,t,r);n>=0&&this._compilations.splice(n,1)}function ng(e,t,r){for(var n=0;n<this._compilations.length;n++){var s=this._compilations[n];if(s.schema==e&&s.root==t&&s.baseId==r)return n}return-1}function kE(e,t){return"var pattern"+e+" = new RegExp("+al.toQuotedString(t[e])+");"}function SE(e){return"var default"+e+" = defaults["+e+"];"}function xE(e,t){return t[e]===void 0?"":"var refVal"+e+" = refVal["+e+"];"}function EE(e){return"var customRule"+e+" = customRules["+e+"];"}function il(e,t){if(!e.length)return"";for(var r="",n=0;n<e.length;n++)r+=t(n,e);return r}});var lg=T((lU,og)=>{"use strict";var ol=og.exports=function(){this._cache={}};ol.prototype.put=function(t,r){this._cache[t]=r};ol.prototype.get=function(t){return this._cache[t]};ol.prototype.del=function(t){delete this._cache[t]};ol.prototype.clear=function(){this._cache={}}});var bg=T((cU,_g)=>{"use strict";var CE=pn(),PE=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,RE=[0,31,28,31,30,31,30,31,31,30,31,30,31],IE=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,cg=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,OE=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,TE=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,ug=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,dg=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,hg=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,fg=/^(?:\/(?:[^~/]|~0|~1)*)*$/,pg=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,mg=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;_g.exports=ll;function ll(e){return e=e=="full"?"full":"fast",CE.copy(ll[e])}ll.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":ug,url:dg,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:cg,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:vg,uuid:hg,"json-pointer":fg,"json-pointer-uri-fragment":pg,"relative-json-pointer":mg};ll.full={date:gg,time:yg,"date-time":AE,uri:UE,"uri-reference":TE,"uri-template":ug,url:dg,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:cg,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:vg,uuid:hg,"json-pointer":fg,"json-pointer-uri-fragment":pg,"relative-json-pointer":mg};function DE(e){return e%4===0&&(e%100!==0||e%400===0)}function gg(e){var t=e.match(PE);if(!t)return!1;var r=+t[1],n=+t[2],s=+t[3];return n>=1&&n<=12&&s>=1&&s<=(n==2&&DE(r)?29:RE[n])}function yg(e,t){var r=e.match(IE);if(!r)return!1;var n=r[1],s=r[2],i=r[3],a=r[5];return(n<=23&&s<=59&&i<=59||n==23&&s==59&&i==60)&&(!t||a)}var jE=/t|\s/i;function AE(e){var t=e.split(jE);return t.length==2&&gg(t[0])&&yg(t[1],!0)}var ME=/\/|:/;function UE(e){return ME.test(e)&&OE.test(e)}var NE=/[^\\]\\Z/;function vg(e){if(NE.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}});var kg=T((uU,wg)=>{"use strict";wg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.errSchemaPath+"/"+r,c=!t.opts.allErrors,u="data"+(a||""),d="valid"+i,f,h;if(o=="#"||o=="#/")t.isRoot?(f=t.async,h="validate"):(f=t.root.schema.$async===!0,h="root.refVal[0]");else{var p=t.resolveRef(t.baseId,o,t.isRoot);if(p===void 0){var g=t.MissingRefError.message(t.baseId,o);if(t.opts.missingRefs=="fail"){t.logger.error(g);var y=y||[];y.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { ref: '"+t.util.escapeQuotes(o)+"' } ",t.opts.messages!==!1&&(s+=" , message: 'can\\'t resolve reference "+t.util.escapeQuotes(o)+"' "),t.opts.verbose&&(s+=" , schema: "+t.util.toQuotedString(o)+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var v=s;s=y.pop(),!t.compositeRule&&c?t.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(s+=" if (false) { ")}else if(t.opts.missingRefs=="ignore")t.logger.warn(g),c&&(s+=" if (true) { ");else throw new t.MissingRefError(t.baseId,o,g)}else if(p.inline){var P=t.util.copy(t);P.level++;var E="valid"+P.level;P.schema=p.schema,P.schemaPath="",P.errSchemaPath=o;var S=t.validate(P).replace(/validate\.schema/g,p.code);s+=" "+S+" ",c&&(s+=" if ("+E+") { ")}else f=p.$async===!0||t.async&&p.$async!==!1,h=p.code}if(h){var y=y||[];y.push(s),s="",t.opts.passContext?s+=" "+h+".call(this, ":s+=" "+h+"( ",s+=" "+u+", (dataPath || '')",t.errorPath!='""'&&(s+=" + "+t.errorPath);var U=a?"data"+(a-1||""):"parentData",z=a?t.dataPathArr[a]:"parentDataProperty";s+=" , "+U+" , "+z+", rootData)  ";var $=s;if(s=y.pop(),f){if(!t.async)throw new Error("async schema referenced by sync schema");c&&(s+=" var "+d+"; "),s+=" try { await "+$+"; ",c&&(s+=" "+d+" = true; "),s+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(s+=" "+d+" = false; "),s+=" } ",c&&(s+=" if ("+d+") { ")}else s+=" if (!"+$+") { if (vErrors === null) vErrors = "+h+".errors; else vErrors = vErrors.concat("+h+".errors); errors = vErrors.length; } ",c&&(s+=" else { ")}return s}});var xg=T((dU,Sg)=>{"use strict";Sg.exports=function(t,r,n){var s=" ",i=t.schema[r],a=t.schemaPath+t.util.getProperty(r),o=t.errSchemaPath+"/"+r,l=!t.opts.allErrors,c=t.util.copy(t),u="";c.level++;var d="valid"+c.level,f=c.baseId,h=!0,p=i;if(p)for(var g,y=-1,v=p.length-1;y<v;)g=p[y+=1],(t.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:t.util.schemaHasRules(g,t.RULES.all))&&(h=!1,c.schema=g,c.schemaPath=a+"["+y+"]",c.errSchemaPath=o+"/"+y,s+="  "+t.validate(c)+" ",c.baseId=f,l&&(s+=" if ("+d+") { ",u+="}"));return l&&(h?s+=" if (true) { ":s+=" "+u.slice(0,-1)+" "),s}});var Cg=T((hU,Eg)=>{"use strict";Eg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),f="valid"+i,h="errs__"+i,p=t.util.copy(t),g="";p.level++;var y="valid"+p.level,v=o.every(function(L){return t.opts.strictKeywords?typeof L=="object"&&Object.keys(L).length>0||L===!1:t.util.schemaHasRules(L,t.RULES.all)});if(v){var P=p.baseId;s+=" var "+h+" = errors; var "+f+" = false;  ";var E=t.compositeRule;t.compositeRule=p.compositeRule=!0;var S=o;if(S)for(var U,z=-1,$=S.length-1;z<$;)U=S[z+=1],p.schema=U,p.schemaPath=l+"["+z+"]",p.errSchemaPath=c+"/"+z,s+="  "+t.validate(p)+" ",p.baseId=P,s+=" "+f+" = "+f+" || "+y+"; if (!"+f+") { ",g+="}";t.compositeRule=p.compositeRule=E,s+=" "+g+" if (!"+f+") {   var err =   ",t.createErrors!==!1?(s+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(s+=" , message: 'should match some schema in anyOf' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",t.opts.allErrors&&(s+=" } ")}else u&&(s+=" if (true) { ");return s}});var Rg=T((fU,Pg)=>{"use strict";Pg.exports=function(t,r,n){var s=" ",i=t.schema[r],a=t.errSchemaPath+"/"+r,o=!t.opts.allErrors,l=t.util.toQuotedString(i);return t.opts.$comment===!0?s+=" console.log("+l+");":typeof t.opts.$comment=="function"&&(s+=" self._opts.$comment("+l+", "+t.util.toQuotedString(a)+", validate.root.schema);"),s}});var Og=T((pU,Ig)=>{"use strict";Ig.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),f="valid"+i,h=t.opts.$data&&o&&o.$data,p;h?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",p="schema"+i):p=o,h||(s+=" var schema"+i+" = validate.schema"+l+";"),s+="var "+f+" = equal("+d+", schema"+i+"); if (!"+f+") {   ";var g=g||[];g.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'const' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { allowedValue: schema"+i+" } ",t.opts.messages!==!1&&(s+=" , message: 'should be equal to constant' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var y=s;return s=g.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+y+"]); ":s+=" validate.errors = ["+y+"]; return false; ":s+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" }",u&&(s+=" else { "),s}});var Dg=T((mU,Tg)=>{"use strict";Tg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),f="valid"+i,h="errs__"+i,p=t.util.copy(t),g="";p.level++;var y="valid"+p.level,v="i"+i,P=p.dataLevel=t.dataLevel+1,E="data"+P,S=t.baseId,U=t.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:t.util.schemaHasRules(o,t.RULES.all);if(s+="var "+h+" = errors;var "+f+";",U){var z=t.compositeRule;t.compositeRule=p.compositeRule=!0,p.schema=o,p.schemaPath=l,p.errSchemaPath=c,s+=" var "+y+" = false; for (var "+v+" = 0; "+v+" < "+d+".length; "+v+"++) { ",p.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers,!0);var $=d+"["+v+"]";p.dataPathArr[P]=v;var L=t.validate(p);p.baseId=S,t.util.varOccurences(L,E)<2?s+=" "+t.util.varReplace(L,E,$)+" ":s+=" var "+E+" = "+$+"; "+L+" ",s+=" if ("+y+") break; }  ",t.compositeRule=p.compositeRule=z,s+=" "+g+" if (!"+y+") {"}else s+=" if ("+d+".length == 0) {";var A=A||[];A.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(s+=" , message: 'should contain a valid item' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var w=s;return s=A.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+w+"]); ":s+=" validate.errors = ["+w+"]; return false; ":s+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { ",U&&(s+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),t.opts.allErrors&&(s+=" } "),s}});var Ag=T((gU,jg)=>{"use strict";jg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),f="errs__"+i,h=t.util.copy(t),p="";h.level++;var g="valid"+h.level,y={},v={},P=t.opts.ownProperties;for(z in o)if(z!="__proto__"){var E=o[z],S=Array.isArray(E)?v:y;S[z]=E}s+="var "+f+" = errors;";var U=t.errorPath;s+="var missing"+i+";";for(var z in v)if(S=v[z],S.length){if(s+=" if ( "+d+t.util.getProperty(z)+" !== undefined ",P&&(s+=" && Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(z)+"') "),u){s+=" && ( ";var $=S;if($)for(var L,A=-1,w=$.length-1;A<w;){L=$[A+=1],A&&(s+=" || ");var C=t.util.getProperty(L),R=d+C;s+=" ( ( "+R+" === undefined ",P&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(L)+"') "),s+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?L:C)+") ) "}s+=")) {  ";var x="missing"+i,N="' + "+x+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(U,x,!0):U+" + "+x);var H=H||[];H.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { property: '"+t.util.escapeQuotes(z)+"', missingProperty: '"+N+"', depsCount: "+S.length+", deps: '"+t.util.escapeQuotes(S.length==1?S[0]:S.join(", "))+"' } ",t.opts.messages!==!1&&(s+=" , message: 'should have ",S.length==1?s+="property "+t.util.escapeQuotes(S[0]):s+="properties "+t.util.escapeQuotes(S.join(", ")),s+=" when property "+t.util.escapeQuotes(z)+" is present' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var re=s;s=H.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+re+"]); ":s+=" validate.errors = ["+re+"]; return false; ":s+=" var err = "+re+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{s+=" ) { ";var X=S;if(X)for(var L,W=-1,te=X.length-1;W<te;){L=X[W+=1];var C=t.util.getProperty(L),N=t.util.escapeQuotes(L),R=d+C;t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(U,L,t.opts.jsonPointers)),s+=" if ( "+R+" === undefined ",P&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(L)+"') "),s+=") {  var err =   ",t.createErrors!==!1?(s+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { property: '"+t.util.escapeQuotes(z)+"', missingProperty: '"+N+"', depsCount: "+S.length+", deps: '"+t.util.escapeQuotes(S.length==1?S[0]:S.join(", "))+"' } ",t.opts.messages!==!1&&(s+=" , message: 'should have ",S.length==1?s+="property "+t.util.escapeQuotes(S[0]):s+="properties "+t.util.escapeQuotes(S.join(", ")),s+=" when property "+t.util.escapeQuotes(z)+" is present' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}s+=" }   ",u&&(p+="}",s+=" else { ")}t.errorPath=U;var Y=h.baseId;for(var z in y){var E=y[z];(t.opts.strictKeywords?typeof E=="object"&&Object.keys(E).length>0||E===!1:t.util.schemaHasRules(E,t.RULES.all))&&(s+=" "+g+" = true; if ( "+d+t.util.getProperty(z)+" !== undefined ",P&&(s+=" && Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(z)+"') "),s+=") { ",h.schema=E,h.schemaPath=l+t.util.getProperty(z),h.errSchemaPath=c+"/"+t.util.escapeFragment(z),s+="  "+t.validate(h)+" ",h.baseId=Y,s+=" }  ",u&&(s+=" if ("+g+") { ",p+="}"))}return u&&(s+="   "+p+" if ("+f+" == errors) {"),s}});var Ug=T((yU,Mg)=>{"use strict";Mg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),f="valid"+i,h=t.opts.$data&&o&&o.$data,p;h?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",p="schema"+i):p=o;var g="i"+i,y="schema"+i;h||(s+=" var "+y+" = validate.schema"+l+";"),s+="var "+f+";",h&&(s+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),s+=""+f+" = false;for (var "+g+"=0; "+g+"<"+y+".length; "+g+"++) if (equal("+d+", "+y+"["+g+"])) { "+f+" = true; break; }",h&&(s+="  }  "),s+=" if (!"+f+") {   ";var v=v||[];v.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { allowedValues: schema"+i+" } ",t.opts.messages!==!1&&(s+=" , message: 'should be equal to one of the allowed values' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var P=s;return s=v.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+P+"]); ":s+=" validate.errors = ["+P+"]; return false; ":s+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" }",u&&(s+=" else { "),s}});var Lg=T((vU,Ng)=>{"use strict";Ng.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||"");if(t.opts.format===!1)return u&&(s+=" if (true) { "),s;var f=t.opts.$data&&o&&o.$data,h;f?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",h="schema"+i):h=o;var p=t.opts.unknownFormats,g=Array.isArray(p);if(f){var y="format"+i,v="isObject"+i,P="formatType"+i;s+=" var "+y+" = formats["+h+"]; var "+v+" = typeof "+y+" == 'object' && !("+y+" instanceof RegExp) && "+y+".validate; var "+P+" = "+v+" && "+y+".type || 'string'; if ("+v+") { ",t.async&&(s+=" var async"+i+" = "+y+".async; "),s+=" "+y+" = "+y+".validate; } if (  ",f&&(s+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),s+=" (",p!="ignore"&&(s+=" ("+h+" && !"+y+" ",g&&(s+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),s+=") || "),s+=" ("+y+" && "+P+" == '"+n+"' && !(typeof "+y+" == 'function' ? ",t.async?s+=" (async"+i+" ? await "+y+"("+d+") : "+y+"("+d+")) ":s+=" "+y+"("+d+") ",s+=" : "+y+".test("+d+"))))) {"}else{var y=t.formats[o];if(!y){if(p=="ignore")return t.logger.warn('unknown format "'+o+'" ignored in schema at path "'+t.errSchemaPath+'"'),u&&(s+=" if (true) { "),s;if(g&&p.indexOf(o)>=0)return u&&(s+=" if (true) { "),s;throw new Error('unknown format "'+o+'" is used in schema at path "'+t.errSchemaPath+'"')}var v=typeof y=="object"&&!(y instanceof RegExp)&&y.validate,P=v&&y.type||"string";if(v){var E=y.async===!0;y=y.validate}if(P!=n)return u&&(s+=" if (true) { "),s;if(E){if(!t.async)throw new Error("async format in sync schema");var S="formats"+t.util.getProperty(o)+".validate";s+=" if (!(await "+S+"("+d+"))) { "}else{s+=" if (! ";var S="formats"+t.util.getProperty(o);v&&(S+=".validate"),typeof y=="function"?s+=" "+S+"("+d+") ":s+=" "+S+".test("+d+") ",s+=") { "}}var U=U||[];U.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'format' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { format:  ",f?s+=""+h:s+=""+t.util.toQuotedString(o),s+="  } ",t.opts.messages!==!1&&(s+=` , message: 'should match format "`,f?s+="' + "+h+" + '":s+=""+t.util.escapeQuotes(o),s+=`"' `),t.opts.verbose&&(s+=" , schema:  ",f?s+="validate.schema"+l:s+=""+t.util.toQuotedString(o),s+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var z=s;return s=U.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+z+"]); ":s+=" validate.errors = ["+z+"]; return false; ":s+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { "),s}});var $g=T((_U,qg)=>{"use strict";qg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),f="valid"+i,h="errs__"+i,p=t.util.copy(t);p.level++;var g="valid"+p.level,y=t.schema.then,v=t.schema.else,P=y!==void 0&&(t.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:t.util.schemaHasRules(y,t.RULES.all)),E=v!==void 0&&(t.opts.strictKeywords?typeof v=="object"&&Object.keys(v).length>0||v===!1:t.util.schemaHasRules(v,t.RULES.all)),S=p.baseId;if(P||E){var U;p.createErrors=!1,p.schema=o,p.schemaPath=l,p.errSchemaPath=c,s+=" var "+h+" = errors; var "+f+" = true;  ";var z=t.compositeRule;t.compositeRule=p.compositeRule=!0,s+="  "+t.validate(p)+" ",p.baseId=S,p.createErrors=!0,s+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",t.compositeRule=p.compositeRule=z,P?(s+=" if ("+g+") {  ",p.schema=t.schema.then,p.schemaPath=t.schemaPath+".then",p.errSchemaPath=t.errSchemaPath+"/then",s+="  "+t.validate(p)+" ",p.baseId=S,s+=" "+f+" = "+g+"; ",P&&E?(U="ifClause"+i,s+=" var "+U+" = 'then'; "):U="'then'",s+=" } ",E&&(s+=" else { ")):s+=" if (!"+g+") { ",E&&(p.schema=t.schema.else,p.schemaPath=t.schemaPath+".else",p.errSchemaPath=t.errSchemaPath+"/else",s+="  "+t.validate(p)+" ",p.baseId=S,s+=" "+f+" = "+g+"; ",P&&E?(U="ifClause"+i,s+=" var "+U+" = 'else'; "):U="'else'",s+=" } "),s+=" if (!"+f+") {   var err =   ",t.createErrors!==!1?(s+=" { keyword: 'if' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { failingKeyword: "+U+" } ",t.opts.messages!==!1&&(s+=` , message: 'should match "' + `+U+` + '" schema' `),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+=" }   ",u&&(s+=" else { ")}else u&&(s+=" if (true) { ");return s}});var Fg=T((bU,zg)=>{"use strict";zg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),f="valid"+i,h="errs__"+i,p=t.util.copy(t),g="";p.level++;var y="valid"+p.level,v="i"+i,P=p.dataLevel=t.dataLevel+1,E="data"+P,S=t.baseId;if(s+="var "+h+" = errors;var "+f+";",Array.isArray(o)){var U=t.schema.additionalItems;if(U===!1){s+=" "+f+" = "+d+".length <= "+o.length+"; ";var z=c;c=t.errSchemaPath+"/additionalItems",s+="  if (!"+f+") {   ";var $=$||[];$.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+o.length+" } ",t.opts.messages!==!1&&(s+=" , message: 'should NOT have more than "+o.length+" items' "),t.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var L=s;s=$.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+L+"]); ":s+=" validate.errors = ["+L+"]; return false; ":s+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",c=z,u&&(g+="}",s+=" else { ")}var A=o;if(A){for(var w,C=-1,R=A.length-1;C<R;)if(w=A[C+=1],t.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:t.util.schemaHasRules(w,t.RULES.all)){s+=" "+y+" = true; if ("+d+".length > "+C+") { ";var x=d+"["+C+"]";p.schema=w,p.schemaPath=l+"["+C+"]",p.errSchemaPath=c+"/"+C,p.errorPath=t.util.getPathExpr(t.errorPath,C,t.opts.jsonPointers,!0),p.dataPathArr[P]=C;var N=t.validate(p);p.baseId=S,t.util.varOccurences(N,E)<2?s+=" "+t.util.varReplace(N,E,x)+" ":s+=" var "+E+" = "+x+"; "+N+" ",s+=" }  ",u&&(s+=" if ("+y+") { ",g+="}")}}if(typeof U=="object"&&(t.opts.strictKeywords?typeof U=="object"&&Object.keys(U).length>0||U===!1:t.util.schemaHasRules(U,t.RULES.all))){p.schema=U,p.schemaPath=t.schemaPath+".additionalItems",p.errSchemaPath=t.errSchemaPath+"/additionalItems",s+=" "+y+" = true; if ("+d+".length > "+o.length+") {  for (var "+v+" = "+o.length+"; "+v+" < "+d+".length; "+v+"++) { ",p.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers,!0);var x=d+"["+v+"]";p.dataPathArr[P]=v;var N=t.validate(p);p.baseId=S,t.util.varOccurences(N,E)<2?s+=" "+t.util.varReplace(N,E,x)+" ":s+=" var "+E+" = "+x+"; "+N+" ",u&&(s+=" if (!"+y+") break; "),s+=" } }  ",u&&(s+=" if ("+y+") { ",g+="}")}}else if(t.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:t.util.schemaHasRules(o,t.RULES.all)){p.schema=o,p.schemaPath=l,p.errSchemaPath=c,s+="  for (var "+v+" = 0; "+v+" < "+d+".length; "+v+"++) { ",p.errorPath=t.util.getPathExpr(t.errorPath,v,t.opts.jsonPointers,!0);var x=d+"["+v+"]";p.dataPathArr[P]=v;var N=t.validate(p);p.baseId=S,t.util.varOccurences(N,E)<2?s+=" "+t.util.varReplace(N,E,x)+" ":s+=" var "+E+" = "+x+"; "+N+" ",u&&(s+=" if (!"+y+") break; "),s+=" }"}return u&&(s+=" "+g+" if ("+h+" == errors) {"),s}});var kd=T((wU,Vg)=>{"use strict";Vg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,S,d="data"+(a||""),f=t.opts.$data&&o&&o.$data,h;f?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",h="schema"+i):h=o;var p=r=="maximum",g=p?"exclusiveMaximum":"exclusiveMinimum",y=t.schema[g],v=t.opts.$data&&y&&y.$data,P=p?"<":">",E=p?">":"<",S=void 0;if(!(f||typeof o=="number"||o===void 0))throw new Error(r+" must be number");if(!(v||y===void 0||typeof y=="number"||typeof y=="boolean"))throw new Error(g+" must be number or boolean");if(v){var U=t.util.getData(y.$data,a,t.dataPathArr),z="exclusive"+i,$="exclType"+i,L="exclIsNumber"+i,A="op"+i,w="' + "+A+" + '";s+=" var schemaExcl"+i+" = "+U+"; ",U="schemaExcl"+i,s+=" var "+z+"; var "+$+" = typeof "+U+"; if ("+$+" != 'boolean' && "+$+" != 'undefined' && "+$+" != 'number') { ";var S=g,C=C||[];C.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(S||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(s+=" , message: '"+g+" should be boolean' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var R=s;s=C.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+R+"]); ":s+=" validate.errors = ["+R+"]; return false; ":s+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else if ( ",f&&(s+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),s+=" "+$+" == 'number' ? ( ("+z+" = "+h+" === undefined || "+U+" "+P+"= "+h+") ? "+d+" "+E+"= "+U+" : "+d+" "+E+" "+h+" ) : ( ("+z+" = "+U+" === true) ? "+d+" "+E+"= "+h+" : "+d+" "+E+" "+h+" ) || "+d+" !== "+d+") { var op"+i+" = "+z+" ? '"+P+"' : '"+P+"='; ",o===void 0&&(S=g,c=t.errSchemaPath+"/"+g,h=U,f=v)}else{var L=typeof y=="number",w=P;if(L&&f){var A="'"+w+"'";s+=" if ( ",f&&(s+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),s+=" ( "+h+" === undefined || "+y+" "+P+"= "+h+" ? "+d+" "+E+"= "+y+" : "+d+" "+E+" "+h+" ) || "+d+" !== "+d+") { "}else{L&&o===void 0?(z=!0,S=g,c=t.errSchemaPath+"/"+g,h=y,E+="="):(L&&(h=Math[p?"min":"max"](y,o)),y===(L?h:!0)?(z=!0,S=g,c=t.errSchemaPath+"/"+g,E+="="):(z=!1,w+="="));var A="'"+w+"'";s+=" if ( ",f&&(s+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),s+=" "+d+" "+E+" "+h+" || "+d+" !== "+d+") { "}}S=S||r;var C=C||[];C.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(S||"_limit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { comparison: "+A+", limit: "+h+", exclusive: "+z+" } ",t.opts.messages!==!1&&(s+=" , message: 'should be "+w+" ",f?s+="' + "+h:s+=""+h+"'"),t.opts.verbose&&(s+=" , schema:  ",f?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var R=s;return s=C.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+R+"]); ":s+=" validate.errors = ["+R+"]; return false; ":s+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { "),s}});var Sd=T((kU,Bg)=>{"use strict";Bg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,g,d="data"+(a||""),f=t.opts.$data&&o&&o.$data,h;if(f?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",h="schema"+i):h=o,!(f||typeof o=="number"))throw new Error(r+" must be number");var p=r=="maxItems"?">":"<";s+="if ( ",f&&(s+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),s+=" "+d+".length "+p+" "+h+") { ";var g=r,y=y||[];y.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(g||"_limitItems")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+h+" } ",t.opts.messages!==!1&&(s+=" , message: 'should NOT have ",r=="maxItems"?s+="more":s+="fewer",s+=" than ",f?s+="' + "+h+" + '":s+=""+o,s+=" items' "),t.opts.verbose&&(s+=" , schema:  ",f?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var v=s;return s=y.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var xd=T((SU,Hg)=>{"use strict";Hg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,g,d="data"+(a||""),f=t.opts.$data&&o&&o.$data,h;if(f?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",h="schema"+i):h=o,!(f||typeof o=="number"))throw new Error(r+" must be number");var p=r=="maxLength"?">":"<";s+="if ( ",f&&(s+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),t.opts.unicode===!1?s+=" "+d+".length ":s+=" ucs2length("+d+") ",s+=" "+p+" "+h+") { ";var g=r,y=y||[];y.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(g||"_limitLength")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+h+" } ",t.opts.messages!==!1&&(s+=" , message: 'should NOT be ",r=="maxLength"?s+="longer":s+="shorter",s+=" than ",f?s+="' + "+h+" + '":s+=""+o,s+=" characters' "),t.opts.verbose&&(s+=" , schema:  ",f?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var v=s;return s=y.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var Ed=T((xU,Jg)=>{"use strict";Jg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,g,d="data"+(a||""),f=t.opts.$data&&o&&o.$data,h;if(f?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",h="schema"+i):h=o,!(f||typeof o=="number"))throw new Error(r+" must be number");var p=r=="maxProperties"?">":"<";s+="if ( ",f&&(s+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),s+=" Object.keys("+d+").length "+p+" "+h+") { ";var g=r,y=y||[];y.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(g||"_limitProperties")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+h+" } ",t.opts.messages!==!1&&(s+=" , message: 'should NOT have ",r=="maxProperties"?s+="more":s+="fewer",s+=" than ",f?s+="' + "+h+" + '":s+=""+o,s+=" properties' "),t.opts.verbose&&(s+=" , schema:  ",f?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var v=s;return s=y.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var Wg=T((EU,Kg)=>{"use strict";Kg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),f=t.opts.$data&&o&&o.$data,h;if(f?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",h="schema"+i):h=o,!(f||typeof o=="number"))throw new Error(r+" must be number");s+="var division"+i+";if (",f&&(s+=" "+h+" !== undefined && ( typeof "+h+" != 'number' || "),s+=" (division"+i+" = "+d+" / "+h+", ",t.opts.multipleOfPrecision?s+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+t.opts.multipleOfPrecision+" ":s+=" division"+i+" !== parseInt(division"+i+") ",s+=" ) ",f&&(s+="  )  "),s+=" ) {   ";var p=p||[];p.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { multipleOf: "+h+" } ",t.opts.messages!==!1&&(s+=" , message: 'should be multiple of ",f?s+="' + "+h:s+=""+h+"'"),t.opts.verbose&&(s+=" , schema:  ",f?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var g=s;return s=p.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var Zg=T((CU,Gg)=>{"use strict";Gg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),f="errs__"+i,h=t.util.copy(t);h.level++;var p="valid"+h.level;if(t.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:t.util.schemaHasRules(o,t.RULES.all)){h.schema=o,h.schemaPath=l,h.errSchemaPath=c,s+=" var "+f+" = errors;  ";var g=t.compositeRule;t.compositeRule=h.compositeRule=!0,h.createErrors=!1;var y;h.opts.allErrors&&(y=h.opts.allErrors,h.opts.allErrors=!1),s+=" "+t.validate(h)+" ",h.createErrors=!0,y&&(h.opts.allErrors=y),t.compositeRule=h.compositeRule=g,s+=" if ("+p+") {   ";var v=v||[];v.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(s+=" , message: 'should NOT be valid' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var P=s;s=v.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+P+"]); ":s+=" validate.errors = ["+P+"]; return false; ":s+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",t.opts.allErrors&&(s+=" } ")}else s+="  var err =   ",t.createErrors!==!1?(s+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",t.opts.messages!==!1&&(s+=" , message: 'should NOT be valid' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(s+=" if (false) { ");return s}});var Qg=T((PU,Yg)=>{"use strict";Yg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),f="valid"+i,h="errs__"+i,p=t.util.copy(t),g="";p.level++;var y="valid"+p.level,v=p.baseId,P="prevValid"+i,E="passingSchemas"+i;s+="var "+h+" = errors , "+P+" = false , "+f+" = false , "+E+" = null; ";var S=t.compositeRule;t.compositeRule=p.compositeRule=!0;var U=o;if(U)for(var z,$=-1,L=U.length-1;$<L;)z=U[$+=1],(t.opts.strictKeywords?typeof z=="object"&&Object.keys(z).length>0||z===!1:t.util.schemaHasRules(z,t.RULES.all))?(p.schema=z,p.schemaPath=l+"["+$+"]",p.errSchemaPath=c+"/"+$,s+="  "+t.validate(p)+" ",p.baseId=v):s+=" var "+y+" = true; ",$&&(s+=" if ("+y+" && "+P+") { "+f+" = false; "+E+" = ["+E+", "+$+"]; } else { ",g+="}"),s+=" if ("+y+") { "+f+" = "+P+" = true; "+E+" = "+$+"; }";return t.compositeRule=p.compositeRule=S,s+=""+g+"if (!"+f+") {   var err =   ",t.createErrors!==!1?(s+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { passingSchemas: "+E+" } ",t.opts.messages!==!1&&(s+=" , message: 'should match exactly one schema in oneOf' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",t.opts.allErrors&&(s+=" } "),s}});var ey=T((RU,Xg)=>{"use strict";Xg.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),f=t.opts.$data&&o&&o.$data,h;f?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",h="schema"+i):h=o;var p=f?"(new RegExp("+h+"))":t.usePattern(o);s+="if ( ",f&&(s+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),s+=" !"+p+".test("+d+") ) {   ";var g=g||[];g.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { pattern:  ",f?s+=""+h:s+=""+t.util.toQuotedString(o),s+="  } ",t.opts.messages!==!1&&(s+=` , message: 'should match pattern "`,f?s+="' + "+h+" + '":s+=""+t.util.escapeQuotes(o),s+=`"' `),t.opts.verbose&&(s+=" , schema:  ",f?s+="validate.schema"+l:s+=""+t.util.toQuotedString(o),s+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var y=s;return s=g.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+y+"]); ":s+=" validate.errors = ["+y+"]; return false; ":s+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var ry=T((IU,ty)=>{"use strict";ty.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),f="errs__"+i,h=t.util.copy(t),p="";h.level++;var g="valid"+h.level,y="key"+i,v="idx"+i,P=h.dataLevel=t.dataLevel+1,E="data"+P,S="dataProperties"+i,U=Object.keys(o||{}).filter(W),z=t.schema.patternProperties||{},$=Object.keys(z).filter(W),L=t.schema.additionalProperties,A=U.length||$.length,w=L===!1,C=typeof L=="object"&&Object.keys(L).length,R=t.opts.removeAdditional,x=w||C||R,N=t.opts.ownProperties,H=t.baseId,re=t.schema.required;if(re&&!(t.opts.$data&&re.$data)&&re.length<t.opts.loopRequired)var X=t.util.toHash(re);function W(mr){return mr!=="__proto__"}if(s+="var "+f+" = errors;var "+g+" = true;",N&&(s+=" var "+S+" = undefined;"),x){if(N?s+=" "+S+" = "+S+" || Object.keys("+d+"); for (var "+v+"=0; "+v+"<"+S+".length; "+v+"++) { var "+y+" = "+S+"["+v+"]; ":s+=" for (var "+y+" in "+d+") { ",A){if(s+=" var isAdditional"+i+" = !(false ",U.length)if(U.length>8)s+=" || validate.schema"+l+".hasOwnProperty("+y+") ";else{var te=U;if(te)for(var Y,de=-1,_e=te.length-1;de<_e;)Y=te[de+=1],s+=" || "+y+" == "+t.util.toQuotedString(Y)+" "}if($.length){var Ce=$;if(Ce)for(var ue,je=-1,Re=Ce.length-1;je<Re;)ue=Ce[je+=1],s+=" || "+t.usePattern(ue)+".test("+y+") "}s+=" ); if (isAdditional"+i+") { "}if(R=="all")s+=" delete "+d+"["+y+"]; ";else{var Qe=t.errorPath,Kt="' + "+y+" + '";if(t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers)),w)if(R)s+=" delete "+d+"["+y+"]; ";else{s+=" "+g+" = false; ";var Nt=c;c=t.errSchemaPath+"/additionalProperties";var Le=Le||[];Le.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { additionalProperty: '"+Kt+"' } ",t.opts.messages!==!1&&(s+=" , message: '",t.opts._errorDataPathProperty?s+="is an invalid additional property":s+="should NOT have additional properties",s+="' "),t.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var Oe=s;s=Le.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+Oe+"]); ":s+=" validate.errors = ["+Oe+"]; return false; ":s+=" var err = "+Oe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=Nt,u&&(s+=" break; ")}else if(C)if(R=="failing"){s+=" var "+f+" = errors;  ";var tr=t.compositeRule;t.compositeRule=h.compositeRule=!0,h.schema=L,h.schemaPath=t.schemaPath+".additionalProperties",h.errSchemaPath=t.errSchemaPath+"/additionalProperties",h.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers);var F=d+"["+y+"]";h.dataPathArr[P]=y;var q=t.validate(h);h.baseId=H,t.util.varOccurences(q,E)<2?s+=" "+t.util.varReplace(q,E,F)+" ":s+=" var "+E+" = "+F+"; "+q+" ",s+=" if (!"+g+") { errors = "+f+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+y+"]; }  ",t.compositeRule=h.compositeRule=tr}else{h.schema=L,h.schemaPath=t.schemaPath+".additionalProperties",h.errSchemaPath=t.errSchemaPath+"/additionalProperties",h.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers);var F=d+"["+y+"]";h.dataPathArr[P]=y;var q=t.validate(h);h.baseId=H,t.util.varOccurences(q,E)<2?s+=" "+t.util.varReplace(q,E,F)+" ":s+=" var "+E+" = "+F+"; "+q+" ",u&&(s+=" if (!"+g+") break; ")}t.errorPath=Qe}A&&(s+=" } "),s+=" }  ",u&&(s+=" if ("+g+") { ",p+="}")}var O=t.opts.useDefaults&&!t.compositeRule;if(U.length){var I=U;if(I)for(var Y,j=-1,J=I.length-1;j<J;){Y=I[j+=1];var K=o[Y];if(t.opts.strictKeywords?typeof K=="object"&&Object.keys(K).length>0||K===!1:t.util.schemaHasRules(K,t.RULES.all)){var he=t.util.getProperty(Y),F=d+he,oe=O&&K.default!==void 0;h.schema=K,h.schemaPath=l+he,h.errSchemaPath=c+"/"+t.util.escapeFragment(Y),h.errorPath=t.util.getPath(t.errorPath,Y,t.opts.jsonPointers),h.dataPathArr[P]=t.util.toQuotedString(Y);var q=t.validate(h);if(h.baseId=H,t.util.varOccurences(q,E)<2){q=t.util.varReplace(q,E,F);var $e=F}else{var $e=E;s+=" var "+E+" = "+F+"; "}if(oe)s+=" "+q+" ";else{if(X&&X[Y]){s+=" if ( "+$e+" === undefined ",N&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(Y)+"') "),s+=") { "+g+" = false; ";var Qe=t.errorPath,Nt=c,ne=t.util.escapeQuotes(Y);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(Qe,Y,t.opts.jsonPointers)),c=t.errSchemaPath+"/required";var Le=Le||[];Le.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+ne+"' } ",t.opts.messages!==!1&&(s+=" , message: '",t.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+ne+"\\'",s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var Oe=s;s=Le.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+Oe+"]); ":s+=" validate.errors = ["+Oe+"]; return false; ":s+=" var err = "+Oe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=Nt,t.errorPath=Qe,s+=" } else { "}else u?(s+=" if ( "+$e+" === undefined ",N&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(Y)+"') "),s+=") { "+g+" = true; } else { "):(s+=" if ("+$e+" !== undefined ",N&&(s+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(Y)+"') "),s+=" ) { ");s+=" "+q+" } "}}u&&(s+=" if ("+g+") { ",p+="}")}}if($.length){var ut=$;if(ut)for(var ue,Hi=-1,zu=ut.length-1;Hi<zu;){ue=ut[Hi+=1];var K=z[ue];if(t.opts.strictKeywords?typeof K=="object"&&Object.keys(K).length>0||K===!1:t.util.schemaHasRules(K,t.RULES.all)){h.schema=K,h.schemaPath=t.schemaPath+".patternProperties"+t.util.getProperty(ue),h.errSchemaPath=t.errSchemaPath+"/patternProperties/"+t.util.escapeFragment(ue),N?s+=" "+S+" = "+S+" || Object.keys("+d+"); for (var "+v+"=0; "+v+"<"+S+".length; "+v+"++) { var "+y+" = "+S+"["+v+"]; ":s+=" for (var "+y+" in "+d+") { ",s+=" if ("+t.usePattern(ue)+".test("+y+")) { ",h.errorPath=t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers);var F=d+"["+y+"]";h.dataPathArr[P]=y;var q=t.validate(h);h.baseId=H,t.util.varOccurences(q,E)<2?s+=" "+t.util.varReplace(q,E,F)+" ":s+=" var "+E+" = "+F+"; "+q+" ",u&&(s+=" if (!"+g+") break; "),s+=" } ",u&&(s+=" else "+g+" = true; "),s+=" }  ",u&&(s+=" if ("+g+") { ",p+="}")}}}return u&&(s+=" "+p+" if ("+f+" == errors) {"),s}});var ny=T((OU,sy)=>{"use strict";sy.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),f="errs__"+i,h=t.util.copy(t),p="";h.level++;var g="valid"+h.level;if(s+="var "+f+" = errors;",t.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:t.util.schemaHasRules(o,t.RULES.all)){h.schema=o,h.schemaPath=l,h.errSchemaPath=c;var y="key"+i,v="idx"+i,P="i"+i,E="' + "+y+" + '",S=h.dataLevel=t.dataLevel+1,U="data"+S,z="dataProperties"+i,$=t.opts.ownProperties,L=t.baseId;$&&(s+=" var "+z+" = undefined; "),$?s+=" "+z+" = "+z+" || Object.keys("+d+"); for (var "+v+"=0; "+v+"<"+z+".length; "+v+"++) { var "+y+" = "+z+"["+v+"]; ":s+=" for (var "+y+" in "+d+") { ",s+=" var startErrs"+i+" = errors; ";var A=y,w=t.compositeRule;t.compositeRule=h.compositeRule=!0;var C=t.validate(h);h.baseId=L,t.util.varOccurences(C,U)<2?s+=" "+t.util.varReplace(C,U,A)+" ":s+=" var "+U+" = "+A+"; "+C+" ",t.compositeRule=h.compositeRule=w,s+=" if (!"+g+") { for (var "+P+"=startErrs"+i+"; "+P+"<errors; "+P+"++) { vErrors["+P+"].propertyName = "+y+"; }   var err =   ",t.createErrors!==!1?(s+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { propertyName: '"+E+"' } ",t.opts.messages!==!1&&(s+=" , message: 'property name \\'"+E+"\\' is invalid' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),u&&(s+=" break; "),s+=" } }"}return u&&(s+=" "+p+" if ("+f+" == errors) {"),s}});var ay=T((TU,iy)=>{"use strict";iy.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),f="valid"+i,h=t.opts.$data&&o&&o.$data,p;h?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",p="schema"+i):p=o;var g="schema"+i;if(!h)if(o.length<t.opts.loopRequired&&t.schema.properties&&Object.keys(t.schema.properties).length){var y=[],v=o;if(v)for(var P,E=-1,S=v.length-1;E<S;){P=v[E+=1];var U=t.schema.properties[P];U&&(t.opts.strictKeywords?typeof U=="object"&&Object.keys(U).length>0||U===!1:t.util.schemaHasRules(U,t.RULES.all))||(y[y.length]=P)}}else var y=o;if(h||y.length){var z=t.errorPath,$=h||y.length>=t.opts.loopRequired,L=t.opts.ownProperties;if(u)if(s+=" var missing"+i+"; ",$){h||(s+=" var "+g+" = validate.schema"+l+"; ");var A="i"+i,w="schema"+i+"["+A+"]",C="' + "+w+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(z,w,t.opts.jsonPointers)),s+=" var "+f+" = true; ",h&&(s+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),s+=" for (var "+A+" = 0; "+A+" < "+g+".length; "+A+"++) { "+f+" = "+d+"["+g+"["+A+"]] !== undefined ",L&&(s+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+g+"["+A+"]) "),s+="; if (!"+f+") break; } ",h&&(s+="  }  "),s+="  if (!"+f+") {   ";var R=R||[];R.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+C+"' } ",t.opts.messages!==!1&&(s+=" , message: '",t.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+C+"\\'",s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var x=s;s=R.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+x+"]); ":s+=" validate.errors = ["+x+"]; return false; ":s+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { "}else{s+=" if ( ";var N=y;if(N)for(var H,A=-1,re=N.length-1;A<re;){H=N[A+=1],A&&(s+=" || ");var X=t.util.getProperty(H),W=d+X;s+=" ( ( "+W+" === undefined ",L&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(H)+"') "),s+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?H:X)+") ) "}s+=") {  ";var w="missing"+i,C="' + "+w+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(z,w,!0):z+" + "+w);var R=R||[];R.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+C+"' } ",t.opts.messages!==!1&&(s+=" , message: '",t.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+C+"\\'",s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var x=s;s=R.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+x+"]); ":s+=" validate.errors = ["+x+"]; return false; ":s+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { "}else if($){h||(s+=" var "+g+" = validate.schema"+l+"; ");var A="i"+i,w="schema"+i+"["+A+"]",C="' + "+w+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(z,w,t.opts.jsonPointers)),h&&(s+=" if ("+g+" && !Array.isArray("+g+")) {  var err =   ",t.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+C+"' } ",t.opts.messages!==!1&&(s+=" , message: '",t.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+C+"\\'",s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+g+" !== undefined) { "),s+=" for (var "+A+" = 0; "+A+" < "+g+".length; "+A+"++) { if ("+d+"["+g+"["+A+"]] === undefined ",L&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+g+"["+A+"]) "),s+=") {  var err =   ",t.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+C+"' } ",t.opts.messages!==!1&&(s+=" , message: '",t.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+C+"\\'",s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(s+="  }  ")}else{var te=y;if(te)for(var H,Y=-1,de=te.length-1;Y<de;){H=te[Y+=1];var X=t.util.getProperty(H),C=t.util.escapeQuotes(H),W=d+X;t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(z,H,t.opts.jsonPointers)),s+=" if ( "+W+" === undefined ",L&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+t.util.escapeQuotes(H)+"') "),s+=") {  var err =   ",t.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { missingProperty: '"+C+"' } ",t.opts.messages!==!1&&(s+=" , message: '",t.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+C+"\\'",s+="' "),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t.errorPath=z}else u&&(s+=" if (true) {");return s}});var ly=T((DU,oy)=>{"use strict";oy.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d="data"+(a||""),f="valid"+i,h=t.opts.$data&&o&&o.$data,p;if(h?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",p="schema"+i):p=o,(o||h)&&t.opts.uniqueItems!==!1){h&&(s+=" var "+f+"; if ("+p+" === false || "+p+" === undefined) "+f+" = true; else if (typeof "+p+" != 'boolean') "+f+" = false; else { "),s+=" var i = "+d+".length , "+f+" = true , j; if (i > 1) { ";var g=t.schema.items&&t.schema.items.type,y=Array.isArray(g);if(!g||g=="object"||g=="array"||y&&(g.indexOf("object")>=0||g.indexOf("array")>=0))s+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+f+" = false; break outer; } } } ";else{s+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var v="checkDataType"+(y?"s":"");s+=" if ("+t.util[v](g,"item",t.opts.strictNumbers,!0)+") continue; ",y&&(s+=` if (typeof item == 'string') item = '"' + item; `),s+=" if (typeof itemIndices[item] == 'number') { "+f+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}s+=" } ",h&&(s+="  }  "),s+=" if (!"+f+") {   ";var P=P||[];P.push(s),s="",t.createErrors!==!1?(s+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { i: i, j: j } ",t.opts.messages!==!1&&(s+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),t.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var E=s;s=P.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+E+"]); ":s+=" validate.errors = ["+E+"]; return false; ":s+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { ")}else u&&(s+=" if (true) { ");return s}});var uy=T((jU,cy)=>{"use strict";cy.exports={$ref:kg(),allOf:xg(),anyOf:Cg(),$comment:Rg(),const:Og(),contains:Dg(),dependencies:Ag(),enum:Ug(),format:Lg(),if:$g(),items:Fg(),maximum:kd(),minimum:kd(),maxItems:Sd(),minItems:Sd(),maxLength:xd(),minLength:xd(),maxProperties:Ed(),minProperties:Ed(),multipleOf:Wg(),not:Zg(),oneOf:Qg(),pattern:ey(),properties:ry(),propertyNames:ny(),required:ay(),uniqueItems:ly(),validate:bd()}});var fy=T((AU,hy)=>{"use strict";var dy=uy(),Cd=pn().toHash;hy.exports=function(){var t=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],r=["type","$comment"],n=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],s=["number","integer","string","array","object","boolean","null"];return t.all=Cd(r),t.types=Cd(s),t.forEach(function(i){i.rules=i.rules.map(function(a){var o;if(typeof a=="object"){var l=Object.keys(a)[0];o=a[l],a=l,o.forEach(function(u){r.push(u),t.all[u]=!0})}r.push(a);var c=t.all[a]={keyword:a,code:dy[a],implements:o};return c}),t.all.$comment={keyword:"$comment",code:dy.$comment},i.type&&(t.types[i.type]=i)}),t.keywords=Cd(r.concat(n)),t.custom={},t}});var gy=T((MU,my)=>{"use strict";var py=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];my.exports=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var n=t[r].split("/"),s=e,i;for(i=1;i<n.length;i++)s=s[n[i]];for(i=0;i<py.length;i++){var a=py[i],o=s[a];o&&(s[a]={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}});var _y=T((UU,vy)=>{"use strict";var LE=sl().MissingRef;vy.exports=yy;function yy(e,t,r){var n=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof t=="function"&&(r=t,t=void 0);var s=i(e).then(function(){var o=n._addSchema(e,void 0,t);return o.validate||a(o)});return r&&s.then(function(o){r(null,o)},r),s;function i(o){var l=o.$schema;return l&&!n.getSchema(l)?yy.call(n,{$ref:l},!0):Promise.resolve()}function a(o){try{return n._compile(o)}catch(c){if(c instanceof LE)return l(c);throw c}function l(c){var u=c.missingSchema;if(h(u))throw new Error("Schema "+u+" is loaded but "+c.missingRef+" cannot be resolved");var d=n._loadingSchemas[u];return d||(d=n._loadingSchemas[u]=n._opts.loadSchema(u),d.then(f,f)),d.then(function(p){if(!h(u))return i(p).then(function(){h(u)||n.addSchema(p,u,void 0,t)})}).then(function(){return a(o)});function f(){delete n._loadingSchemas[u]}function h(p){return n._refs[p]||n._schemas[p]}}}}});var wy=T((NU,by)=>{"use strict";by.exports=function(t,r,n){var s=" ",i=t.level,a=t.dataLevel,o=t.schema[r],l=t.schemaPath+t.util.getProperty(r),c=t.errSchemaPath+"/"+r,u=!t.opts.allErrors,d,f="data"+(a||""),h="valid"+i,p="errs__"+i,g=t.opts.$data&&o&&o.$data,y;g?(s+=" var schema"+i+" = "+t.util.getData(o.$data,a,t.dataPathArr)+"; ",y="schema"+i):y=o;var v=this,P="definition"+i,E=v.definition,S="",U,z,$,L,A;if(g&&E.$data){A="keywordValidate"+i;var w=E.validateSchema;s+=" var "+P+" = RULES.custom['"+r+"'].definition; var "+A+" = "+P+".validate;"}else{if(L=t.useCustomRule(v,o,t.schema,t),!L)return;y="validate.schema"+l,A=L.code,U=E.compile,z=E.inline,$=E.macro}var C=A+".errors",R="i"+i,x="ruleErr"+i,N=E.async;if(N&&!t.async)throw new Error("async keyword in sync schema");if(z||$||(s+=""+C+" = null;"),s+="var "+p+" = errors;var "+h+";",g&&E.$data&&(S+="}",s+=" if ("+y+" === undefined) { "+h+" = true; } else { ",w&&(S+="}",s+=" "+h+" = "+P+".validateSchema("+y+"); if ("+h+") { ")),z)E.statements?s+=" "+L.validate+" ":s+=" "+h+" = "+L.validate+"; ";else if($){var H=t.util.copy(t),S="";H.level++;var re="valid"+H.level;H.schema=L.validate,H.schemaPath="";var X=t.compositeRule;t.compositeRule=H.compositeRule=!0;var W=t.validate(H).replace(/validate\.schema/g,A);t.compositeRule=H.compositeRule=X,s+=" "+W}else{var te=te||[];te.push(s),s="",s+="  "+A+".call( ",t.opts.passContext?s+="this":s+="self",U||E.schema===!1?s+=" , "+f+" ":s+=" , "+y+" , "+f+" , validate.schema"+t.schemaPath+" ",s+=" , (dataPath || '')",t.errorPath!='""'&&(s+=" + "+t.errorPath);var Y=a?"data"+(a-1||""):"parentData",de=a?t.dataPathArr[a]:"parentDataProperty";s+=" , "+Y+" , "+de+" , rootData )  ";var _e=s;s=te.pop(),E.errors===!1?(s+=" "+h+" = ",N&&(s+="await "),s+=""+_e+"; "):N?(C="customErrors"+i,s+=" var "+C+" = null; try { "+h+" = await "+_e+"; } catch (e) { "+h+" = false; if (e instanceof ValidationError) "+C+" = e.errors; else throw e; } "):s+=" "+C+" = null; "+h+" = "+_e+"; "}if(E.modifying&&(s+=" if ("+Y+") "+f+" = "+Y+"["+de+"];"),s+=""+S,E.valid)u&&(s+=" if (true) { ");else{s+=" if ( ",E.valid===void 0?(s+=" !",$?s+=""+re:s+=""+h):s+=" "+!E.valid+" ",s+=") { ",d=v.keyword;var te=te||[];te.push(s),s="";var te=te||[];te.push(s),s="",t.createErrors!==!1?(s+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { keyword: '"+v.keyword+"' } ",t.opts.messages!==!1&&(s+=` , message: 'should pass "`+v.keyword+`" keyword validation' `),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ";var Ce=s;s=te.pop(),!t.compositeRule&&u?t.async?s+=" throw new ValidationError(["+Ce+"]); ":s+=" validate.errors = ["+Ce+"]; return false; ":s+=" var err = "+Ce+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var ue=s;s=te.pop(),z?E.errors?E.errors!="full"&&(s+="  for (var "+R+"="+p+"; "+R+"<errors; "+R+"++) { var "+x+" = vErrors["+R+"]; if ("+x+".dataPath === undefined) "+x+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+x+".schemaPath === undefined) { "+x+'.schemaPath = "'+c+'"; } ',t.opts.verbose&&(s+=" "+x+".schema = "+y+"; "+x+".data = "+f+"; "),s+=" } "):E.errors===!1?s+=" "+ue+" ":(s+=" if ("+p+" == errors) { "+ue+" } else {  for (var "+R+"="+p+"; "+R+"<errors; "+R+"++) { var "+x+" = vErrors["+R+"]; if ("+x+".dataPath === undefined) "+x+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+x+".schemaPath === undefined) { "+x+'.schemaPath = "'+c+'"; } ',t.opts.verbose&&(s+=" "+x+".schema = "+y+"; "+x+".data = "+f+"; "),s+=" } } "):$?(s+="   var err =   ",t.createErrors!==!1?(s+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { keyword: '"+v.keyword+"' } ",t.opts.messages!==!1&&(s+=` , message: 'should pass "`+v.keyword+`" keyword validation' `),t.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&u&&(t.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; ")):E.errors===!1?s+=" "+ue+" ":(s+=" if (Array.isArray("+C+")) { if (vErrors === null) vErrors = "+C+"; else vErrors = vErrors.concat("+C+"); errors = vErrors.length;  for (var "+R+"="+p+"; "+R+"<errors; "+R+"++) { var "+x+" = vErrors["+R+"]; if ("+x+".dataPath === undefined) "+x+".dataPath = (dataPath || '') + "+t.errorPath+";  "+x+'.schemaPath = "'+c+'";  ',t.opts.verbose&&(s+=" "+x+".schema = "+y+"; "+x+".data = "+f+"; "),s+=" } } else { "+ue+" } "),s+=" } ",u&&(s+=" else { ")}return s}});var Pd=T((LU,qE)=>{qE.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var xy=T((qU,Sy)=>{"use strict";var ky=Pd();Sy.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:ky.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:ky.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}});var Cy=T(($U,Ey)=>{"use strict";var $E=/^[a-z_$][a-z0-9_$-]*$/i,zE=wy(),FE=xy();Ey.exports={add:VE,get:BE,remove:HE,validate:Rd};function VE(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!$E.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var n=t.type;if(Array.isArray(n))for(var s=0;s<n.length;s++)a(e,n[s],t);else a(e,n,t);var i=t.metaSchema;i&&(t.$data&&this._opts.$data&&(i={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(i,!0))}r.keywords[e]=r.all[e]=!0;function a(o,l,c){for(var u,d=0;d<r.length;d++){var f=r[d];if(f.type==l){u=f;break}}u||(u={type:l,rules:[]},r.push(u));var h={keyword:o,definition:c,custom:!0,code:zE,implements:c.implements};u.rules.push(h),r.custom[o]=h}return this}function BE(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1}function HE(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var n=t[r].rules,s=0;s<n.length;s++)if(n[s].keyword==e){n.splice(s,1);break}return this}function Rd(e,t){Rd.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(FE,!0);if(r(e))return!0;if(Rd.errors=r.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}});var Py=T((zU,JE)=>{JE.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Ny=T((FU,Uy)=>{"use strict";var Iy=ag(),mn=rl(),KE=lg(),Oy=fd(),WE=_d(),GE=bg(),ZE=fy(),Ty=gy(),Dy=pn();Uy.exports=Ge;Ge.prototype.validate=QE;Ge.prototype.compile=XE;Ge.prototype.addSchema=eC;Ge.prototype.addMetaSchema=tC;Ge.prototype.validateSchema=rC;Ge.prototype.getSchema=nC;Ge.prototype.removeSchema=aC;Ge.prototype.addFormat=pC;Ge.prototype.errorsText=fC;Ge.prototype._addSchema=oC;Ge.prototype._compile=lC;Ge.prototype.compileAsync=_y();var dl=Cy();Ge.prototype.addKeyword=dl.add;Ge.prototype.getKeyword=dl.get;Ge.prototype.removeKeyword=dl.remove;Ge.prototype.validateKeyword=dl.validate;var jy=sl();Ge.ValidationError=jy.Validation;Ge.MissingRefError=jy.MissingRef;Ge.$dataMetaSchema=Ty;var ul="http://json-schema.org/draft-07/schema",Ry=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],YE=["/properties"];function Ge(e){if(!(this instanceof Ge))return new Ge(e);e=this._opts=Dy.copy(e)||{},bC(this),this._schemas={},this._refs={},this._fragments={},this._formats=GE(e.format),this._cache=e.cache||new KE,this._loadingSchemas={},this._compilations=[],this.RULES=ZE(),this._getId=cC(e),e.loopRequired=e.loopRequired||1/0,e.errorDataPath=="property"&&(e._errorDataPathProperty=!0),e.serialize===void 0&&(e.serialize=WE),this._metaOpts=_C(this),e.formats&&yC(this),e.keywords&&vC(this),mC(this),typeof e.meta=="object"&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),gC(this)}function QE(e,t){var r;if(typeof e=="string"){if(r=this.getSchema(e),!r)throw new Error('no schema with key or ref "'+e+'"')}else{var n=this._addSchema(e);r=n.validate||this._compile(n)}var s=r(t);return r.$async!==!0&&(this.errors=r.errors),s}function XE(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)}function eC(e,t,r,n){if(Array.isArray(e)){for(var s=0;s<e.length;s++)this.addSchema(e[s],void 0,r,n);return this}var i=this._getId(e);if(i!==void 0&&typeof i!="string")throw new Error("schema id must be string");return t=mn.normalizeId(t||i),My(this,t),this._schemas[t]=this._addSchema(e,r,n,!0),this}function tC(e,t,r){return this.addSchema(e,t,r,!0),this}function rC(e,t){var r=e.$schema;if(r!==void 0&&typeof r!="string")throw new Error("$schema must be a string");if(r=r||this._opts.defaultMeta||sC(this),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(r,e);if(!n&&t){var s="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(s);else throw new Error(s)}return n}function sC(e){var t=e._opts.meta;return e._opts.defaultMeta=typeof t=="object"?e._getId(t)||t:e.getSchema(ul)?ul:void 0,e._opts.defaultMeta}function nC(e){var t=Ay(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return iC(this,e)}}function iC(e,t){var r=mn.schema.call(e,{schema:{}},t);if(r){var n=r.schema,s=r.root,i=r.baseId,a=Iy.call(e,n,s,void 0,i);return e._fragments[t]=new Oy({ref:t,fragment:!0,schema:n,root:s,baseId:i,validate:a}),a}}function Ay(e,t){return t=mn.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function aC(e){if(e instanceof RegExp)return cl(this,this._schemas,e),cl(this,this._refs,e),this;switch(typeof e){case"undefined":return cl(this,this._schemas),cl(this,this._refs),this._cache.clear(),this;case"string":var t=Ay(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,n=r?r(e):e;this._cache.del(n);var s=this._getId(e);s&&(s=mn.normalizeId(s),delete this._schemas[s],delete this._refs[s])}return this}function cl(e,t,r){for(var n in t){var s=t[n];!s.meta&&(!r||r.test(n))&&(e._cache.del(s.cacheKey),delete t[n])}}function oC(e,t,r,n){if(typeof e!="object"&&typeof e!="boolean")throw new Error("schema should be object or boolean");var s=this._opts.serialize,i=s?s(e):e,a=this._cache.get(i);if(a)return a;n=n||this._opts.addUsedSchema!==!1;var o=mn.normalizeId(this._getId(e));o&&n&&My(this,o);var l=this._opts.validateSchema!==!1&&!t,c;l&&!(c=o&&o==mn.normalizeId(e.$schema))&&this.validateSchema(e,!0);var u=mn.ids.call(this,e),d=new Oy({id:o,schema:e,localRefs:u,cacheKey:i,meta:r});return o[0]!="#"&&n&&(this._refs[o]=d),this._cache.put(i,d),l&&c&&this.validateSchema(e,!0),d}function lC(e,t){if(e.compiling)return e.validate=s,s.schema=e.schema,s.errors=null,s.root=t||s,e.schema.$async===!0&&(s.$async=!0),s;e.compiling=!0;var r;e.meta&&(r=this._opts,this._opts=this._metaOpts);var n;try{n=Iy.call(this,e.schema,t,e.localRefs)}catch(i){throw delete e.validate,i}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=n,e.refs=n.refs,e.refVal=n.refVal,e.root=n.root,n;function s(){var i=e.validate,a=i.apply(this,arguments);return s.errors=i.errors,a}}function cC(e){switch(e.schemaId){case"auto":return hC;case"id":return uC;default:return dC}}function uC(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function dC(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function hC(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function fC(e,t){if(e=e||this.errors,!e)return"No errors";t=t||{};for(var r=t.separator===void 0?", ":t.separator,n=t.dataVar===void 0?"data":t.dataVar,s="",i=0;i<e.length;i++){var a=e[i];a&&(s+=n+a.dataPath+" "+a.message+r)}return s.slice(0,-r.length)}function pC(e,t){return typeof t=="string"&&(t=new RegExp(t)),this._formats[e]=t,this}function mC(e){var t;if(e._opts.$data&&(t=Py(),e.addMetaSchema(t,t.$id,!0)),e._opts.meta!==!1){var r=Pd();e._opts.$data&&(r=Ty(r,YE)),e.addMetaSchema(r,ul,!0),e._refs["http://json-schema.org/schema"]=ul}}function gC(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}function yC(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}function vC(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}function My(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function _C(e){for(var t=Dy.copy(e._opts),r=0;r<Ry.length;r++)delete t[Ry[r]];return t}function bC(e){var t=e._opts.logger;if(t===!1)e.logger={log:Id,warn:Id,error:Id};else{if(t===void 0&&(t=console),!(typeof t=="object"&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}function Id(){}});var Md=T((bl,_v)=>{(function(e,t){typeof bl=="object"&&typeof _v<"u"?t(bl):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.lumino_algorithm={}))})(bl,(function(e){"use strict";e.ArrayExt=void 0,(function(w){function C(F,q,O=0,I=-1){let j=F.length;if(j===0)return-1;O<0?O=Math.max(0,O+j):O=Math.min(O,j-1),I<0?I=Math.max(0,I+j):I=Math.min(I,j-1);let J;I<O?J=I+1+(j-O):J=I-O+1;for(let K=0;K<J;++K){let he=(O+K)%j;if(F[he]===q)return he}return-1}w.firstIndexOf=C;function R(F,q,O=-1,I=0){let j=F.length;if(j===0)return-1;O<0?O=Math.max(0,O+j):O=Math.min(O,j-1),I<0?I=Math.max(0,I+j):I=Math.min(I,j-1);let J;O<I?J=O+1+(j-I):J=O-I+1;for(let K=0;K<J;++K){let he=(O-K+j)%j;if(F[he]===q)return he}return-1}w.lastIndexOf=R;function x(F,q,O=0,I=-1){let j=F.length;if(j===0)return-1;O<0?O=Math.max(0,O+j):O=Math.min(O,j-1),I<0?I=Math.max(0,I+j):I=Math.min(I,j-1);let J;I<O?J=I+1+(j-O):J=I-O+1;for(let K=0;K<J;++K){let he=(O+K)%j;if(q(F[he],he))return he}return-1}w.findFirstIndex=x;function N(F,q,O=-1,I=0){let j=F.length;if(j===0)return-1;O<0?O=Math.max(0,O+j):O=Math.min(O,j-1),I<0?I=Math.max(0,I+j):I=Math.min(I,j-1);let J;O<I?J=O+1+(j-I):J=O-I+1;for(let K=0;K<J;++K){let he=(O-K+j)%j;if(q(F[he],he))return he}return-1}w.findLastIndex=N;function H(F,q,O=0,I=-1){let j=x(F,q,O,I);return j!==-1?F[j]:void 0}w.findFirstValue=H;function re(F,q,O=-1,I=0){let j=N(F,q,O,I);return j!==-1?F[j]:void 0}w.findLastValue=re;function X(F,q,O,I=0,j=-1){let J=F.length;if(J===0)return 0;I<0?I=Math.max(0,I+J):I=Math.min(I,J-1),j<0?j=Math.max(0,j+J):j=Math.min(j,J-1);let K=I,he=j-I+1;for(;he>0;){let oe=he>>1,$e=K+oe;O(F[$e],q)<0?(K=$e+1,he-=oe+1):he=oe}return K}w.lowerBound=X;function W(F,q,O,I=0,j=-1){let J=F.length;if(J===0)return 0;I<0?I=Math.max(0,I+J):I=Math.min(I,J-1),j<0?j=Math.max(0,j+J):j=Math.min(j,J-1);let K=I,he=j-I+1;for(;he>0;){let oe=he>>1,$e=K+oe;O(F[$e],q)>0?he=oe:(K=$e+1,he-=oe+1)}return K}w.upperBound=W;function te(F,q,O){if(F===q)return!0;if(F.length!==q.length)return!1;for(let I=0,j=F.length;I<j;++I)if(O?!O(F[I],q[I]):F[I]!==q[I])return!1;return!0}w.shallowEqual=te;function Y(F,q={}){let{start:O,stop:I,step:j}=q;if(j===void 0&&(j=1),j===0)throw new Error("Slice `step` cannot be zero.");let J=F.length;O===void 0?O=j<0?J-1:0:O<0?O=Math.max(O+J,j<0?-1:0):O>=J&&(O=j<0?J-1:J),I===void 0?I=j<0?-1:J:I<0?I=Math.max(I+J,j<0?-1:0):I>=J&&(I=j<0?J-1:J);let K;j<0&&I>=O||j>0&&O>=I?K=0:j<0?K=Math.floor((I-O+1)/j+1):K=Math.floor((I-O-1)/j+1);let he=[];for(let oe=0;oe<K;++oe)he[oe]=F[O+oe*j];return he}w.slice=Y;function de(F,q,O){let I=F.length;if(I<=1||(q<0?q=Math.max(0,q+I):q=Math.min(q,I-1),O<0?O=Math.max(0,O+I):O=Math.min(O,I-1),q===O))return;let j=F[q],J=q<O?1:-1;for(let K=q;K!==O;K+=J)F[K]=F[K+J];F[O]=j}w.move=de;function _e(F,q=0,O=-1){let I=F.length;if(!(I<=1))for(q<0?q=Math.max(0,q+I):q=Math.min(q,I-1),O<0?O=Math.max(0,O+I):O=Math.min(O,I-1);q<O;){let j=F[q],J=F[O];F[q++]=J,F[O--]=j}}w.reverse=_e;function Ce(F,q,O=0,I=-1){let j=F.length;if(j<=1||(O<0?O=Math.max(0,O+j):O=Math.min(O,j-1),I<0?I=Math.max(0,I+j):I=Math.min(I,j-1),O>=I))return;let J=I-O+1;if(q>0?q=q%J:q<0&&(q=(q%J+J)%J),q===0)return;let K=O+q;_e(F,O,K-1),_e(F,K,I),_e(F,O,I)}w.rotate=Ce;function ue(F,q,O=0,I=-1){let j=F.length;if(j===0)return;O<0?O=Math.max(0,O+j):O=Math.min(O,j-1),I<0?I=Math.max(0,I+j):I=Math.min(I,j-1);let J;I<O?J=I+1+(j-O):J=I-O+1;for(let K=0;K<J;++K)F[(O+K)%j]=q}w.fill=ue;function je(F,q,O){let I=F.length;q<0?q=Math.max(0,q+I):q=Math.min(q,I);for(let j=I;j>q;--j)F[j]=F[j-1];F[q]=O}w.insert=je;function Re(F,q){let O=F.length;if(q<0&&(q+=O),q<0||q>=O)return;let I=F[q];for(let j=q+1;j<O;++j)F[j-1]=F[j];return F.length=O-1,I}w.removeAt=Re;function Qe(F,q,O=0,I=-1){let j=C(F,q,O,I);return j!==-1&&Re(F,j),j}w.removeFirstOf=Qe;function Kt(F,q,O=-1,I=0){let j=R(F,q,O,I);return j!==-1&&Re(F,j),j}w.removeLastOf=Kt;function Nt(F,q,O=0,I=-1){let j=F.length;if(j===0)return 0;O<0?O=Math.max(0,O+j):O=Math.min(O,j-1),I<0?I=Math.max(0,I+j):I=Math.min(I,j-1);let J=0;for(let K=0;K<j;++K)O<=I&&K>=O&&K<=I&&F[K]===q||I<O&&(K<=I||K>=O)&&F[K]===q?J++:J>0&&(F[K-J]=F[K]);return J>0&&(F.length=j-J),J}w.removeAllOf=Nt;function Le(F,q,O=0,I=-1){let j,J=x(F,q,O,I);return J!==-1&&(j=Re(F,J)),{index:J,value:j}}w.removeFirstWhere=Le;function Oe(F,q,O=-1,I=0){let j,J=N(F,q,O,I);return J!==-1&&(j=Re(F,J)),{index:J,value:j}}w.removeLastWhere=Oe;function tr(F,q,O=0,I=-1){let j=F.length;if(j===0)return 0;O<0?O=Math.max(0,O+j):O=Math.min(O,j-1),I<0?I=Math.max(0,I+j):I=Math.min(I,j-1);let J=0;for(let K=0;K<j;++K)O<=I&&K>=O&&K<=I&&q(F[K],K)||I<O&&(K<=I||K>=O)&&q(F[K],K)?J++:J>0&&(F[K-J]=F[K]);return J>0&&(F.length=j-J),J}w.removeAllWhere=tr})(e.ArrayExt||(e.ArrayExt={}));function*t(...w){for(let C of w)yield*C}function*r(){}function*n(w,C=0){for(let R of w)yield[C++,R]}function*s(w,C){let R=0;for(let x of w)C(x,R++)&&(yield x)}function i(w,C){let R=0;for(let x of w)if(C(x,R++))return x}function a(w,C){let R=0;for(let x of w)if(C(x,R++))return R-1;return-1}function o(w,C){let R;for(let x of w){if(R===void 0){R=x;continue}C(x,R)<0&&(R=x)}return R}function l(w,C){let R;for(let x of w){if(R===void 0){R=x;continue}C(x,R)>0&&(R=x)}return R}function c(w,C){let R=!0,x,N;for(let H of w)R?(x=H,N=H,R=!1):C(H,x)<0?x=H:C(H,N)>0&&(N=H);return R?void 0:[x,N]}function u(w){return Array.from(w)}function d(w){let C={};for(let[R,x]of w)C[R]=x;return C}function f(w,C){let R=0;for(let x of w)if(C(x,R++)===!1)return}function h(w,C){let R=0;for(let x of w)if(C(x,R++)===!1)return!1;return!0}function p(w,C){let R=0;for(let x of w)if(C(x,R++))return!0;return!1}function*g(w,C){let R=0;for(let x of w)yield C(x,R++)}function*y(w,C,R){C===void 0?(C=w,w=0,R=1):R===void 0&&(R=1);let x=v.rangeLength(w,C,R);for(let N=0;N<x;N++)yield w+R*N}var v;(function(w){function C(R,x,N){return N===0?1/0:R>x&&N>0||R<x&&N<0?0:Math.ceil((x-R)/N)}w.rangeLength=C})(v||(v={}));function P(w,C,R){let x=w[Symbol.iterator](),N=0,H=x.next();if(H.done&&R===void 0)throw new TypeError("Reduce of empty iterable with no initial value.");if(H.done)return R;let re=x.next();if(re.done&&R===void 0)return H.value;if(re.done)return C(R,H.value,N++);let X;R===void 0?X=C(H.value,re.value,N++):X=C(C(R,H.value,N++),re.value,N++);let W;for(;!(W=x.next()).done;)X=C(X,W.value,N++);return X}function*E(w,C){for(;0<C--;)yield w}function*S(w){yield w}function*U(w){if(typeof w.retro=="function")yield*w.retro();else for(let C=w.length-1;C>-1;C--)yield w[C]}function z(w){let C=[],R=new Set,x=new Map;for(let re of w)N(re);for(let[re]of x)H(re);return C;function N(re){let[X,W]=re,te=x.get(W);te?te.push(X):x.set(W,[X])}function H(re){if(R.has(re))return;R.add(re);let X=x.get(re);if(X)for(let W of X)H(W);C.push(re)}}function*$(w,C){let R=0;for(let x of w)R++%C===0&&(yield x)}e.StringExt=void 0,(function(w){function C(re,X,W=0){let te=new Array(X.length);for(let Y=0,de=W,_e=X.length;Y<_e;++Y,++de){if(de=re.indexOf(X[Y],de),de===-1)return null;te[Y]=de}return te}w.findIndices=C;function R(re,X,W=0){let te=C(re,X,W);if(!te)return null;let Y=0;for(let de=0,_e=te.length;de<_e;++de){let Ce=te[de]-W;Y+=Ce*Ce}return{score:Y,indices:te}}w.matchSumOfSquares=R;function x(re,X,W=0){let te=C(re,X,W);if(!te)return null;let Y=0,de=W-1;for(let _e=0,Ce=te.length;_e<Ce;++_e){let ue=te[_e];Y+=ue-de-1,de=ue}return{score:Y,indices:te}}w.matchSumOfDeltas=x;function N(re,X,W){let te=[],Y=0,de=0,_e=X.length;for(;Y<_e;){let Ce=X[Y],ue=X[Y];for(;++Y<_e&&X[Y]===ue+1;)ue++;de<Ce&&te.push(re.slice(de,Ce)),Ce<ue+1&&te.push(W(re.slice(Ce,ue+1))),de=ue+1}return de<re.length&&te.push(re.slice(de)),te}w.highlight=N;function H(re,X){return re<X?-1:re>X?1:0}w.cmp=H})(e.StringExt||(e.StringExt={}));function*L(w,C){if(C<1)return;let R=w[Symbol.iterator](),x;for(;0<C--&&!(x=R.next()).done;)yield x.value}function*A(...w){let C=w.map(x=>x[Symbol.iterator]()),R=C.map(x=>x.next());for(;h(R,x=>!x.done);R=C.map(x=>x.next()))yield R.map(x=>x.value)}e.chain=t,e.each=f,e.empty=r,e.enumerate=n,e.every=h,e.filter=s,e.find=i,e.findIndex=a,e.map=g,e.max=l,e.min=o,e.minmax=c,e.once=S,e.range=y,e.reduce=P,e.repeat=E,e.retro=U,e.some=p,e.stride=$,e.take=L,e.toArray=u,e.toObject=d,e.topologicSort=z,e.zip=A}))});var Xe=T(Rt=>{"use strict";var jC=Md();Rt.JSONExt=void 0;(function(e){e.emptyObject=Object.freeze({}),e.emptyArray=Object.freeze([]);function t(u){return u===null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"}e.isPrimitive=t;function r(u){return Array.isArray(u)}e.isArray=r;function n(u){return!t(u)&&!r(u)}e.isObject=n;function s(u,d){if(u===d)return!0;if(t(u)||t(d))return!1;let f=r(u),h=r(d);return f!==h?!1:f&&h?a(u,d):o(u,d)}e.deepEqual=s;function i(u){return t(u)?u:r(u)?l(u):c(u)}e.deepCopy=i;function a(u,d){if(u===d)return!0;if(u.length!==d.length)return!1;for(let f=0,h=u.length;f<h;++f)if(!s(u[f],d[f]))return!1;return!0}function o(u,d){if(u===d)return!0;for(let f in u)if(u[f]!==void 0&&!(f in d))return!1;for(let f in d)if(d[f]!==void 0&&!(f in u))return!1;for(let f in u){let h=u[f],p=d[f];if(!(h===void 0&&p===void 0)&&(h===void 0||p===void 0||!s(h,p)))return!1}return!0}function l(u){let d=new Array(u.length);for(let f=0,h=u.length;f<h;++f)d[f]=i(u[f]);return d}function c(u){let d={};for(let f in u){let h=u[f];h!==void 0&&(d[f]=i(h))}return d}})(Rt.JSONExt||(Rt.JSONExt={}));var Ud=class{constructor(){this._types=[],this._values=[]}types(){return this._types.slice()}hasData(t){return this._types.indexOf(t)!==-1}getData(t){let r=this._types.indexOf(t);return r!==-1?this._values[r]:void 0}setData(t,r){this.clearData(t),this._types.push(t),this._values.push(r)}clearData(t){let r=this._types.indexOf(t);r!==-1&&(this._types.splice(r,1),this._values.splice(r,1))}clear(){this._types.length=0,this._values.length=0}},Nd=class{constructor(t={}){this._application=null,this._validatePlugin=()=>!0,this._plugins=new Map,this._services=new Map,t.validatePlugin&&(console.info("Plugins may be rejected by the custom validation plugin method."),this._validatePlugin=t.validatePlugin)}get application(){return this._application}set application(t){if(this._application!==null)throw Error("PluginRegistry.application is already set. It cannot be overridden.");this._application=t}get deferredPlugins(){return Array.from(this._plugins).filter(([t,r])=>r.autoStart==="defer").map(([t,r])=>t)}getPluginDescription(t){var r,n;return(n=(r=this._plugins.get(t))===null||r===void 0?void 0:r.description)!==null&&n!==void 0?n:""}hasPlugin(t){return this._plugins.has(t)}isPluginActivated(t){var r,n;return(n=(r=this._plugins.get(t))===null||r===void 0?void 0:r.activated)!==null&&n!==void 0?n:!1}listPlugins(){return Array.from(this._plugins.keys())}registerPlugin(t){if(this._plugins.has(t.id))throw new TypeError(`Plugin '${t.id}' is already registered.`);if(!this._validatePlugin(t))throw new Error(`Plugin '${t.id}' is not valid.`);let r=ti.createPluginData(t);ti.ensureNoCycle(r,this._plugins,this._services),r.provides&&this._services.set(r.provides,r.id),this._plugins.set(r.id,r)}registerPlugins(t){for(let r of t)this.registerPlugin(r)}deregisterPlugin(t,r){let n=this._plugins.get(t);if(n){if(n.activated&&!r)throw new Error(`Plugin '${t}' is still active.`);this._plugins.delete(t)}}async activatePlugin(t){let r=this._plugins.get(t);if(!r)throw new ReferenceError(`Plugin '${t}' is not registered.`);if(r.activated)return;if(r.promise)return r.promise;let n=r.requires.map(i=>this.resolveRequiredService(i)),s=r.optional.map(i=>this.resolveOptionalService(i));return r.promise=Promise.all([...n,...s]).then(i=>r.activate.apply(void 0,[this.application,...i])).then(i=>{r.service=i,r.activated=!0,r.promise=null}).catch(i=>{throw r.promise=null,i}),r.promise}async activatePlugins(t,r={}){switch(t){case"defer":{let n=this.deferredPlugins.filter(s=>this._plugins.get(s).autoStart).map(s=>this.activatePlugin(s));await Promise.all(n);break}case"startUp":{let s=ti.collectStartupPlugins(this._plugins,r).map(async i=>{try{return await this.activatePlugin(i)}catch(a){console.error(`Plugin '${i}' failed to activate.`,a)}});await Promise.all(s);break}}}async deactivatePlugin(t){let r=this._plugins.get(t);if(!r)throw new ReferenceError(`Plugin '${t}' is not registered.`);if(!r.activated)return[];if(!r.deactivate)throw new TypeError(`Plugin '${t}'#deactivate() method missing`);let n=ti.findDependents(t,this._plugins,this._services),s=n.map(i=>this._plugins.get(i));for(let i of s)if(!i.deactivate)throw new TypeError(`Plugin ${i.id}#deactivate() method missing (depends on ${t})`);for(let i of s){let a=[...i.requires,...i.optional].map(o=>{let l=this._services.get(o);return l?this._plugins.get(l).service:null});await i.deactivate(this.application,...a),i.service=null,i.activated=!1}return n.pop(),n}async resolveRequiredService(t){let r=this._services.get(t);if(!r)throw new TypeError(`No provider for: ${t.name}.`);let n=this._plugins.get(r);return n.activated||await this.activatePlugin(r),n.service}async resolveOptionalService(t){let r=this._services.get(t);if(!r)return null;let n=this._plugins.get(r);if(!n.activated)try{await this.activatePlugin(r)}catch(s){return console.error(s),null}return n.service}},ti;(function(e){class t{constructor(o){var l,c,u,d;this._activated=!1,this._promise=null,this._service=null,this.id=o.id,this.description=(l=o.description)!==null&&l!==void 0?l:"",this.activate=o.activate,this.deactivate=(c=o.deactivate)!==null&&c!==void 0?c:null,this.provides=(u=o.provides)!==null&&u!==void 0?u:null,this.autoStart=(d=o.autoStart)!==null&&d!==void 0?d:!1,this.requires=o.requires?o.requires.slice():[],this.optional=o.optional?o.optional.slice():[]}get activated(){return this._activated}set activated(o){this._activated=o}get service(){return this._service}set service(o){this._service=o}get promise(){return this._promise}set promise(o){this._promise=o}}function r(a){return new t(a)}e.createPluginData=r;function n(a,o,l){let c=[...a.requires,...a.optional],u=f=>{if(f===a.provides)return!0;let h=l.get(f);if(!h)return!1;let p=o.get(h),g=[...p.requires,...p.optional];return g.length===0?!1:(d.push(h),g.some(u)?!0:(d.pop(),!1))};if(!a.provides||c.length===0)return;let d=[a.id];if(c.some(u))throw new ReferenceError(`Cycle detected: ${d.join(" -> ")}.`)}e.ensureNoCycle=n;function s(a,o,l){let c=new Array,u=g=>{let y=o.get(g),v=[...y.requires,...y.optional];c.push(...v.reduce((P,E)=>{let S=l.get(E);return S&&P.push([g,S]),P},[]))};for(let g of o.keys())u(g);let d=c.filter(g=>g[1]===a),f=0;for(;d.length>f;){let g=d.length,y=new Set(d.map(v=>v[0]));for(let v of y)c.filter(P=>P[1]===v).forEach(P=>{d.includes(P)||d.push(P)});f=g}let h=jC.topologicSort(d),p=h.findIndex(g=>g===a);return p===-1?[a]:h.slice(0,p+1)}e.findDependents=s;function i(a,o){let l=new Set;for(let c of a.keys())a.get(c).autoStart===!0&&l.add(c);if(o.startPlugins)for(let c of o.startPlugins)l.add(c);if(o.ignorePlugins)for(let c of o.ignorePlugins)l.delete(c);return Array.from(l)}e.collectStartupPlugins=i})(ti||(ti={}));var Ld=class{constructor(){this.promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}resolve(t){let r=this._resolve;r(t)}reject(t){let r=this._reject;r(t)}},qd=class{constructor(t,r){this.name=t,this.description=r??"",this._tokenStructuralPropertyT=null}};function AC(e){let t=0;for(let r=0,n=e.length;r<n;++r)r%4===0&&(t=Math.random()*4294967295>>>0),e[r]=t&255,t>>>=8}Rt.Random=void 0;(function(e){e.getRandomValues=(()=>{let t=typeof Ae<"u"&&Ae("crypto")||null;return t&&typeof t.randomFillSync=="function"?function(n){return t.randomFillSync(n)}:t&&typeof t.randomBytes=="function"?function(n){let s=t.randomBytes(n.length);for(let i=0,a=s.length;i<a;++i)n[i]=s[i]}:AC})()})(Rt.Random||(Rt.Random={}));function MC(e){let t=new Uint8Array(16),r=new Array(256);for(let n=0;n<16;++n)r[n]="0"+n.toString(16);for(let n=16;n<256;++n)r[n]=n.toString(16);return function(){return e(t),t[6]=64|t[6]&15,t[8]=128|t[8]&63,r[t[0]]+r[t[1]]+r[t[2]]+r[t[3]]+"-"+r[t[4]]+r[t[5]]+"-"+r[t[6]]+r[t[7]]+"-"+r[t[8]]+r[t[9]]+"-"+r[t[10]]+r[t[11]]+r[t[12]]+r[t[13]]+r[t[14]]+r[t[15]]}}Rt.UUID=void 0;(function(e){e.uuid4=MC(Rt.Random.getRandomValues)})(Rt.UUID||(Rt.UUID={}));Rt.MimeData=Ud;Rt.PluginRegistry=Nd;Rt.PromiseDelegate=Ld;Rt.Token=qd});var et=T((wl,bv)=>{(function(e,t){typeof wl=="object"&&typeof bv<"u"?t(wl,Md(),Xe()):typeof define=="function"&&define.amd?define(["exports","@lumino/algorithm","@lumino/coreutils"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.lumino_signaling={},e.lumino_algorithm,e.lumino_coreutils))})(wl,(function(e,t,r){"use strict";class n{constructor(o){this.sender=o}connect(o,l){return i.connect(this,o,l)}disconnect(o,l){return i.disconnect(this,o,l)}emit(o){i.emit(this,o)}}(function(a){function o(p,g){i.disconnectBetween(p,g)}a.disconnectBetween=o;function l(p){i.disconnectSender(p)}a.disconnectSender=l;function c(p){i.disconnectReceiver(p)}a.disconnectReceiver=c;function u(p){i.disconnectAll(p)}a.disconnectAll=u;function d(p){i.disconnectAll(p)}a.clearData=d;function f(){return i.exceptionHandler}a.getExceptionHandler=f;function h(p){let g=i.exceptionHandler;return i.exceptionHandler=p,g}a.setExceptionHandler=h})(n||(n={}));class s extends n{constructor(){super(...arguments),this._pending=new r.PromiseDelegate}async*[Symbol.asyncIterator](){let o=this._pending;for(;;)try{let{args:l,next:c}=await o.promise;o=c,yield l}catch{return}}emit(o){let l=this._pending,c=this._pending=new r.PromiseDelegate;l.resolve({args:o,next:c}),super.emit(o)}stop(){this._pending.promise.catch(()=>{}),this._pending.reject("stop"),this._pending=new r.PromiseDelegate}}var i;(function(a){a.exceptionHandler=L=>{console.error(L)};function o(L,A,w){w=w||void 0;let C=p.get(L.sender);if(C||(C=[],p.set(L.sender,C)),P(C,L,A,w))return!1;let R=w||A,x=g.get(R);x||(x=[],g.set(R,x));let N={signal:L,slot:A,thisArg:w};return C.push(N),x.push(N),!0}a.connect=o;function l(L,A,w){w=w||void 0;let C=p.get(L.sender);if(!C||C.length===0)return!1;let R=P(C,L,A,w);if(!R)return!1;let x=w||A,N=g.get(x);return R.signal=null,S(C),S(N),!0}a.disconnect=l;function c(L,A){let w=p.get(L);if(!w||w.length===0)return;let C=g.get(A);if(!(!C||C.length===0)){for(let R of C)R.signal&&R.signal.sender===L&&(R.signal=null);S(w),S(C)}}a.disconnectBetween=c;function u(L){let A=p.get(L);if(!(!A||A.length===0)){for(let w of A){if(!w.signal)continue;let C=w.thisArg||w.slot;w.signal=null,S(g.get(C))}S(A)}}a.disconnectSender=u;function d(L){let A=g.get(L);if(!(!A||A.length===0)){for(let w of A){if(!w.signal)continue;let C=w.signal.sender;w.signal=null,S(p.get(C))}S(A)}}a.disconnectReceiver=d;function f(L){u(L),d(L)}a.disconnectAll=f;function h(L,A){let w=p.get(L.sender);if(!(!w||w.length===0))for(let C=0,R=w.length;C<R;++C){let x=w[C];x.signal===L&&E(x,A)}}a.emit=h;let p=new WeakMap,g=new WeakMap,y=new Set,v=typeof requestAnimationFrame=="function"?requestAnimationFrame:setImmediate;function P(L,A,w,C){return t.find(L,R=>R.signal===A&&R.slot===w&&R.thisArg===C)}function E(L,A){let{signal:w,slot:C,thisArg:R}=L;try{C.call(R,w.sender,A)}catch(x){a.exceptionHandler(x)}}function S(L){y.size===0&&v(U),y.add(L)}function U(){y.forEach(z),y.clear()}function z(L){t.ArrayExt.removeAllWhere(L,$)}function $(L){return L.signal===null}})(i||(i={})),e.Signal=n,e.Stream=s}))});var kv=T(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.ActivityMonitor=void 0;var wv=et(),$d=class{constructor(t){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new wv.Signal(this),t.signal.connect(this._onSignalFired,this),this._timeout=t.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(t){this._timeout=t}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,wv.Signal.clearData(this))}_onSignalFired(t,r){clearTimeout(this._timer),this._sender=t,this._args=r,this._timer=setTimeout(()=>{this._activityStopped.emit({sender:this._sender,args:this._args})},this._timeout)}};kl.ActivityMonitor=$d});var xv=T(Sv=>{"use strict";Object.defineProperty(Sv,"__esModule",{value:!0})});var Ev=T(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.LruCache=void 0;var UC=128,zd=class{constructor(t={}){this._map=new Map,this._maxSize=t?.maxSize||UC}get size(){return this._map.size}clear(){this._map.clear()}get(t){let r=this._map.get(t)||null;return r!=null&&(this._map.delete(t),this._map.set(t,r)),r}set(t,r){this._map.size>=this._maxSize&&this._map.delete(this._map.keys().next().value),this._map.set(t,r)}};Sl.LruCache=zd});var Pv=T(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.MarkdownCodeBlocks=void 0;var Cv;(function(e){e.CODE_BLOCK_MARKER="```";let t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class r{constructor(a){this.startLine=a,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=r;function n(i){return t.indexOf(i)>-1}e.isMarkdown=n;function s(i){if(!i||i==="")return[];let a=i.split(`
`),o=[],l=null;for(let c=0;c<a.length;c++){let u=a[c],d=u.indexOf(e.CODE_BLOCK_MARKER)===0,f=l!=null;if(!(!d&&!f))if(f)l&&(d?(l.endLine=c-1,o.push(l),l=null):l.code+=u+`
`);else{l=new r(c);let h=u.indexOf(e.CODE_BLOCK_MARKER),p=u.lastIndexOf(e.CODE_BLOCK_MARKER);h!==p&&(l.code=u.substring(h+e.CODE_BLOCK_MARKER.length,p),l.endLine=c,o.push(l),l=null)}}return o}e.findMarkdownCodeBlocks=s})(Cv||(xl.MarkdownCodeBlocks=Cv={}))});var Tv=T((eq,Ov)=>{"use strict";function NC(e,t){var r=e;t.slice(0,-1).forEach(function(s){r=r[s]||{}});var n=t[t.length-1];return n in r}function Rv(e){return typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function Iv(e,t){return t==="constructor"&&typeof e[t]=="function"||t==="__proto__"}Ov.exports=function(e,t){t||(t={});var r={bools:{},strings:{},unknownFn:null};typeof t.unknown=="function"&&(r.unknownFn=t.unknown),typeof t.boolean=="boolean"&&t.boolean?r.allBools=!0:[].concat(t.boolean).filter(Boolean).forEach(function(S){r.bools[S]=!0});var n={};function s(S){return n[S].some(function(U){return r.bools[U]})}Object.keys(t.alias||{}).forEach(function(S){n[S]=[].concat(t.alias[S]),n[S].forEach(function(U){n[U]=[S].concat(n[S].filter(function(z){return U!==z}))})}),[].concat(t.string).filter(Boolean).forEach(function(S){r.strings[S]=!0,n[S]&&[].concat(n[S]).forEach(function(U){r.strings[U]=!0})});var i=t.default||{},a={_:[]};function o(S,U){return r.allBools&&/^--[^=]+$/.test(U)||r.strings[S]||r.bools[S]||n[S]}function l(S,U,z){for(var $=S,L=0;L<U.length-1;L++){var A=U[L];if(Iv($,A))return;$[A]===void 0&&($[A]={}),($[A]===Object.prototype||$[A]===Number.prototype||$[A]===String.prototype)&&($[A]={}),$[A]===Array.prototype&&($[A]=[]),$=$[A]}var w=U[U.length-1];Iv($,w)||(($===Object.prototype||$===Number.prototype||$===String.prototype)&&($={}),$===Array.prototype&&($=[]),$[w]===void 0||r.bools[w]||typeof $[w]=="boolean"?$[w]=z:Array.isArray($[w])?$[w].push(z):$[w]=[$[w],z])}function c(S,U,z){if(!(z&&r.unknownFn&&!o(S,z)&&r.unknownFn(z)===!1)){var $=!r.strings[S]&&Rv(U)?Number(U):U;l(a,S.split("."),$),(n[S]||[]).forEach(function(L){l(a,L.split("."),$)})}}Object.keys(r.bools).forEach(function(S){c(S,i[S]===void 0?!1:i[S])});var u=[];e.indexOf("--")!==-1&&(u=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var d=0;d<e.length;d++){var f=e[d],h,p;if(/^--.+=/.test(f)){var g=f.match(/^--([^=]+)=([\s\S]*)$/);h=g[1];var y=g[2];r.bools[h]&&(y=y!=="false"),c(h,y,f)}else if(/^--no-.+/.test(f))h=f.match(/^--no-(.+)/)[1],c(h,!1,f);else if(/^--.+/.test(f))h=f.match(/^--(.+)/)[1],p=e[d+1],p!==void 0&&!/^(-|--)[^-]/.test(p)&&!r.bools[h]&&!r.allBools&&(!n[h]||!s(h))?(c(h,p,f),d+=1):/^(true|false)$/.test(p)?(c(h,p==="true",f),d+=1):c(h,r.strings[h]?"":!0,f);else if(/^-[^-]+/.test(f)){for(var v=f.slice(1,-1).split(""),P=!1,E=0;E<v.length;E++){if(p=f.slice(E+2),p==="-"){c(v[E],p,f);continue}if(/[A-Za-z]/.test(v[E])&&p[0]==="="){c(v[E],p.slice(1),f),P=!0;break}if(/[A-Za-z]/.test(v[E])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(p)){c(v[E],p,f),P=!0;break}if(v[E+1]&&v[E+1].match(/\W/)){c(v[E],f.slice(E+2),f),P=!0;break}else c(v[E],r.strings[v[E]]?"":!0,f)}h=f.slice(-1)[0],!P&&h!=="-"&&(e[d+1]&&!/^(-|--)[^-]/.test(e[d+1])&&!r.bools[h]&&(!n[h]||!s(h))?(c(h,e[d+1],f),d+=1):e[d+1]&&/^(true|false)$/.test(e[d+1])?(c(h,e[d+1]==="true",f),d+=1):c(h,r.strings[h]?"":!0,f))}else if((!r.unknownFn||r.unknownFn(f)!==!1)&&a._.push(r.strings._||!Rv(f)?f:Number(f)),t.stopEarly){a._.push.apply(a._,e.slice(d+1));break}}return Object.keys(i).forEach(function(S){NC(a,S.split("."))||(l(a,S.split("."),i[S]),(n[S]||[]).forEach(function(U){l(a,U.split("."),i[S])}))}),t["--"]?a["--"]=u.slice():u.forEach(function(S){a._.push(S)}),a}});var jv=T((tq,Dv)=>{"use strict";Dv.exports=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}});var Uv=T(Fd=>{"use strict";var LC=Object.prototype.hasOwnProperty,qC;function Av(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function Mv(e){try{return encodeURIComponent(e)}catch{return null}}function $C(e){for(var t=/([^=?#&]+)=?([^&]*)/g,r={},n;n=t.exec(e);){var s=Av(n[1]),i=Av(n[2]);s===null||i===null||s in r||(r[s]=i)}return r}function zC(e,t){t=t||"";var r=[],n,s;typeof t!="string"&&(t="?");for(s in e)if(LC.call(e,s)){if(n=e[s],!n&&(n===null||n===qC||isNaN(n))&&(n=""),s=Mv(s),n=Mv(n),s===null||n===null)continue;r.push(s+"="+n)}return r.length?t+r.join("&"):""}Fd.stringify=zC;Fd.parse=$C});var Bv=T((sq,Vv)=>{"use strict";var Lv=jv(),El=Uv(),FC=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,qv=/[\n\r\t]/g,VC=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,$v=/:\d+$/,BC=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,HC=/^[a-zA-Z]:/;function Bd(e){return(e||"").toString().replace(FC,"")}var Vd=[["#","hash"],["?","query"],function(t,r){return Ur(r.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Nv={hash:1,query:1};function zv(e){var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"?t=self:t={};var r=t.location||{};e=e||r;var n={},s=typeof e,i;if(e.protocol==="blob:")n=new Nr(unescape(e.pathname),{});else if(s==="string"){n=new Nr(e,{});for(i in Nv)delete n[i]}else if(s==="object"){for(i in e)i in Nv||(n[i]=e[i]);n.slashes===void 0&&(n.slashes=VC.test(e.href))}return n}function Ur(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function Fv(e,t){e=Bd(e),e=e.replace(qv,""),t=t||{};var r=BC.exec(e),n=r[1]?r[1].toLowerCase():"",s=!!r[2],i=!!r[3],a=0,o;return s?i?(o=r[2]+r[3]+r[4],a=r[2].length+r[3].length):(o=r[2]+r[4],a=r[2].length):i?(o=r[3]+r[4],a=r[3].length):o=r[4],n==="file:"?a>=2&&(o=o.slice(2)):Ur(n)?o=r[4]:n?s&&(o=o.slice(2)):a>=2&&Ur(t.protocol)&&(o=r[4]),{protocol:n,slashes:s||Ur(n),slashesCount:a,rest:o}}function JC(e,t){if(e==="")return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,s=r[n-1],i=!1,a=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),a++):a&&(n===0&&(i=!0),r.splice(n,1),a--);return i&&r.unshift(""),(s==="."||s==="..")&&r.push(""),r.join("/")}function Nr(e,t,r){if(e=Bd(e),e=e.replace(qv,""),!(this instanceof Nr))return new Nr(e,t,r);var n,s,i,a,o,l,c=Vd.slice(),u=typeof t,d=this,f=0;for(u!=="object"&&u!=="string"&&(r=t,t=null),r&&typeof r!="function"&&(r=El.parse),t=zv(t),s=Fv(e||"",t),n=!s.protocol&&!s.slashes,d.slashes=s.slashes||n&&t.slashes,d.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||HC.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!Ur(d.protocol)))&&(c[3]=[/(.*)/,"pathname"]);f<c.length;f++){if(a=c[f],typeof a=="function"){e=a(e,d);continue}i=a[0],l=a[1],i!==i?d[l]=e:typeof i=="string"?(o=i==="@"?e.lastIndexOf(i):e.indexOf(i),~o&&(typeof a[2]=="number"?(d[l]=e.slice(0,o),e=e.slice(o+a[2])):(d[l]=e.slice(o),e=e.slice(0,o)))):(o=i.exec(e))&&(d[l]=o[1],e=e.slice(0,o.index)),d[l]=d[l]||n&&a[3]&&t[l]||"",a[4]&&(d[l]=d[l].toLowerCase())}r&&(d.query=r(d.query)),n&&t.slashes&&d.pathname.charAt(0)!=="/"&&(d.pathname!==""||t.pathname!=="")&&(d.pathname=JC(d.pathname,t.pathname)),d.pathname.charAt(0)!=="/"&&Ur(d.protocol)&&(d.pathname="/"+d.pathname),Lv(d.port,d.protocol)||(d.host=d.hostname,d.port=""),d.username=d.password="",d.auth&&(o=d.auth.indexOf(":"),~o?(d.username=d.auth.slice(0,o),d.username=encodeURIComponent(decodeURIComponent(d.username)),d.password=d.auth.slice(o+1),d.password=encodeURIComponent(decodeURIComponent(d.password))):d.username=encodeURIComponent(decodeURIComponent(d.auth)),d.auth=d.password?d.username+":"+d.password:d.username),d.origin=d.protocol!=="file:"&&Ur(d.protocol)&&d.host?d.protocol+"//"+d.host:"null",d.href=d.toString()}function KC(e,t,r){var n=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(r||El.parse)(t)),n[e]=t;break;case"port":n[e]=t,Lv(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,$v.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";n[e]=t.charAt(0)!==s?s+t:t}else n[e]=t;break;case"username":case"password":n[e]=encodeURIComponent(t);break;case"auth":var i=t.indexOf(":");~i?(n.username=t.slice(0,i),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=t.slice(i+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(t))}for(var a=0;a<Vd.length;a++){var o=Vd[a];o[4]&&(n[o[1]]=n[o[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&Ur(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function WC(e){(!e||typeof e!="function")&&(e=El.stringify);var t,r=this,n=r.host,s=r.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var i=s+(r.protocol&&r.slashes||Ur(r.protocol)?"//":"");return r.username?(i+=r.username,r.password&&(i+=":"+r.password),i+="@"):r.password?(i+=":"+r.password,i+="@"):r.protocol!=="file:"&&Ur(r.protocol)&&!n&&r.pathname!=="/"&&(i+="@"),(n[n.length-1]===":"||$v.test(r.hostname)&&!r.port)&&(n+=":"),i+=n+r.pathname,t=typeof r.query=="object"?e(r.query):r.query,t&&(i+=t.charAt(0)!=="?"?"?"+t:t),r.hash&&(i+=r.hash),i}Nr.prototype={set:KC,toString:WC};Nr.extractProtocol=Fv;Nr.location=zv;Nr.trimLeft=Bd;Nr.qs=El;Vv.exports=Nr});var Hd=T(ri=>{"use strict";var GC=ri&&ri.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ri,"__esModule",{value:!0});ri.URLExt=void 0;var ZC=Ae("path"),Cl=GC(Bv()),Hv;(function(e){function t(c){if(typeof document<"u"&&document){let u=document.createElement("a");return u.href=c,u}return(0,Cl.default)(c)}e.parse=t;function r(c){return(0,Cl.default)(c).hostname}e.getHostName=r;function n(c){return c&&t(c).toString()}e.normalize=n;function s(...c){let u=(0,Cl.default)(c[0],{}),d=u.protocol===""&&u.slashes;d&&(u=(0,Cl.default)(c[0],"https:"+c[0]));let f=`${d?"":u.protocol}${u.slashes?"//":""}${u.auth}${u.auth?"@":""}${u.host}`,h=ZC.posix.join(`${f&&u.pathname[0]!=="/"?"/":""}${u.pathname}`,...c.slice(1));return`${f}${h==="."?"":h}`}e.join=s;function i(c){return s(...c.split("/").map(encodeURIComponent))}e.encodeParts=i;function a(c){let u=Object.keys(c).filter(d=>d.length>0);return u.length?"?"+u.map(d=>{let f=encodeURIComponent(String(c[d]));return d+(f?"="+f:"")}).join("&"):""}e.objectToQueryString=a;function o(c){return c.replace(/^\?/,"").split("&").reduce((u,d)=>{let[f,h]=d.split("=");return f.length>0&&(u[f]=decodeURIComponent(h||"")),u},{})}e.queryStringToObject=o;function l(c,u=!1){let{protocol:d}=t(c);return(!d||c.toLowerCase().indexOf(d)!==0)&&(u?c.indexOf("//")!==0:c.indexOf("/")!==0)}e.isLocal=l})(Hv||(ri.URLExt=Hv={}))});var Jv=T((exports,module)=>{"use strict";var __importDefault=exports&&exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});exports.PageConfig=void 0;var coreutils_1=Xe(),minimist_1=__importDefault(Tv()),url_1=Hd(),PageConfig;(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if(typeof document<"u"&&document){let e=document.getElementById("jupyter-config-data");e&&(configData=JSON.parse(e.textContent||""),found=!0)}if(!found&&typeof process<"u"&&process.argv)try{let cli=(0,minimist_1.default)(process.argv.slice(2)),path=Ae("path"),fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(e){console.error(e)}if(!coreutils_1.JSONExt.isObject(configData))configData=Object.create(null);else for(let e in configData)typeof configData[e]!="string"&&(configData[e]=JSON.stringify(configData[e]));return configData[name]||getBodyData(name)}PageConfig.getOption=getOption;function setOption(e,t){let r=getOption(e);return configData[e]=t,r}PageConfig.setOption=setOption;function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}PageConfig.getBaseUrl=getBaseUrl;function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}PageConfig.getTreeUrl=getTreeUrl;function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}PageConfig.getShareUrl=getShareUrl;function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}PageConfig.getTreeShareUrl=getTreeShareUrl;function getUrl(e){var t,r,n,s;let i=e.toShare?getShareUrl():getBaseUrl(),a=(t=e.mode)!==null&&t!==void 0?t:getOption("mode"),o=(r=e.workspace)!==null&&r!==void 0?r:getOption("workspace"),l=a==="single-document"?"doc":"lab";i=url_1.URLExt.join(i,l),o!==PageConfig.defaultWorkspace&&(i=url_1.URLExt.join(i,"workspaces",encodeURIComponent((n=getOption("workspace"))!==null&&n!==void 0?n:PageConfig.defaultWorkspace)));let c=(s=e.treePath)!==null&&s!==void 0?s:getOption("treePath");return c&&(i=url_1.URLExt.join(i,"tree",url_1.URLExt.encodeParts(c))),i}PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default";function getWsUrl(e){let t=getOption("wsUrl");if(!t){if(e=e?url_1.URLExt.normalize(e):getBaseUrl(),e.indexOf("http")!==0)return"";t="ws"+e.slice(4)}return url_1.URLExt.normalize(t)}PageConfig.getWsUrl=getWsUrl;function getNBConvertURL({path:e,format:t,download:r}){let n=url_1.URLExt.encodeParts(e),s=url_1.URLExt.join(getBaseUrl(),"nbconvert",t,n);return r?s+"?download=true":s}PageConfig.getNBConvertURL=getNBConvertURL;function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}PageConfig.getToken=getToken;function getNotebookVersion(){let e=getOption("notebookVersion");return e===""?[0,0,0]:JSON.parse(e)}PageConfig.getNotebookVersion=getNotebookVersion;let configData=null;function getBodyData(e){if(typeof document>"u"||!document.body)return"";let t=document.body.dataset[e];return typeof t>"u"?"":decodeURIComponent(t)}let Extension;(function(e){function t(s){try{let i=getOption(s);if(i)return JSON.parse(i)}catch(i){console.warn(`Unable to parse ${s}.`,i)}return[]}e.deferred=t("deferredExtensions"),e.disabled=t("disabledExtensions");function r(s){let i=s.indexOf(":"),a="";return i!==-1&&(a=s.slice(0,i)),e.deferred.some(o=>o===s||a&&o===a)}e.isDeferred=r;function n(s){let i=s.indexOf(":"),a="";return i!==-1&&(a=s.slice(0,i)),e.disabled.some(o=>o===s||a&&o===a)}e.isDisabled=n})(Extension=PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig||(exports.PageConfig=PageConfig={}))});var Wv=T(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.PathExt=void 0;var Is=Ae("path"),Kv;(function(e){function t(...d){let f=Is.posix.join(...d);return f==="."?"":u(f)}e.join=t;function r(...d){let f=Is.posix.join(...d);return f==="."?"":f}e.joinWithLeadingSlash=r;function n(d,f){return Is.posix.basename(d,f)}e.basename=n;function s(d){let f=u(Is.posix.dirname(d));return f==="."?"":f}e.dirname=s;function i(d){return Is.posix.extname(d)}e.extname=i;function a(d){return d===""?"":u(Is.posix.normalize(d))}e.normalize=a;function o(...d){return u(Is.posix.resolve(...d))}e.resolve=o;function l(d,f){return u(Is.posix.relative(d,f))}e.relative=l;function c(d){return d.length>0&&d.indexOf(".")!==0&&(d=`.${d}`),d}e.normalizeExtension=c;function u(d){return d.indexOf("/")===0&&(d=d.slice(1)),d}e.removeSlash=u})(Kv||(Pl.PathExt=Kv={}))});var Gv=T(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.signalToPromise=QC;var YC=Xe();function QC(e,t){let r=new YC.PromiseDelegate;function n(){e.disconnect(s)}function s(i,a){n(),r.resolve([i,a])}return e.connect(s),(t??0)>0&&setTimeout(()=>{n(),r.reject(`Signal not emitted within ${t} ms.`)},t),r.promise}});var Yv=T(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.Text=void 0;var Zv;(function(e){function r(a,o){return a}e.jsIndexToCharIndex=r;function n(a,o){return a}e.charIndexToJsIndex=n;function s(a,o=!1){return a.replace(/^(\w)|[\s-_:]+(\w)/g,function(l,c,u){return u?u.toUpperCase():o?c.toUpperCase():c.toLowerCase()})}e.camelCase=s;function i(a){return(a||"").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}e.titleCase=i})(Zv||(Rl.Text=Zv={}))});var Xv=T(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.Time=void 0;var XC=[{name:"years",milliseconds:365*24*60*60*1e3},{name:"months",milliseconds:720*60*60*1e3},{name:"days",milliseconds:1440*60*1e3},{name:"hours",milliseconds:3600*1e3},{name:"minutes",milliseconds:60*1e3},{name:"seconds",milliseconds:1e3}],Qv;(function(e){function t(n,s="long"){let i=document.documentElement.lang||"en",a=new Intl.RelativeTimeFormat(i,{numeric:"auto",style:s}),o=new Date(n).getTime()-Date.now();for(let l of XC){let c=Math.ceil(o/l.milliseconds);if(c!==0)return a.format(c,l.name)}return a.format(0,"seconds")}e.formatHuman=t;function r(n){let s=document.documentElement.lang||"en";return new Intl.DateTimeFormat(s,{dateStyle:"short",timeStyle:"short"}).format(new Date(n))}e.format=r})(Qv||(Il.Time=Qv={}))});var qe=T(bt=>{"use strict";var eP=bt&&bt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),Lr=bt&&bt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&eP(t,e,r)};Object.defineProperty(bt,"__esModule",{value:!0});Lr(kv(),bt);Lr(xv(),bt);Lr(Ev(),bt);Lr(Pv(),bt);Lr(Jv(),bt);Lr(Wv(),bt);Lr(Gv(),bt);Lr(Yv(),bt);Lr(Xv(),bt);Lr(Hd(),bt)});var si=T(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.supportedKernelWebSocketProtocols=void 0;We.createMessage=rP;We.isStreamMsg=sP;We.isDisplayDataMsg=nP;We.isUpdateDisplayDataMsg=iP;We.isExecuteInputMsg=aP;We.isExecuteResultMsg=oP;We.isErrorMsg=lP;We.isStatusMsg=cP;We.isClearOutputMsg=uP;We.isDebugEventMsg=dP;We.isCommOpenMsg=hP;We.isCommCloseMsg=fP;We.isCommMsgMsg=pP;We.isInfoRequestMsg=mP;We.isExecuteReplyMsg=gP;We.isDebugRequestMsg=yP;We.isDebugReplyMsg=vP;We.isInputRequestMsg=_P;We.isInputReplyMsg=bP;var tP=Xe();function rP(e){var t,r,n,s,i,a;return{buffers:(t=e.buffers)!==null&&t!==void 0?t:[],channel:e.channel,content:e.content,header:{date:new Date().toISOString(),msg_id:(r=e.msgId)!==null&&r!==void 0?r:tP.UUID.uuid4(),msg_type:e.msgType,session:e.session,username:(n=e.username)!==null&&n!==void 0?n:"",subshell_id:(s=e.subshellId)!==null&&s!==void 0?s:null,version:"5.2"},metadata:(i=e.metadata)!==null&&i!==void 0?i:{},parent_header:(a=e.parentHeader)!==null&&a!==void 0?a:{}}}function sP(e){return e.header.msg_type==="stream"}function nP(e){return e.header.msg_type==="display_data"}function iP(e){return e.header.msg_type==="update_display_data"}function aP(e){return e.header.msg_type==="execute_input"}function oP(e){return e.header.msg_type==="execute_result"}function lP(e){return e.header.msg_type==="error"}function cP(e){return e.header.msg_type==="status"}function uP(e){return e.header.msg_type==="clear_output"}function dP(e){return e.header.msg_type==="debug_event"}function hP(e){return e.header.msg_type==="comm_open"}function fP(e){return e.header.msg_type==="comm_close"}function pP(e){return e.header.msg_type==="comm_msg"}function mP(e){return e.header.msg_type==="kernel_info_request"}function gP(e){return e.header.msg_type==="execute_reply"}function yP(e){return e.header.msg_type==="debug_request"}function vP(e){return e.header.msg_type==="debug_reply"}function _P(e){return e.header.msg_type==="input_request"}function bP(e){return e.header.msg_type==="input_reply"}var e_;(function(e){e.v1KernelWebsocketJupyterOrg="v1.kernel.websocket.jupyter.org"})(e_||(We.supportedKernelWebSocketProtocols=e_={}))});var r_=T(qr=>{"use strict";var wP=qr&&qr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),kP=qr&&qr.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),SP=qr&&qr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&wP(t,e,r);return kP(t,e),t};Object.defineProperty(qr,"__esModule",{value:!0});qr.serialize=xP;qr.deserialize=EP;var t_=SP(si());function xP(e,t=""){switch(t){case t_.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg:return ni.serializeV1KernelWebsocketJupyterOrg(e);default:return ni.serializeDefault(e)}}function EP(e,t=""){switch(t){case t_.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg:return ni.deserializeV1KernelWebsocketJupyterOrg(e);default:return ni.deserializeDefault(e)}}var ni;(function(e){function t(o){let l,c=new DataView(o),u=Number(c.getBigUint64(0,!0)),d=[];for(let E=0;E<u;E++)d.push(Number(c.getBigUint64(8*(E+1),!0)));let f=new TextDecoder("utf8"),h=f.decode(o.slice(d[0],d[1])),p=JSON.parse(f.decode(o.slice(d[1],d[2]))),g=JSON.parse(f.decode(o.slice(d[2],d[3]))),y=JSON.parse(f.decode(o.slice(d[3],d[4]))),v=JSON.parse(f.decode(o.slice(d[4],d[5]))),P=[];for(let E=5;E<d.length-1;E++)P.push(new DataView(o.slice(d[E],d[E+1])));return l={channel:h,header:p,parent_header:g,metadata:y,content:v,buffers:P},l}e.deserializeV1KernelWebsocketJupyterOrg=t;function r(o){let l=JSON.stringify(o.header),c=o.parent_header==null?"{}":JSON.stringify(o.parent_header),u=JSON.stringify(o.metadata),d=JSON.stringify(o.content),f=o.buffers!==void 0?o.buffers:[],h=5+f.length+1,p=[];p.push(8*(1+h)),p.push(o.channel.length+p[p.length-1]);let g=new TextEncoder,y=g.encode(o.channel),v=g.encode(l),P=g.encode(c),E=g.encode(u),S=g.encode(d),U=new Uint8Array(y.length+v.length+P.length+E.length+S.length);U.set(y),U.set(v,y.length),U.set(P,y.length+v.length),U.set(E,y.length+v.length+P.length),U.set(S,y.length+v.length+P.length+E.length);for(let w of[v.length,P.length,E.length,S.length])p.push(w+p[p.length-1]);let z=0;for(let w of f){let C=w.byteLength;p.push(C+p[p.length-1]),z+=C}let $=new Uint8Array(8*(1+h)+U.byteLength+z),L=new ArrayBuffer(8),A=new DataView(L);A.setBigUint64(0,BigInt(h),!0),$.set(new Uint8Array(L),0);for(let w=0;w<p.length;w++)A.setBigUint64(0,BigInt(p[w]),!0),$.set(new Uint8Array(L),8*(w+1));$.set(U,p[0]);for(let w=0;w<f.length;w++){let C=f[w];$.set(new Uint8Array(ArrayBuffer.isView(C)?C.buffer:C),p[5+w])}return $.buffer}e.serializeV1KernelWebsocketJupyterOrg=r;function n(o){let l;return typeof o=="string"?l=JSON.parse(o):l=i(o),l}e.deserializeDefault=n;function s(o){var l;let c;return!((l=o.buffers)===null||l===void 0)&&l.length?c=a(o):c=JSON.stringify(o),c}e.serializeDefault=s;function i(o){let l=new DataView(o),c=l.getUint32(0),u=[];if(c<2)throw new Error("Invalid incoming Kernel Message");for(let h=1;h<=c;h++)u.push(l.getUint32(h*4));let d=new Uint8Array(o.slice(u[0],u[1])),f=JSON.parse(new TextDecoder("utf8").decode(d));f.buffers=[];for(let h=1;h<c;h++){let p=u[h],g=u[h+1]||o.byteLength;f.buffers.push(new DataView(o.slice(p,g)))}return f}function a(o){let l=[],c=[],u=new TextEncoder,d=[];o.buffers!==void 0&&(d=o.buffers,delete o.buffers);let f=u.encode(JSON.stringify(o));c.push(f.buffer);for(let y=0;y<d.length;y++){let v=d[y];c.push(ArrayBuffer.isView(v)?v.buffer:v)}let h=c.length;l.push(4*(h+1));for(let y=0;y+1<c.length;y++)l.push(l[l.length-1]+c[y].byteLength);let p=new Uint8Array(l[l.length-1]+c[c.length-1].byteLength),g=new DataView(p.buffer);g.setUint32(0,h);for(let y=0;y<l.length;y++)g.setUint32(4*(y+1),l[y]);for(let y=0;y<c.length;y++)p.set(new Uint8Array(c[y]),l[y]);return p.buffer}})(ni||(ni={}))});var cs=T((hq,i_)=>{"use strict";var s_=["nodebuffer","arraybuffer","fragments"],n_=typeof Blob<"u";n_&&s_.push("blob");i_.exports={BINARY_TYPES:s_,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:n_,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var aa=T((fq,Ol)=>{"use strict";var{EMPTY_BUFFER:CP}=cs(),Kd=Buffer[Symbol.species];function PP(e,t){if(e.length===0)return CP;if(e.length===1)return e[0];let r=Buffer.allocUnsafe(t),n=0;for(let s=0;s<e.length;s++){let i=e[s];r.set(i,n),n+=i.length}return n<t?new Kd(r.buffer,r.byteOffset,n):r}function a_(e,t,r,n,s){for(let i=0;i<s;i++)r[n+i]=e[i]^t[i&3]}function o_(e,t){for(let r=0;r<e.length;r++)e[r]^=t[r&3]}function RP(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)}function Wd(e){if(Wd.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=new Kd(e):ArrayBuffer.isView(e)?t=new Kd(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),Wd.readOnly=!1),t}Ol.exports={concat:PP,mask:a_,toArrayBuffer:RP,toBuffer:Wd,unmask:o_};if(!process.env.WS_NO_BUFFER_UTIL)try{let e=Ae("bufferutil");Ol.exports.mask=function(t,r,n,s,i){i<48?a_(t,r,n,s,i):e.mask(t,r,n,s,i)},Ol.exports.unmask=function(t,r){t.length<32?o_(t,r):e.unmask(t,r)}}catch{}});var u_=T((pq,c_)=>{"use strict";var l_=Symbol("kDone"),Gd=Symbol("kRun"),Zd=class{constructor(t){this[l_]=()=>{this.pending--,this[Gd]()},this.concurrency=t||1/0,this.jobs=[],this.pending=0}add(t){this.jobs.push(t),this[Gd]()}[Gd](){if(this.pending!==this.concurrency&&this.jobs.length){let t=this.jobs.shift();this.pending++,t(this[l_])}}};c_.exports=Zd});var la=T((mq,p_)=>{"use strict";var oa=Ae("zlib"),d_=aa(),IP=u_(),{kStatusCode:h_}=cs(),OP=Buffer[Symbol.species],TP=Buffer.from([0,0,255,255]),Dl=Symbol("permessage-deflate"),us=Symbol("total-length"),ii=Symbol("callback"),Os=Symbol("buffers"),ai=Symbol("error"),Tl,Yd=class{constructor(t,r,n){if(this._maxPayload=n|0,this._options=t||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!Tl){let s=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Tl=new IP(s)}}static get extensionName(){return"permessage-deflate"}offer(){let t={};return this._options.serverNoContextTakeover&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(t.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(t.client_max_window_bits=!0),t}accept(t){return t=this.normalizeParams(t),this.params=this._isServer?this.acceptAsServer(t):this.acceptAsClient(t),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let t=this._deflate[ii];this._deflate.close(),this._deflate=null,t&&t(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(t){let r=this._options,n=t.find(s=>!(r.serverNoContextTakeover===!1&&s.server_no_context_takeover||s.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>s.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!s.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(n.server_no_context_takeover=!0),r.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(n.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?n.client_max_window_bits=r.clientMaxWindowBits:(n.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(t){let r=t[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(t){return t.forEach(r=>{Object.keys(r).forEach(n=>{let s=r[n];if(s.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(s=s[0],n==="client_max_window_bits"){if(s!==!0){let i=+s;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${n}": ${s}`);s=i}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${s}`)}else if(n==="server_max_window_bits"){let i=+s;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${n}": ${s}`);s=i}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(s!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${s}`)}else throw new Error(`Unknown parameter "${n}"`);r[n]=s})}),t}decompress(t,r,n){Tl.add(s=>{this._decompress(t,r,(i,a)=>{s(),n(i,a)})})}compress(t,r,n){Tl.add(s=>{this._compress(t,r,(i,a)=>{s(),n(i,a)})})}_decompress(t,r,n){let s=this._isServer?"client":"server";if(!this._inflate){let i=`${s}_max_window_bits`,a=typeof this.params[i]!="number"?oa.Z_DEFAULT_WINDOWBITS:this.params[i];this._inflate=oa.createInflateRaw({...this._options.zlibInflateOptions,windowBits:a}),this._inflate[Dl]=this,this._inflate[us]=0,this._inflate[Os]=[],this._inflate.on("error",jP),this._inflate.on("data",f_)}this._inflate[ii]=n,this._inflate.write(t),r&&this._inflate.write(TP),this._inflate.flush(()=>{let i=this._inflate[ai];if(i){this._inflate.close(),this._inflate=null,n(i);return}let a=d_.concat(this._inflate[Os],this._inflate[us]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[us]=0,this._inflate[Os]=[],r&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),n(null,a)})}_compress(t,r,n){let s=this._isServer?"server":"client";if(!this._deflate){let i=`${s}_max_window_bits`,a=typeof this.params[i]!="number"?oa.Z_DEFAULT_WINDOWBITS:this.params[i];this._deflate=oa.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:a}),this._deflate[us]=0,this._deflate[Os]=[],this._deflate.on("data",DP)}this._deflate[ii]=n,this._deflate.write(t),this._deflate.flush(oa.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let i=d_.concat(this._deflate[Os],this._deflate[us]);r&&(i=new OP(i.buffer,i.byteOffset,i.length-4)),this._deflate[ii]=null,this._deflate[us]=0,this._deflate[Os]=[],r&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),n(null,i)})}};p_.exports=Yd;function DP(e){this[Os].push(e),this[us]+=e.length}function f_(e){if(this[us]+=e.length,this[Dl]._maxPayload<1||this[us]<=this[Dl]._maxPayload){this[Os].push(e);return}this[ai]=new RangeError("Max payload size exceeded"),this[ai].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[ai][h_]=1009,this.removeListener("data",f_),this.reset()}function jP(e){if(this[Dl]._inflate=null,this[ai]){this[ii](this[ai]);return}e[h_]=1007,this[ii](e)}});var oi=T((gq,jl)=>{"use strict";var{isUtf8:m_}=Ae("buffer"),{hasBlob:AP}=cs(),MP=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function UP(e){return e>=1e3&&e<=1014&&e!==1004&&e!==1005&&e!==1006||e>=3e3&&e<=4999}function Qd(e){let t=e.length,r=0;for(;r<t;)if((e[r]&128)===0)r++;else if((e[r]&224)===192){if(r+1===t||(e[r+1]&192)!==128||(e[r]&254)===192)return!1;r+=2}else if((e[r]&240)===224){if(r+2>=t||(e[r+1]&192)!==128||(e[r+2]&192)!==128||e[r]===224&&(e[r+1]&224)===128||e[r]===237&&(e[r+1]&224)===160)return!1;r+=3}else if((e[r]&248)===240){if(r+3>=t||(e[r+1]&192)!==128||(e[r+2]&192)!==128||(e[r+3]&192)!==128||e[r]===240&&(e[r+1]&240)===128||e[r]===244&&e[r+1]>143||e[r]>244)return!1;r+=4}else return!1;return!0}function NP(e){return AP&&typeof e=="object"&&typeof e.arrayBuffer=="function"&&typeof e.type=="string"&&typeof e.stream=="function"&&(e[Symbol.toStringTag]==="Blob"||e[Symbol.toStringTag]==="File")}jl.exports={isBlob:NP,isValidStatusCode:UP,isValidUTF8:Qd,tokenChars:MP};if(m_)jl.exports.isValidUTF8=function(e){return e.length<24?Qd(e):m_(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let e=Ae("utf-8-validate");jl.exports.isValidUTF8=function(t){return t.length<32?Qd(t):e(t)}}catch{}});var Ul=T((yq,k_)=>{"use strict";var{Writable:LP}=Ae("stream"),g_=la(),{BINARY_TYPES:qP,EMPTY_BUFFER:y_,kStatusCode:$P,kWebSocket:zP}=cs(),{concat:Xd,toArrayBuffer:FP,unmask:VP}=aa(),{isValidStatusCode:BP,isValidUTF8:v_}=oi(),Al=Buffer[Symbol.species],cr=0,__=1,b_=2,w_=3,eh=4,th=5,Ml=6,rh=class extends LP{constructor(t={}){super(),this._allowSynchronousEvents=t.allowSynchronousEvents!==void 0?t.allowSynchronousEvents:!0,this._binaryType=t.binaryType||qP[0],this._extensions=t.extensions||{},this._isServer=!!t.isServer,this._maxPayload=t.maxPayload|0,this._skipUTF8Validation=!!t.skipUTF8Validation,this[zP]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=cr}_write(t,r,n){if(this._opcode===8&&this._state==cr)return n();this._bufferedBytes+=t.length,this._buffers.push(t),this.startLoop(n)}consume(t){if(this._bufferedBytes-=t,t===this._buffers[0].length)return this._buffers.shift();if(t<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new Al(n.buffer,n.byteOffset+t,n.length-t),new Al(n.buffer,n.byteOffset,t)}let r=Buffer.allocUnsafe(t);do{let n=this._buffers[0],s=r.length-t;t>=n.length?r.set(this._buffers.shift(),s):(r.set(new Uint8Array(n.buffer,n.byteOffset,t),s),this._buffers[0]=new Al(n.buffer,n.byteOffset+t,n.length-t)),t-=n.length}while(t>0);return r}startLoop(t){this._loop=!0;do switch(this._state){case cr:this.getInfo(t);break;case __:this.getPayloadLength16(t);break;case b_:this.getPayloadLength64(t);break;case w_:this.getMask();break;case eh:this.getData(t);break;case th:case Ml:this._loop=!1;return}while(this._loop);this._errored||t()}getInfo(t){if(this._bufferedBytes<2){this._loop=!1;return}let r=this.consume(2);if((r[0]&48)!==0){let s=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");t(s);return}let n=(r[0]&64)===64;if(n&&!this._extensions[g_.extensionName]){let s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");t(s);return}if(this._fin=(r[0]&128)===128,this._opcode=r[0]&15,this._payloadLength=r[1]&127,this._opcode===0){if(n){let s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");t(s);return}if(!this._fragmented){let s=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");t(s);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let s=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");t(s);return}this._compressed=n}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let s=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");t(s);return}if(n){let s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");t(s);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let s=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");t(s);return}}else{let s=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");t(s);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(r[1]&128)===128,this._isServer){if(!this._masked){let s=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");t(s);return}}else if(this._masked){let s=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");t(s);return}this._payloadLength===126?this._state=__:this._payloadLength===127?this._state=b_:this.haveLength(t)}getPayloadLength16(t){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(t)}getPayloadLength64(t){if(this._bufferedBytes<8){this._loop=!1;return}let r=this.consume(8),n=r.readUInt32BE(0);if(n>Math.pow(2,21)-1){let s=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");t(s);return}this._payloadLength=n*Math.pow(2,32)+r.readUInt32BE(4),this.haveLength(t)}haveLength(t){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let r=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");t(r);return}this._masked?this._state=w_:this._state=eh}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=eh}getData(t){let r=y_;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&VP(r,this._mask)}if(this._opcode>7){this.controlMessage(r,t);return}if(this._compressed){this._state=th,this.decompress(r,t);return}r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage(t)}decompress(t,r){this._extensions[g_.extensionName].decompress(t,this._fin,(s,i)=>{if(s)return r(s);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let a=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");r(a);return}this._fragments.push(i)}this.dataMessage(r),this._state===cr&&this.startLoop(r)})}dataMessage(t){if(!this._fin){this._state=cr;return}let r=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let s;this._binaryType==="nodebuffer"?s=Xd(n,r):this._binaryType==="arraybuffer"?s=FP(Xd(n,r)):this._binaryType==="blob"?s=new Blob(n):s=n,this._allowSynchronousEvents?(this.emit("message",s,!0),this._state=cr):(this._state=Ml,setImmediate(()=>{this.emit("message",s,!0),this._state=cr,this.startLoop(t)}))}else{let s=Xd(n,r);if(!this._skipUTF8Validation&&!v_(s)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");t(i);return}this._state===th||this._allowSynchronousEvents?(this.emit("message",s,!1),this._state=cr):(this._state=Ml,setImmediate(()=>{this.emit("message",s,!1),this._state=cr,this.startLoop(t)}))}}controlMessage(t,r){if(this._opcode===8){if(t.length===0)this._loop=!1,this.emit("conclude",1005,y_),this.end();else{let n=t.readUInt16BE(0);if(!BP(n)){let i=this.createError(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");r(i);return}let s=new Al(t.buffer,t.byteOffset+2,t.length-2);if(!this._skipUTF8Validation&&!v_(s)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");r(i);return}this._loop=!1,this.emit("conclude",n,s),this.end()}this._state=cr;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",t),this._state=cr):(this._state=Ml,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",t),this._state=cr,this.startLoop(r)}))}createError(t,r,n,s,i){this._loop=!1,this._errored=!0;let a=new t(n?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(a,this.createError),a.code=i,a[$P]=s,a}};k_.exports=rh});var Ll=T((_q,E_)=>{"use strict";var{Duplex:vq}=Ae("stream"),{randomFillSync:HP}=Ae("crypto"),S_=la(),{EMPTY_BUFFER:JP,kWebSocket:KP,NOOP:WP}=cs(),{isBlob:li,isValidStatusCode:GP}=oi(),{mask:x_,toBuffer:gn}=aa(),ur=Symbol("kByteLength"),ZP=Buffer.alloc(4),Nl=8*1024,yn,ci=Nl,_r=0,YP=1,QP=2,sh=class e{constructor(t,r,n){this._extensions=r||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=t,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=_r,this.onerror=WP,this[KP]=void 0}static frame(t,r){let n,s=!1,i=2,a=!1;r.mask&&(n=r.maskBuffer||ZP,r.generateMask?r.generateMask(n):(ci===Nl&&(yn===void 0&&(yn=Buffer.alloc(Nl)),HP(yn,0,Nl),ci=0),n[0]=yn[ci++],n[1]=yn[ci++],n[2]=yn[ci++],n[3]=yn[ci++]),a=(n[0]|n[1]|n[2]|n[3])===0,i=6);let o;typeof t=="string"?(!r.mask||a)&&r[ur]!==void 0?o=r[ur]:(t=Buffer.from(t),o=t.length):(o=t.length,s=r.mask&&r.readOnly&&!a);let l=o;o>=65536?(i+=8,l=127):o>125&&(i+=2,l=126);let c=Buffer.allocUnsafe(s?o+i:i);return c[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(c[0]|=64),c[1]=l,l===126?c.writeUInt16BE(o,2):l===127&&(c[2]=c[3]=0,c.writeUIntBE(o,4,6)),r.mask?(c[1]|=128,c[i-4]=n[0],c[i-3]=n[1],c[i-2]=n[2],c[i-1]=n[3],a?[c,t]:s?(x_(t,n,c,i,o),[c]):(x_(t,n,t,0,o),[c,t])):[c,t]}close(t,r,n,s){let i;if(t===void 0)i=JP;else{if(typeof t!="number"||!GP(t))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)i=Buffer.allocUnsafe(2),i.writeUInt16BE(t,0);else{let o=Buffer.byteLength(r);if(o>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+o),i.writeUInt16BE(t,0),typeof r=="string"?i.write(r,2):i.set(r,2)}}let a={[ur]:i.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==_r?this.enqueue([this.dispatch,i,!1,a,s]):this.sendFrame(e.frame(i,a),s)}ping(t,r,n){let s,i;if(typeof t=="string"?(s=Buffer.byteLength(t),i=!1):li(t)?(s=t.size,i=!1):(t=gn(t),s=t.length,i=gn.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let a={[ur]:s,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};li(t)?this._state!==_r?this.enqueue([this.getBlobData,t,!1,a,n]):this.getBlobData(t,!1,a,n):this._state!==_r?this.enqueue([this.dispatch,t,!1,a,n]):this.sendFrame(e.frame(t,a),n)}pong(t,r,n){let s,i;if(typeof t=="string"?(s=Buffer.byteLength(t),i=!1):li(t)?(s=t.size,i=!1):(t=gn(t),s=t.length,i=gn.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let a={[ur]:s,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};li(t)?this._state!==_r?this.enqueue([this.getBlobData,t,!1,a,n]):this.getBlobData(t,!1,a,n):this._state!==_r?this.enqueue([this.dispatch,t,!1,a,n]):this.sendFrame(e.frame(t,a),n)}send(t,r,n){let s=this._extensions[S_.extensionName],i=r.binary?2:1,a=r.compress,o,l;typeof t=="string"?(o=Buffer.byteLength(t),l=!1):li(t)?(o=t.size,l=!1):(t=gn(t),o=t.length,l=gn.readOnly),this._firstFragment?(this._firstFragment=!1,a&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(a=o>=s._threshold),this._compress=a):(a=!1,i=0),r.fin&&(this._firstFragment=!0);let c={[ur]:o,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:i,readOnly:l,rsv1:a};li(t)?this._state!==_r?this.enqueue([this.getBlobData,t,this._compress,c,n]):this.getBlobData(t,this._compress,c,n):this._state!==_r?this.enqueue([this.dispatch,t,this._compress,c,n]):this.dispatch(t,this._compress,c,n)}getBlobData(t,r,n,s){this._bufferedBytes+=n[ur],this._state=QP,t.arrayBuffer().then(i=>{if(this._socket.destroyed){let o=new Error("The socket was closed while the blob was being read");process.nextTick(nh,this,o,s);return}this._bufferedBytes-=n[ur];let a=gn(i);r?this.dispatch(a,r,n,s):(this._state=_r,this.sendFrame(e.frame(a,n),s),this.dequeue())}).catch(i=>{process.nextTick(XP,this,i,s)})}dispatch(t,r,n,s){if(!r){this.sendFrame(e.frame(t,n),s);return}let i=this._extensions[S_.extensionName];this._bufferedBytes+=n[ur],this._state=YP,i.compress(t,n.fin,(a,o)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");nh(this,l,s);return}this._bufferedBytes-=n[ur],this._state=_r,n.readOnly=!1,this.sendFrame(e.frame(o,n),s),this.dequeue()})}dequeue(){for(;this._state===_r&&this._queue.length;){let t=this._queue.shift();this._bufferedBytes-=t[3][ur],Reflect.apply(t[0],this,t.slice(1))}}enqueue(t){this._bufferedBytes+=t[3][ur],this._queue.push(t)}sendFrame(t,r){t.length===2?(this._socket.cork(),this._socket.write(t[0]),this._socket.write(t[1],r),this._socket.uncork()):this._socket.write(t[0],r)}};E_.exports=sh;function nh(e,t,r){typeof r=="function"&&r(t);for(let n=0;n<e._queue.length;n++){let s=e._queue[n],i=s[s.length-1];typeof i=="function"&&i(t)}}function XP(e,t,r){nh(e,t,r),e.onerror(t)}});var A_=T((bq,j_)=>{"use strict";var{kForOnEventAttribute:ca,kListener:ih}=cs(),C_=Symbol("kCode"),P_=Symbol("kData"),R_=Symbol("kError"),I_=Symbol("kMessage"),O_=Symbol("kReason"),ui=Symbol("kTarget"),T_=Symbol("kType"),D_=Symbol("kWasClean"),ds=class{constructor(t){this[ui]=null,this[T_]=t}get target(){return this[ui]}get type(){return this[T_]}};Object.defineProperty(ds.prototype,"target",{enumerable:!0});Object.defineProperty(ds.prototype,"type",{enumerable:!0});var vn=class extends ds{constructor(t,r={}){super(t),this[C_]=r.code===void 0?0:r.code,this[O_]=r.reason===void 0?"":r.reason,this[D_]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[C_]}get reason(){return this[O_]}get wasClean(){return this[D_]}};Object.defineProperty(vn.prototype,"code",{enumerable:!0});Object.defineProperty(vn.prototype,"reason",{enumerable:!0});Object.defineProperty(vn.prototype,"wasClean",{enumerable:!0});var di=class extends ds{constructor(t,r={}){super(t),this[R_]=r.error===void 0?null:r.error,this[I_]=r.message===void 0?"":r.message}get error(){return this[R_]}get message(){return this[I_]}};Object.defineProperty(di.prototype,"error",{enumerable:!0});Object.defineProperty(di.prototype,"message",{enumerable:!0});var ua=class extends ds{constructor(t,r={}){super(t),this[P_]=r.data===void 0?null:r.data}get data(){return this[P_]}};Object.defineProperty(ua.prototype,"data",{enumerable:!0});var eR={addEventListener(e,t,r={}){for(let s of this.listeners(e))if(!r[ca]&&s[ih]===t&&!s[ca])return;let n;if(e==="message")n=function(i,a){let o=new ua("message",{data:a?i:i.toString()});o[ui]=this,ql(t,this,o)};else if(e==="close")n=function(i,a){let o=new vn("close",{code:i,reason:a.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});o[ui]=this,ql(t,this,o)};else if(e==="error")n=function(i){let a=new di("error",{error:i,message:i.message});a[ui]=this,ql(t,this,a)};else if(e==="open")n=function(){let i=new ds("open");i[ui]=this,ql(t,this,i)};else return;n[ca]=!!r[ca],n[ih]=t,r.once?this.once(e,n):this.on(e,n)},removeEventListener(e,t){for(let r of this.listeners(e))if(r[ih]===t&&!r[ca]){this.removeListener(e,r);break}}};j_.exports={CloseEvent:vn,ErrorEvent:di,Event:ds,EventTarget:eR,MessageEvent:ua};function ql(e,t,r){typeof e=="object"&&e.handleEvent?e.handleEvent.call(e,r):e.call(t,r)}});var ah=T((wq,M_)=>{"use strict";var{tokenChars:da}=oi();function $r(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}function tR(e){let t=Object.create(null),r=Object.create(null),n=!1,s=!1,i=!1,a,o,l=-1,c=-1,u=-1,d=0;for(;d<e.length;d++)if(c=e.charCodeAt(d),a===void 0)if(u===-1&&da[c]===1)l===-1&&(l=d);else if(d!==0&&(c===32||c===9))u===-1&&l!==-1&&(u=d);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let h=e.slice(l,u);c===44?($r(t,h,r),r=Object.create(null)):a=h,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);else if(o===void 0)if(u===-1&&da[c]===1)l===-1&&(l=d);else if(c===32||c===9)u===-1&&l!==-1&&(u=d);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d),$r(r,e.slice(l,u),!0),c===44&&($r(t,a,r),r=Object.create(null),a=void 0),l=u=-1}else if(c===61&&l!==-1&&u===-1)o=e.slice(l,d),l=u=-1;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(s){if(da[c]!==1)throw new SyntaxError(`Unexpected character at index ${d}`);l===-1?l=d:n||(n=!0),s=!1}else if(i)if(da[c]===1)l===-1&&(l=d);else if(c===34&&l!==-1)i=!1,u=d;else if(c===92)s=!0;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(c===34&&e.charCodeAt(d-1)===61)i=!0;else if(u===-1&&da[c]===1)l===-1&&(l=d);else if(l!==-1&&(c===32||c===9))u===-1&&(u=d);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let h=e.slice(l,u);n&&(h=h.replace(/\\/g,""),n=!1),$r(r,o,h),c===44&&($r(t,a,r),r=Object.create(null),a=void 0),o=void 0,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);if(l===-1||i||c===32||c===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=d);let f=e.slice(l,u);return a===void 0?$r(t,f,r):(o===void 0?$r(r,f,!0):n?$r(r,o,f.replace(/\\/g,"")):$r(r,o,f),$r(t,a,r)),t}function rR(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(n=>[t].concat(Object.keys(n).map(s=>{let i=n[s];return Array.isArray(i)||(i=[i]),i.map(a=>a===!0?s:`${s}=${a}`).join("; ")})).join("; ")).join(", ")}).join(", ")}M_.exports={format:rR,parse:tR}});var ha=T((xq,K_)=>{"use strict";var sR=Ae("events"),nR=Ae("https"),iR=Ae("http"),L_=Ae("net"),aR=Ae("tls"),{randomBytes:oR,createHash:lR}=Ae("crypto"),{Duplex:kq,Readable:Sq}=Ae("stream"),{URL:oh}=Ae("url"),Ts=la(),cR=Ul(),uR=Ll(),{isBlob:dR}=oi(),{BINARY_TYPES:U_,EMPTY_BUFFER:$l,GUID:hR,kForOnEventAttribute:lh,kListener:fR,kStatusCode:pR,kWebSocket:dt,NOOP:q_}=cs(),{EventTarget:{addEventListener:mR,removeEventListener:gR}}=A_(),{format:yR,parse:vR}=ah(),{toBuffer:_R}=aa(),bR=30*1e3,$_=Symbol("kAborted"),ch=[8,13],hs=["CONNECTING","OPEN","CLOSING","CLOSED"],wR=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Ve=class e extends sR{constructor(t,r,n){super(),this._binaryType=U_[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=$l,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=e.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,t!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(n=r,r=[]):r=[r]),z_(this,t,r,n)):(this._autoPong=n.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(t){U_.includes(t)&&(this._binaryType=t,this._receiver&&(this._receiver._binaryType=t))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(t,r,n){let s=new cR({allowSynchronousEvents:n.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation}),i=new uR(t,this._extensions,n.generateMask);this._receiver=s,this._sender=i,this._socket=t,s[dt]=this,i[dt]=this,t[dt]=this,s.on("conclude",xR),s.on("drain",ER),s.on("error",CR),s.on("message",PR),s.on("ping",RR),s.on("pong",IR),i.onerror=OR,t.setTimeout&&t.setTimeout(0),t.setNoDelay&&t.setNoDelay(),r.length>0&&t.unshift(r),t.on("close",B_),t.on("data",Fl),t.on("end",H_),t.on("error",J_),this._readyState=e.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=e.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Ts.extensionName]&&this._extensions[Ts.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=e.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(t,r){if(this.readyState!==e.CLOSED){if(this.readyState===e.CONNECTING){Zt(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===e.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=e.CLOSING,this._sender.close(t,r,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),V_(this)}}pause(){this.readyState===e.CONNECTING||this.readyState===e.CLOSED||(this._paused=!0,this._socket.pause())}ping(t,r,n){if(this.readyState===e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(n=t,t=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==e.OPEN){uh(this,t,n);return}r===void 0&&(r=!this._isServer),this._sender.ping(t||$l,r,n)}pong(t,r,n){if(this.readyState===e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(n=t,t=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==e.OPEN){uh(this,t,n);return}r===void 0&&(r=!this._isServer),this._sender.pong(t||$l,r,n)}resume(){this.readyState===e.CONNECTING||this.readyState===e.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(t,r,n){if(this.readyState===e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(n=r,r={}),typeof t=="number"&&(t=t.toString()),this.readyState!==e.OPEN){uh(this,t,n);return}let s={binary:typeof t!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[Ts.extensionName]||(s.compress=!1),this._sender.send(t||$l,s,n)}terminate(){if(this.readyState!==e.CLOSED){if(this.readyState===e.CONNECTING){Zt(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=e.CLOSING,this._socket.destroy())}}};Object.defineProperty(Ve,"CONNECTING",{enumerable:!0,value:hs.indexOf("CONNECTING")});Object.defineProperty(Ve.prototype,"CONNECTING",{enumerable:!0,value:hs.indexOf("CONNECTING")});Object.defineProperty(Ve,"OPEN",{enumerable:!0,value:hs.indexOf("OPEN")});Object.defineProperty(Ve.prototype,"OPEN",{enumerable:!0,value:hs.indexOf("OPEN")});Object.defineProperty(Ve,"CLOSING",{enumerable:!0,value:hs.indexOf("CLOSING")});Object.defineProperty(Ve.prototype,"CLOSING",{enumerable:!0,value:hs.indexOf("CLOSING")});Object.defineProperty(Ve,"CLOSED",{enumerable:!0,value:hs.indexOf("CLOSED")});Object.defineProperty(Ve.prototype,"CLOSED",{enumerable:!0,value:hs.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(Ve.prototype,e,{enumerable:!0})});["open","error","close","message"].forEach(e=>{Object.defineProperty(Ve.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[lh])return t[fR];return null},set(t){for(let r of this.listeners(e))if(r[lh]){this.removeListener(e,r);break}typeof t=="function"&&this.addEventListener(e,t,{[lh]:!0})}})});Ve.prototype.addEventListener=mR;Ve.prototype.removeEventListener=gR;K_.exports=Ve;function z_(e,t,r,n){let s={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:ch[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(e._autoPong=s.autoPong,!ch.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${ch.join(", ")})`);let i;if(t instanceof oh)i=t;else try{i=new oh(t)}catch{throw new SyntaxError(`Invalid URL: ${t}`)}i.protocol==="http:"?i.protocol="ws:":i.protocol==="https:"&&(i.protocol="wss:"),e._url=i.href;let a=i.protocol==="wss:",o=i.protocol==="ws+unix:",l;if(i.protocol!=="ws:"&&!a&&!o?l=`The URL's protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"`:o&&!i.pathname?l="The URL's pathname is empty":i.hash&&(l="The URL contains a fragment identifier"),l){let g=new SyntaxError(l);if(e._redirects===0)throw g;zl(e,g);return}let c=a?443:80,u=oR(16).toString("base64"),d=a?nR.request:iR.request,f=new Set,h;if(s.createConnection=s.createConnection||(a?SR:kR),s.defaultPort=s.defaultPort||c,s.port=i.port||c,s.host=i.hostname.startsWith("[")?i.hostname.slice(1,-1):i.hostname,s.headers={...s.headers,"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},s.path=i.pathname+i.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(h=new Ts(s.perMessageDeflate!==!0?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=yR({[Ts.extensionName]:h.offer()})),r.length){for(let g of r){if(typeof g!="string"||!wR.test(g)||f.has(g))throw new SyntaxError("An invalid or duplicated subprotocol was specified");f.add(g)}s.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(i.username||i.password)&&(s.auth=`${i.username}:${i.password}`),o){let g=s.path.split(":");s.socketPath=g[0],s.path=g[1]}let p;if(s.followRedirects){if(e._redirects===0){e._originalIpc=o,e._originalSecure=a,e._originalHostOrSocketPath=o?s.socketPath:i.host;let g=n&&n.headers;if(n={...n,headers:{}},g)for(let[y,v]of Object.entries(g))n.headers[y.toLowerCase()]=v}else if(e.listenerCount("redirect")===0){let g=o?e._originalIpc?s.socketPath===e._originalHostOrSocketPath:!1:e._originalIpc?!1:i.host===e._originalHostOrSocketPath;(!g||e._originalSecure&&!a)&&(delete s.headers.authorization,delete s.headers.cookie,g||delete s.headers.host,s.auth=void 0)}s.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64")),p=e._req=d(s),e._redirects&&e.emit("redirect",e.url,p)}else p=e._req=d(s);s.timeout&&p.on("timeout",()=>{Zt(e,p,"Opening handshake has timed out")}),p.on("error",g=>{p===null||p[$_]||(p=e._req=null,zl(e,g))}),p.on("response",g=>{let y=g.headers.location,v=g.statusCode;if(y&&s.followRedirects&&v>=300&&v<400){if(++e._redirects>s.maxRedirects){Zt(e,p,"Maximum redirects exceeded");return}p.abort();let P;try{P=new oh(y,t)}catch{let S=new SyntaxError(`Invalid URL: ${y}`);zl(e,S);return}z_(e,P,r,n)}else e.emit("unexpected-response",p,g)||Zt(e,p,`Unexpected server response: ${g.statusCode}`)}),p.on("upgrade",(g,y,v)=>{if(e.emit("upgrade",g),e.readyState!==Ve.CONNECTING)return;p=e._req=null;let P=g.headers.upgrade;if(P===void 0||P.toLowerCase()!=="websocket"){Zt(e,y,"Invalid Upgrade header");return}let E=lR("sha1").update(u+hR).digest("base64");if(g.headers["sec-websocket-accept"]!==E){Zt(e,y,"Invalid Sec-WebSocket-Accept header");return}let S=g.headers["sec-websocket-protocol"],U;if(S!==void 0?f.size?f.has(S)||(U="Server sent an invalid subprotocol"):U="Server sent a subprotocol but none was requested":f.size&&(U="Server sent no subprotocol"),U){Zt(e,y,U);return}S&&(e._protocol=S);let z=g.headers["sec-websocket-extensions"];if(z!==void 0){if(!h){Zt(e,y,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let $;try{$=vR(z)}catch{Zt(e,y,"Invalid Sec-WebSocket-Extensions header");return}let L=Object.keys($);if(L.length!==1||L[0]!==Ts.extensionName){Zt(e,y,"Server indicated an extension that was not requested");return}try{h.accept($[Ts.extensionName])}catch{Zt(e,y,"Invalid Sec-WebSocket-Extensions header");return}e._extensions[Ts.extensionName]=h}e.setSocket(y,v,{allowSynchronousEvents:s.allowSynchronousEvents,generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})}),s.finishRequest?s.finishRequest(p,e):p.end()}function zl(e,t){e._readyState=Ve.CLOSING,e._errorEmitted=!0,e.emit("error",t),e.emitClose()}function kR(e){return e.path=e.socketPath,L_.connect(e)}function SR(e){return e.path=void 0,!e.servername&&e.servername!==""&&(e.servername=L_.isIP(e.host)?"":e.host),aR.connect(e)}function Zt(e,t,r){e._readyState=Ve.CLOSING;let n=new Error(r);Error.captureStackTrace(n,Zt),t.setHeader?(t[$_]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(zl,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function uh(e,t,r){if(t){let n=dR(t)?t.size:_R(t).length;e._socket?e._sender._bufferedBytes+=n:e._bufferedAmount+=n}if(r){let n=new Error(`WebSocket is not open: readyState ${e.readyState} (${hs[e.readyState]})`);process.nextTick(r,n)}}function xR(e,t){let r=this[dt];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,r._socket[dt]!==void 0&&(r._socket.removeListener("data",Fl),process.nextTick(F_,r._socket),e===1005?r.close():r.close(e,t))}function ER(){let e=this[dt];e.isPaused||e._socket.resume()}function CR(e){let t=this[dt];t._socket[dt]!==void 0&&(t._socket.removeListener("data",Fl),process.nextTick(F_,t._socket),t.close(e[pR])),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e))}function N_(){this[dt].emitClose()}function PR(e,t){this[dt].emit("message",e,t)}function RR(e){let t=this[dt];t._autoPong&&t.pong(e,!this._isServer,q_),t.emit("ping",e)}function IR(e){this[dt].emit("pong",e)}function F_(e){e.resume()}function OR(e){let t=this[dt];t.readyState!==Ve.CLOSED&&(t.readyState===Ve.OPEN&&(t._readyState=Ve.CLOSING,V_(t)),this._socket.end(),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e)))}function V_(e){e._closeTimer=setTimeout(e._socket.destroy.bind(e._socket),bR)}function B_(){let e=this[dt];this.removeListener("close",B_),this.removeListener("data",Fl),this.removeListener("end",H_),e._readyState=Ve.CLOSING;let t;!this._readableState.endEmitted&&!e._closeFrameReceived&&!e._receiver._writableState.errorEmitted&&(t=e._socket.read())!==null&&e._receiver.write(t),e._receiver.end(),this[dt]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",N_),e._receiver.on("finish",N_))}function Fl(e){this[dt]._receiver.write(e)||this.pause()}function H_(){let e=this[dt];e._readyState=Ve.CLOSING,e._receiver.end(),this.end()}function J_(){let e=this[dt];this.removeListener("error",J_),this.on("error",q_),e&&(e._readyState=Ve.CLOSING,this.destroy())}});var dh=T((Cq,Z_)=>{"use strict";var Eq=ha(),{Duplex:TR}=Ae("stream");function W_(e){e.emit("close")}function DR(){!this.destroyed&&this._writableState.finished&&this.destroy()}function G_(e){this.removeListener("error",G_),this.destroy(),this.listenerCount("error")===0&&this.emit("error",e)}function jR(e,t){let r=!0,n=new TR({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(i,a){let o=!a&&n._readableState.objectMode?i.toString():i;n.push(o)||e.pause()}),e.once("error",function(i){n.destroyed||(r=!1,n.destroy(i))}),e.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(s,i){if(e.readyState===e.CLOSED){i(s),process.nextTick(W_,n);return}let a=!1;e.once("error",function(l){a=!0,i(l)}),e.once("close",function(){a||i(s),process.nextTick(W_,n)}),r&&e.terminate()},n._final=function(s){if(e.readyState===e.CONNECTING){e.once("open",function(){n._final(s)});return}e._socket!==null&&(e._socket._writableState.finished?(s(),n._readableState.endEmitted&&n.destroy()):(e._socket.once("finish",function(){s()}),e.close()))},n._read=function(){e.isPaused&&e.resume()},n._write=function(s,i,a){if(e.readyState===e.CONNECTING){e.once("open",function(){n._write(s,i,a)});return}e.send(s,a)},n.on("end",DR),n.on("error",G_),n}Z_.exports=jR});var Q_=T((Pq,Y_)=>{"use strict";var{tokenChars:AR}=oi();function MR(e){let t=new Set,r=-1,n=-1,s=0;for(s;s<e.length;s++){let a=e.charCodeAt(s);if(n===-1&&AR[a]===1)r===-1&&(r=s);else if(s!==0&&(a===32||a===9))n===-1&&r!==-1&&(n=s);else if(a===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${s}`);n===-1&&(n=s);let o=e.slice(r,n);if(t.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);t.add(o),r=n=-1}else throw new SyntaxError(`Unexpected character at index ${s}`)}if(r===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let i=e.slice(r,s);if(t.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);return t.add(i),t}Y_.exports={parse:MR}});var fh=T((Iq,nb)=>{"use strict";var UR=Ae("events"),Vl=Ae("http"),{Duplex:Rq}=Ae("stream"),{createHash:NR}=Ae("crypto"),X_=ah(),_n=la(),LR=Q_(),qR=ha(),{GUID:$R,kWebSocket:zR}=cs(),FR=/^[+/0-9A-Za-z]{22}==$/,eb=0,tb=1,sb=2,hh=class extends UR{constructor(t,r){if(super(),t={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:qR,...t},t.port==null&&!t.server&&!t.noServer||t.port!=null&&(t.server||t.noServer)||t.server&&t.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(t.port!=null?(this._server=Vl.createServer((n,s)=>{let i=Vl.STATUS_CODES[426];s.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),s.end(i)}),this._server.listen(t.port,t.host,t.backlog,r)):t.server&&(this._server=t.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=VR(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(s,i,a)=>{this.handleUpgrade(s,i,a,n)}})}t.perMessageDeflate===!0&&(t.perMessageDeflate={}),t.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=t,this._state=eb}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(t){if(this._state===sb){t&&this.once("close",()=>{t(new Error("The server is not running"))}),process.nextTick(fa,this);return}if(t&&this.once("close",t),this._state!==tb)if(this._state=tb,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(fa,this):process.nextTick(fa,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{fa(this)})}}shouldHandle(t){if(this.options.path){let r=t.url.indexOf("?");if((r!==-1?t.url.slice(0,r):t.url)!==this.options.path)return!1}return!0}handleUpgrade(t,r,n,s){r.on("error",rb);let i=t.headers["sec-websocket-key"],a=t.headers.upgrade,o=+t.headers["sec-websocket-version"];if(t.method!=="GET"){bn(this,t,r,405,"Invalid HTTP method");return}if(a===void 0||a.toLowerCase()!=="websocket"){bn(this,t,r,400,"Invalid Upgrade header");return}if(i===void 0||!FR.test(i)){bn(this,t,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(o!==13&&o!==8){bn(this,t,r,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});return}if(!this.shouldHandle(t)){pa(r,400);return}let l=t.headers["sec-websocket-protocol"],c=new Set;if(l!==void 0)try{c=LR.parse(l)}catch{bn(this,t,r,400,"Invalid Sec-WebSocket-Protocol header");return}let u=t.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&u!==void 0){let f=new _n(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let h=X_.parse(u);h[_n.extensionName]&&(f.accept(h[_n.extensionName]),d[_n.extensionName]=f)}catch{bn(this,t,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let f={origin:t.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(t.socket.authorized||t.socket.encrypted),req:t};if(this.options.verifyClient.length===2){this.options.verifyClient(f,(h,p,g,y)=>{if(!h)return pa(r,p||401,g,y);this.completeUpgrade(d,i,c,t,r,n,s)});return}if(!this.options.verifyClient(f))return pa(r,401)}this.completeUpgrade(d,i,c,t,r,n,s)}completeUpgrade(t,r,n,s,i,a,o){if(!i.readable||!i.writable)return i.destroy();if(i[zR])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>eb)return pa(i,503);let c=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${NR("sha1").update(r+$R).digest("base64")}`],u=new this.options.WebSocket(null,void 0,this.options);if(n.size){let d=this.options.handleProtocols?this.options.handleProtocols(n,s):n.values().next().value;d&&(c.push(`Sec-WebSocket-Protocol: ${d}`),u._protocol=d)}if(t[_n.extensionName]){let d=t[_n.extensionName].params,f=X_.format({[_n.extensionName]:[d]});c.push(`Sec-WebSocket-Extensions: ${f}`),u._extensions=t}this.emit("headers",c,s),i.write(c.concat(`\r
`).join(`\r
`)),i.removeListener("error",rb),u.setSocket(i,a,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(fa,this)})),o(u,s)}};nb.exports=hh;function VR(e,t){for(let r of Object.keys(t))e.on(r,t[r]);return function(){for(let n of Object.keys(t))e.removeListener(n,t[n])}}function fa(e){e._state=sb,e.emit("close")}function rb(){this.destroy()}function pa(e,t,r,n){r=r||Vl.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${Vl.STATUS_CODES[t]}\r
`+Object.keys(n).map(s=>`${s}: ${n[s]}`).join(`\r
`)+`\r
\r
`+r)}function bn(e,t,r,n,s,i){if(e.listenerCount("wsClientError")){let a=new Error(s);Error.captureStackTrace(a,bn),e.emit("wsClientError",a,r,t)}else pa(r,n,s,i)}});var ab=T((Oq,ib)=>{"use strict";var fs=ha();fs.createWebSocketStream=dh();fs.Server=fh();fs.Receiver=Ul();fs.Sender=Ll();fs.WebSocket=fs;fs.WebSocketServer=fs.Server;ib.exports=fs});var It=T(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.ServerConnection=void 0;var Ds=qe(),ob=r_(),ph;typeof window>"u"?ph=ab():ph=WebSocket;var mh;(function(e){function t(i){return Bl.makeSettings(i)}e.makeSettings=t;function r(i,a,o){return Bl.handleRequest(i,a,o)}e.makeRequest=r;class n extends Error{static async create(a){try{let o=await a.json(),{message:l,traceback:c}=o;return c&&console.error(c),new n(a,l??n._defaultMessage(a),c??"")}catch(o){return console.debug(o),new n(a)}}constructor(a,o=n._defaultMessage(a),l=""){super(o),this.response=a,this.traceback=l}static _defaultMessage(a){return`Invalid response: ${a.status} ${a.statusText}`}}e.ResponseError=n;class s extends TypeError{constructor(a){super(a.message),this.stack=a.stack}}e.NetworkError=s})(mh||(Hl.ServerConnection=mh={}));var Bl;(function(e){function t(s={}){var i;let a=Ds.PageConfig.getBaseUrl(),o=Ds.PageConfig.getWsUrl(),l=Ds.URLExt.normalize(s.baseUrl)||a,c=s.wsUrl;!c&&l===a&&(c=o),!c&&l.indexOf("http")===0&&(c="ws"+l.slice(4)),c=c??o;let u=Ds.PageConfig.getOption("appendToken").toLowerCase(),d;return u===""?d=typeof window>"u"||typeof process<"u"&&((i=process==null?void 0:process.env)===null||i===void 0?void 0:i.JEST_WORKER_ID)!==void 0||Ds.URLExt.getHostName(a)!==Ds.URLExt.getHostName(c):d=u==="true",{init:{cache:"no-store",credentials:"same-origin"},fetch,Headers,Request,WebSocket:ph,token:Ds.PageConfig.getToken(),appUrl:Ds.PageConfig.getOption("appUrl"),appendToken:d,serializer:{serialize:ob.serialize,deserialize:ob.deserialize},...s,baseUrl:l,wsUrl:c}}e.makeSettings=t;function r(s,i,a){var o;if(s.indexOf(a.baseUrl)!==0)throw new Error("Can only be used for notebook server requests");((o=i.cache)!==null&&o!==void 0?o:a.init.cache)==="no-store"&&(s+=(/\?/.test(s)?"&":"?")+new Date().getTime());let c=new a.Request(s,{...a.init,...i}),u=!1;if(a.token&&(u=!0,c.headers.append("Authorization",`token ${a.token}`)),typeof document<"u"){let d=n("_xsrf");d!==void 0&&(u=!0,c.headers.append("X-XSRFToken",d))}return!c.headers.has("Content-Type")&&u&&c.headers.set("Content-Type","application/json"),a.fetch.call(null,c).catch(d=>{throw new mh.NetworkError(d)})}e.handleRequest=r;function n(s){let i="";try{i=document.cookie}catch{return}let a=i.match("\\b"+s+"=([^;]*)\\b");return a?.[1]}})(Bl||(Bl={}))});var wn=T(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.BaseManager=void 0;var lb=et(),BR=It(),gh=class{constructor(t){var r;this._isDisposed=!1,this._disposed=new lb.Signal(this),this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:BR.ServerConnection.makeSettings()}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}get isActive(){return!0}dispose(){this.isDisposed||(this._isDisposed=!0,this._disposed.emit(void 0),lb.Signal.clearData(this))}};Jl.BaseManager=gh});var ub=T(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.ConfigWithDefaults=js.ConfigSection=js.ConfigSectionManager=void 0;var HR=qe(),hi=wt(),JR="api/config",yh=class{constructor(t){var r;this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:hi.ServerConnection.makeSettings()}async create(t){let r=new Kl({...t,serverSettings:this.serverSettings});return await r.load(),r}};js.ConfigSectionManager=yh;var cb;(function(e){async function t(s){if(!r){let a=new Kl(s);return await a.load(),a}return await r.create(s)}e.create=t;let r;function n(s){if(r)throw new Error("ConfigSectionManager already set. If you would like to create a config section, use the `IConfigSectionManager` token in a plugin.");r=s}e._setConfigSectionManager=n})(cb||(js.ConfigSection=cb={}));var Kl=class{constructor(t){var r;this._url="unknown";let n=this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:hi.ServerConnection.makeSettings();this._url=HR.URLExt.join(n.baseUrl,JR,encodeURIComponent(t.name))}get data(){return this._data}async load(){let t=await hi.ServerConnection.makeRequest(this._url,{},this.serverSettings);if(t.status!==200)throw await hi.ServerConnection.ResponseError.create(t);this._data=await t.json()}async update(t){this._data={...this._data,...t};let r={method:"PATCH",body:JSON.stringify(t)},n=await hi.ServerConnection.makeRequest(this._url,r,this.serverSettings);if(n.status!==200)throw await hi.ServerConnection.ResponseError.create(n);return this._data=await n.json(),this._data}},vh=class{constructor(t){var r,n;this._className="",this._section=t.section,this._defaults=(r=t.defaults)!==null&&r!==void 0?r:{},this._className=(n=t.className)!==null&&n!==void 0?n:""}get(t){let r=this._classData();return t in r?r[t]:this._defaults[t]}set(t,r){let n={};if(n[t]=r,this._className){let s={};return s[this._className]=n,this._section.update(s)}else return this._section.update(n)}_classData(){let t=this._section.data;return this._className&&this._className in t?t[this._className]:t}};js.ConfigWithDefaults=vh});var db=T(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.ConnectionStatus=void 0;var _h=class{constructor(){this.isConnected=!0}};Wl.ConnectionStatus=_h});var Zl=T((Gl,hb)=>{(function(e,t){typeof Gl=="object"&&typeof hb<"u"?t(Gl,et()):typeof define=="function"&&define.amd?define(["exports","@lumino/signaling"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.lumino_disposable={},e.lumino_signaling))})(Gl,(function(e,t){"use strict";class r{constructor(o){this._fn=o}get isDisposed(){return!this._fn}dispose(){if(!this._fn)return;let o=this._fn;this._fn=null,o()}}class n extends r{constructor(){super(...arguments),this._disposed=new t.Signal(this)}get disposed(){return this._disposed}dispose(){this.isDisposed||(super.dispose(),this._disposed.emit(void 0),t.Signal.clearData(this))}}class s{constructor(){this._isDisposed=!1,this._items=new Set}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._items.forEach(o=>{o.dispose()}),this._items.clear())}contains(o){return this._items.has(o)}add(o){this._items.add(o)}remove(o){this._items.delete(o)}clear(){this._items.clear()}}(function(a){function o(l){let c=new a;for(let u of l)c.add(u);return c}a.from=o})(s||(s={}));class i extends s{constructor(){super(...arguments),this._disposed=new t.Signal(this)}get disposed(){return this._disposed}dispose(){this.isDisposed||(super.dispose(),this._disposed.emit(void 0),t.Signal.clearData(this))}}(function(a){function o(l){let c=new a;for(let u of l)c.add(u);return c}a.from=o})(i||(i={})),e.DisposableDelegate=r,e.DisposableSet=s,e.ObservableDisposableDelegate=n,e.ObservableDisposableSet=i}))});var ma=T(bh=>{"use strict";Object.defineProperty(bh,"__esModule",{value:!0});bh.validateProperty=KR;function KR(e,t,r,n=[]){if(!e.hasOwnProperty(t))throw Error(`Missing property '${t}'`);let s=e[t];if(r!==void 0){let i=!0;switch(r){case"array":i=Array.isArray(s);break;case"object":i=typeof s<"u";break;default:i=typeof s===r}if(!i)throw new Error(`Property '${t}' is not of type '${r}'`);if(n.length>0){let a=!0;switch(r){case"string":case"number":case"boolean":a=n.includes(s);break;default:a=n.findIndex(o=>o===s)>=0;break}if(!a)throw new Error(`Property '${t}' is not one of the valid values ${JSON.stringify(n)}`)}}}});var fb=T(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.validateContentsModel=WR;Yl.validateCheckpointModel=GR;var zr=ma();function WR(e){(0,zr.validateProperty)(e,"name","string"),(0,zr.validateProperty)(e,"path","string"),(0,zr.validateProperty)(e,"type","string"),(0,zr.validateProperty)(e,"created","string"),(0,zr.validateProperty)(e,"last_modified","string"),(0,zr.validateProperty)(e,"mimetype","object"),(0,zr.validateProperty)(e,"content","object"),(0,zr.validateProperty)(e,"format","object")}function GR(e){(0,zr.validateProperty)(e,"id","string"),(0,zr.validateProperty)(e,"last_modified","string")}});var xh=T(kt=>{"use strict";var ZR=kt&&kt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),YR=kt&&kt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),QR=kt&&kt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ZR(t,e,r);return YR(t,e),t};Object.defineProperty(kt,"__esModule",{value:!0});kt.RestContentProvider=kt.Drive=kt.ContentsManager=kt.Contents=void 0;var Ot=qe(),XR=Zl(),ga=et(),Ze=wt(),ps=QR(fb()),eI="api/contents",tI="files",pb;(function(e){function t(n){ps.validateContentsModel(n)}e.validateContentsModel=t;function r(n){ps.validateCheckpointModel(n)}e.validateCheckpointModel=r})(pb||(kt.Contents=pb={}));var wh=class{constructor(t={}){var r,n;this._isDisposed=!1,this._additionalDrives=new Map,this._fileChanged=new ga.Signal(this);let s=this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:Ze.ServerConnection.makeSettings();this._defaultDrive=(n=t.defaultDrive)!==null&&n!==void 0?n:new Ql({serverSettings:s}),this._defaultDrive.fileChanged.connect(this._onFileChanged,this)}get defaultDrive(){return this._defaultDrive}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,ga.Signal.clearData(this))}addDrive(t){this._additionalDrives.set(t.name,t),t.fileChanged.connect(this._onFileChanged,this)}getSharedModelFactory(t,r){var n,s;let[i]=this._driveForPath(t),a=(n=i.contentProviderRegistry)===null||n===void 0?void 0:n.getProvider(r?.contentProviderId);return a?.sharedModelFactory?a.sharedModelFactory:(s=i.sharedModelFactory)!==null&&s!==void 0?s:null}localPath(t){let r=t.split("/"),n=r[0].split(":");return n.length===1||!this._additionalDrives.has(n[0])?Ot.PathExt.removeSlash(t):Ot.PathExt.join(n.slice(1).join(":"),...r.slice(1))}normalize(t){let r=t.split(":");return r.length===1?Ot.PathExt.normalize(t):`${r[0]}:${Ot.PathExt.normalize(r.slice(1).join(":"))}`}resolvePath(t,r){let n=this.driveName(t),s=this.localPath(t),i=Ot.PathExt.resolve("/",s,r);return n?`${n}:${i}`:i}driveName(t){let n=t.split("/")[0].split(":");return n.length===1?"":this._additionalDrives.has(n[0])?n[0]:""}get(t,r){let[n,s]=this._driveForPath(t);return n.get(s,r).then(i=>{let a=[];if(i.type==="directory"&&i.content){for(let o of i.content)a.push({...o,path:this._toGlobalPath(n,o.path)});return{...i,path:this._toGlobalPath(n,s),content:a,serverPath:i.path}}else return{...i,path:this._toGlobalPath(n,s),serverPath:i.path}})}getDownloadUrl(t){let[r,n]=this._driveForPath(t);return r.getDownloadUrl(n)}newUntitled(t={}){if(t.path){let r=this.normalize(t.path),[n,s]=this._driveForPath(r);return n.newUntitled({...t,path:s}).then(i=>({...i,path:Ot.PathExt.join(r,i.name),serverPath:i.path}))}else return this._defaultDrive.newUntitled(t)}delete(t){let[r,n]=this._driveForPath(t);return r.delete(n)}rename(t,r){let[n,s]=this._driveForPath(t),[i,a]=this._driveForPath(r);if(n!==i)throw Error("ContentsManager: renaming files must occur within a Drive");return n.rename(s,a).then(o=>({...o,path:this._toGlobalPath(n,a),serverPath:o.path}))}save(t,r={}){let n=this.normalize(t),[s,i]=this._driveForPath(t);return s.save(i,{...r,path:i}).then(a=>({...a,path:n,serverPath:a.path}))}copy(t,r){let[n,s]=this._driveForPath(t),[i,a]=this._driveForPath(r);if(n===i)return n.copy(s,a).then(o=>({...o,path:this._toGlobalPath(n,o.path),serverPath:o.path}));throw Error("Copying files between drives is not currently implemented")}createCheckpoint(t){let[r,n]=this._driveForPath(t);return r.createCheckpoint(n)}listCheckpoints(t){let[r,n]=this._driveForPath(t);return r.listCheckpoints(n)}restoreCheckpoint(t,r){let[n,s]=this._driveForPath(t);return n.restoreCheckpoint(s,r)}deleteCheckpoint(t,r){let[n,s]=this._driveForPath(t);return n.deleteCheckpoint(s,r)}_toGlobalPath(t,r){return t===this._defaultDrive?Ot.PathExt.removeSlash(r):`${t.name}:${Ot.PathExt.removeSlash(r)}`}_driveForPath(t){let r=this.driveName(t),n=this.localPath(t);return r?[this._additionalDrives.get(r),n]:[this._defaultDrive,n]}_onFileChanged(t,r){var n,s;if(t===this._defaultDrive)this._fileChanged.emit(r);else{let i=null,a=null;!((n=r.newValue)===null||n===void 0)&&n.path&&(i={...r.newValue,path:this._toGlobalPath(t,r.newValue.path)}),!((s=r.oldValue)===null||s===void 0)&&s.path&&(a={...r.oldValue,path:this._toGlobalPath(t,r.oldValue.path)}),this._fileChanged.emit({type:r.type,newValue:i,oldValue:a})}}};kt.ContentsManager=wh;var Ql=class{constructor(t={}){var r,n,s;this._isDisposed=!1,this._fileChanged=new ga.Signal(this),this.name=(r=t.name)!==null&&r!==void 0?r:"Default",this._apiEndpoint=(n=t.apiEndpoint)!==null&&n!==void 0?n:eI,this.serverSettings=(s=t.serverSettings)!==null&&s!==void 0?s:Ze.ServerConnection.makeSettings();let i=new Xl({apiEndpoint:this._apiEndpoint,serverSettings:this.serverSettings});this.contentProviderRegistry=new Sh({defaultProvider:i}),this.contentProviderRegistry.fileChanged.connect((a,o)=>{this._fileChanged.emit(o)})}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,ga.Signal.clearData(this))}async get(t,r){return this.contentProviderRegistry.getProvider(r?.contentProviderId).get(t,r)}getDownloadUrl(t){let r=this.serverSettings.baseUrl,n=Ot.URLExt.join(r,tI,Ot.URLExt.encodeParts(t)),s="";try{s=document.cookie}catch{}let i=s.match("\\b_xsrf=([^;]*)\\b");if(i){let a=new URL(n);a.searchParams.append("_xsrf",i[1]),n=a.toString()}return Promise.resolve(n)}async newUntitled(t={}){var r;let n="{}";t&&(t.ext&&(t.ext=kh.normalizeExtension(t.ext)),n=JSON.stringify(t));let s=this.serverSettings,i=this._getUrl((r=t.path)!==null&&r!==void 0?r:""),a={method:"POST",body:n},o=await Ze.ServerConnection.makeRequest(i,a,s);if(o.status!==201)throw await Ze.ServerConnection.ResponseError.create(o);let l=await o.json();return ps.validateContentsModel(l),this._fileChanged.emit({type:"new",oldValue:null,newValue:l}),l}async delete(t){let r=this._getUrl(t),n=this.serverSettings,s={method:"DELETE"},i=await Ze.ServerConnection.makeRequest(r,s,n);if(i.status!==204)throw await Ze.ServerConnection.ResponseError.create(i);this._fileChanged.emit({type:"delete",oldValue:{path:t},newValue:null})}async rename(t,r){let n=this.serverSettings,s=this._getUrl(t),i={method:"PATCH",body:JSON.stringify({path:r})},a=await Ze.ServerConnection.makeRequest(s,i,n);if(a.status!==200)throw await Ze.ServerConnection.ResponseError.create(a);let o=await a.json();return ps.validateContentsModel(o),this._fileChanged.emit({type:"rename",oldValue:{path:t},newValue:o}),o}async save(t,r={}){let s=await this.contentProviderRegistry.getProvider(r?.contentProviderId).save(t,r);return this._fileChanged.emit({type:"save",oldValue:null,newValue:s}),s}async copy(t,r){let n=this.serverSettings,s=this._getUrl(r),i={method:"POST",body:JSON.stringify({copy_from:t})},a=await Ze.ServerConnection.makeRequest(s,i,n);if(a.status!==201)throw await Ze.ServerConnection.ResponseError.create(a);let o=await a.json();return ps.validateContentsModel(o),this._fileChanged.emit({type:"new",oldValue:null,newValue:o}),o}async createCheckpoint(t){let r=this._getUrl(t,"checkpoints"),n={method:"POST"},s=await Ze.ServerConnection.makeRequest(r,n,this.serverSettings);if(s.status!==201)throw await Ze.ServerConnection.ResponseError.create(s);let i=await s.json();return ps.validateCheckpointModel(i),i}async listCheckpoints(t){let r=this._getUrl(t,"checkpoints"),n=await Ze.ServerConnection.makeRequest(r,{},this.serverSettings);if(n.status!==200)throw await Ze.ServerConnection.ResponseError.create(n);let s=await n.json();if(!Array.isArray(s))throw new Error("Invalid Checkpoint list");for(let i=0;i<s.length;i++)ps.validateCheckpointModel(s[i]);return s}async restoreCheckpoint(t,r){let n=this._getUrl(t,"checkpoints",r),s={method:"POST"},i=await Ze.ServerConnection.makeRequest(n,s,this.serverSettings);if(i.status!==204)throw await Ze.ServerConnection.ResponseError.create(i)}async deleteCheckpoint(t,r){let n=this._getUrl(t,"checkpoints",r),s={method:"DELETE"},i=await Ze.ServerConnection.makeRequest(n,s,this.serverSettings);if(i.status!==204)throw await Ze.ServerConnection.ResponseError.create(i)}_getUrl(...t){let r=t.map(s=>Ot.URLExt.encodeParts(s)),n=this.serverSettings.baseUrl;return Ot.URLExt.join(n,this._apiEndpoint,...r)}};kt.Drive=Ql;var kh;(function(e){function t(r){return r.length>0&&r.indexOf(".")!==0&&(r=`.${r}`),r}e.normalizeExtension=t})(kh||(kh={}));var Sh=class{constructor(t){this._providers=new Map,this._fileChanged=new ga.Signal(this),this.register("default",t.defaultProvider),this._defaultProvider=t.defaultProvider}register(t,r){if(this._providers.has(t))throw Error(`Provider with ${t} identifier was already registered on this drive`);this._providers.set(t,r);let n=(s,i)=>{this._fileChanged.emit(i)};return r.fileChanged&&r.fileChanged.connect(n),new XR.DisposableDelegate(()=>{r.fileChanged&&r.fileChanged.disconnect(n),this._providers.has(t)&&this._providers.delete(t)})}getProvider(t){if(!t)return this._defaultProvider;let r=this._providers.get(t);if(!r)throw Error(`Provider ${t} is not registered`);return r}get fileChanged(){return this._fileChanged}},Xl=class{constructor(t){this._options=t}async get(t,r){let n=this._getUrl(t);if(r){r.type==="notebook"&&delete r.format;let o=r.content?"1":"0",l=r.hash?"1":"0",c={...r,content:o,hash:l};n+=Ot.URLExt.objectToQueryString(c)}let s=this._options.serverSettings,i=await Ze.ServerConnection.makeRequest(n,{},s);if(i.status!==200)throw await Ze.ServerConnection.ResponseError.create(i);let a=await i.json();return ps.validateContentsModel(a),a}async save(t,r={}){let n=this._options.serverSettings,s=this._getUrl(t),a={method:"PUT",body:new File([JSON.stringify(r)],"data.json",{type:"application/json"})},o=await Ze.ServerConnection.makeRequest(s,a,n);if(o.status!==200&&o.status!==201)throw await Ze.ServerConnection.ResponseError.create(o);let l=await o.json();return ps.validateContentsModel(l),l}_getUrl(...t){let r=t.map(s=>Ot.URLExt.encodeParts(s)),n=this._options.serverSettings.baseUrl;return Ot.URLExt.join(n,this._options.apiEndpoint,...r)}};kt.RestContentProvider=Xl});var kn=T((ec,mb)=>{(function(e,t){typeof ec=="object"&&typeof mb<"u"?t(ec,Xe(),et()):typeof define=="function"&&define.amd?define(["exports","@lumino/coreutils","@lumino/signaling"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.lumino_polling={},e.lumino_coreutils,e.lumino_signaling))})(ec,(function(e,t,r){"use strict";class n{constructor(c){var u;this._disposed=new r.Signal(this),this._lingered=0,this._tick=new t.PromiseDelegate,this._ticked=new r.Signal(this),this._factory=c.factory,this._linger=(u=c.linger)!==null&&u!==void 0?u:s.DEFAULT_LINGER,this._standby=c.standby||s.DEFAULT_STANDBY,this._state={...s.DEFAULT_STATE,timestamp:new Date().getTime()};let d=c.frequency||{},f=Math.max(d.interval||0,d.max||0,s.DEFAULT_FREQUENCY.max);this.frequency={...s.DEFAULT_FREQUENCY,...d,max:f},this.name=c.name||s.DEFAULT_NAME,(!("auto"in c)||c.auto)&&setTimeout(()=>this.start())}get disposed(){return this._disposed}get frequency(){return this._frequency}set frequency(c){if(this.isDisposed||t.JSONExt.deepEqual(c,this.frequency||{}))return;let{backoff:u,interval:d,max:f}=c;if(d=Math.round(d),f=Math.round(f),typeof u=="number"&&u<1)throw new Error("Poll backoff growth factor must be at least 1");if((d<0||d>f)&&d!==n.NEVER)throw new Error("Poll interval must be between 0 and max");if(f>n.MAX_INTERVAL&&f!==n.NEVER)throw new Error(`Max interval must be less than ${n.MAX_INTERVAL}`);this._frequency={backoff:u,interval:d,max:f}}get isDisposed(){return this.state.phase==="disposed"}get standby(){return this._standby}set standby(c){this.isDisposed||this.standby===c||(this._standby=c)}get state(){return this._state}get tick(){return this._tick.promise}get ticked(){return this._ticked}async*[Symbol.asyncIterator](){for(;!this.isDisposed;)yield this.state,await this.tick.catch(()=>{})}dispose(){this.isDisposed||(this._state={...s.DISPOSED_STATE,timestamp:new Date().getTime()},this._tick.promise.catch(c=>{}),this._tick.reject(new Error(`Poll (${this.name}) is disposed.`)),this._disposed.emit(void 0),r.Signal.clearData(this))}refresh(){return this.schedule({cancel:({phase:c})=>c==="refreshed",interval:n.IMMEDIATE,phase:"refreshed"})}async schedule(c={}){if(this.isDisposed||c.cancel&&c.cancel(this.state))return;let u=this._tick,d=new t.PromiseDelegate,f={interval:this.frequency.interval,payload:null,phase:"standby",timestamp:new Date().getTime(),...c};if(this._state=f,this._tick=d,clearTimeout(this._timeout),this._ticked.emit(this.state),u.resolve(this),await u.promise,f.interval===n.NEVER){this._timeout=void 0;return}let h=()=>{this.isDisposed||this.tick!==d.promise||this._execute()};this._timeout=setTimeout(h,f.interval)}start(){return this.schedule({cancel:({phase:c})=>c!=="constructed"&&c!=="standby"&&c!=="stopped",interval:n.IMMEDIATE,phase:"started"})}stop(){return this.schedule({cancel:({phase:c})=>c==="stopped",interval:n.NEVER,phase:"stopped"})}get hidden(){return s.hidden}_execute(){let c=typeof this.standby=="function"?this.standby():this.standby;if(c==="never"?c=!1:c==="when-hidden"&&(this.hidden?c=++this._lingered>this._linger:(this._lingered=0,c=!1)),c){this.schedule();return}let u=this.tick;this._factory(this.state).then(d=>{this.isDisposed||this.tick!==u||this.schedule({payload:d,phase:this.state.phase==="rejected"?"reconnected":"resolved"})}).catch(d=>{this.isDisposed||this.tick!==u||this.schedule({interval:s.sleep(this.frequency,this.state),payload:d,phase:"rejected"})})}}(function(l){l.IMMEDIATE=0,l.MAX_INTERVAL=2147483647,l.NEVER=1/0})(n||(n={}));var s;(function(l){l.DEFAULT_BACKOFF=3,l.DEFAULT_FREQUENCY={backoff:!0,interval:1e3,max:30*1e3},l.DEFAULT_LINGER=1,l.DEFAULT_NAME="unknown",l.DEFAULT_STANDBY="when-hidden",l.DEFAULT_STATE={interval:n.NEVER,payload:null,phase:"constructed",timestamp:new Date(0).getTime()},l.DISPOSED_STATE={interval:n.NEVER,payload:null,phase:"disposed",timestamp:new Date(0).getTime()};function c(d,f){let{backoff:h,interval:p,max:g}=d;if(p===n.NEVER)return p;let y=h===!0?l.DEFAULT_BACKOFF:h===!1?1:h,v=u(p,f.interval*y);return Math.min(g,v)}l.sleep=c,l.hidden=typeof document>"u"?!1:(document.addEventListener("visibilitychange",()=>{l.hidden=document.visibilityState==="hidden"}),document.addEventListener("pagehide",()=>{l.hidden=document.visibilityState==="hidden"}),document.visibilityState==="hidden");function u(d,f){return d=Math.ceil(d),f=Math.floor(f),Math.floor(Math.random()*(f-d+1))+d}})(s||(s={}));class i{constructor(c,u=500){this.args=void 0,this.payload=null,this.limit=u,this.poll=new n({auto:!1,factory:async()=>{let{args:d}=this;return this.args=void 0,c(...d)},frequency:{backoff:!1,interval:n.NEVER,max:n.NEVER},standby:"never"}),this.payload=new t.PromiseDelegate,this.poll.ticked.connect((d,f)=>{let{payload:h}=this;if(f.phase==="resolved"){this.payload=new t.PromiseDelegate,h.resolve(f.payload);return}if(f.phase==="rejected"||f.phase==="stopped"){this.payload=new t.PromiseDelegate,h.promise.catch(p=>{}),h.reject(f.payload);return}},this)}get isDisposed(){return this.payload===null}dispose(){this.isDisposed||(this.args=void 0,this.payload=null,this.poll.dispose())}async stop(){return this.poll.stop()}}class a extends i{invoke(...c){return this.args=c,this.poll.schedule({interval:this.limit,phase:"invoked"}),this.payload.promise}}class o extends i{constructor(c,u){super(c,typeof u=="number"?u:u&&u.limit),this._trailing=!1,typeof u!="number"&&u&&u.edge==="trailing"&&(this._trailing=!0),this._interval=this._trailing?this.limit:n.IMMEDIATE}invoke(...c){let u=this.poll.state.phase!=="invoked";return(u||this._trailing)&&(this.args=c),u&&this.poll.schedule({interval:this._interval,phase:"invoked"}),this.payload.promise}}e.Debouncer=a,e.Poll=n,e.RateLimiter=i,e.Throttler=o}))});var Ch=T(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.EventManager=void 0;var gb=qe(),rI=kn(),yb=et(),vb=It(),_b="api/events",Eh=class{constructor(t={}){var r,n;this._socket=null,this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:vb.ServerConnection.makeSettings(),this._poll=new rI.Poll({factory:()=>this._subscribe(),standby:(n=t.standby)!==null&&n!==void 0?n:"when-hidden"}),this._stream=new yb.Stream(this),this._poll.start()}get isDisposed(){return this._poll.isDisposed}get stream(){return this._stream}dispose(){if(this.isDisposed)return;this._poll.dispose();let t=this._socket;t&&(this._socket=null,t.onopen=()=>{},t.onerror=()=>{},t.onmessage=()=>{},t.onclose=()=>{},t.close()),yb.Signal.clearData(this),this._stream.stop()}async emit(t){let{serverSettings:r}=this,{baseUrl:n}=r,{makeRequest:s,ResponseError:i}=vb.ServerConnection,a=gb.URLExt.join(n,_b),o={body:JSON.stringify(t),method:"POST"},l=await s(a,o,r);if(l.status!==204)throw new i(l)}_subscribe(){return new Promise((t,r)=>{if(this.isDisposed)return;let{appendToken:n,token:s,WebSocket:i,wsUrl:a}=this.serverSettings,o=gb.URLExt.join(a,_b,"subscribe");n&&s!==""&&(o+=`?token=${encodeURIComponent(s)}`);let l=this._socket=new i(o),c=this._stream;l.onclose=()=>r(new Error("EventManager socket closed")),l.onmessage=u=>u.data&&c.emit(JSON.parse(u.data))})}};tc.EventManager=Eh});var Ph=T(dr=>{"use strict";var sI=dr&&dr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),nI=dr&&dr.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),iI=dr&&dr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&sI(t,e,r);return nI(t,e),t};Object.defineProperty(dr,"__esModule",{value:!0});dr.CommHandler=dr.CommsOverSubshells=void 0;var aI=Xe(),oI=Zl(),rc=iI(si()),fi;(function(e){e.Disabled="disabled",e.PerComm="perComm",e.PerCommTarget="perCommTarget"})(fi||(dr.CommsOverSubshells=fi={}));var sc=class e extends oI.DisposableDelegate{constructor(t,r,n,s,i){super(s),this._subshellStarted=new aI.PromiseDelegate,this._subshellId=null,this._target="",this._id="",this._id=r,this._target=t,this._kernel=n,this._kernel.statusChanged.connect(()=>{this._kernel.status==="restarting"&&this._cleanSubshells()}),this.commsOverSubshells=i??fi.PerCommTarget}get commId(){return this._id}get targetName(){return this._target}get subshellId(){return this._subshellId}get subshellStarted(){return this._subshellStarted.promise}get commsOverSubshells(){return this._commsOverSubshells}set commsOverSubshells(t){this._commsOverSubshells=t,this._commsOverSubshells===fi.Disabled?this._maybeCloseSubshell():this._maybeStartSubshell()}get onClose(){return this._onClose}set onClose(t){this._onClose=t}get onMsg(){return this._onMsg}set onMsg(t){this._onMsg=t}open(t,r,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot open");let s=rc.createMessage({msgType:"comm_open",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,subshellId:this._subshellId||this._kernel.subshellId,content:{comm_id:this._id,target_name:this._target,data:t??{}},metadata:r,buffers:n});return this._kernel.sendShellMessage(s,!1,!0)}send(t,r,n=[],s=!0){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot send");let i=rc.createMessage({msgType:"comm_msg",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,subshellId:this._subshellId||this._kernel.subshellId,content:{comm_id:this._id,data:t},metadata:r,buffers:n});return this._kernel.sendShellMessage(i,!1,s)}close(t,r,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot close");let s=rc.createMessage({msgType:"comm_close",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,subshellId:this._subshellId||this._kernel.subshellId,content:{comm_id:this._id,data:t??{}},metadata:r,buffers:n}),i=this._kernel.sendShellMessage(s,!1,!0),a=this._onClose;if(a){let o=rc.createMessage({msgType:"comm_close",channel:"iopub",username:this._kernel.username,session:this._kernel.clientId,subshellId:this._subshellId||this._kernel.subshellId,content:{comm_id:this._id,data:t??{}},metadata:r,buffers:n});a(o)}return this.dispose(),i}dispose(){this._maybeCloseSubshell(),super.dispose()}_cleanSubshells(){let t=this._kernel.id;e._commTargetSubShellsId.hasOwnProperty(t)&&delete e._commTargetSubShellsId[t]}async _maybeStartSubshell(){if(await this._kernel.info,!this._kernel.supportsSubshells)return;if(this._commsOverSubshells===fi.PerComm){let n=await this._kernel.requestCreateSubshell({}).done;this._subshellId=n.content.subshell_id,this._subshellStarted.resolve();return}let t=this._kernel.id;e._commTargetSubShellsId.hasOwnProperty(t)||(e._commTargetSubShellsId[t]={});let r=e._commTargetSubShellsId[t];r[this._target]?(this._subshellId=await r[this._target],this._subshellStarted.resolve()):(r[this._target]=this._kernel.requestCreateSubshell({}).done.then(n=>(this._subshellId=n.content.subshell_id,this._subshellId)),await r[this._target],this._subshellStarted.resolve())}_maybeCloseSubshell(){if(this._commsOverSubshells!==fi.PerComm){this._subshellId=null;return}this._subshellId&&this._kernel.status!=="dead"&&this._kernel.requestDeleteSubshell({subshell_id:this._subshellId},!0),this._subshellId=null}};dr.CommHandler=sc;sc._commTargetSubShellsId={}});var wb=T(bb=>{"use strict";Object.defineProperty(bb,"__esModule",{value:!0})});var nc=T(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.validateMessage=uI;ya.validateModel=Sb;ya.validateModels=hI;var Sn=ma(),kb=["username","version","session","msg_id","msg_type"],lI={stream:{name:"string",text:"string"},display_data:{data:"object",metadata:"object"},execute_input:{code:"string",execution_count:"number"},execute_result:{execution_count:"number",data:"object",metadata:"object"},error:{ename:"string",evalue:"string",traceback:"object"},status:{execution_state:["string",["starting","idle","busy","restarting","dead"]]},clear_output:{wait:"boolean"},comm_open:{comm_id:"string",target_name:"string",data:"object"},comm_msg:{comm_id:"string",data:"object"},comm_close:{comm_id:"string"},shutdown_reply:{restart:"boolean"}};function cI(e){for(let t=0;t<kb.length;t++)(0,Sn.validateProperty)(e,kb[t],"string")}function uI(e){(0,Sn.validateProperty)(e,"metadata","object"),(0,Sn.validateProperty)(e,"content","object"),(0,Sn.validateProperty)(e,"channel","string"),cI(e.header),e.channel==="iopub"&&dI(e)}function dI(e){if(e.channel==="iopub"){let t=lI[e.header.msg_type];if(t===void 0)return;let r=Object.keys(t),n=e.content;for(let s=0;s<r.length;s++){let i=t[r[s]];Array.isArray(i)||(i=[i]),(0,Sn.validateProperty)(n,r[s],...i)}}}function Sb(e){(0,Sn.validateProperty)(e,"name","string"),(0,Sn.validateProperty)(e,"id","string")}function hI(e){if(!Array.isArray(e))throw new Error("Invalid kernel list");e.forEach(t=>Sb(t))}});var ac=T(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.KernelAPIClient=ht.KERNEL_SERVICE_URL=void 0;ht.listRunning=xb;ht.startNew=Eb;ht.restartKernel=Cb;ht.interruptKernel=Pb;ht.shutdownKernel=Rb;ht.getKernelModel=Ib;var it=It(),pi=qe(),ic=nc();ht.KERNEL_SERVICE_URL="api/kernels";async function xb(e=it.ServerConnection.makeSettings()){let t=pi.URLExt.join(e.baseUrl,ht.KERNEL_SERVICE_URL),r=await it.ServerConnection.makeRequest(t,{},e);if(r.status!==200)throw await it.ServerConnection.ResponseError.create(r);let n=await r.json();return(0,ic.validateModels)(n),n}async function Eb(e={},t=it.ServerConnection.makeSettings()){let r=pi.URLExt.join(t.baseUrl,ht.KERNEL_SERVICE_URL),n={method:"POST",body:JSON.stringify(e)},s=await it.ServerConnection.makeRequest(r,n,t);if(s.status!==201)throw await it.ServerConnection.ResponseError.create(s);let i=await s.json();return(0,ic.validateModel)(i),i}async function Cb(e,t=it.ServerConnection.makeSettings()){let r=pi.URLExt.join(t.baseUrl,ht.KERNEL_SERVICE_URL,encodeURIComponent(e),"restart"),n={method:"POST"},s=await it.ServerConnection.makeRequest(r,n,t);if(s.status!==200)throw await it.ServerConnection.ResponseError.create(s);let i=await s.json();(0,ic.validateModel)(i)}async function Pb(e,t=it.ServerConnection.makeSettings()){let r=pi.URLExt.join(t.baseUrl,ht.KERNEL_SERVICE_URL,encodeURIComponent(e),"interrupt"),n={method:"POST"},s=await it.ServerConnection.makeRequest(r,n,t);if(s.status!==204)throw await it.ServerConnection.ResponseError.create(s)}async function Rb(e,t=it.ServerConnection.makeSettings()){let r=pi.URLExt.join(t.baseUrl,ht.KERNEL_SERVICE_URL,encodeURIComponent(e)),n={method:"DELETE"},s=await it.ServerConnection.makeRequest(r,n,t);if(s.status===404){let i=`The kernel "${e}" does not exist on the server`;console.warn(i)}else if(s.status!==204)throw await it.ServerConnection.ResponseError.create(s)}async function Ib(e,t=it.ServerConnection.makeSettings()){let r=pi.URLExt.join(t.baseUrl,ht.KERNEL_SERVICE_URL,encodeURIComponent(e)),n=await it.ServerConnection.makeRequest(r,{},t);if(n.status===404)return;if(n.status!==200)throw await it.ServerConnection.ResponseError.create(n);let s=await n.json();return(0,ic.validateModel)(s),s}var Rh=class{constructor(t={}){var r;this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:it.ServerConnection.makeSettings()}async listRunning(){return xb(this.serverSettings)}async getModel(t){return Ib(t,this.serverSettings)}async startNew(t={}){return Eb(t,this.serverSettings)}async restart(t){return Cb(t,this.serverSettings)}async interrupt(t){return Pb(t,this.serverSettings)}async shutdown(t){return Rb(t,this.serverSettings)}};ht.KernelAPIClient=Rh});var Tb=T(zt=>{"use strict";var fI=zt&&zt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),pI=zt&&zt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),mI=zt&&zt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&fI(t,e,r);return pI(t,e),t};Object.defineProperty(zt,"__esModule",{value:!0});zt.KernelShellFutureHandler=zt.KernelControlFutureHandler=zt.KernelFutureHandler=void 0;var Ob=Xe(),gI=Zl(),yI=mI(si()),va=class extends gI.DisposableDelegate{constructor(t,r,n,s,i){super(t),this._status=0,this._stdin=mt.noOp,this._iopub=mt.noOp,this._reply=mt.noOp,this._done=new Ob.PromiseDelegate,this._hooks=new mt.HookList,this._disposeOnDone=!0,this._msg=r,n||this._setFlag(mt.KernelFutureFlag.GotReply),this._disposeOnDone=s,this._kernel=i}get msg(){return this._msg}get done(){return this._done.promise}get onReply(){return this._reply}set onReply(t){this._reply=t}get onIOPub(){return this._iopub}set onIOPub(t){this._iopub=t}get onStdin(){return this._stdin}set onStdin(t){this._stdin=t}registerMessageHook(t){if(this.isDisposed)throw new Error("Kernel future is disposed");this._hooks.add(t)}removeMessageHook(t){this.isDisposed||this._hooks.remove(t)}sendInputReply(t,r){this._kernel.sendInputReply(t,r)}dispose(){this._stdin=mt.noOp,this._iopub=mt.noOp,this._reply=mt.noOp,this._hooks=null,this._testFlag(mt.KernelFutureFlag.IsDone)||(this._done.promise.catch(()=>{}),this._done.reject(new Error(`Canceled future for ${this.msg.header.msg_type} message before replies were done`))),super.dispose()}async handleMsg(t){switch(t.channel){case"control":case"shell":t.channel===this.msg.channel&&t.parent_header.msg_id===this.msg.header.msg_id&&await this._handleReply(t);break;case"stdin":await this._handleStdin(t);break;case"iopub":await this._handleIOPub(t);break;default:break}}async _handleReply(t){let r=this._reply;r&&await r(t),this._replyMsg=t,this._setFlag(mt.KernelFutureFlag.GotReply),this._testFlag(mt.KernelFutureFlag.GotIdle)&&this._handleDone()}async _handleStdin(t){this._kernel.hasPendingInput=!0;let r=this._stdin;r&&await r(t)}async _handleIOPub(t){let r=await this._hooks.process(t),n=this._iopub;r&&n&&await n(t),yI.isStatusMsg(t)&&t.content.execution_state==="idle"&&(this._setFlag(mt.KernelFutureFlag.GotIdle),this._testFlag(mt.KernelFutureFlag.GotReply)&&this._handleDone())}_handleDone(){this._testFlag(mt.KernelFutureFlag.IsDone)||(this._setFlag(mt.KernelFutureFlag.IsDone),this._done.resolve(this._replyMsg),this._disposeOnDone&&this.dispose())}_testFlag(t){return(this._status&t)!==0}_setFlag(t){this._status|=t}};zt.KernelFutureHandler=va;var Ih=class extends va{};zt.KernelControlFutureHandler=Ih;var Oh=class extends va{};zt.KernelShellFutureHandler=Oh;var mt;(function(e){e.noOp=()=>{};let t=typeof requestAnimationFrame=="function"?requestAnimationFrame:setImmediate;class r{constructor(){this._hooks=[]}add(i){this.remove(i),this._hooks.push(i)}remove(i){let a=this._hooks.indexOf(i);a>=0&&(this._hooks[a]=null,this._scheduleCompact())}async process(i){await this._processing;let a=new Ob.PromiseDelegate;this._processing=a.promise;let o;for(let l=this._hooks.length-1;l>=0;l--){let c=this._hooks[l];if(c!==null){try{o=await c(i)}catch(u){o=!0,console.error(u)}if(o===!1)return a.resolve(void 0),!1}}return a.resolve(void 0),!0}_scheduleCompact(){this._compactScheduled||(this._compactScheduled=!0,t(()=>{this._processing=this._processing.then(()=>{this._compactScheduled=!1,this._compact()})}))}_compact(){let i=0;for(let a=0,o=this._hooks.length;a<o;a++){let l=this._hooks[a];this._hooks[a]===null?i++:this._hooks[a-i]=l}this._hooks.length-=i}}e.HookList=r;let n;(function(s){s[s.GotReply=1]="GotReply",s[s.GotIdle=2]="GotIdle",s[s.IsDone=4]="IsDone",s[s.DisposeOnDone=8]="DisposeOnDone"})(n=e.KernelFutureFlag||(e.KernelFutureFlag={}))})(mt||(mt={}))});var jb=T(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.validateSpecModel=Db;oc.validateSpecModels=vI;var xn=ma();function Db(e){let t=e.spec;if(!t)throw new Error("Invalid kernel spec");(0,xn.validateProperty)(e,"name","string"),(0,xn.validateProperty)(e,"resources","object"),(0,xn.validateProperty)(t,"language","string"),(0,xn.validateProperty)(t,"display_name","string"),(0,xn.validateProperty)(t,"argv","array");let r=null;t.hasOwnProperty("metadata")&&((0,xn.validateProperty)(t,"metadata","object"),r=t.metadata);let n=null;return t.hasOwnProperty("env")&&((0,xn.validateProperty)(t,"env","object"),n=t.env),{name:e.name,resources:e.resources,language:t.language,display_name:t.display_name,argv:t.argv,metadata:r,env:n}}function vI(e){if(!e.hasOwnProperty("kernelspecs"))throw new Error("No kernelspecs found");let t=Object.keys(e.kernelspecs),r=Object.create(null),n=e.default;for(let s=0;s<t.length;s++){let i=e.kernelspecs[t[s]];try{r[t[s]]=Db(i)}catch{console.warn(`Removing errant kernel spec: ${t[s]}`)}}if(t=Object.keys(r),!t.length)throw new Error("No valid kernelspecs found");return(!n||typeof n!="string"||!(n in r))&&(n=t[0],console.warn(`Default kernel not found, using '${t[0]}'`)),{default:n,kernelspecs:r}}});var ba=T(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.KernelSpecAPIClient=void 0;_a.getSpecs=Ab;var lc=It(),_I=jb(),bI=qe(),wI="api/kernelspecs";async function Ab(e=lc.ServerConnection.makeSettings()){let t=bI.URLExt.join(e.baseUrl,wI),r=await lc.ServerConnection.makeRequest(t,{},e);if(r.status!==200)throw await lc.ServerConnection.ResponseError.create(r);let n=await r.json();return(0,_I.validateSpecModels)(n)}var Th=class{constructor(t={}){var r;this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:lc.ServerConnection.makeSettings()}async get(){return Ab(this.serverSettings)}};_a.KernelSpecAPIClient=Th});var jh=T(Fr=>{"use strict";var kI=Fr&&Fr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),SI=Fr&&Fr.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),qb=Fr&&Fr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&kI(t,e,r);return SI(t,e),t};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.KernelConnection=void 0;var Mb=qe(),As=Xe(),Ms=et(),wa=wt(),Ub=Ph(),gt=qb(si()),Nb=Tb(),xI=qb(nc()),Lb=ac(),EI=ba(),CI=3e3,mi="_RESTARTING_",PI="",Dh=class e{constructor(t){var r,n,s,i,a,o,l,c;this._createSocket=(u=!0)=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");let d=this.serverSettings,f=Mb.URLExt.join(d.wsUrl,Lb.KERNEL_SERVICE_URL,encodeURIComponent(this._id)),h=f.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/,"$1");console.debug(`Starting WebSocket: ${h}`);let p=Mb.URLExt.join(f,"channels?session_id="+encodeURIComponent(this._clientId)),g=d.token;d.appendToken&&g!==""&&(p=p+`&token=${encodeURIComponent(g)}`);let y=u?this._supportedProtocols:[];this._ws=new d.WebSocket(p,y),this._ws.binaryType="arraybuffer";let v=!1,P=async S=>{var U,z;if(!this._isDisposed){this._reason="",this._model=void 0;try{let $=await this._kernelAPIClient.getModel(this._id);this._model=$,$?.execution_state==="dead"?this._updateStatus("dead"):this._onWSClose(S)}catch($){if($ instanceof wa.ServerConnection.NetworkError||((U=$.response)===null||U===void 0?void 0:U.status)===503||((z=$.response)===null||z===void 0?void 0:z.status)===424){let L=hr.getRandomIntInclusive(10,30)*1e3;setTimeout(P,L,S)}else this._reason="Kernel died unexpectedly",this._updateStatus("dead")}}},E=async S=>{v||(v=!0,await P(S))};this._ws.onmessage=this._onWSMessage,this._ws.onopen=this._onWSOpen,this._ws.onclose=E,this._ws.onerror=E},this._onWSOpen=u=>{if(this._ws.protocol!==""&&!this._supportedProtocols.includes(this._ws.protocol))throw console.log("Server selected unknown kernel wire protocol:",this._ws.protocol),this._updateStatus("dead"),new Error(`Unknown kernel wire protocol:  ${this._ws.protocol}`);this._selectedProtocol=this._ws.protocol,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose,this._updateConnectionStatus("connected")},this._onWSMessage=u=>{let d;try{d=this.serverSettings.serializer.deserialize(u.data,this._ws.protocol),xI.validateMessage(d)}catch(f){throw f.message=`Kernel message validation error: ${f.message}`,f}this._kernelSession=d.header.session,this._msgChain=this._msgChain.then(()=>this._handleMessage(d)).catch(f=>{f.message.startsWith("Canceled future for ")&&console.error(f)}),this._anyMessage.emit({msg:d,direction:"recv"})},this._onWSClose=u=>{this.isDisposed||this._reconnect()},this._id="",this._name="",this._status="unknown",this._connectionStatus="connecting",this._kernelSession="",this._isDisposed=!1,this._ws=null,this._username="",this._reconnectLimit=7,this._reconnectAttempt=0,this._reconnectTimeout=null,this._supportedProtocols=Object.values(gt.supportedKernelWebSocketProtocols),this._selectedProtocol="",this._commsOverSubshells=wa.CommsOverSubshells.PerCommTarget,this._futures=new Map,this._comms=new Map,this._targetRegistry=Object.create(null),this._info=new As.PromiseDelegate,this._pendingMessages=[],this._statusChanged=new Ms.Signal(this),this._connectionStatusChanged=new Ms.Signal(this),this._disposed=new Ms.Signal(this),this._iopubMessage=new Ms.Signal(this),this._anyMessage=new Ms.Signal(this),this._pendingInput=new Ms.Signal(this),this._unhandledMessage=new Ms.Signal(this),this._displayIdToParentIds=new Map,this._msgIdToDisplayIds=new Map,this._msgChain=Promise.resolve(),this._hasPendingInput=!1,this._reason="",this._noOp=()=>{},this._supportsSubshells=!1,this._name=t.model.name,this._id=t.model.id,this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:wa.ServerConnection.makeSettings(),this._kernelAPIClient=(n=t.kernelAPIClient)!==null&&n!==void 0?n:new Lb.KernelAPIClient({serverSettings:this.serverSettings}),this._kernelSpecAPIClient=(s=t.kernelSpecAPIClient)!==null&&s!==void 0?s:new EI.KernelSpecAPIClient({serverSettings:this.serverSettings}),this._clientId=(i=t.clientId)!==null&&i!==void 0?i:As.UUID.uuid4(),this._username=(a=t.username)!==null&&a!==void 0?a:"",this.handleComms=(o=t.handleComms)!==null&&o!==void 0?o:!0,this._commsOverSubshells=(l=t.commsOverSubshells)!==null&&l!==void 0?l:wa.CommsOverSubshells.PerCommTarget,this._subshellId=(c=t.subshellId)!==null&&c!==void 0?c:null,this._createSocket()}get disposed(){return this._disposed}get commsOverSubshells(){return this._commsOverSubshells}set commsOverSubshells(t){this._commsOverSubshells=t;for(let[r,n]of this._comms)n.commsOverSubshells=t}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get model(){return this._model||{id:this.id,name:this.name,reason:this._reason}}get anyMessage(){return this._anyMessage}get pendingInput(){return this._pendingInput}get id(){return this._id}get name(){return this._name}get username(){return this._username}get clientId(){return this._clientId}get subshellId(){return this._subshellId}set subshellId(t){this._subshellId=t}get status(){return this._status}get connectionStatus(){return this._connectionStatus}get isDisposed(){return this._isDisposed}get info(){return this._info.promise}get spec(){return this._specPromise?this._specPromise:(this._specPromise=this._kernelSpecAPIClient.get().then(t=>t.kernelspecs[this._name]),this._specPromise)}get supportsSubshells(){return this._supportsSubshells}clone(t={}){return new e({model:this.model,username:this.username,serverSettings:this.serverSettings,handleComms:!1,kernelAPIClient:this._kernelAPIClient,commsOverSubshells:wa.CommsOverSubshells.Disabled,...t})}dispose(){if(this.isDisposed)return;let t=()=>{this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearKernelState(),this._pendingMessages=[],this._clearSocket(),Ms.Signal.clearData(this)};if(this._subshellId!==null){let r=this.requestDeleteSubshell({subshell_id:this._subshellId},!0);r.onReply=n=>{t()}}else t()}sendShellMessage(t,r=!1,n=!0){return this._sendKernelShellControl(Nb.KernelShellFutureHandler,t,r,n)}sendControlMessage(t,r=!1,n=!0){return this._sendKernelShellControl(Nb.KernelControlFutureHandler,t,r,n)}_sendKernelShellControl(t,r,n=!1,s=!0){this._sendMessage(r),this._anyMessage.emit({msg:r,direction:"send"});let i=new t(()=>{let a=r.header.msg_id;this._futures.delete(a);let o=this._msgIdToDisplayIds.get(a);o&&(o.forEach(l=>{let c=this._displayIdToParentIds.get(l);if(c){let u=c.indexOf(a);if(u===-1)return;c.length===1?this._displayIdToParentIds.delete(l):(c.splice(u,1),this._displayIdToParentIds.set(l,c))}}),this._msgIdToDisplayIds.delete(a))},r,n,s,this);return this._futures.set(r.header.msg_id,i),i}_sendMessage(t,r=!0){if(this.status==="dead")throw new Error("Kernel is dead");if((this._kernelSession===PI||this._kernelSession===mi)&&gt.isInfoRequestMsg(t))if(this.connectionStatus==="connected"){this._ws.send(this.serverSettings.serializer.serialize(t,this._ws.protocol));return}else throw new Error("Could not send message: status is not connected");if(r&&this._pendingMessages.length>0){this._pendingMessages.push(t);return}if(this.connectionStatus==="connected"&&this._kernelSession!==mi)this._ws.send(this.serverSettings.serializer.serialize(t,this._ws.protocol));else if(r)this._pendingMessages.push(t);else throw new Error("Could not send message")}async interrupt(){if(this.hasPendingInput=!1,this.status==="dead")throw new Error("Kernel is dead");return this._kernelAPIClient.interrupt(this.id)}async restart(){if(this.status==="dead")throw new Error("Kernel is dead");this._updateStatus("restarting"),this._clearKernelState(),this._kernelSession=mi,await this._kernelAPIClient.restart(this.id),await this.reconnect(),this.hasPendingInput=!1}reconnect(){this._errorIfDisposed();let t=new As.PromiseDelegate,r=(n,s)=>{s==="connected"?(t.resolve(),this.connectionStatusChanged.disconnect(r,this)):s==="disconnected"&&(t.reject(new Error("Kernel connection disconnected")),this.connectionStatusChanged.disconnect(r,this))};return this.connectionStatusChanged.connect(r,this),this._reconnectAttempt=0,this._reconnect(),t.promise}async shutdown(){this.status!=="dead"&&await this._kernelAPIClient.shutdown(this.id),this.handleShutdown()}handleShutdown(){this._updateStatus("dead"),this.dispose()}async requestKernelInfo(){let t=gt.createMessage({msgType:"kernel_info_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:{}}),r;try{r=await hr.handleShellMessage(this,t)}catch(s){if(this.isDisposed)return;throw s}if(this._errorIfDisposed(),!r)return;if(r.content.status===void 0&&(r.content.status="ok"),r.content.status!=="ok")return this._info.reject("Kernel info reply errored"),r;this._info.resolve(r.content),this._kernelSession=r.header.session;let n=r.content.supported_features;return this._supportsSubshells=n!==void 0&&n.includes("kernel subshells"),r}requestComplete(t){let r=gt.createMessage({msgType:"complete_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:t});return hr.handleShellMessage(this,r)}requestInspect(t){let r=gt.createMessage({msgType:"inspect_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:t});return hr.handleShellMessage(this,r)}requestHistory(t){let r=gt.createMessage({msgType:"history_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:t});return hr.handleShellMessage(this,r)}requestExecute(t,r=!0,n){let s={silent:!1,store_history:!0,user_expressions:{},allow_stdin:!0,stop_on_error:!1},i=gt.createMessage({msgType:"execute_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:{...s,...t},metadata:n});return this.sendShellMessage(i,!0,r)}requestDebug(t,r=!0){let n=gt.createMessage({msgType:"debug_request",channel:"control",username:this._username,session:this._clientId,content:t});return this.sendControlMessage(n,!0,r)}requestCreateSubshell(t,r=!0){if(!this.supportsSubshells)throw new Error("Kernel subshells are not supported");let n=gt.createMessage({msgType:"create_subshell_request",channel:"control",username:this._username,session:this._clientId,content:t});return this.sendControlMessage(n,!0,r)}requestDeleteSubshell(t,r=!0){if(!this.supportsSubshells)throw new Error("Kernel subshells are not supported");let n=gt.createMessage({msgType:"delete_subshell_request",channel:"control",username:this._username,session:this._clientId,content:t});return this.sendControlMessage(n,!0,r)}requestListSubshell(t,r=!0){if(!this.supportsSubshells)throw new Error("Kernel subshells are not supported");let n=gt.createMessage({msgType:"list_subshell_request",channel:"control",username:this._username,session:this._clientId,content:t});return this.sendControlMessage(n,!0,r)}requestIsComplete(t){let r=gt.createMessage({msgType:"is_complete_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:t});return hr.handleShellMessage(this,r)}requestCommInfo(t){let r=gt.createMessage({msgType:"comm_info_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:t});return hr.handleShellMessage(this,r)}sendInputReply(t,r){let n=gt.createMessage({msgType:"input_reply",channel:"stdin",username:this._username,session:this._clientId,content:t});n.parent_header=r,this._sendMessage(n),this._anyMessage.emit({msg:n,direction:"send"}),this.hasPendingInput=!1}createComm(t,r=As.UUID.uuid4()){if(!this.handleComms)throw new Error("Comms are disabled on this kernel connection");if(this._comms.has(r))throw new Error("Comm is already created");let n=new Ub.CommHandler(t,r,this,()=>{this._unregisterComm(r)},this._commsOverSubshells);return this._comms.set(r,n),n}hasComm(t){return this._comms.has(t)}registerCommTarget(t,r){this.handleComms&&(this._targetRegistry[t]=r)}removeCommTarget(t,r){this.handleComms&&!this.isDisposed&&this._targetRegistry[t]===r&&delete this._targetRegistry[t]}registerMessageHook(t,r){var n;let s=(n=this._futures)===null||n===void 0?void 0:n.get(t);s&&s.registerMessageHook(r)}removeMessageHook(t,r){var n;let s=(n=this._futures)===null||n===void 0?void 0:n.get(t);s&&s.removeMessageHook(r)}removeInputGuard(){this.hasPendingInput=!1}async _handleDisplayId(t,r){var n,s;let i=r.parent_header.msg_id,a=this._displayIdToParentIds.get(t);if(a){let l={header:As.JSONExt.deepCopy(r.header),parent_header:As.JSONExt.deepCopy(r.parent_header),metadata:As.JSONExt.deepCopy(r.metadata),content:As.JSONExt.deepCopy(r.content),channel:r.channel,buffers:r.buffers?r.buffers.slice():[]};l.header.msg_type="update_display_data",await Promise.all(a.map(async c=>{let u=this._futures&&this._futures.get(c);u&&await u.handleMsg(l)}))}if(r.header.msg_type==="update_display_data")return!0;a=(n=this._displayIdToParentIds.get(t))!==null&&n!==void 0?n:[],a.indexOf(i)===-1&&a.push(i),this._displayIdToParentIds.set(t,a);let o=(s=this._msgIdToDisplayIds.get(i))!==null&&s!==void 0?s:[];return o.indexOf(i)===-1&&o.push(i),this._msgIdToDisplayIds.set(i,o),!1}_clearSocket(){this._ws!==null&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}_updateStatus(t){this._status===t||this._status==="dead"||(this._status=t,hr.logKernelStatus(this),this._statusChanged.emit(t),t==="dead"&&this.dispose())}_sendPending(){for(;this.connectionStatus==="connected"&&this._kernelSession!==mi&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}_clearKernelState(){this._kernelSession="",this._pendingMessages=[],this._futures.forEach(t=>{t.dispose()}),this._comms.forEach(t=>{t.dispose()}),this._msgChain=Promise.resolve(),this._futures=new Map,this._comms=new Map,this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear()}_assertCurrentMessage(t){if(this._errorIfDisposed(),t.header.session!==this._kernelSession)throw new Error(`Canceling handling of old message: ${t.header.msg_type}`)}async _handleCommOpen(t){this._assertCurrentMessage(t);let r=t.content,n=new Ub.CommHandler(r.target_name,r.comm_id,this,()=>{this._unregisterComm(r.comm_id)},this.commsOverSubshells);this._comms.set(r.comm_id,n);try{await(await hr.loadObject(r.target_name,r.target_module,this._targetRegistry))(n,t)}catch(s){throw n.close(),console.error("Exception opening new comm"),s}}async _handleCommClose(t){this._assertCurrentMessage(t);let r=t.content,n=this._comms.get(r.comm_id);if(!n){console.error("Comm not found for comm id "+r.comm_id);return}this._unregisterComm(n.commId);let s=n.onClose;s&&await s(t),n.dispose()}async _handleCommMsg(t){this._assertCurrentMessage(t);let r=t.content,n=this._comms.get(r.comm_id);if(!n)return;let s=n.onMsg;s&&await s(t)}_unregisterComm(t){this._comms.delete(t)}_updateConnectionStatus(t){if(this._connectionStatus!==t){if(this._connectionStatus=t,t!=="connecting"&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),this.status!=="dead")if(t==="connected"){let r=this._kernelSession===mi,n=this.requestKernelInfo(),s=!1,i=()=>{s||(s=!0,r&&this._kernelSession===mi&&(this._kernelSession=""),clearTimeout(a),this._pendingMessages.length>0&&this._sendPending())};n.then(i);let a=setTimeout(i,CI)}else this._updateStatus("unknown");this._connectionStatusChanged.emit(t)}}async _handleMessage(t){var r,n;let s=!1;if(t.parent_header&&t.channel==="iopub"&&(gt.isDisplayDataMsg(t)||gt.isUpdateDisplayDataMsg(t)||gt.isExecuteResultMsg(t))){let a=((r=t.content.transient)!==null&&r!==void 0?r:{}).display_id;a&&(s=await this._handleDisplayId(a,t),this._assertCurrentMessage(t))}if(!s&&t.parent_header){let i=t.parent_header,a=(n=this._futures)===null||n===void 0?void 0:n.get(i.msg_id);if(a)await a.handleMsg(t),this._assertCurrentMessage(t);else{let o=i.session===this.clientId;t.channel!=="iopub"&&o&&this._unhandledMessage.emit(t)}}if(t.channel==="iopub"){switch(t.header.msg_type){case"status":{let i=t.content.execution_state;i==="restarting"&&Promise.resolve().then(async()=>{this._updateStatus("autorestarting"),this._clearKernelState(),await this.reconnect()}),this._updateStatus(i);break}case"comm_open":this.handleComms&&await this._handleCommOpen(t);break;case"comm_msg":this.handleComms&&await this._handleCommMsg(t);break;case"comm_close":this.handleComms&&await this._handleCommClose(t);break;default:break}this.isDisposed||(this._assertCurrentMessage(t),this._iopubMessage.emit(t))}}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");let t=hr.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.warn(`Connection lost, reconnecting in ${Math.floor(t/1e3)} seconds.`);let r=this._selectedProtocol!=="";this._reconnectTimeout=setTimeout(this._createSocket,t,r),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_errorIfDisposed(){if(this.isDisposed)throw new Error("Kernel connection is disposed")}get hasPendingInput(){return this._hasPendingInput}set hasPendingInput(t){this._hasPendingInput=t,this._pendingInput.emit(t)}};Fr.KernelConnection=Dh;var hr;(function(e){function t(i){switch(i.status){case"idle":case"busy":case"unknown":return;default:console.debug(`Kernel: ${i.status} (${i.id})`);break}}e.logKernelStatus=t;async function r(i,a){return i.sendShellMessage(a,!0).done}e.handleShellMessage=r;function n(i,a,o){return new Promise((l,c)=>{if(a){if(typeof requirejs>"u")throw new Error("requirejs not found");requirejs([a],u=>{if(u[i]===void 0){let d=`Object '${i}' not found in module '${a}'`;c(new Error(d))}else l(u[i])},c)}else o?.[i]?l(o[i]):c(new Error(`Object '${i}' not found in registry`))})}e.loadObject=n;function s(i,a){return i=Math.ceil(i),a=Math.floor(a),Math.floor(Math.random()*(a-i+1))+i}e.getRandomIntInclusive=s})(hr||(hr={}))});var Fb=T(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.KernelManager=void 0;var RI=kn(),$b=et(),zb=wt(),II=wn(),OI=ac(),TI=jh(),DI=ba(),ka=class extends II.BaseManager{constructor(t={}){var r,n,s;super(t),this._commsOverSubshells=zb.CommsOverSubshells.PerCommTarget,this._isReady=!1,this._kernelConnections=new Set,this._models=new Map,this._runningChanged=new $b.Signal(this),this._connectionFailure=new $b.Signal(this),this._kernelAPIClient=(r=t.kernelAPIClient)!==null&&r!==void 0?r:new OI.KernelAPIClient({serverSettings:this.serverSettings}),this._kernelSpecAPIClient=(n=t.kernelSpecAPIClient)!==null&&n!==void 0?n:new DI.KernelSpecAPIClient({serverSettings:this.serverSettings}),this._pollModels=new RI.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:10*1e3,backoff:!0,max:300*1e3},name:"@jupyterlab/services:KernelManager#models",standby:(s=t.standby)!==null&&s!==void 0?s:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._kernelConnections.forEach(t=>t.dispose()),this._pollModels.dispose(),super.dispose())}connectTo(t){var r;let{id:n}=t.model,s=(r=t.handleComms)!==null&&r!==void 0?r:!0;if(t.handleComms===void 0){for(let a of this._kernelConnections)if(a.id===n&&a.handleComms){s=!1;break}}t.commsOverSubshells=this._commsOverSubshells;let i=new TI.KernelConnection({handleComms:s,...t,serverSettings:this.serverSettings,kernelAPIClient:this._kernelAPIClient,kernelSpecAPIClient:this._kernelSpecAPIClient});return this._onStarted(i),this._models.has(n)||this.refreshRunning().catch(()=>{}),i}running(){return this._models.values()}get runningCount(){return this._models.size}get commsOverSubshells(){return this._commsOverSubshells}set commsOverSubshells(t){this._commsOverSubshells=t;for(let r of this._kernelConnections)r.commsOverSubshells=t}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(t={},r={}){let n=await this._kernelAPIClient.startNew(t);return this.connectTo({...r,model:n})}async shutdown(t){await this._kernelAPIClient.shutdown(t),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map(t=>this._kernelAPIClient.shutdown(t))),await this.refreshRunning()}async findById(t){return this._models.has(t)?this._models.get(t):(await this.refreshRunning(),this._models.get(t))}async requestRunning(){var t,r;let n;try{n=await this._kernelAPIClient.listRunning()}catch(s){throw(s instanceof zb.ServerConnection.NetworkError||((t=s.response)===null||t===void 0?void 0:t.status)===503||((r=s.response)===null||r===void 0?void 0:r.status)===424)&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every(s=>{let i=this._models.get(s.id);return i?i.connections===s.connections&&i.execution_state===s.execution_state&&i.last_activity===s.last_activity&&i.name===s.name&&i.reason===s.reason&&i.traceback===s.traceback:!1})||(this._models=new Map(n.map(s=>[s.id,s])),this._kernelConnections.forEach(s=>{this._models.has(s.id)||s.handleShutdown()}),this._runningChanged.emit(n))}_onStarted(t){this._kernelConnections.add(t),t.statusChanged.connect(this._onStatusChanged,this),t.disposed.connect(this._onDisposed,this)}_onDisposed(t){this._kernelConnections.delete(t),this.refreshRunning().catch(()=>{})}_onStatusChanged(t,r){r==="dead"&&this.refreshRunning().catch(()=>{})}};Sa.KernelManager=ka;(function(e){class t extends e{constructor(){super(...arguments),this._readyPromise=new Promise(()=>{})}get isActive(){return!1}get parentReady(){return super.ready}async startNew(n={},s={}){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}connectTo(n){throw new Error("Not implemented in no-op Kernel Manager")}async shutdown(n){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}get ready(){return this.parentReady.then(()=>this._readyPromise)}async requestRunning(){return Promise.resolve()}}e.NoopManager=t})(ka||(Sa.KernelManager=ka={}))});var Mh=T(tt=>{"use strict";var Vb=tt&&tt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),jI=tt&&tt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),Ah=tt&&tt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Vb(t,e,r);return jI(t,e),t},AI=tt&&tt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Vb(t,e,r)};Object.defineProperty(tt,"__esModule",{value:!0});tt.CommsOverSubshells=tt.KernelConnection=tt.KernelAPI=tt.KernelMessage=tt.Kernel=void 0;var MI=Ph();Object.defineProperty(tt,"CommsOverSubshells",{enumerable:!0,get:function(){return MI.CommsOverSubshells}});var UI=Ah(wb());tt.Kernel=UI;var NI=Ah(si());tt.KernelMessage=NI;var LI=Ah(ac());tt.KernelAPI=LI;var qI=jh();Object.defineProperty(tt,"KernelConnection",{enumerable:!0,get:function(){return qI.KernelConnection}});AI(Fb(),tt)});var Hb=T(Bb=>{"use strict";Object.defineProperty(Bb,"__esModule",{value:!0})});var Kb=T(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.KernelSpecManager=void 0;var $I=Xe(),zI=kn(),Jb=et(),FI=wn(),VI=ba(),Uh=class extends FI.BaseManager{constructor(t={}){var r,n;super(t),this._isReady=!1,this._connectionFailure=new Jb.Signal(this),this._specs=null,this._specsChanged=new Jb.Signal(this),this._kernelSpecAPIClient=(r=t.kernelSpecAPIClient)!==null&&r!==void 0?r:new VI.KernelSpecAPIClient({serverSettings:this.serverSettings}),this._ready=Promise.all([this.requestSpecs()]).then(s=>{}).catch(s=>{}).then(()=>{this.isDisposed||(this._isReady=!0)}),this._pollSpecs=new zI.Poll({auto:!1,factory:()=>this.requestSpecs(),frequency:{interval:61*1e3,backoff:!0,max:300*1e3},name:"@jupyterlab/services:KernelSpecManager#specs",standby:(n=t.standby)!==null&&n!==void 0?n:"when-hidden"}),this.ready.then(()=>{this._pollSpecs.start()})}get isReady(){return this._isReady}get ready(){return this._ready}get specs(){return this._specs}get specsChanged(){return this._specsChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshSpecs(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestSpecs(){let t=await this._kernelSpecAPIClient.get();this.isDisposed||$I.JSONExt.deepEqual(t,this._specs)||(this._specs=t,this._specsChanged.emit(t))}};cc.KernelSpecManager=Uh});var Nh=T(Tt=>{"use strict";var Wb=Tt&&Tt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),BI=Tt&&Tt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),Gb=Tt&&Tt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Wb(t,e,r);return BI(t,e),t},HI=Tt&&Tt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Wb(t,e,r)};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.KernelSpecAPI=Tt.KernelSpec=void 0;var JI=Gb(Hb());Tt.KernelSpec=JI;var KI=Gb(ba());Tt.KernelSpecAPI=KI;HI(Kb(),Tt)});var Zb=T(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.BuildManager=void 0;var Lh=qe(),Us=It(),WI="api/build",qh=class{constructor(t={}){var r;this._url="",this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:Us.ServerConnection.makeSettings();let{baseUrl:n,appUrl:s}=this.serverSettings;this._url=Lh.URLExt.join(n,s,WI)}get isAvailable(){return Lh.PageConfig.getOption("buildAvailable").toLowerCase()==="true"}get shouldCheck(){return Lh.PageConfig.getOption("buildCheck").toLowerCase()==="true"}getStatus(){let{_url:t,serverSettings:r}=this;return Us.ServerConnection.makeRequest(t,{},r).then(s=>{if(s.status!==200)throw new Us.ServerConnection.ResponseError(s);return s.json()}).then(s=>{if(typeof s.status!="string")throw new Error("Invalid data");if(typeof s.message!="string")throw new Error("Invalid data");return s})}build(){let{_url:t,serverSettings:r}=this,n={method:"POST"};return Us.ServerConnection.makeRequest(t,n,r).then(i=>{if(i.status===400)throw new Us.ServerConnection.ResponseError(i,"Build aborted");if(i.status!==200){let a=`Build failed with ${i.status}.

        If you are experiencing the build failure after installing an extension (or trying to include previously installed extension after updating JupyterLab) please check the extension repository for new installation instructions as many extensions migrated to the prebuilt extensions system which no longer requires rebuilding JupyterLab (but uses a different installation procedure, typically involving a package manager such as 'pip' or 'conda').

        If you specifically intended to install a source extension, please run 'jupyter lab build' on the server for full output.`;throw new Us.ServerConnection.ResponseError(i,a)}})}cancel(){let{_url:t,serverSettings:r}=this,n={method:"DELETE"};return Us.ServerConnection.makeRequest(t,n,r).then(i=>{if(i.status!==204)throw new Us.ServerConnection.ResponseError(i)})}};uc.BuildManager=qh});var Fh=T(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.NbConvertManager=void 0;var GI=qe(),$h=It(),ZI=Xe(),YI="api/nbconvert",zh=class{constructor(t={}){var r;this._exportFormats=null,this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:$h.ServerConnection.makeSettings()}async fetchExportFormats(){this._requestingFormats=new ZI.PromiseDelegate,this._exportFormats=null;let t=this.serverSettings.baseUrl,r=GI.URLExt.join(t,YI),{serverSettings:n}=this,s=await $h.ServerConnection.makeRequest(r,{},n);if(s.status!==200)throw await $h.ServerConnection.ResponseError.create(s);let i=await s.json(),a={};return Object.keys(i).forEach(function(l){let c=i[l].output_mimetype;a[l]={output_mimetype:c}}),this._exportFormats=a,this._requestingFormats.resolve(a),a}async getExportFormats(t=!0){return this._requestingFormats?this._requestingFormats.promise:t||!this._exportFormats?await this.fetchExportFormats():this._exportFormats}};dc.NbConvertManager=zh});var Qb=T(Yb=>{"use strict";Object.defineProperty(Yb,"__esModule",{value:!0})});var ew=T(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.validateModel=Xb;Ea.updateLegacySessionModel=XI;Ea.validateModels=eO;var QI=nc(),xa=ma();function Xb(e){(0,xa.validateProperty)(e,"id","string"),(0,xa.validateProperty)(e,"type","string"),(0,xa.validateProperty)(e,"name","string"),(0,xa.validateProperty)(e,"path","string"),(0,xa.validateProperty)(e,"kernel","object"),(0,QI.validateModel)(e.kernel)}function XI(e){e.path===void 0&&e.notebook!==void 0&&(e.path=e.notebook.path,e.type="notebook",e.name="")}function eO(e){if(!Array.isArray(e))throw new Error("Invalid session list");e.forEach(t=>Xb(t))}});var pc=T(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.SessionAPIClient=Dt.SESSION_SERVICE_URL=void 0;Dt.listRunning=tw;Dt.getSessionUrl=fc;Dt.shutdownSession=rw;Dt.getSessionModel=sw;Dt.startSession=nw;Dt.updateSession=iw;var yt=It(),hc=qe(),Ns=ew();Dt.SESSION_SERVICE_URL="api/sessions";async function tw(e=yt.ServerConnection.makeSettings()){let t=hc.URLExt.join(e.baseUrl,Dt.SESSION_SERVICE_URL),r=await yt.ServerConnection.makeRequest(t,{},e);if(r.status!==200)throw await yt.ServerConnection.ResponseError.create(r);let n=await r.json();if(!Array.isArray(n))throw new Error("Invalid Session list");return n.forEach(s=>{(0,Ns.updateLegacySessionModel)(s),(0,Ns.validateModel)(s)}),n}function fc(e,t){let r=hc.URLExt.join(e,Dt.SESSION_SERVICE_URL),n=hc.URLExt.join(r,t);if(!n.startsWith(r))throw new Error("Can only be used for services requests");return n}async function rw(e,t=yt.ServerConnection.makeSettings()){var r;let n=fc(t.baseUrl,e),s={method:"DELETE"},i=await yt.ServerConnection.makeRequest(n,s,t);if(i.status===404){let o=(r=(await i.json()).message)!==null&&r!==void 0?r:`The session "${e}"" does not exist on the server`;console.warn(o)}else{if(i.status===410)throw new yt.ServerConnection.ResponseError(i,"The kernel was deleted but the session was not");if(i.status!==204)throw await yt.ServerConnection.ResponseError.create(i)}}async function sw(e,t=yt.ServerConnection.makeSettings()){let r=fc(t.baseUrl,e),n=await yt.ServerConnection.makeRequest(r,{},t);if(n.status!==200)throw await yt.ServerConnection.ResponseError.create(n);let s=await n.json();return(0,Ns.updateLegacySessionModel)(s),(0,Ns.validateModel)(s),s}async function nw(e,t=yt.ServerConnection.makeSettings()){let r=hc.URLExt.join(t.baseUrl,Dt.SESSION_SERVICE_URL),n={method:"POST",body:JSON.stringify(e)},s=await yt.ServerConnection.makeRequest(r,n,t);if(s.status!==201)throw await yt.ServerConnection.ResponseError.create(s);let i=await s.json();return(0,Ns.updateLegacySessionModel)(i),(0,Ns.validateModel)(i),i}async function iw(e,t=yt.ServerConnection.makeSettings()){let r=fc(t.baseUrl,e.id),n={method:"PATCH",body:JSON.stringify(e)},s=await yt.ServerConnection.makeRequest(r,n,t);if(s.status!==200)throw await yt.ServerConnection.ResponseError.create(s);let i=await s.json();return(0,Ns.updateLegacySessionModel)(i),(0,Ns.validateModel)(i),i}var Vh=class{constructor(t){var r;this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:yt.ServerConnection.makeSettings()}async listRunning(){return tw(this.serverSettings)}async getModel(t){return sw(t,this.serverSettings)}async startNew(t){return nw(t,this.serverSettings)}async shutdown(t){return rw(t,this.serverSettings)}async update(t){return iw(t,this.serverSettings)}};Dt.SessionAPIClient=Vh});var aw=T(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.SessionConnection=void 0;var Vr=et(),tO=wt(),rO=Xe(),sO=pc(),Bh=class{constructor(t){var r,n,s,i,a;this._id="",this._path="",this._name="",this._type="",this._kernel=null,this._isDisposed=!1,this._disposed=new Vr.Signal(this),this._kernelChanged=new Vr.Signal(this),this._statusChanged=new Vr.Signal(this),this._connectionStatusChanged=new Vr.Signal(this),this._pendingInput=new Vr.Signal(this),this._iopubMessage=new Vr.Signal(this),this._unhandledMessage=new Vr.Signal(this),this._anyMessage=new Vr.Signal(this),this._propertyChanged=new Vr.Signal(this),this._id=t.model.id,this._name=t.model.name,this._path=t.model.path,this._type=t.model.type,this._username=(r=t.username)!==null&&r!==void 0?r:"",this._clientId=(n=t.clientId)!==null&&n!==void 0?n:rO.UUID.uuid4(),this._connectToKernel=t.connectToKernel,this._kernelConnectionOptions=(s=t.kernelConnectionOptions)!==null&&s!==void 0?s:{},this.serverSettings=(i=t.serverSettings)!==null&&i!==void 0?i:tO.ServerConnection.makeSettings(),this._sessionAPIClient=(a=t.sessionAPIClient)!==null&&a!==void 0?a:new sO.SessionAPIClient({serverSettings:this.serverSettings}),this.setupKernel(t.model.kernel)}get disposed(){return this._disposed}get kernelChanged(){return this._kernelChanged}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get pendingInput(){return this._pendingInput}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get anyMessage(){return this._anyMessage}get propertyChanged(){return this._propertyChanged}get id(){return this._id}get kernel(){return this._kernel}get path(){return this._path}get type(){return this._type}get name(){return this._name}get model(){return{id:this.id,kernel:this.kernel&&{id:this.kernel.id,name:this.kernel.name},path:this._path,type:this._type,name:this._name}}get isDisposed(){return this._isDisposed}update(t){let r=this.model;if(this._path=t.path,this._name=t.name,this._type=t.type,this._kernel===null&&t.kernel!==null||this._kernel!==null&&t.kernel===null||this._kernel!==null&&t.kernel!==null&&this._kernel.id!==t.kernel.id){this._kernel!==null&&this._kernel.dispose();let n=this._kernel||null;this.setupKernel(t.kernel);let s=this._kernel||null;this._kernelChanged.emit({name:"kernel",oldValue:n,newValue:s})}this._handleModelChange(r)}dispose(){if(!this.isDisposed){if(this._isDisposed=!0,this._disposed.emit(),this._kernel){this._kernel.dispose();let t=this._kernel;this._kernel=null;let r=this._kernel;this._kernelChanged.emit({name:"kernel",oldValue:t,newValue:r})}Vr.Signal.clearData(this)}}async setPath(t){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({path:t})}async setName(t){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({name:t})}async setType(t){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({type:t})}async changeKernel(t){if(this.isDisposed)throw new Error("Session is disposed");return await this._patch({kernel:t}),this.kernel}async shutdown(){if(this.isDisposed)throw new Error("Session is disposed");await this._sessionAPIClient.shutdown(this.id),this.dispose()}setupKernel(t){if(t===null){this._kernel=null;return}let r=this._connectToKernel({...this._kernelConnectionOptions,model:t,username:this._username,clientId:this._clientId,serverSettings:this.serverSettings});this._kernel=r,r.statusChanged.connect(this.onKernelStatus,this),r.connectionStatusChanged.connect(this.onKernelConnectionStatus,this),r.pendingInput.connect(this.onPendingInput,this),r.unhandledMessage.connect(this.onUnhandledMessage,this),r.iopubMessage.connect(this.onIOPubMessage,this),r.anyMessage.connect(this.onAnyMessage,this)}onKernelStatus(t,r){this._statusChanged.emit(r)}onKernelConnectionStatus(t,r){this._connectionStatusChanged.emit(r)}onPendingInput(t,r){this._pendingInput.emit(r)}onIOPubMessage(t,r){this._iopubMessage.emit(r)}onUnhandledMessage(t,r){this._unhandledMessage.emit(r)}onAnyMessage(t,r){this._anyMessage.emit(r)}async _patch(t){let r=await this._sessionAPIClient.update({...t,id:this._id});return this.update(r),r}_handleModelChange(t){t.name!==this._name&&this._propertyChanged.emit("name"),t.type!==this._type&&this._propertyChanged.emit("type"),t.path!==this._path&&this._propertyChanged.emit("path")}};mc.SessionConnection=Bh});var lw=T(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.SessionManager=void 0;var nO=kn(),ow=et(),iO=It(),aO=wn(),oO=aw(),lO=pc(),Ca=class extends aO.BaseManager{constructor(t){var r,n;super(t),this._isReady=!1,this._sessionConnections=new Set,this._models=new Map,this._runningChanged=new ow.Signal(this),this._connectionFailure=new ow.Signal(this),this._connectToKernel=s=>this._kernelManager.connectTo(s),this._kernelManager=t.kernelManager,this._sessionAPIClient=(r=t.sessionAPIClient)!==null&&r!==void 0?r:new lO.SessionAPIClient({serverSettings:t.serverSettings}),this._pollModels=new nO.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:10*1e3,backoff:!0,max:300*1e3},name:"@jupyterlab/services:SessionManager#models",standby:(n=t.standby)!==null&&n!==void 0?n:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._kernelManager.isActive&&await this._kernelManager.ready,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._sessionConnections.forEach(t=>t.dispose()),this._pollModels.dispose(),super.dispose())}connectTo(t){let r=new oO.SessionConnection({...t,connectToKernel:this._connectToKernel,serverSettings:this.serverSettings,sessionAPIClient:this._sessionAPIClient});return this._onStarted(r),this._models.has(t.model.id)||this.refreshRunning().catch(()=>{}),r}running(){return this._models.values()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(t,r={}){let n=await this._sessionAPIClient.startNew(t);return await this.refreshRunning(),this.connectTo({...r,model:n})}async shutdown(t){await this._sessionAPIClient.shutdown(t),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map(t=>this._sessionAPIClient.shutdown(t))),await this.refreshRunning()}async stopIfNeeded(t){try{let n=(await this._sessionAPIClient.listRunning()).filter(s=>s.path===t);if(n.length===1){let s=n[0].id;await this.shutdown(s)}}catch{}}async findById(t){return this._models.has(t)?this._models.get(t):(await this.refreshRunning(),this._models.get(t))}async findByPath(t){for(let r of this._models.values())if(r.path===t)return r;await this.refreshRunning();for(let r of this._models.values())if(r.path===t)return r}async requestRunning(){var t,r;let n;try{n=await this._sessionAPIClient.listRunning()}catch(s){throw(s instanceof iO.ServerConnection.NetworkError||((t=s.response)===null||t===void 0?void 0:t.status)===503||((r=s.response)===null||r===void 0?void 0:r.status)===424)&&this._connectionFailure.emit(s),s}this.isDisposed||this._models.size===n.length&&n.every(s=>{var i,a,o,l;let c=this._models.get(s.id);return c?((i=c.kernel)===null||i===void 0?void 0:i.id)===((a=s.kernel)===null||a===void 0?void 0:a.id)&&((o=c.kernel)===null||o===void 0?void 0:o.name)===((l=s.kernel)===null||l===void 0?void 0:l.name)&&c.name===s.name&&c.path===s.path&&c.type===s.type:!1})||(this._models=new Map(n.map(s=>[s.id,s])),this._sessionConnections.forEach(s=>{this._models.has(s.id)?s.update(this._models.get(s.id)):s.dispose()}),this._runningChanged.emit(n))}_onStarted(t){this._sessionConnections.add(t),t.disposed.connect(this._onDisposed,this),t.propertyChanged.connect(this._onChanged,this),t.kernelChanged.connect(this._onChanged,this)}_onDisposed(t){this._sessionConnections.delete(t),this.refreshRunning().catch(()=>{})}_onChanged(){this.refreshRunning().catch(()=>{})}};Pa.SessionManager=Ca;(function(e){class t extends e{constructor(){super(...arguments),this._readyPromise=new Promise(()=>{})}get isActive(){return!1}get parentReady(){return super.ready}async startNew(n,s={}){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}connectTo(n){throw Error("Not implemented in no-op Session Manager")}get ready(){return this.parentReady.then(()=>this._readyPromise)}async shutdown(n){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}async requestRunning(){return Promise.resolve()}}e.NoopManager=t})(Ca||(Pa.SessionManager=Ca={}))});var Hh=T(jt=>{"use strict";var cw=jt&&jt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),cO=jt&&jt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),uw=jt&&jt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&cw(t,e,r);return cO(t,e),t},uO=jt&&jt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&cw(t,e,r)};Object.defineProperty(jt,"__esModule",{value:!0});jt.SessionAPI=jt.Session=void 0;var dO=uw(Qb());jt.Session=dO;var hO=uw(pc());jt.SessionAPI=hO;uO(lw(),jt)});var dw=T(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.DataConnector=void 0;var Jh=class{async list(t){throw new Error("DataConnector#list method has not been implemented.")}async remove(t){throw new Error("DataConnector#remove method has not been implemented.")}async save(t,r){throw new Error("DataConnector#save method has not been implemented.")}};gc.DataConnector=Jh});var fw=T(hw=>{"use strict";Object.defineProperty(hw,"__esModule",{value:!0})});var mw=T((yc,pw)=>{(function(e,t){typeof yc=="object"&&typeof pw<"u"?t(yc):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.lumino_properties={}))})(yc,(function(e){"use strict";class t{constructor(s){this._pid=r.nextPID(),this.name=s.name,this._create=s.create,this._coerce=s.coerce||null,this._compare=s.compare||null,this._changed=s.changed||null}get(s){let i,a=r.ensureMap(s);return this._pid in a?i=a[this._pid]:i=a[this._pid]=this._createValue(s),i}set(s,i){let a,o=r.ensureMap(s);this._pid in o?a=o[this._pid]:a=o[this._pid]=this._createValue(s);let l=this._coerceValue(s,i);this._maybeNotify(s,a,o[this._pid]=l)}coerce(s){let i,a=r.ensureMap(s);this._pid in a?i=a[this._pid]:i=a[this._pid]=this._createValue(s);let o=this._coerceValue(s,i);this._maybeNotify(s,i,a[this._pid]=o)}_createValue(s){let i=this._create;return i(s)}_coerceValue(s,i){let a=this._coerce;return a?a(s,i):i}_compareValue(s,i){let a=this._compare;return a?a(s,i):s===i}_maybeNotify(s,i,a){let o=this._changed;o&&!this._compareValue(i,a)&&o(s,i,a)}}(function(n){function s(i){r.ownerData.delete(i)}n.clearData=s})(t||(t={}));var r;(function(n){n.ownerData=new WeakMap,n.nextPID=(()=>{let i=0;return()=>`pid-${`${Math.random()}`.slice(2)}-${i++}`})();function s(i){let a=n.ownerData.get(i);return a||(a=Object.create(null),n.ownerData.set(i,a),a)}n.ensureMap=s})(r||(r={})),e.AttachedProperty=t}))});var yw=T(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.RestorablePool=void 0;var fO=Xe(),gw=mw(),vc=et(),Kh=class{constructor(t){this._added=new vc.Signal(this),this._current=null,this._currentChanged=new vc.Signal(this),this._hasRestored=!1,this._isDisposed=!1,this._objects=new Set,this._restore=null,this._restored=new fO.PromiseDelegate,this._updated=new vc.Signal(this),this.namespace=t.namespace}get added(){return this._added}get current(){return this._current}set current(t){this._current!==t&&t!==null&&this._objects.has(t)&&(this._current=t,this._currentChanged.emit(this._current))}get currentChanged(){return this._currentChanged}get isDisposed(){return this._isDisposed}get restored(){return this._restored.promise}get size(){return this._objects.size}get updated(){return this._updated}async add(t){var r,n;if(t.isDisposed){let s="A disposed object cannot be added.";throw console.warn(s,t),new Error(s)}if(this._objects.has(t)){let s="This object already exists in the pool.";throw console.warn(s,t),new Error(s)}if(this._objects.add(t),t.disposed.connect(this._onInstanceDisposed,this),!Br.injectedProperty.get(t)){if(this._restore){let{connector:s}=this._restore,i=this._restore.name(t);if(i){let a=`${this.namespace}:${i}`,o=(n=(r=this._restore).args)===null||n===void 0?void 0:n.call(r,t);Br.nameProperty.set(t,a),await s.save(a,{data:o})}}this._added.emit(t)}}dispose(){this.isDisposed||(this._current=null,this._isDisposed=!0,this._objects.clear(),vc.Signal.clearData(this))}find(t){let r=this._objects.values();for(let n of r)if(t(n))return n}forEach(t){this._objects.forEach(t)}filter(t){let r=[];return this.forEach(n=>{t(n)&&r.push(n)}),r}inject(t){return Br.injectedProperty.set(t,!0),this.add(t)}has(t){return this._objects.has(t)}async restore(t){if(this._hasRestored)throw new Error("This pool has already been restored.");this._hasRestored=!0;let{command:r,connector:n,registry:s,when:i}=t,a=this.namespace,o=i?[n.list(a)].concat(i):[n.list(a)];this._restore=t;let[l]=await Promise.all(o),c=await Promise.all(l.ids.map(async(u,d)=>{let f=l.values[d],h=f&&f.data;return h===void 0?n.remove(u):s.execute(r,h).catch(()=>n.remove(u))}));return this._restored.resolve(),c}async save(t){var r,n;let s=Br.injectedProperty.get(t);if(!this._restore||!this.has(t)||s)return;let{connector:i}=this._restore,a=this._restore.name(t),o=Br.nameProperty.get(t),l=a?`${this.namespace}:${a}`:"";if(o&&o!==l&&await i.remove(o),Br.nameProperty.set(t,l),l){let c=(n=(r=this._restore).args)===null||n===void 0?void 0:n.call(r,t);await i.save(l,{data:c})}o!==l&&this._updated.emit(t)}_onInstanceDisposed(t){if(this._objects.delete(t),t===this._current&&(this._current=null,this._currentChanged.emit(this._current)),Br.injectedProperty.get(t)||!this._restore)return;let{connector:r}=this._restore,n=Br.nameProperty.get(t);n&&r.remove(n)}};_c.RestorablePool=Kh;var Br;(function(e){e.injectedProperty=new gw.AttachedProperty({name:"injected",create:()=>!1}),e.nameProperty=new gw.AttachedProperty({name:"name",create:()=>""})})(Br||(Br={}))});var vw=T(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.StateDB=void 0;var pO=et(),Ra=class e{constructor(t={}){this._changed=new pO.Signal(this);let{connector:r,transform:n}=t;this._connector=r||new e.Connector,n?this._ready=n.then(s=>{let{contents:i,type:a}=s;switch(a){case"cancel":return;case"clear":return this._clear();case"merge":return this._merge(i||{});case"overwrite":return this._overwrite(i||{});default:return}}):this._ready=Promise.resolve(void 0)}get changed(){return this._changed}async clear(){await this._ready,await this._clear()}async fetch(t){return await this._ready,this._fetch(t)}async list(t){return await this._ready,this._list(t)}async remove(t){await this._ready,await this._remove(t),this._changed.emit({id:t,type:"remove"})}async save(t,r){await this._ready,await this._save(t,r),this._changed.emit({id:t,type:"save"})}async toJSON(){await this._ready;let{ids:t,values:r}=await this._list();return r.reduce((n,s,i)=>(n[t[i]]=s,n),{})}async _clear(){await Promise.all((await this._list()).ids.map(t=>this._remove(t)))}async _fetch(t){let r=await this._connector.fetch(t);if(r)return JSON.parse(r).v}async _list(t=""){let{ids:r,values:n}=await this._connector.list(t);return{ids:r,values:n.map(s=>JSON.parse(s).v)}}async _merge(t){await Promise.all(Object.keys(t).map(r=>t[r]&&this._save(r,t[r])))}async _overwrite(t){await this._clear(),await this._merge(t)}async _remove(t){return this._connector.remove(t)}async _save(t,r){return this._connector.save(t,JSON.stringify({v:r}))}};Ia.StateDB=Ra;(function(e){class t{constructor(){this._storage={}}async fetch(n){return this._storage[n]}async list(n=""){return Object.keys(this._storage).reduce((s,i)=>((n===""||n===i.split(":")[0])&&(s.ids.push(i),s.values.push(this._storage[i])),s),{ids:[],values:[]})}async remove(n){delete this._storage[n]}async save(n,s){this._storage[n]=s}}e.Connector=t})(Ra||(Ia.StateDB=Ra={}))});var _w=T(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.IStateDB=void 0;var mO=Xe();bc.IStateDB=new mO.Token("@jupyterlab/coreutils:IStateDB",`A service for the JupyterLab state database.
  Use this if you want to store data that will persist across page loads.
  See "state database" for more information.`)});var Wh=T(br=>{"use strict";var gO=br&&br.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),Oa=br&&br.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&gO(t,e,r)};Object.defineProperty(br,"__esModule",{value:!0});Oa(dw(),br);Oa(fw(),br);Oa(yw(),br);Oa(vw(),br);Oa(_w(),br)});var Yh=T(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.SettingManager=void 0;var Gh=qe(),yO=Wh(),wc=It(),vO="api/settings",Zh=class extends yO.DataConnector{constructor(t={}){var r;super(),this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:wc.ServerConnection.makeSettings()}async fetch(t){if(!t)throw new Error("Plugin `id` parameter is required for settings fetch.");let{serverSettings:r}=this,{baseUrl:n,appUrl:s}=r,{makeRequest:i,ResponseError:a}=wc.ServerConnection,o=n+s,l=Ta.url(o,t),c=await i(l,{},r);if(c.status!==200)throw await a.create(c);return c.json()}async list(t){var r,n,s,i;let{serverSettings:a}=this,{baseUrl:o,appUrl:l}=a,{makeRequest:c,ResponseError:u}=wc.ServerConnection,d=o+l,f=Ta.url(d,"",t==="ids"),h=await c(f,{},a);if(h.status!==200)throw new u(h);let p=await h.json(),g=(n=(r=p?.settings)===null||r===void 0?void 0:r.map(v=>v.id))!==null&&n!==void 0?n:[],y=[];return t||(y=(i=(s=p?.settings)===null||s===void 0?void 0:s.map(v=>(v.data={composite:{},user:{}},v)))!==null&&i!==void 0?i:[]),{ids:g,values:y}}async save(t,r){let{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:a,ResponseError:o}=wc.ServerConnection,l=s+i,c=Ta.url(l,t),u={body:JSON.stringify({raw:r}),method:"PUT"},d=await a(c,u,n);if(d.status!==204)throw new o(d)}};kc.SettingManager=Zh;var Ta;(function(e){function t(r,n,s){let i=s?Gh.URLExt.objectToQueryString({ids_only:!0}):"",a=Gh.URLExt.join(r,vO),o=Gh.URLExt.join(a,n);if(!o.startsWith(a))throw new Error("Can only be used for workspaces requests");return`${o}${i}`}e.url=t})(Ta||(Ta={}))});var Aa=T(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.TerminalAPIClient=Yt.TERMINAL_SERVICE_URL=void 0;Yt.isAvailable=Xh;Yt.startNew=bw;Yt.listRunning=ww;Yt.shutdownTerminal=kw;var Da=qe(),Hr=It();Yt.TERMINAL_SERVICE_URL="api/terminals";function Xh(){return String(Da.PageConfig.getOption("terminalsAvailable")).toLowerCase()==="true"}async function bw(e=Hr.ServerConnection.makeSettings(),t,r){ja.errorIfNotAvailable();let n=Da.URLExt.join(e.baseUrl,Yt.TERMINAL_SERVICE_URL),s={method:"POST",body:JSON.stringify({name:t,cwd:r})},i=await Hr.ServerConnection.makeRequest(n,s,e);if(i.status!==200)throw await Hr.ServerConnection.ResponseError.create(i);return await i.json()}async function ww(e=Hr.ServerConnection.makeSettings()){ja.errorIfNotAvailable();let t=Da.URLExt.join(e.baseUrl,Yt.TERMINAL_SERVICE_URL),r=await Hr.ServerConnection.makeRequest(t,{},e);if(r.status!==200)throw await Hr.ServerConnection.ResponseError.create(r);let n=await r.json();if(!Array.isArray(n))throw new Error("Invalid terminal list");return n}async function kw(e,t=Hr.ServerConnection.makeSettings()){var r;ja.errorIfNotAvailable();let n=Da.URLExt.join(t.baseUrl,Yt.TERMINAL_SERVICE_URL),s=Da.URLExt.join(n,e);if(!s.startsWith(n))throw new Error("Can only be used for terminal requests");let i={method:"DELETE"},a=await Hr.ServerConnection.makeRequest(s,i,t);if(a.status===404){let l=(r=(await a.json()).message)!==null&&r!==void 0?r:`The terminal session "${e}"" does not exist on the server`;console.warn(l)}else if(a.status!==204)throw await Hr.ServerConnection.ResponseError.create(a)}var Qh=class{constructor(t={}){var r;this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:Hr.ServerConnection.makeSettings()}get isAvailable(){return Xh()}async startNew(t={}){let{name:r,cwd:n}=t;return bw(this.serverSettings,r,n)}async listRunning(){return ww(this.serverSettings)}async shutdown(t){return kw(t,this.serverSettings)}};Yt.TerminalAPIClient=Qh;var ja;(function(e){function t(){if(!Xh())throw new Error("Terminals Unavailable")}e.errorIfNotAvailable=t})(ja||(ja={}))});var Sw=T(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.isAvailable=void 0;var _O=Aa();Object.defineProperty(Sc,"isAvailable",{enumerable:!0,get:function(){return _O.isAvailable}})});var xw=T(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.TerminalConnection=void 0;var bO=qe(),wO=Xe(),xc=et(),kO=wt(),SO=Aa(),ef=class e{constructor(t){var r,n;this._createSocket=()=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");let s=this._name,i=this.serverSettings,a=bO.URLExt.join(i.wsUrl,"terminals","websocket",encodeURIComponent(s)),o=i.token;i.appendToken&&o!==""&&(a=a+`?token=${encodeURIComponent(o)}`),this._ws=new i.WebSocket(a),this._ws.onmessage=this._onWSMessage,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSMessage=s=>{if(this._isDisposed)return;let i=JSON.parse(s.data);if(i[0]==="disconnect"&&this.dispose(),this._connectionStatus==="connecting"){i[0]==="setup"&&this._updateConnectionStatus("connected");return}this._messageReceived.emit({type:i[0],content:i.slice(1)})},this._onWSClose=s=>{console.warn(`Terminal websocket closed: ${s.code}`),this.isDisposed||this._reconnect()},this._connectionStatus="connecting",this._connectionStatusChanged=new xc.Signal(this),this._isDisposed=!1,this._disposed=new xc.Signal(this),this._messageReceived=new xc.Signal(this),this._reconnectTimeout=null,this._ws=null,this._noOp=()=>{},this._reconnectLimit=7,this._reconnectAttempt=0,this._pendingMessages=[],this._name=t.model.name,this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:kO.ServerConnection.makeSettings(),this._terminalAPIClient=(n=t.terminalAPIClient)!==null&&n!==void 0?n:new SO.TerminalAPIClient({serverSettings:this.serverSettings}),this._createSocket()}get disposed(){return this._disposed}get messageReceived(){return this._messageReceived}get name(){return this._name}get model(){return{name:this._name}}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearSocket(),xc.Signal.clearData(this))}send(t){this._sendMessage(t)}_sendMessage(t,r=!0){if(!(this._isDisposed||!t.content))if(this.connectionStatus==="connected"&&this._ws){let n=[t.type,...t.content];this._ws.send(JSON.stringify(n))}else if(r)this._pendingMessages.push(t);else throw new Error(`Could not send message: ${JSON.stringify(t)}`)}_sendPending(){for(;this.connectionStatus==="connected"&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}reconnect(){this._errorIfDisposed();let t=new wO.PromiseDelegate,r=(n,s)=>{s==="connected"?(t.resolve(),this.connectionStatusChanged.disconnect(r,this)):s==="disconnected"&&(t.reject(new Error("Terminal connection disconnected")),this.connectionStatusChanged.disconnect(r,this))};return this.connectionStatusChanged.connect(r,this),this._reconnectAttempt=0,this._reconnect(),t.promise}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");let t=tf.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.error(`Connection lost, reconnecting in ${Math.floor(t/1e3)} seconds.`),this._reconnectTimeout=setTimeout(this._createSocket,t),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_clearSocket(){this._ws!==null&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}async shutdown(){await this._terminalAPIClient.shutdown(this.name),this.dispose()}clone(){return new e({model:this.model,serverSettings:this.serverSettings,terminalAPIClient:this._terminalAPIClient})}_updateConnectionStatus(t){this._connectionStatus!==t&&(this._connectionStatus=t,t!=="connecting"&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),t==="connected"&&this._sendPending(),this._connectionStatusChanged.emit(t))}_errorIfDisposed(){if(this.isDisposed)throw new Error("Terminal connection is disposed")}get connectionStatusChanged(){return this._connectionStatusChanged}get connectionStatus(){return this._connectionStatus}};Ec.TerminalConnection=ef;var tf;(function(e){function t(r,n){return r=Math.ceil(r),n=Math.floor(n),Math.floor(Math.random()*(n-r+1))+r}e.getRandomIntInclusive=t})(tf||(tf={}))});var Cw=T(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.TerminalManager=void 0;var xO=kn(),Ew=et(),EO=wt(),CO=wn(),PO=Aa(),RO=xw(),Ma=class extends CO.BaseManager{constructor(t={}){var r,n;if(super(t),this._isReady=!1,this._names=[],this._terminalConnections=new Set,this._runningChanged=new Ew.Signal(this),this._connectionFailure=new Ew.Signal(this),this._terminalAPIClient=(r=t.terminalAPIClient)!==null&&r!==void 0?r:new PO.TerminalAPIClient({serverSettings:this.serverSettings}),!this.isAvailable()){this._ready=Promise.reject("Terminals unavailable"),this._ready.catch(s=>{});return}this._pollModels=new xO.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:10*1e3,backoff:!0,max:300*1e3},name:"@jupyterlab/services:TerminalManager#models",standby:(n=t.standby)!==null&&n!==void 0?n:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._names.length=0,this._terminalConnections.forEach(t=>t.dispose()),this._pollModels.dispose(),super.dispose())}isAvailable(){return this._terminalAPIClient.isAvailable}connectTo(t){let r=new RO.TerminalConnection({...t,serverSettings:this.serverSettings,terminalAPIClient:this._terminalAPIClient});return this._onStarted(r),this._names.includes(t.model.name)||this.refreshRunning().catch(()=>{}),r}running(){return this._models[Symbol.iterator]()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(t={}){let{name:r,cwd:n}=t,s=await this._terminalAPIClient.startNew({name:r,cwd:n});return await this.refreshRunning(),this.connectTo({model:s})}async shutdown(t){await this._terminalAPIClient.shutdown(t),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all(this._names.map(t=>this._terminalAPIClient.shutdown(t))),await this.refreshRunning()}async requestRunning(){var t,r;let n;try{n=await this._terminalAPIClient.listRunning()}catch(i){throw(i instanceof EO.ServerConnection.NetworkError||((t=i.response)===null||t===void 0?void 0:t.status)===503||((r=i.response)===null||r===void 0?void 0:r.status)===424)&&this._connectionFailure.emit(i),i}if(this.isDisposed)return;let s=n.map(({name:i})=>i).sort();s!==this._names&&(this._names=s,this._terminalConnections.forEach(i=>{s.includes(i.name)||i.dispose()}),this._runningChanged.emit(this._models))}_onStarted(t){this._terminalConnections.add(t),t.disposed.connect(this._onDisposed,this)}_onDisposed(t){this._terminalConnections.delete(t),this.refreshRunning().catch(()=>{})}get _models(){return this._names.map(t=>({name:t}))}};Ua.TerminalManager=Ma;(function(e){class t extends e{constructor(){super(...arguments),this._readyPromise=new Promise(()=>{})}get isActive(){return!1}get parentReady(){return super.ready}get ready(){return this.parentReady.then(()=>this._readyPromise)}async startNew(n){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}connectTo(n){throw Error("Not implemented in no-op Terminal Manager")}async shutdown(n){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}async requestRunning(){return Promise.resolve()}}e.NoopManager=t})(Ma||(Ua.TerminalManager=Ma={}))});var rf=T(At=>{"use strict";var Pw=At&&At.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),IO=At&&At.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),Rw=At&&At.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Pw(t,e,r);return IO(t,e),t},OO=At&&At.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Pw(t,e,r)};Object.defineProperty(At,"__esModule",{value:!0});At.TerminalAPI=At.Terminal=void 0;var TO=Rw(Sw());At.Terminal=TO;var DO=Rw(Aa());At.TerminalAPI=DO;OO(Cw(),At)});var of=T(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.UserManager=void 0;var jO=qe(),AO=Xe(),MO=kn(),Iw=et(),UO=It(),NO=wn(),LO="api/me",sf="@jupyterlab/services:UserManager#user",nf=class extends NO.BaseManager{constructor(t={}){var r;super(t),this._isReady=!1,this._userChanged=new Iw.Signal(this),this._connectionFailure=new Iw.Signal(this),this._ready=this.requestUser().then(()=>{this.isDisposed||(this._isReady=!0)}).catch(n=>new Promise(()=>{})),this._pollSpecs=new MO.Poll({auto:!1,factory:()=>this.requestUser(),frequency:{interval:61*1e3,backoff:!0,max:300*1e3},name:sf,standby:(r=t.standby)!==null&&r!==void 0?r:"when-hidden"}),this.ready.then(()=>{this._pollSpecs.start()})}get isReady(){return this._isReady}get ready(){return this._ready}get identity(){return this._identity}get permissions(){return this._permissions}get userChanged(){return this._userChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshUser(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestUser(){if(this.isDisposed)return;let{baseUrl:t}=this.serverSettings,{makeRequest:r,ResponseError:n}=UO.ServerConnection,s=jO.URLExt.join(t,LO),i=await r(s,{},this.serverSettings);if(i.status!==200)throw await n.create(i);let a={identity:this._identity,permissions:this._permissions},o=await i.json(),l=o.identity,{localStorage:c}=window,u=c.getItem(sf);if(u&&(!l.initials||!l.color)){let d=JSON.parse(u);l.initials=l.initials||d.initials||l.name.substring(0,1),l.color=l.color||d.color||af.getRandomColor()}AO.JSONExt.deepEqual(o,a)||(this._identity=l,this._permissions=o.permissions,c.setItem(sf,JSON.stringify(l)),this._userChanged.emit(o))}};Cc.UserManager=nf;var af;(function(e){let t=["var(--jp-collaborator-color1)","var(--jp-collaborator-color2)","var(--jp-collaborator-color3)","var(--jp-collaborator-color4)","var(--jp-collaborator-color5)","var(--jp-collaborator-color6)","var(--jp-collaborator-color7)"];e.getRandomColor=()=>t[Math.floor(Math.random()*t.length)]})(af||(af={}))});var cf=T(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.WorkspaceManager=void 0;var Ow=qe(),qO=Wh(),Na=It(),$O="api/workspaces",lf=class extends qO.DataConnector{constructor(t={}){var r;super(),this.serverSettings=(r=t.serverSettings)!==null&&r!==void 0?r:Na.ServerConnection.makeSettings()}async fetch(t){let{serverSettings:r}=this,{baseUrl:n,appUrl:s}=r,{makeRequest:i,ResponseError:a}=Na.ServerConnection,o=n+s,l=gi.url(o,t),c=await i(l,{},r);if(c.status!==200)throw await a.create(c);return c.json()}async list(){let{serverSettings:t}=this,{baseUrl:r,appUrl:n}=t,{makeRequest:s,ResponseError:i}=Na.ServerConnection,a=r+n,o=gi.url(a,""),l=await s(o,{},t);if(l.status!==200)throw await i.create(l);return(await l.json()).workspaces}async remove(t){let{serverSettings:r}=this,{baseUrl:n,appUrl:s}=r,{makeRequest:i,ResponseError:a}=Na.ServerConnection,o=n+s,l=gi.url(o,t),u=await i(l,{method:"DELETE"},r);if(u.status!==204)throw await a.create(u)}async save(t,r){let{serverSettings:n}=this,{baseUrl:s,appUrl:i}=n,{makeRequest:a,ResponseError:o}=Na.ServerConnection,l=s+i,c=gi.url(l,t),u={body:JSON.stringify(r),method:"PUT"},d=await a(c,u,n);if(d.status!==204)throw await o.create(d)}};Pc.WorkspaceManager=lf;var gi;(function(e){function t(r,n){let s=Ow.URLExt.join(r,$O),i=Ow.URLExt.join(s,n);if(!i.startsWith(s))throw new Error("Can only be used for workspaces requests");return i}e.url=t})(gi||(gi={}))});var Dw=T(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.ServiceManager=void 0;var Tw=et(),zO=Zb(),FO=xh(),VO=Ch(),BO=Mh(),HO=Nh(),JO=Fh(),KO=It(),WO=Hh(),GO=Yh(),ZO=rf(),YO=of(),QO=cf(),uf=class{constructor(t={}){var r,n;this._isDisposed=!1,this._connectionFailure=new Tw.Signal(this),this._isReady=!1;let s=t.defaultDrive,i=(r=t.serverSettings)!==null&&r!==void 0?r:KO.ServerConnection.makeSettings(),a=(n=t.standby)!==null&&n!==void 0?n:"when-hidden",o={defaultDrive:s,serverSettings:i,standby:a};this.serverSettings=i,this.contents=t.contents||new FO.ContentsManager(o),this.events=t.events||new VO.EventManager(o),this.kernels=t.kernels||new BO.KernelManager(o),this.sessions=t.sessions||new WO.SessionManager({...o,kernelManager:this.kernels}),this.settings=t.settings||new GO.SettingManager(o),this.terminals=t.terminals||new ZO.TerminalManager(o),this.builder=t.builder||new zO.BuildManager(o),this.workspaces=t.workspaces||new QO.WorkspaceManager(o),this.nbconvert=t.nbconvert||new JO.NbConvertManager(o),this.kernelspecs=t.kernelspecs||new HO.KernelSpecManager(o),this.user=t.user||new YO.UserManager(o),this.kernelspecs.connectionFailure.connect(this._onConnectionFailure,this),this.sessions.connectionFailure.connect(this._onConnectionFailure,this),this.terminals.connectionFailure.connect(this._onConnectionFailure,this);let l=[this.sessions.ready,this.kernelspecs.ready];this.terminals.isAvailable()&&l.push(this.terminals.ready),this._readyPromise=Promise.all(l).then(()=>{this._isReady=!0})}get connectionFailure(){return this._connectionFailure}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Tw.Signal.clearData(this),this.contents.dispose(),this.events.dispose(),this.sessions.dispose(),this.terminals.dispose())}get isReady(){return this._isReady}get ready(){return this._readyPromise}_onConnectionFailure(t,r){this._connectionFailure.emit(r)}};Rc.ServiceManager=uf});var jw=T(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.IWorkspaceManager=xe.IUserManager=xe.ITerminalManager=xe.IServiceManager=xe.ISettingManager=xe.ISessionManager=xe.IServerSettings=xe.INbConvertManager=xe.IKernelSpecManager=xe.IKernelManager=xe.IEventManager=xe.IDefaultDrive=xe.IContentsManager=xe.IConfigSectionManager=xe.IConnectionStatus=void 0;var Mt=Xe();xe.IConnectionStatus=new Mt.Token("@jupyterlab/application:IConnectionStatus","A service providing the application connection status.");xe.IConfigSectionManager=new Mt.Token("@jupyterlab/services:IConfigSectionManager","A service providing the config section manager.");xe.IContentsManager=new Mt.Token("@jupyterlab/services:IContentsManager","The contents manager token.");xe.IDefaultDrive=new Mt.Token("@jupyterlab/services:IDefaultDrive","The default drive for the contents manager.");xe.IEventManager=new Mt.Token("@jupyterlab/services:IEventManager","The event manager token.");xe.IKernelManager=new Mt.Token("@jupyterlab/services:IKernelManager","The kernel manager token.");xe.IKernelSpecManager=new Mt.Token("@jupyterlab/services:IKernelSpecManager","The kernel spec manager token.");xe.INbConvertManager=new Mt.Token("@jupyterlab/services:INbConvertManager","The nbconvert manager token.");xe.IServerSettings=new Mt.Token("@jupyterlab/services:IServerSettings","The server settings for the application.");xe.ISessionManager=new Mt.Token("@jupyterlab/services:ISessionManager","The session manager token.");xe.ISettingManager=new Mt.Token("@jupyterlab/services:ISettingManager","The setting manager token.");xe.IServiceManager=new Mt.Token("@jupyterlab/services:IServiceManager","The service manager for the application.");xe.ITerminalManager=new Mt.Token("@jupyterlab/services:ITerminalManager","The terminal manager token.");xe.IUserManager=new Mt.Token("@jupyterlab/services:IUserManager","The user manager token.");xe.IWorkspaceManager=new Mt.Token("@jupyterlab/services:IWorkspaceManager","The workspace manager token.")});var wt=T(Ye=>{"use strict";var XO=Ye&&Ye.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),St=Ye&&Ye.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&XO(t,e,r)};Object.defineProperty(Ye,"__esModule",{value:!0});St(wn(),Ye);St(ub(),Ye);St(db(),Ye);St(xh(),Ye);St(Ch(),Ye);St(Mh(),Ye);St(Nh(),Ye);St(Dw(),Ye);St(It(),Ye);St(Hh(),Ye);St(Yh(),Ye);St(rf(),Ye);St(jw(),Ye);St(of(),Ye);St(cf(),Ye);St(Fh(),Ye)});var Oc=T(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.pathMatch=tT;function tT(e,t){return!!(t===e||e.indexOf(t)===0&&(t[t.length-1]==="/"||e.startsWith(t)&&e[t.length]==="/"))}});var $w=T(En=>{"use strict";function rT(e,t){return e.endsWith(t)?e.length===t.length||e[e.length-t.length-1]===".":!1}function sT(e,t){let r=e.length-t.length-2,n=e.lastIndexOf(".",r);return n===-1?e:e.slice(n+1)}function nT(e,t,r){if(r.validHosts!==null){let s=r.validHosts;for(let i of s)if(rT(t,i))return i}let n=0;if(t.startsWith("."))for(;n<t.length&&t[n]===".";)n+=1;return e.length===t.length-n?null:sT(t,e)}function iT(e,t){return e.slice(0,-t.length-1)}function Aw(e,t){let r=0,n=e.length,s=!1;if(!t){if(e.startsWith("data:"))return null;for(;r<e.length&&e.charCodeAt(r)<=32;)r+=1;for(;n>r+1&&e.charCodeAt(n-1)<=32;)n-=1;if(e.charCodeAt(r)===47&&e.charCodeAt(r+1)===47)r+=2;else{let c=e.indexOf(":/",r);if(c!==-1){let u=c-r,d=e.charCodeAt(r),f=e.charCodeAt(r+1),h=e.charCodeAt(r+2),p=e.charCodeAt(r+3),g=e.charCodeAt(r+4);if(!(u===5&&d===104&&f===116&&h===116&&p===112&&g===115)){if(!(u===4&&d===104&&f===116&&h===116&&p===112)){if(!(u===3&&d===119&&f===115&&h===115)){if(!(u===2&&d===119&&f===115))for(let y=r;y<c;y+=1){let v=e.charCodeAt(y)|32;if(!(v>=97&&v<=122||v>=48&&v<=57||v===46||v===45||v===43))return null}}}}for(r=c+2;e.charCodeAt(r)===47;)r+=1}}let a=-1,o=-1,l=-1;for(let c=r;c<n;c+=1){let u=e.charCodeAt(c);if(u===35||u===47||u===63){n=c;break}else u===64?a=c:u===93?o=c:u===58?l=c:u>=65&&u<=90&&(s=!0)}if(a!==-1&&a>r&&a<n&&(r=a+1),e.charCodeAt(r)===91)return o!==-1?e.slice(r+1,o).toLowerCase():null;l!==-1&&l>r&&l<n&&(n=l)}for(;n>r+1&&e.charCodeAt(n-1)===46;)n-=1;let i=r!==0||n!==e.length?e.slice(r,n):e;return s?i.toLowerCase():i}function aT(e){if(e.length<7||e.length>15)return!1;let t=0;for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n===46)t+=1;else if(n<48||n>57)return!1}return t===3&&e.charCodeAt(0)!==46&&e.charCodeAt(e.length-1)!==46}function oT(e){if(e.length<3)return!1;let t=e.startsWith("[")?1:0,r=e.length;if(e[r-1]==="]"&&(r-=1),r-t>39)return!1;let n=!1;for(;t<r;t+=1){let s=e.charCodeAt(t);if(s===58)n=!0;else if(!(s>=48&&s<=57||s>=97&&s<=102||s>=65&&s<=90))return!1}return n}function lT(e){return oT(e)||aT(e)}function Mw(e){return e>=97&&e<=122||e>=48&&e<=57||e>127}function Uw(e){if(e.length>255||e.length===0||!Mw(e.charCodeAt(0))&&e.charCodeAt(0)!==46&&e.charCodeAt(0)!==95)return!1;let t=-1,r=-1,n=e.length;for(let s=0;s<n;s+=1){let i=e.charCodeAt(s);if(i===46){if(s-t>64||r===46||r===45||r===95)return!1;t=s}else if(!(Mw(i)||i===45||i===95))return!1;r=i}return n-t-1<=63&&r!==45}function Lw({allowIcannDomains:e=!0,allowPrivateDomains:t=!1,detectIp:r=!0,extractHostname:n=!0,mixedInputs:s=!0,validHosts:i=null,validateHostname:a=!0}){return{allowIcannDomains:e,allowPrivateDomains:t,detectIp:r,extractHostname:n,mixedInputs:s,validHosts:i,validateHostname:a}}var cT=Lw({});function uT(e){return e===void 0?cT:Lw(e)}function dT(e,t){return t.length===e.length?"":e.slice(0,-t.length-1)}function qw(){return{domain:null,domainWithoutSuffix:null,hostname:null,isIcann:null,isIp:null,isPrivate:null,publicSuffix:null,subdomain:null}}function La(e){e.domain=null,e.domainWithoutSuffix=null,e.hostname=null,e.isIcann=null,e.isIp=null,e.isPrivate=null,e.publicSuffix=null,e.subdomain=null}function yi(e,t,r,n,s){let i=uT(n);return typeof e!="string"||(i.extractHostname?i.mixedInputs?s.hostname=Aw(e,Uw(e)):s.hostname=Aw(e,!1):s.hostname=e,t===0||s.hostname===null)||i.detectIp&&(s.isIp=lT(s.hostname),s.isIp)?s:i.validateHostname&&i.extractHostname&&!Uw(s.hostname)?(s.hostname=null,s):(r(s.hostname,i,s),t===2||s.publicSuffix===null||(s.domain=nT(s.publicSuffix,s.hostname,i),t===3||s.domain===null)||(s.subdomain=dT(s.hostname,s.domain),t===4)||(s.domainWithoutSuffix=iT(s.domain,s.publicSuffix)),s)}function hT(e,t,r){if(!t.allowPrivateDomains&&e.length>3){let n=e.length-1,s=e.charCodeAt(n),i=e.charCodeAt(n-1),a=e.charCodeAt(n-2),o=e.charCodeAt(n-3);if(s===109&&i===111&&a===99&&o===46)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="com",!0;if(s===103&&i===114&&a===111&&o===46)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="org",!0;if(s===117&&i===100&&a===101&&o===46)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="edu",!0;if(s===118&&i===111&&a===103&&o===46)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="gov",!0;if(s===116&&i===101&&a===110&&o===46)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="net",!0;if(s===101&&i===100&&a===46)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="de",!0}return!1}var fT=(function(){let e=[1,{}],t=[2,{}],r=[0,{city:e}];return[0,{ck:[0,{www:e}],jp:[0,{kawasaki:r,kitakyushu:r,kobe:r,nagoya:r,sapporo:r,sendai:r,yokohama:r}],dev:[0,{hrsn:[0,{psl:[0,{wc:[0,{ignored:t,sub:[0,{ignored:t}]}]}]}]}]}]})(),pT=(function(){let e=[1,{}],t=[2,{}],r=[1,{com:e,edu:e,gov:e,net:e,org:e}],n=[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e}],s=[0,{"*":t}],i=[2,{s}],a=[0,{relay:t}],o=[2,{id:t}],l=[1,{gov:e}],c=[0,{"transfer-webapp":t}],u=[0,{notebook:t,studio:t}],d=[0,{labeling:t,notebook:t,studio:t}],f=[0,{notebook:t}],h=[0,{labeling:t,notebook:t,"notebook-fips":t,studio:t}],p=[0,{notebook:t,"notebook-fips":t,studio:t,"studio-fips":t}],g=[0,{"*":e}],y=[1,{co:t}],v=[0,{objects:t}],P=[2,{nodes:t}],E=[0,{my:s}],S=[0,{s3:t,"s3-accesspoint":t,"s3-website":t}],U=[0,{s3:t,"s3-accesspoint":t}],z=[0,{direct:t}],$=[0,{"webview-assets":t}],L=[0,{vfs:t,"webview-assets":t}],A=[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:S,s3:t,"s3-accesspoint":t,"s3-object-lambda":t,"s3-website":t,"aws-cloud9":$,cloud9:L}],w=[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:U,s3:t,"s3-accesspoint":t,"s3-object-lambda":t,"s3-website":t,"aws-cloud9":$,cloud9:L}],C=[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:S,s3:t,"s3-accesspoint":t,"s3-object-lambda":t,"s3-website":t,"analytics-gateway":t,"aws-cloud9":$,cloud9:L}],R=[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:S,s3:t,"s3-accesspoint":t,"s3-object-lambda":t,"s3-website":t}],x=[0,{s3:t,"s3-accesspoint":t,"s3-accesspoint-fips":t,"s3-fips":t,"s3-website":t}],N=[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:x,s3:t,"s3-accesspoint":t,"s3-accesspoint-fips":t,"s3-fips":t,"s3-object-lambda":t,"s3-website":t,"aws-cloud9":$,cloud9:L}],H=[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:x,s3:t,"s3-accesspoint":t,"s3-accesspoint-fips":t,"s3-deprecated":t,"s3-fips":t,"s3-object-lambda":t,"s3-website":t,"analytics-gateway":t,"aws-cloud9":$,cloud9:L}],re=[0,{s3:t,"s3-accesspoint":t,"s3-accesspoint-fips":t,"s3-fips":t}],X=[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:re,s3:t,"s3-accesspoint":t,"s3-accesspoint-fips":t,"s3-fips":t,"s3-object-lambda":t,"s3-website":t}],W=[0,{auth:t}],te=[0,{auth:t,"auth-fips":t}],Y=[0,{"auth-fips":t}],de=[0,{apps:t}],_e=[0,{paas:t}],Ce=[2,{eu:t}],ue=[0,{app:t}],je=[0,{site:t}],Re=[1,{com:e,edu:e,net:e,org:e}],Qe=[0,{j:t}],Kt=[0,{dyn:t}],Nt=[1,{co:e,com:e,edu:e,gov:e,net:e,org:e}],Le=[0,{p:t}],Oe=[0,{user:t}],tr=[0,{shop:t}],F=[0,{cdn:t}],q=[0,{cust:t,reservd:t}],O=[0,{cust:t}],I=[0,{s3:t}],j=[1,{biz:e,com:e,edu:e,gov:e,info:e,net:e,org:e}],J=[0,{ipfs:t}],K=[1,{framer:t}],he=[0,{forgot:t}],oe=[1,{gs:e}],$e=[0,{nes:e}],ne=[1,{k12:e,cc:e,lib:e}],ut=[1,{cc:e,lib:e}];return[0,{ac:[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e,drr:t,feedback:t,forms:t}],ad:e,ae:[1,{ac:e,co:e,gov:e,mil:e,net:e,org:e,sch:e}],aero:[1,{airline:e,airport:e,"accident-investigation":e,"accident-prevention":e,aerobatic:e,aeroclub:e,aerodrome:e,agents:e,"air-surveillance":e,"air-traffic-control":e,aircraft:e,airtraffic:e,ambulance:e,association:e,author:e,ballooning:e,broker:e,caa:e,cargo:e,catering:e,certification:e,championship:e,charter:e,civilaviation:e,club:e,conference:e,consultant:e,consulting:e,control:e,council:e,crew:e,design:e,dgca:e,educator:e,emergency:e,engine:e,engineer:e,entertainment:e,equipment:e,exchange:e,express:e,federation:e,flight:e,freight:e,fuel:e,gliding:e,government:e,groundhandling:e,group:e,hanggliding:e,homebuilt:e,insurance:e,journal:e,journalist:e,leasing:e,logistics:e,magazine:e,maintenance:e,marketplace:e,media:e,microlight:e,modelling:e,navigation:e,parachuting:e,paragliding:e,"passenger-association":e,pilot:e,press:e,production:e,recreation:e,repbody:e,res:e,research:e,rotorcraft:e,safety:e,scientist:e,services:e,show:e,skydiving:e,software:e,student:e,taxi:e,trader:e,trading:e,trainer:e,union:e,workinggroup:e,works:e}],af:r,ag:[1,{co:e,com:e,net:e,nom:e,org:e,obj:t}],ai:[1,{com:e,net:e,off:e,org:e,uwu:t,framer:t}],al:n,am:[1,{co:e,com:e,commune:e,net:e,org:e,radio:t}],ao:[1,{co:e,ed:e,edu:e,gov:e,gv:e,it:e,og:e,org:e,pb:e}],aq:e,ar:[1,{bet:e,com:e,coop:e,edu:e,gob:e,gov:e,int:e,mil:e,musica:e,mutual:e,net:e,org:e,seg:e,senasa:e,tur:e}],arpa:[1,{e164:e,home:e,"in-addr":e,ip6:e,iris:e,uri:e,urn:e}],as:l,asia:[1,{cloudns:t,daemon:t,dix:t}],at:[1,{ac:[1,{sth:e}],co:e,gv:e,or:e,funkfeuer:[0,{wien:t}],futurecms:[0,{"*":t,ex:s,in:s}],futurehosting:t,futuremailing:t,ortsinfo:[0,{ex:s,kunden:s}],biz:t,info:t,"123webseite":t,priv:t,myspreadshop:t,"12hp":t,"2ix":t,"4lima":t,"lima-city":t}],au:[1,{asn:e,com:[1,{cloudlets:[0,{mel:t}],myspreadshop:t}],edu:[1,{act:e,catholic:e,nsw:[1,{schools:e}],nt:e,qld:e,sa:e,tas:e,vic:e,wa:e}],gov:[1,{qld:e,sa:e,tas:e,vic:e,wa:e}],id:e,net:e,org:e,conf:e,oz:e,act:e,nsw:e,nt:e,qld:e,sa:e,tas:e,vic:e,wa:e}],aw:[1,{com:e}],ax:e,az:[1,{biz:e,co:e,com:e,edu:e,gov:e,info:e,int:e,mil:e,name:e,net:e,org:e,pp:e,pro:e}],ba:[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e,rs:t}],bb:[1,{biz:e,co:e,com:e,edu:e,gov:e,info:e,net:e,org:e,store:e,tv:e}],bd:g,be:[1,{ac:e,cloudns:t,webhosting:t,interhostsolutions:[0,{cloud:t}],kuleuven:[0,{ezproxy:t}],"123website":t,myspreadshop:t,transurl:s}],bf:l,bg:[1,{0:e,1:e,2:e,3:e,4:e,5:e,6:e,7:e,8:e,9:e,a:e,b:e,c:e,d:e,e,f:e,g:e,h:e,i:e,j:e,k:e,l:e,m:e,n:e,o:e,p:e,q:e,r:e,s:e,t:e,u:e,v:e,w:e,x:e,y:e,z:e,barsy:t}],bh:r,bi:[1,{co:e,com:e,edu:e,or:e,org:e}],biz:[1,{activetrail:t,"cloud-ip":t,cloudns:t,jozi:t,dyndns:t,"for-better":t,"for-more":t,"for-some":t,"for-the":t,selfip:t,webhop:t,orx:t,mmafan:t,myftp:t,"no-ip":t,dscloud:t}],bj:[1,{africa:e,agro:e,architectes:e,assur:e,avocats:e,co:e,com:e,eco:e,econo:e,edu:e,info:e,loisirs:e,money:e,net:e,org:e,ote:e,restaurant:e,resto:e,tourism:e,univ:e}],bm:r,bn:[1,{com:e,edu:e,gov:e,net:e,org:e,co:t}],bo:[1,{com:e,edu:e,gob:e,int:e,mil:e,net:e,org:e,tv:e,web:e,academia:e,agro:e,arte:e,blog:e,bolivia:e,ciencia:e,cooperativa:e,democracia:e,deporte:e,ecologia:e,economia:e,empresa:e,indigena:e,industria:e,info:e,medicina:e,movimiento:e,musica:e,natural:e,nombre:e,noticias:e,patria:e,plurinacional:e,politica:e,profesional:e,pueblo:e,revista:e,salud:e,tecnologia:e,tksat:e,transporte:e,wiki:e}],br:[1,{"9guacu":e,abc:e,adm:e,adv:e,agr:e,aju:e,am:e,anani:e,aparecida:e,app:e,arq:e,art:e,ato:e,b:e,barueri:e,belem:e,bet:e,bhz:e,bib:e,bio:e,blog:e,bmd:e,boavista:e,bsb:e,campinagrande:e,campinas:e,caxias:e,cim:e,cng:e,cnt:e,com:[1,{simplesite:t}],contagem:e,coop:e,coz:e,cri:e,cuiaba:e,curitiba:e,def:e,des:e,det:e,dev:e,ecn:e,eco:e,edu:e,emp:e,enf:e,eng:e,esp:e,etc:e,eti:e,far:e,feira:e,flog:e,floripa:e,fm:e,fnd:e,fortal:e,fot:e,foz:e,fst:e,g12:e,geo:e,ggf:e,goiania:e,gov:[1,{ac:e,al:e,am:e,ap:e,ba:e,ce:e,df:e,es:e,go:e,ma:e,mg:e,ms:e,mt:e,pa:e,pb:e,pe:e,pi:e,pr:e,rj:e,rn:e,ro:e,rr:e,rs:e,sc:e,se:e,sp:e,to:e}],gru:e,imb:e,ind:e,inf:e,jab:e,jampa:e,jdf:e,joinville:e,jor:e,jus:e,leg:[1,{ac:t,al:t,am:t,ap:t,ba:t,ce:t,df:t,es:t,go:t,ma:t,mg:t,ms:t,mt:t,pa:t,pb:t,pe:t,pi:t,pr:t,rj:t,rn:t,ro:t,rr:t,rs:t,sc:t,se:t,sp:t,to:t}],leilao:e,lel:e,log:e,londrina:e,macapa:e,maceio:e,manaus:e,maringa:e,mat:e,med:e,mil:e,morena:e,mp:e,mus:e,natal:e,net:e,niteroi:e,nom:g,not:e,ntr:e,odo:e,ong:e,org:e,osasco:e,palmas:e,poa:e,ppg:e,pro:e,psc:e,psi:e,pvh:e,qsl:e,radio:e,rec:e,recife:e,rep:e,ribeirao:e,rio:e,riobranco:e,riopreto:e,salvador:e,sampa:e,santamaria:e,santoandre:e,saobernardo:e,saogonca:e,seg:e,sjc:e,slg:e,slz:e,sorocaba:e,srv:e,taxi:e,tc:e,tec:e,teo:e,the:e,tmp:e,trd:e,tur:e,tv:e,udi:e,vet:e,vix:e,vlog:e,wiki:e,zlg:e}],bs:[1,{com:e,edu:e,gov:e,net:e,org:e,we:t}],bt:r,bv:e,bw:[1,{ac:e,co:e,gov:e,net:e,org:e}],by:[1,{gov:e,mil:e,com:e,of:e,mediatech:t}],bz:[1,{co:e,com:e,edu:e,gov:e,net:e,org:e,za:t,mydns:t,gsj:t}],ca:[1,{ab:e,bc:e,mb:e,nb:e,nf:e,nl:e,ns:e,nt:e,nu:e,on:e,pe:e,qc:e,sk:e,yk:e,gc:e,barsy:t,awdev:s,co:t,"no-ip":t,myspreadshop:t,box:t}],cat:e,cc:[1,{cleverapps:t,cloudns:t,ftpaccess:t,"game-server":t,myphotos:t,scrapping:t,twmail:t,csx:t,fantasyleague:t,spawn:[0,{instances:t}]}],cd:l,cf:e,cg:e,ch:[1,{square7:t,cloudns:t,cloudscale:[0,{cust:t,lpg:v,rma:v}],flow:[0,{ae:[0,{alp1:t}],appengine:t}],"linkyard-cloud":t,gotdns:t,dnsking:t,"123website":t,myspreadshop:t,firenet:[0,{"*":t,svc:s}],"12hp":t,"2ix":t,"4lima":t,"lima-city":t}],ci:[1,{ac:e,"xn--aroport-bya":e,a\u00E9roport:e,asso:e,co:e,com:e,ed:e,edu:e,go:e,gouv:e,int:e,net:e,or:e,org:e}],ck:g,cl:[1,{co:e,gob:e,gov:e,mil:e,cloudns:t}],cm:[1,{co:e,com:e,gov:e,net:e}],cn:[1,{ac:e,com:[1,{amazonaws:[0,{"cn-north-1":[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:S,s3:t,"s3-accesspoint":t,"s3-deprecated":t,"s3-object-lambda":t,"s3-website":t}],"cn-northwest-1":[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:U,s3:t,"s3-accesspoint":t,"s3-object-lambda":t,"s3-website":t}],compute:s,airflow:[0,{"cn-north-1":s,"cn-northwest-1":s}],eb:[0,{"cn-north-1":t,"cn-northwest-1":t}],elb:s}],sagemaker:[0,{"cn-north-1":u,"cn-northwest-1":u}]}],edu:e,gov:e,mil:e,net:e,org:e,"xn--55qx5d":e,\u516C\u53F8:e,"xn--od0alg":e,\u7DB2\u7D61:e,"xn--io0a7i":e,\u7F51\u7EDC:e,ah:e,bj:e,cq:e,fj:e,gd:e,gs:e,gx:e,gz:e,ha:e,hb:e,he:e,hi:e,hk:e,hl:e,hn:e,jl:e,js:e,jx:e,ln:e,mo:e,nm:e,nx:e,qh:e,sc:e,sd:e,sh:[1,{as:t}],sn:e,sx:e,tj:e,tw:e,xj:e,xz:e,yn:e,zj:e,"canva-apps":t,canvasite:E,myqnapcloud:t,quickconnect:z}],co:[1,{com:e,edu:e,gov:e,mil:e,net:e,nom:e,org:e,carrd:t,crd:t,otap:s,leadpages:t,lpages:t,mypi:t,xmit:s,firewalledreplit:o,repl:o,supabase:t}],com:[1,{a2hosted:t,cpserver:t,adobeaemcloud:[2,{dev:s}],africa:t,airkitapps:t,"airkitapps-au":t,aivencloud:t,alibabacloudcs:t,kasserver:t,amazonaws:[0,{"af-south-1":A,"ap-east-1":w,"ap-northeast-1":C,"ap-northeast-2":C,"ap-northeast-3":A,"ap-south-1":C,"ap-south-2":R,"ap-southeast-1":C,"ap-southeast-2":C,"ap-southeast-3":R,"ap-southeast-4":R,"ap-southeast-5":[0,{"execute-api":t,dualstack:S,s3:t,"s3-accesspoint":t,"s3-deprecated":t,"s3-object-lambda":t,"s3-website":t}],"ca-central-1":N,"ca-west-1":[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:x,s3:t,"s3-accesspoint":t,"s3-accesspoint-fips":t,"s3-fips":t,"s3-object-lambda":t,"s3-website":t}],"eu-central-1":C,"eu-central-2":R,"eu-north-1":w,"eu-south-1":A,"eu-south-2":R,"eu-west-1":[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:S,s3:t,"s3-accesspoint":t,"s3-deprecated":t,"s3-object-lambda":t,"s3-website":t,"analytics-gateway":t,"aws-cloud9":$,cloud9:L}],"eu-west-2":w,"eu-west-3":A,"il-central-1":[0,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:S,s3:t,"s3-accesspoint":t,"s3-object-lambda":t,"s3-website":t,"aws-cloud9":$,cloud9:[0,{vfs:t}]}],"me-central-1":R,"me-south-1":w,"sa-east-1":A,"us-east-1":[2,{"execute-api":t,"emrappui-prod":t,"emrnotebooks-prod":t,"emrstudio-prod":t,dualstack:x,s3:t,"s3-accesspoint":t,"s3-accesspoint-fips":t,"s3-deprecated":t,"s3-fips":t,"s3-object-lambda":t,"s3-website":t,"analytics-gateway":t,"aws-cloud9":$,cloud9:L}],"us-east-2":H,"us-gov-east-1":X,"us-gov-west-1":X,"us-west-1":N,"us-west-2":H,compute:s,"compute-1":s,airflow:[0,{"af-south-1":s,"ap-east-1":s,"ap-northeast-1":s,"ap-northeast-2":s,"ap-northeast-3":s,"ap-south-1":s,"ap-south-2":s,"ap-southeast-1":s,"ap-southeast-2":s,"ap-southeast-3":s,"ap-southeast-4":s,"ca-central-1":s,"ca-west-1":s,"eu-central-1":s,"eu-central-2":s,"eu-north-1":s,"eu-south-1":s,"eu-south-2":s,"eu-west-1":s,"eu-west-2":s,"eu-west-3":s,"il-central-1":s,"me-central-1":s,"me-south-1":s,"sa-east-1":s,"us-east-1":s,"us-east-2":s,"us-west-1":s,"us-west-2":s}],s3:t,"s3-1":t,"s3-ap-east-1":t,"s3-ap-northeast-1":t,"s3-ap-northeast-2":t,"s3-ap-northeast-3":t,"s3-ap-south-1":t,"s3-ap-southeast-1":t,"s3-ap-southeast-2":t,"s3-ca-central-1":t,"s3-eu-central-1":t,"s3-eu-north-1":t,"s3-eu-west-1":t,"s3-eu-west-2":t,"s3-eu-west-3":t,"s3-external-1":t,"s3-fips-us-gov-east-1":t,"s3-fips-us-gov-west-1":t,"s3-global":[0,{accesspoint:[0,{mrap:t}]}],"s3-me-south-1":t,"s3-sa-east-1":t,"s3-us-east-2":t,"s3-us-gov-east-1":t,"s3-us-gov-west-1":t,"s3-us-west-1":t,"s3-us-west-2":t,"s3-website-ap-northeast-1":t,"s3-website-ap-southeast-1":t,"s3-website-ap-southeast-2":t,"s3-website-eu-west-1":t,"s3-website-sa-east-1":t,"s3-website-us-east-1":t,"s3-website-us-gov-west-1":t,"s3-website-us-west-1":t,"s3-website-us-west-2":t,elb:s}],amazoncognito:[0,{"af-south-1":W,"ap-east-1":W,"ap-northeast-1":W,"ap-northeast-2":W,"ap-northeast-3":W,"ap-south-1":W,"ap-south-2":W,"ap-southeast-1":W,"ap-southeast-2":W,"ap-southeast-3":W,"ap-southeast-4":W,"ap-southeast-5":W,"ca-central-1":W,"ca-west-1":W,"eu-central-1":W,"eu-central-2":W,"eu-north-1":W,"eu-south-1":W,"eu-south-2":W,"eu-west-1":W,"eu-west-2":W,"eu-west-3":W,"il-central-1":W,"me-central-1":W,"me-south-1":W,"sa-east-1":W,"us-east-1":te,"us-east-2":te,"us-gov-east-1":Y,"us-gov-west-1":Y,"us-west-1":te,"us-west-2":te}],amplifyapp:t,awsapprunner:s,awsapps:t,elasticbeanstalk:[2,{"af-south-1":t,"ap-east-1":t,"ap-northeast-1":t,"ap-northeast-2":t,"ap-northeast-3":t,"ap-south-1":t,"ap-southeast-1":t,"ap-southeast-2":t,"ap-southeast-3":t,"ca-central-1":t,"eu-central-1":t,"eu-north-1":t,"eu-south-1":t,"eu-west-1":t,"eu-west-2":t,"eu-west-3":t,"il-central-1":t,"me-south-1":t,"sa-east-1":t,"us-east-1":t,"us-east-2":t,"us-gov-east-1":t,"us-gov-west-1":t,"us-west-1":t,"us-west-2":t}],awsglobalaccelerator:t,siiites:t,appspacehosted:t,appspaceusercontent:t,"on-aptible":t,myasustor:t,"balena-devices":t,boutir:t,bplaced:t,cafjs:t,"canva-apps":t,"cdn77-storage":t,br:t,cn:t,de:t,eu:t,jpn:t,mex:t,ru:t,sa:t,uk:t,us:t,za:t,"clever-cloud":[0,{services:s}],dnsabr:t,"ip-ddns":t,jdevcloud:t,wpdevcloud:t,"cf-ipfs":t,"cloudflare-ipfs":t,trycloudflare:t,co:t,devinapps:s,builtwithdark:t,datadetect:[0,{demo:t,instance:t}],dattolocal:t,dattorelay:t,dattoweb:t,mydatto:t,digitaloceanspaces:s,discordsays:t,discordsez:t,drayddns:t,dreamhosters:t,durumis:t,mydrobo:t,blogdns:t,cechire:t,dnsalias:t,dnsdojo:t,doesntexist:t,dontexist:t,doomdns:t,"dyn-o-saur":t,dynalias:t,"dyndns-at-home":t,"dyndns-at-work":t,"dyndns-blog":t,"dyndns-free":t,"dyndns-home":t,"dyndns-ip":t,"dyndns-mail":t,"dyndns-office":t,"dyndns-pics":t,"dyndns-remote":t,"dyndns-server":t,"dyndns-web":t,"dyndns-wiki":t,"dyndns-work":t,"est-a-la-maison":t,"est-a-la-masion":t,"est-le-patron":t,"est-mon-blogueur":t,"from-ak":t,"from-al":t,"from-ar":t,"from-ca":t,"from-ct":t,"from-dc":t,"from-de":t,"from-fl":t,"from-ga":t,"from-hi":t,"from-ia":t,"from-id":t,"from-il":t,"from-in":t,"from-ks":t,"from-ky":t,"from-ma":t,"from-md":t,"from-mi":t,"from-mn":t,"from-mo":t,"from-ms":t,"from-mt":t,"from-nc":t,"from-nd":t,"from-ne":t,"from-nh":t,"from-nj":t,"from-nm":t,"from-nv":t,"from-oh":t,"from-ok":t,"from-or":t,"from-pa":t,"from-pr":t,"from-ri":t,"from-sc":t,"from-sd":t,"from-tn":t,"from-tx":t,"from-ut":t,"from-va":t,"from-vt":t,"from-wa":t,"from-wi":t,"from-wv":t,"from-wy":t,getmyip:t,gotdns:t,"hobby-site":t,homelinux:t,homeunix:t,iamallama:t,"is-a-anarchist":t,"is-a-blogger":t,"is-a-bookkeeper":t,"is-a-bulls-fan":t,"is-a-caterer":t,"is-a-chef":t,"is-a-conservative":t,"is-a-cpa":t,"is-a-cubicle-slave":t,"is-a-democrat":t,"is-a-designer":t,"is-a-doctor":t,"is-a-financialadvisor":t,"is-a-geek":t,"is-a-green":t,"is-a-guru":t,"is-a-hard-worker":t,"is-a-hunter":t,"is-a-landscaper":t,"is-a-lawyer":t,"is-a-liberal":t,"is-a-libertarian":t,"is-a-llama":t,"is-a-musician":t,"is-a-nascarfan":t,"is-a-nurse":t,"is-a-painter":t,"is-a-personaltrainer":t,"is-a-photographer":t,"is-a-player":t,"is-a-republican":t,"is-a-rockstar":t,"is-a-socialist":t,"is-a-student":t,"is-a-teacher":t,"is-a-techie":t,"is-a-therapist":t,"is-an-accountant":t,"is-an-actor":t,"is-an-actress":t,"is-an-anarchist":t,"is-an-artist":t,"is-an-engineer":t,"is-an-entertainer":t,"is-certified":t,"is-gone":t,"is-into-anime":t,"is-into-cars":t,"is-into-cartoons":t,"is-into-games":t,"is-leet":t,"is-not-certified":t,"is-slick":t,"is-uberleet":t,"is-with-theband":t,"isa-geek":t,"isa-hockeynut":t,issmarterthanyou:t,"likes-pie":t,likescandy:t,"neat-url":t,"saves-the-whales":t,selfip:t,"sells-for-less":t,"sells-for-u":t,servebbs:t,"simple-url":t,"space-to-rent":t,"teaches-yoga":t,writesthisblog:t,ddnsfree:t,ddnsgeek:t,giize:t,gleeze:t,kozow:t,loseyourip:t,ooguy:t,theworkpc:t,mytuleap:t,"tuleap-partners":t,encoreapi:t,evennode:[0,{"eu-1":t,"eu-2":t,"eu-3":t,"eu-4":t,"us-1":t,"us-2":t,"us-3":t,"us-4":t}],onfabrica:t,"fastly-edge":t,"fastly-terrarium":t,"fastvps-server":t,mydobiss:t,firebaseapp:t,fldrv:t,forgeblocks:t,framercanvas:t,"freebox-os":t,freeboxos:t,freemyip:t,aliases121:t,gentapps:t,gentlentapis:t,githubusercontent:t,"0emm":s,appspot:[2,{r:s}],blogspot:t,codespot:t,googleapis:t,googlecode:t,pagespeedmobilizer:t,withgoogle:t,withyoutube:t,grayjayleagues:t,hatenablog:t,hatenadiary:t,herokuapp:t,gr:t,smushcdn:t,wphostedmail:t,wpmucdn:t,pixolino:t,"apps-1and1":t,"live-website":t,dopaas:t,"hosted-by-previder":_e,hosteur:[0,{"rag-cloud":t,"rag-cloud-ch":t}],"ik-server":[0,{jcloud:t,"jcloud-ver-jpc":t}],jelastic:[0,{demo:t}],massivegrid:_e,wafaicloud:[0,{jed:t,ryd:t}],webadorsite:t,joyent:[0,{cns:s}],lpusercontent:t,linode:[0,{members:t,nodebalancer:s}],linodeobjects:s,linodeusercontent:[0,{ip:t}],localtonet:t,lovableproject:t,barsycenter:t,barsyonline:t,modelscape:t,mwcloudnonprod:t,polyspace:t,mazeplay:t,miniserver:t,atmeta:t,fbsbx:de,meteorapp:Ce,routingthecloud:t,mydbserver:t,hostedpi:t,"mythic-beasts":[0,{caracal:t,customer:t,fentiger:t,lynx:t,ocelot:t,oncilla:t,onza:t,sphinx:t,vs:t,x:t,yali:t}],nospamproxy:[0,{cloud:[2,{o365:t}]}],"4u":t,nfshost:t,"3utilities":t,blogsyte:t,ciscofreak:t,damnserver:t,ddnsking:t,ditchyourip:t,dnsiskinky:t,dynns:t,geekgalaxy:t,"health-carereform":t,homesecuritymac:t,homesecuritypc:t,myactivedirectory:t,mysecuritycamera:t,myvnc:t,"net-freaks":t,onthewifi:t,point2this:t,quicksytes:t,securitytactics:t,servebeer:t,servecounterstrike:t,serveexchange:t,serveftp:t,servegame:t,servehalflife:t,servehttp:t,servehumour:t,serveirc:t,servemp3:t,servep2p:t,servepics:t,servequake:t,servesarcasm:t,stufftoread:t,unusualperson:t,workisboring:t,myiphost:t,observableusercontent:[0,{static:t}],simplesite:t,orsites:t,operaunite:t,"customer-oci":[0,{"*":t,oci:s,ocp:s,ocs:s}],oraclecloudapps:s,oraclegovcloudapps:s,"authgear-staging":t,authgearapps:t,skygearapp:t,outsystemscloud:t,ownprovider:t,pgfog:t,pagexl:t,gotpantheon:t,paywhirl:s,upsunapp:t,"postman-echo":t,prgmr:[0,{xen:t}],pythonanywhere:Ce,qa2:t,"alpha-myqnapcloud":t,"dev-myqnapcloud":t,mycloudnas:t,mynascloud:t,myqnapcloud:t,qualifioapp:t,ladesk:t,qbuser:t,quipelements:s,rackmaze:t,"readthedocs-hosted":t,rhcloud:t,onrender:t,render:ue,"subsc-pay":t,"180r":t,dojin:t,sakuratan:t,sakuraweb:t,x0:t,code:[0,{builder:s,"dev-builder":s,"stg-builder":s}],salesforce:[0,{platform:[0,{"code-builder-stg":[0,{test:[0,{"001":s}]}]}]}],logoip:t,scrysec:t,"firewall-gateway":t,myshopblocks:t,myshopify:t,shopitsite:t,"1kapp":t,appchizi:t,applinzi:t,sinaapp:t,vipsinaapp:t,streamlitapp:t,"try-snowplow":t,"playstation-cloud":t,myspreadshop:t,"w-corp-staticblitz":t,"w-credentialless-staticblitz":t,"w-staticblitz":t,"stackhero-network":t,stdlib:[0,{api:t}],strapiapp:[2,{media:t}],"streak-link":t,streaklinks:t,streakusercontent:t,"temp-dns":t,dsmynas:t,familyds:t,mytabit:t,taveusercontent:t,"tb-hosting":je,reservd:t,thingdustdata:t,"townnews-staging":t,typeform:[0,{pro:t}],hk:t,it:t,"deus-canvas":t,vultrobjects:s,wafflecell:t,hotelwithflight:t,"reserve-online":t,cprapid:t,pleskns:t,remotewd:t,wiardweb:[0,{pages:t}],wixsite:t,wixstudio:t,messwithdns:t,"woltlab-demo":t,wpenginepowered:[2,{js:t}],xnbay:[2,{u2:t,"u2-local":t}],yolasite:t}],coop:e,cr:[1,{ac:e,co:e,ed:e,fi:e,go:e,or:e,sa:e}],cu:[1,{com:e,edu:e,gob:e,inf:e,nat:e,net:e,org:e}],cv:[1,{com:e,edu:e,id:e,int:e,net:e,nome:e,org:e,publ:e}],cw:Re,cx:[1,{gov:e,cloudns:t,ath:t,info:t,assessments:t,calculators:t,funnels:t,paynow:t,quizzes:t,researched:t,tests:t}],cy:[1,{ac:e,biz:e,com:[1,{scaleforce:Qe}],ekloges:e,gov:e,ltd:e,mil:e,net:e,org:e,press:e,pro:e,tm:e}],cz:[1,{contentproxy9:[0,{rsc:t}],realm:t,e4:t,co:t,metacentrum:[0,{cloud:s,custom:t}],muni:[0,{cloud:[0,{flt:t,usr:t}]}]}],de:[1,{bplaced:t,square7:t,com:t,cosidns:Kt,dnsupdater:t,"dynamisches-dns":t,"internet-dns":t,"l-o-g-i-n":t,ddnss:[2,{dyn:t,dyndns:t}],"dyn-ip24":t,dyndns1:t,"home-webserver":[2,{dyn:t}],"myhome-server":t,dnshome:t,fuettertdasnetz:t,isteingeek:t,istmein:t,lebtimnetz:t,leitungsen:t,traeumtgerade:t,frusky:s,goip:t,"xn--gnstigbestellen-zvb":t,g\u00FCnstigbestellen:t,"xn--gnstigliefern-wob":t,g\u00FCnstigliefern:t,"hs-heilbronn":[0,{it:[0,{pages:t,"pages-research":t}]}],"dyn-berlin":t,"in-berlin":t,"in-brb":t,"in-butter":t,"in-dsl":t,"in-vpn":t,iservschule:t,"mein-iserv":t,schulplattform:t,schulserver:t,"test-iserv":t,keymachine:t,"git-repos":t,"lcube-server":t,"svn-repos":t,barsy:t,webspaceconfig:t,"123webseite":t,rub:t,"ruhr-uni-bochum":[2,{noc:[0,{io:t}]}],logoip:t,"firewall-gateway":t,"my-gateway":t,"my-router":t,spdns:t,speedpartner:[0,{customer:t}],myspreadshop:t,"taifun-dns":t,"12hp":t,"2ix":t,"4lima":t,"lima-city":t,"dd-dns":t,"dray-dns":t,draydns:t,"dyn-vpn":t,dynvpn:t,"mein-vigor":t,"my-vigor":t,"my-wan":t,"syno-ds":t,"synology-diskstation":t,"synology-ds":t,uberspace:s,"virtual-user":t,virtualuser:t,"community-pro":t,diskussionsbereich:t}],dj:e,dk:[1,{biz:t,co:t,firm:t,reg:t,store:t,"123hjemmeside":t,myspreadshop:t}],dm:Nt,do:[1,{art:e,com:e,edu:e,gob:e,gov:e,mil:e,net:e,org:e,sld:e,web:e}],dz:[1,{art:e,asso:e,com:e,edu:e,gov:e,net:e,org:e,pol:e,soc:e,tm:e}],ec:[1,{com:e,edu:e,fin:e,gob:e,gov:e,info:e,k12:e,med:e,mil:e,net:e,org:e,pro:e,base:t,official:t}],edu:[1,{rit:[0,{"git-pages":t}]}],ee:[1,{aip:e,com:e,edu:e,fie:e,gov:e,lib:e,med:e,org:e,pri:e,riik:e}],eg:[1,{ac:e,com:e,edu:e,eun:e,gov:e,info:e,me:e,mil:e,name:e,net:e,org:e,sci:e,sport:e,tv:e}],er:g,es:[1,{com:e,edu:e,gob:e,nom:e,org:e,"123miweb":t,myspreadshop:t}],et:[1,{biz:e,com:e,edu:e,gov:e,info:e,name:e,net:e,org:e}],eu:[1,{airkitapps:t,cloudns:t,dogado:[0,{jelastic:t}],barsy:t,spdns:t,transurl:s,diskstation:t}],fi:[1,{aland:e,dy:t,"xn--hkkinen-5wa":t,h\u00E4kkinen:t,iki:t,cloudplatform:[0,{fi:t}],datacenter:[0,{demo:t,paas:t}],kapsi:t,"123kotisivu":t,myspreadshop:t}],fj:[1,{ac:e,biz:e,com:e,gov:e,info:e,mil:e,name:e,net:e,org:e,pro:e}],fk:g,fm:[1,{com:e,edu:e,net:e,org:e,radio:t,user:s}],fo:e,fr:[1,{asso:e,com:e,gouv:e,nom:e,prd:e,tm:e,avoues:e,cci:e,greta:e,"huissier-justice":e,"en-root":t,"fbx-os":t,fbxos:t,"freebox-os":t,freeboxos:t,goupile:t,"123siteweb":t,"on-web":t,"chirurgiens-dentistes-en-france":t,dedibox:t,aeroport:t,avocat:t,chambagri:t,"chirurgiens-dentistes":t,"experts-comptables":t,medecin:t,notaires:t,pharmacien:t,port:t,veterinaire:t,myspreadshop:t,ynh:t}],ga:e,gb:e,gd:[1,{edu:e,gov:e}],ge:[1,{com:e,edu:e,gov:e,net:e,org:e,pvt:e,school:e}],gf:e,gg:[1,{co:e,net:e,org:e,botdash:t,kaas:t,stackit:t,panel:[2,{daemon:t}]}],gh:[1,{com:e,edu:e,gov:e,mil:e,org:e}],gi:[1,{com:e,edu:e,gov:e,ltd:e,mod:e,org:e}],gl:[1,{co:e,com:e,edu:e,net:e,org:e,biz:t}],gm:e,gn:[1,{ac:e,com:e,edu:e,gov:e,net:e,org:e}],gov:e,gp:[1,{asso:e,com:e,edu:e,mobi:e,net:e,org:e}],gq:e,gr:[1,{com:e,edu:e,gov:e,net:e,org:e,barsy:t,simplesite:t}],gs:e,gt:[1,{com:e,edu:e,gob:e,ind:e,mil:e,net:e,org:e}],gu:[1,{com:e,edu:e,gov:e,guam:e,info:e,net:e,org:e,web:e}],gw:e,gy:Nt,hk:[1,{com:e,edu:e,gov:e,idv:e,net:e,org:e,"xn--ciqpn":e,\u4E2A\u4EBA:e,"xn--gmqw5a":e,\u500B\u4EBA:e,"xn--55qx5d":e,\u516C\u53F8:e,"xn--mxtq1m":e,\u653F\u5E9C:e,"xn--lcvr32d":e,\u654E\u80B2:e,"xn--wcvs22d":e,\u6559\u80B2:e,"xn--gmq050i":e,\u7B87\u4EBA:e,"xn--uc0atv":e,\u7D44\u7E54:e,"xn--uc0ay4a":e,\u7D44\u7EC7:e,"xn--od0alg":e,\u7DB2\u7D61:e,"xn--zf0avx":e,\u7DB2\u7EDC:e,"xn--mk0axi":e,\u7EC4\u7E54:e,"xn--tn0ag":e,\u7EC4\u7EC7:e,"xn--od0aq3b":e,\u7F51\u7D61:e,"xn--io0a7i":e,\u7F51\u7EDC:e,inc:t,ltd:t}],hm:e,hn:[1,{com:e,edu:e,gob:e,mil:e,net:e,org:e}],hr:[1,{com:e,from:e,iz:e,name:e,brendly:tr}],ht:[1,{adult:e,art:e,asso:e,com:e,coop:e,edu:e,firm:e,gouv:e,info:e,med:e,net:e,org:e,perso:e,pol:e,pro:e,rel:e,shop:e,rt:t}],hu:[1,{2e3:e,agrar:e,bolt:e,casino:e,city:e,co:e,erotica:e,erotika:e,film:e,forum:e,games:e,hotel:e,info:e,ingatlan:e,jogasz:e,konyvelo:e,lakas:e,media:e,news:e,org:e,priv:e,reklam:e,sex:e,shop:e,sport:e,suli:e,szex:e,tm:e,tozsde:e,utazas:e,video:e}],id:[1,{ac:e,biz:e,co:e,desa:e,go:e,mil:e,my:e,net:e,or:e,ponpes:e,sch:e,web:e,zone:t}],ie:[1,{gov:e,myspreadshop:t}],il:[1,{ac:e,co:[1,{ravpage:t,mytabit:t,tabitorder:t}],gov:e,idf:e,k12:e,muni:e,net:e,org:e}],"xn--4dbrk0ce":[1,{"xn--4dbgdty6c":e,"xn--5dbhl8d":e,"xn--8dbq2a":e,"xn--hebda8b":e}],\u05D9\u05E9\u05E8\u05D0\u05DC:[1,{\u05D0\u05E7\u05D3\u05DE\u05D9\u05D4:e,\u05D9\u05E9\u05D5\u05D1:e,\u05E6\u05D4\u05DC:e,\u05DE\u05DE\u05E9\u05DC:e}],im:[1,{ac:e,co:[1,{ltd:e,plc:e}],com:e,net:e,org:e,tt:e,tv:e}],in:[1,{"5g":e,"6g":e,ac:e,ai:e,am:e,bihar:e,biz:e,business:e,ca:e,cn:e,co:e,com:e,coop:e,cs:e,delhi:e,dr:e,edu:e,er:e,firm:e,gen:e,gov:e,gujarat:e,ind:e,info:e,int:e,internet:e,io:e,me:e,mil:e,net:e,nic:e,org:e,pg:e,post:e,pro:e,res:e,travel:e,tv:e,uk:e,up:e,us:e,cloudns:t,barsy:t,web:t,supabase:t}],info:[1,{cloudns:t,"dynamic-dns":t,"barrel-of-knowledge":t,"barrell-of-knowledge":t,dyndns:t,"for-our":t,"groks-the":t,"groks-this":t,"here-for-more":t,knowsitall:t,selfip:t,webhop:t,barsy:t,mayfirst:t,mittwald:t,mittwaldserver:t,typo3server:t,dvrcam:t,ilovecollege:t,"no-ip":t,forumz:t,nsupdate:t,dnsupdate:t,"v-info":t}],int:[1,{eu:e}],io:[1,{2038:t,co:e,com:e,edu:e,gov:e,mil:e,net:e,nom:e,org:e,"on-acorn":s,myaddr:t,apigee:t,"b-data":t,beagleboard:t,bitbucket:t,bluebite:t,boxfuse:t,brave:i,browsersafetymark:t,bubble:F,bubbleapps:t,bigv:[0,{uk0:t}],cleverapps:t,cloudbeesusercontent:t,dappnode:[0,{dyndns:t}],darklang:t,definima:t,dedyn:t,"fh-muenster":t,shw:t,forgerock:[0,{id:t}],github:t,gitlab:t,lolipop:t,"hasura-app":t,hostyhosting:t,hypernode:t,moonscale:s,beebyte:_e,beebyteapp:[0,{sekd1:t}],jele:t,webthings:t,loginline:t,barsy:t,azurecontainer:s,ngrok:[2,{ap:t,au:t,eu:t,in:t,jp:t,sa:t,us:t}],nodeart:[0,{stage:t}],pantheonsite:t,pstmn:[2,{mock:t}],protonet:t,qcx:[2,{sys:s}],qoto:t,vaporcloud:t,myrdbx:t,"rb-hosting":je,"on-k3s":s,"on-rio":s,readthedocs:t,resindevice:t,resinstaging:[0,{devices:t}],hzc:t,sandcats:t,scrypted:[0,{client:t}],"mo-siemens":t,lair:de,stolos:s,musician:t,utwente:t,edugit:t,telebit:t,thingdust:[0,{dev:q,disrec:q,prod:O,testing:q}],tickets:t,webflow:t,webflowtest:t,editorx:t,wixstudio:t,basicserver:t,virtualserver:t}],iq:n,ir:[1,{ac:e,co:e,gov:e,id:e,net:e,org:e,sch:e,"xn--mgba3a4f16a":e,\u0627\u06CC\u0631\u0627\u0646:e,"xn--mgba3a4fra":e,\u0627\u064A\u0631\u0627\u0646:e,arvanedge:t}],is:e,it:[1,{edu:e,gov:e,abr:e,abruzzo:e,"aosta-valley":e,aostavalley:e,bas:e,basilicata:e,cal:e,calabria:e,cam:e,campania:e,"emilia-romagna":e,emiliaromagna:e,emr:e,"friuli-v-giulia":e,"friuli-ve-giulia":e,"friuli-vegiulia":e,"friuli-venezia-giulia":e,"friuli-veneziagiulia":e,"friuli-vgiulia":e,"friuliv-giulia":e,"friulive-giulia":e,friulivegiulia:e,"friulivenezia-giulia":e,friuliveneziagiulia:e,friulivgiulia:e,fvg:e,laz:e,lazio:e,lig:e,liguria:e,lom:e,lombardia:e,lombardy:e,lucania:e,mar:e,marche:e,mol:e,molise:e,piedmont:e,piemonte:e,pmn:e,pug:e,puglia:e,sar:e,sardegna:e,sardinia:e,sic:e,sicilia:e,sicily:e,taa:e,tos:e,toscana:e,"trentin-sud-tirol":e,"xn--trentin-sd-tirol-rzb":e,"trentin-s\xFCd-tirol":e,"trentin-sudtirol":e,"xn--trentin-sdtirol-7vb":e,"trentin-s\xFCdtirol":e,"trentin-sued-tirol":e,"trentin-suedtirol":e,trentino:e,"trentino-a-adige":e,"trentino-aadige":e,"trentino-alto-adige":e,"trentino-altoadige":e,"trentino-s-tirol":e,"trentino-stirol":e,"trentino-sud-tirol":e,"xn--trentino-sd-tirol-c3b":e,"trentino-s\xFCd-tirol":e,"trentino-sudtirol":e,"xn--trentino-sdtirol-szb":e,"trentino-s\xFCdtirol":e,"trentino-sued-tirol":e,"trentino-suedtirol":e,"trentinoa-adige":e,trentinoaadige:e,"trentinoalto-adige":e,trentinoaltoadige:e,"trentinos-tirol":e,trentinostirol:e,"trentinosud-tirol":e,"xn--trentinosd-tirol-rzb":e,"trentinos\xFCd-tirol":e,trentinosudtirol:e,"xn--trentinosdtirol-7vb":e,trentinos\u00FCdtirol:e,"trentinosued-tirol":e,trentinosuedtirol:e,"trentinsud-tirol":e,"xn--trentinsd-tirol-6vb":e,"trentins\xFCd-tirol":e,trentinsudtirol:e,"xn--trentinsdtirol-nsb":e,trentins\u00FCdtirol:e,"trentinsued-tirol":e,trentinsuedtirol:e,tuscany:e,umb:e,umbria:e,"val-d-aosta":e,"val-daosta":e,"vald-aosta":e,valdaosta:e,"valle-aosta":e,"valle-d-aosta":e,"valle-daosta":e,valleaosta:e,"valled-aosta":e,valledaosta:e,"vallee-aoste":e,"xn--valle-aoste-ebb":e,"vall\xE9e-aoste":e,"vallee-d-aoste":e,"xn--valle-d-aoste-ehb":e,"vall\xE9e-d-aoste":e,valleeaoste:e,"xn--valleaoste-e7a":e,vall\u00E9eaoste:e,valleedaoste:e,"xn--valledaoste-ebb":e,vall\u00E9edaoste:e,vao:e,vda:e,ven:e,veneto:e,ag:e,agrigento:e,al:e,alessandria:e,"alto-adige":e,altoadige:e,an:e,ancona:e,"andria-barletta-trani":e,"andria-trani-barletta":e,andriabarlettatrani:e,andriatranibarletta:e,ao:e,aosta:e,aoste:e,ap:e,aq:e,aquila:e,ar:e,arezzo:e,"ascoli-piceno":e,ascolipiceno:e,asti:e,at:e,av:e,avellino:e,ba:e,balsan:e,"balsan-sudtirol":e,"xn--balsan-sdtirol-nsb":e,"balsan-s\xFCdtirol":e,"balsan-suedtirol":e,bari:e,"barletta-trani-andria":e,barlettatraniandria:e,belluno:e,benevento:e,bergamo:e,bg:e,bi:e,biella:e,bl:e,bn:e,bo:e,bologna:e,bolzano:e,"bolzano-altoadige":e,bozen:e,"bozen-sudtirol":e,"xn--bozen-sdtirol-2ob":e,"bozen-s\xFCdtirol":e,"bozen-suedtirol":e,br:e,brescia:e,brindisi:e,bs:e,bt:e,bulsan:e,"bulsan-sudtirol":e,"xn--bulsan-sdtirol-nsb":e,"bulsan-s\xFCdtirol":e,"bulsan-suedtirol":e,bz:e,ca:e,cagliari:e,caltanissetta:e,"campidano-medio":e,campidanomedio:e,campobasso:e,"carbonia-iglesias":e,carboniaiglesias:e,"carrara-massa":e,carraramassa:e,caserta:e,catania:e,catanzaro:e,cb:e,ce:e,"cesena-forli":e,"xn--cesena-forl-mcb":e,"cesena-forl\xEC":e,cesenaforli:e,"xn--cesenaforl-i8a":e,cesenaforl\u00EC:e,ch:e,chieti:e,ci:e,cl:e,cn:e,co:e,como:e,cosenza:e,cr:e,cremona:e,crotone:e,cs:e,ct:e,cuneo:e,cz:e,"dell-ogliastra":e,dellogliastra:e,en:e,enna:e,fc:e,fe:e,fermo:e,ferrara:e,fg:e,fi:e,firenze:e,florence:e,fm:e,foggia:e,"forli-cesena":e,"xn--forl-cesena-fcb":e,"forl\xEC-cesena":e,forlicesena:e,"xn--forlcesena-c8a":e,forl\u00ECcesena:e,fr:e,frosinone:e,ge:e,genoa:e,genova:e,go:e,gorizia:e,gr:e,grosseto:e,"iglesias-carbonia":e,iglesiascarbonia:e,im:e,imperia:e,is:e,isernia:e,kr:e,"la-spezia":e,laquila:e,laspezia:e,latina:e,lc:e,le:e,lecce:e,lecco:e,li:e,livorno:e,lo:e,lodi:e,lt:e,lu:e,lucca:e,macerata:e,mantova:e,"massa-carrara":e,massacarrara:e,matera:e,mb:e,mc:e,me:e,"medio-campidano":e,mediocampidano:e,messina:e,mi:e,milan:e,milano:e,mn:e,mo:e,modena:e,monza:e,"monza-brianza":e,"monza-e-della-brianza":e,monzabrianza:e,monzaebrianza:e,monzaedellabrianza:e,ms:e,mt:e,na:e,naples:e,napoli:e,no:e,novara:e,nu:e,nuoro:e,og:e,ogliastra:e,"olbia-tempio":e,olbiatempio:e,or:e,oristano:e,ot:e,pa:e,padova:e,padua:e,palermo:e,parma:e,pavia:e,pc:e,pd:e,pe:e,perugia:e,"pesaro-urbino":e,pesarourbino:e,pescara:e,pg:e,pi:e,piacenza:e,pisa:e,pistoia:e,pn:e,po:e,pordenone:e,potenza:e,pr:e,prato:e,pt:e,pu:e,pv:e,pz:e,ra:e,ragusa:e,ravenna:e,rc:e,re:e,"reggio-calabria":e,"reggio-emilia":e,reggiocalabria:e,reggioemilia:e,rg:e,ri:e,rieti:e,rimini:e,rm:e,rn:e,ro:e,roma:e,rome:e,rovigo:e,sa:e,salerno:e,sassari:e,savona:e,si:e,siena:e,siracusa:e,so:e,sondrio:e,sp:e,sr:e,ss:e,"xn--sdtirol-n2a":e,s\u00FCdtirol:e,suedtirol:e,sv:e,ta:e,taranto:e,te:e,"tempio-olbia":e,tempioolbia:e,teramo:e,terni:e,tn:e,to:e,torino:e,tp:e,tr:e,"trani-andria-barletta":e,"trani-barletta-andria":e,traniandriabarletta:e,tranibarlettaandria:e,trapani:e,trento:e,treviso:e,trieste:e,ts:e,turin:e,tv:e,ud:e,udine:e,"urbino-pesaro":e,urbinopesaro:e,va:e,varese:e,vb:e,vc:e,ve:e,venezia:e,venice:e,verbania:e,vercelli:e,verona:e,vi:e,"vibo-valentia":e,vibovalentia:e,vicenza:e,viterbo:e,vr:e,vs:e,vt:e,vv:e,"12chars":t,ibxos:t,iliadboxos:t,neen:[0,{jc:t}],"123homepage":t,"16-b":t,"32-b":t,"64-b":t,myspreadshop:t,syncloud:t}],je:[1,{co:e,net:e,org:e,of:t}],jm:g,jo:[1,{agri:e,ai:e,com:e,edu:e,eng:e,fm:e,gov:e,mil:e,net:e,org:e,per:e,phd:e,sch:e,tv:e}],jobs:e,jp:[1,{ac:e,ad:e,co:e,ed:e,go:e,gr:e,lg:e,ne:[1,{aseinet:Oe,gehirn:t,ivory:t,"mail-box":t,mints:t,mokuren:t,opal:t,sakura:t,sumomo:t,topaz:t}],or:e,aichi:[1,{aisai:e,ama:e,anjo:e,asuke:e,chiryu:e,chita:e,fuso:e,gamagori:e,handa:e,hazu:e,hekinan:e,higashiura:e,ichinomiya:e,inazawa:e,inuyama:e,isshiki:e,iwakura:e,kanie:e,kariya:e,kasugai:e,kira:e,kiyosu:e,komaki:e,konan:e,kota:e,mihama:e,miyoshi:e,nishio:e,nisshin:e,obu:e,oguchi:e,oharu:e,okazaki:e,owariasahi:e,seto:e,shikatsu:e,shinshiro:e,shitara:e,tahara:e,takahama:e,tobishima:e,toei:e,togo:e,tokai:e,tokoname:e,toyoake:e,toyohashi:e,toyokawa:e,toyone:e,toyota:e,tsushima:e,yatomi:e}],akita:[1,{akita:e,daisen:e,fujisato:e,gojome:e,hachirogata:e,happou:e,higashinaruse:e,honjo:e,honjyo:e,ikawa:e,kamikoani:e,kamioka:e,katagami:e,kazuno:e,kitaakita:e,kosaka:e,kyowa:e,misato:e,mitane:e,moriyoshi:e,nikaho:e,noshiro:e,odate:e,oga:e,ogata:e,semboku:e,yokote:e,yurihonjo:e}],aomori:[1,{aomori:e,gonohe:e,hachinohe:e,hashikami:e,hiranai:e,hirosaki:e,itayanagi:e,kuroishi:e,misawa:e,mutsu:e,nakadomari:e,noheji:e,oirase:e,owani:e,rokunohe:e,sannohe:e,shichinohe:e,shingo:e,takko:e,towada:e,tsugaru:e,tsuruta:e}],chiba:[1,{abiko:e,asahi:e,chonan:e,chosei:e,choshi:e,chuo:e,funabashi:e,futtsu:e,hanamigawa:e,ichihara:e,ichikawa:e,ichinomiya:e,inzai:e,isumi:e,kamagaya:e,kamogawa:e,kashiwa:e,katori:e,katsuura:e,kimitsu:e,kisarazu:e,kozaki:e,kujukuri:e,kyonan:e,matsudo:e,midori:e,mihama:e,minamiboso:e,mobara:e,mutsuzawa:e,nagara:e,nagareyama:e,narashino:e,narita:e,noda:e,oamishirasato:e,omigawa:e,onjuku:e,otaki:e,sakae:e,sakura:e,shimofusa:e,shirako:e,shiroi:e,shisui:e,sodegaura:e,sosa:e,tako:e,tateyama:e,togane:e,tohnosho:e,tomisato:e,urayasu:e,yachimata:e,yachiyo:e,yokaichiba:e,yokoshibahikari:e,yotsukaido:e}],ehime:[1,{ainan:e,honai:e,ikata:e,imabari:e,iyo:e,kamijima:e,kihoku:e,kumakogen:e,masaki:e,matsuno:e,matsuyama:e,namikata:e,niihama:e,ozu:e,saijo:e,seiyo:e,shikokuchuo:e,tobe:e,toon:e,uchiko:e,uwajima:e,yawatahama:e}],fukui:[1,{echizen:e,eiheiji:e,fukui:e,ikeda:e,katsuyama:e,mihama:e,minamiechizen:e,obama:e,ohi:e,ono:e,sabae:e,sakai:e,takahama:e,tsuruga:e,wakasa:e}],fukuoka:[1,{ashiya:e,buzen:e,chikugo:e,chikuho:e,chikujo:e,chikushino:e,chikuzen:e,chuo:e,dazaifu:e,fukuchi:e,hakata:e,higashi:e,hirokawa:e,hisayama:e,iizuka:e,inatsuki:e,kaho:e,kasuga:e,kasuya:e,kawara:e,keisen:e,koga:e,kurate:e,kurogi:e,kurume:e,minami:e,miyako:e,miyama:e,miyawaka:e,mizumaki:e,munakata:e,nakagawa:e,nakama:e,nishi:e,nogata:e,ogori:e,okagaki:e,okawa:e,oki:e,omuta:e,onga:e,onojo:e,oto:e,saigawa:e,sasaguri:e,shingu:e,shinyoshitomi:e,shonai:e,soeda:e,sue:e,tachiarai:e,tagawa:e,takata:e,toho:e,toyotsu:e,tsuiki:e,ukiha:e,umi:e,usui:e,yamada:e,yame:e,yanagawa:e,yukuhashi:e}],fukushima:[1,{aizubange:e,aizumisato:e,aizuwakamatsu:e,asakawa:e,bandai:e,date:e,fukushima:e,furudono:e,futaba:e,hanawa:e,higashi:e,hirata:e,hirono:e,iitate:e,inawashiro:e,ishikawa:e,iwaki:e,izumizaki:e,kagamiishi:e,kaneyama:e,kawamata:e,kitakata:e,kitashiobara:e,koori:e,koriyama:e,kunimi:e,miharu:e,mishima:e,namie:e,nango:e,nishiaizu:e,nishigo:e,okuma:e,omotego:e,ono:e,otama:e,samegawa:e,shimogo:e,shirakawa:e,showa:e,soma:e,sukagawa:e,taishin:e,tamakawa:e,tanagura:e,tenei:e,yabuki:e,yamato:e,yamatsuri:e,yanaizu:e,yugawa:e}],gifu:[1,{anpachi:e,ena:e,gifu:e,ginan:e,godo:e,gujo:e,hashima:e,hichiso:e,hida:e,higashishirakawa:e,ibigawa:e,ikeda:e,kakamigahara:e,kani:e,kasahara:e,kasamatsu:e,kawaue:e,kitagata:e,mino:e,minokamo:e,mitake:e,mizunami:e,motosu:e,nakatsugawa:e,ogaki:e,sakahogi:e,seki:e,sekigahara:e,shirakawa:e,tajimi:e,takayama:e,tarui:e,toki:e,tomika:e,wanouchi:e,yamagata:e,yaotsu:e,yoro:e}],gunma:[1,{annaka:e,chiyoda:e,fujioka:e,higashiagatsuma:e,isesaki:e,itakura:e,kanna:e,kanra:e,katashina:e,kawaba:e,kiryu:e,kusatsu:e,maebashi:e,meiwa:e,midori:e,minakami:e,naganohara:e,nakanojo:e,nanmoku:e,numata:e,oizumi:e,ora:e,ota:e,shibukawa:e,shimonita:e,shinto:e,showa:e,takasaki:e,takayama:e,tamamura:e,tatebayashi:e,tomioka:e,tsukiyono:e,tsumagoi:e,ueno:e,yoshioka:e}],hiroshima:[1,{asaminami:e,daiwa:e,etajima:e,fuchu:e,fukuyama:e,hatsukaichi:e,higashihiroshima:e,hongo:e,jinsekikogen:e,kaita:e,kui:e,kumano:e,kure:e,mihara:e,miyoshi:e,naka:e,onomichi:e,osakikamijima:e,otake:e,saka:e,sera:e,seranishi:e,shinichi:e,shobara:e,takehara:e}],hokkaido:[1,{abashiri:e,abira:e,aibetsu:e,akabira:e,akkeshi:e,asahikawa:e,ashibetsu:e,ashoro:e,assabu:e,atsuma:e,bibai:e,biei:e,bifuka:e,bihoro:e,biratori:e,chippubetsu:e,chitose:e,date:e,ebetsu:e,embetsu:e,eniwa:e,erimo:e,esan:e,esashi:e,fukagawa:e,fukushima:e,furano:e,furubira:e,haboro:e,hakodate:e,hamatonbetsu:e,hidaka:e,higashikagura:e,higashikawa:e,hiroo:e,hokuryu:e,hokuto:e,honbetsu:e,horokanai:e,horonobe:e,ikeda:e,imakane:e,ishikari:e,iwamizawa:e,iwanai:e,kamifurano:e,kamikawa:e,kamishihoro:e,kamisunagawa:e,kamoenai:e,kayabe:e,kembuchi:e,kikonai:e,kimobetsu:e,kitahiroshima:e,kitami:e,kiyosato:e,koshimizu:e,kunneppu:e,kuriyama:e,kuromatsunai:e,kushiro:e,kutchan:e,kyowa:e,mashike:e,matsumae:e,mikasa:e,minamifurano:e,mombetsu:e,moseushi:e,mukawa:e,muroran:e,naie:e,nakagawa:e,nakasatsunai:e,nakatombetsu:e,nanae:e,nanporo:e,nayoro:e,nemuro:e,niikappu:e,niki:e,nishiokoppe:e,noboribetsu:e,numata:e,obihiro:e,obira:e,oketo:e,okoppe:e,otaru:e,otobe:e,otofuke:e,otoineppu:e,oumu:e,ozora:e,pippu:e,rankoshi:e,rebun:e,rikubetsu:e,rishiri:e,rishirifuji:e,saroma:e,sarufutsu:e,shakotan:e,shari:e,shibecha:e,shibetsu:e,shikabe:e,shikaoi:e,shimamaki:e,shimizu:e,shimokawa:e,shinshinotsu:e,shintoku:e,shiranuka:e,shiraoi:e,shiriuchi:e,sobetsu:e,sunagawa:e,taiki:e,takasu:e,takikawa:e,takinoue:e,teshikaga:e,tobetsu:e,tohma:e,tomakomai:e,tomari:e,toya:e,toyako:e,toyotomi:e,toyoura:e,tsubetsu:e,tsukigata:e,urakawa:e,urausu:e,uryu:e,utashinai:e,wakkanai:e,wassamu:e,yakumo:e,yoichi:e}],hyogo:[1,{aioi:e,akashi:e,ako:e,amagasaki:e,aogaki:e,asago:e,ashiya:e,awaji:e,fukusaki:e,goshiki:e,harima:e,himeji:e,ichikawa:e,inagawa:e,itami:e,kakogawa:e,kamigori:e,kamikawa:e,kasai:e,kasuga:e,kawanishi:e,miki:e,minamiawaji:e,nishinomiya:e,nishiwaki:e,ono:e,sanda:e,sannan:e,sasayama:e,sayo:e,shingu:e,shinonsen:e,shiso:e,sumoto:e,taishi:e,taka:e,takarazuka:e,takasago:e,takino:e,tamba:e,tatsuno:e,toyooka:e,yabu:e,yashiro:e,yoka:e,yokawa:e}],ibaraki:[1,{ami:e,asahi:e,bando:e,chikusei:e,daigo:e,fujishiro:e,hitachi:e,hitachinaka:e,hitachiomiya:e,hitachiota:e,ibaraki:e,ina:e,inashiki:e,itako:e,iwama:e,joso:e,kamisu:e,kasama:e,kashima:e,kasumigaura:e,koga:e,miho:e,mito:e,moriya:e,naka:e,namegata:e,oarai:e,ogawa:e,omitama:e,ryugasaki:e,sakai:e,sakuragawa:e,shimodate:e,shimotsuma:e,shirosato:e,sowa:e,suifu:e,takahagi:e,tamatsukuri:e,tokai:e,tomobe:e,tone:e,toride:e,tsuchiura:e,tsukuba:e,uchihara:e,ushiku:e,yachiyo:e,yamagata:e,yawara:e,yuki:e}],ishikawa:[1,{anamizu:e,hakui:e,hakusan:e,kaga:e,kahoku:e,kanazawa:e,kawakita:e,komatsu:e,nakanoto:e,nanao:e,nomi:e,nonoichi:e,noto:e,shika:e,suzu:e,tsubata:e,tsurugi:e,uchinada:e,wajima:e}],iwate:[1,{fudai:e,fujisawa:e,hanamaki:e,hiraizumi:e,hirono:e,ichinohe:e,ichinoseki:e,iwaizumi:e,iwate:e,joboji:e,kamaishi:e,kanegasaki:e,karumai:e,kawai:e,kitakami:e,kuji:e,kunohe:e,kuzumaki:e,miyako:e,mizusawa:e,morioka:e,ninohe:e,noda:e,ofunato:e,oshu:e,otsuchi:e,rikuzentakata:e,shiwa:e,shizukuishi:e,sumita:e,tanohata:e,tono:e,yahaba:e,yamada:e}],kagawa:[1,{ayagawa:e,higashikagawa:e,kanonji:e,kotohira:e,manno:e,marugame:e,mitoyo:e,naoshima:e,sanuki:e,tadotsu:e,takamatsu:e,tonosho:e,uchinomi:e,utazu:e,zentsuji:e}],kagoshima:[1,{akune:e,amami:e,hioki:e,isa:e,isen:e,izumi:e,kagoshima:e,kanoya:e,kawanabe:e,kinko:e,kouyama:e,makurazaki:e,matsumoto:e,minamitane:e,nakatane:e,nishinoomote:e,satsumasendai:e,soo:e,tarumizu:e,yusui:e}],kanagawa:[1,{aikawa:e,atsugi:e,ayase:e,chigasaki:e,ebina:e,fujisawa:e,hadano:e,hakone:e,hiratsuka:e,isehara:e,kaisei:e,kamakura:e,kiyokawa:e,matsuda:e,minamiashigara:e,miura:e,nakai:e,ninomiya:e,odawara:e,oi:e,oiso:e,sagamihara:e,samukawa:e,tsukui:e,yamakita:e,yamato:e,yokosuka:e,yugawara:e,zama:e,zushi:e}],kochi:[1,{aki:e,geisei:e,hidaka:e,higashitsuno:e,ino:e,kagami:e,kami:e,kitagawa:e,kochi:e,mihara:e,motoyama:e,muroto:e,nahari:e,nakamura:e,nankoku:e,nishitosa:e,niyodogawa:e,ochi:e,okawa:e,otoyo:e,otsuki:e,sakawa:e,sukumo:e,susaki:e,tosa:e,tosashimizu:e,toyo:e,tsuno:e,umaji:e,yasuda:e,yusuhara:e}],kumamoto:[1,{amakusa:e,arao:e,aso:e,choyo:e,gyokuto:e,kamiamakusa:e,kikuchi:e,kumamoto:e,mashiki:e,mifune:e,minamata:e,minamioguni:e,nagasu:e,nishihara:e,oguni:e,ozu:e,sumoto:e,takamori:e,uki:e,uto:e,yamaga:e,yamato:e,yatsushiro:e}],kyoto:[1,{ayabe:e,fukuchiyama:e,higashiyama:e,ide:e,ine:e,joyo:e,kameoka:e,kamo:e,kita:e,kizu:e,kumiyama:e,kyotamba:e,kyotanabe:e,kyotango:e,maizuru:e,minami:e,minamiyamashiro:e,miyazu:e,muko:e,nagaokakyo:e,nakagyo:e,nantan:e,oyamazaki:e,sakyo:e,seika:e,tanabe:e,uji:e,ujitawara:e,wazuka:e,yamashina:e,yawata:e}],mie:[1,{asahi:e,inabe:e,ise:e,kameyama:e,kawagoe:e,kiho:e,kisosaki:e,kiwa:e,komono:e,kumano:e,kuwana:e,matsusaka:e,meiwa:e,mihama:e,minamiise:e,misugi:e,miyama:e,nabari:e,shima:e,suzuka:e,tado:e,taiki:e,taki:e,tamaki:e,toba:e,tsu:e,udono:e,ureshino:e,watarai:e,yokkaichi:e}],miyagi:[1,{furukawa:e,higashimatsushima:e,ishinomaki:e,iwanuma:e,kakuda:e,kami:e,kawasaki:e,marumori:e,matsushima:e,minamisanriku:e,misato:e,murata:e,natori:e,ogawara:e,ohira:e,onagawa:e,osaki:e,rifu:e,semine:e,shibata:e,shichikashuku:e,shikama:e,shiogama:e,shiroishi:e,tagajo:e,taiwa:e,tome:e,tomiya:e,wakuya:e,watari:e,yamamoto:e,zao:e}],miyazaki:[1,{aya:e,ebino:e,gokase:e,hyuga:e,kadogawa:e,kawaminami:e,kijo:e,kitagawa:e,kitakata:e,kitaura:e,kobayashi:e,kunitomi:e,kushima:e,mimata:e,miyakonojo:e,miyazaki:e,morotsuka:e,nichinan:e,nishimera:e,nobeoka:e,saito:e,shiiba:e,shintomi:e,takaharu:e,takanabe:e,takazaki:e,tsuno:e}],nagano:[1,{achi:e,agematsu:e,anan:e,aoki:e,asahi:e,azumino:e,chikuhoku:e,chikuma:e,chino:e,fujimi:e,hakuba:e,hara:e,hiraya:e,iida:e,iijima:e,iiyama:e,iizuna:e,ikeda:e,ikusaka:e,ina:e,karuizawa:e,kawakami:e,kiso:e,kisofukushima:e,kitaaiki:e,komagane:e,komoro:e,matsukawa:e,matsumoto:e,miasa:e,minamiaiki:e,minamimaki:e,minamiminowa:e,minowa:e,miyada:e,miyota:e,mochizuki:e,nagano:e,nagawa:e,nagiso:e,nakagawa:e,nakano:e,nozawaonsen:e,obuse:e,ogawa:e,okaya:e,omachi:e,omi:e,ookuwa:e,ooshika:e,otaki:e,otari:e,sakae:e,sakaki:e,saku:e,sakuho:e,shimosuwa:e,shinanomachi:e,shiojiri:e,suwa:e,suzaka:e,takagi:e,takamori:e,takayama:e,tateshina:e,tatsuno:e,togakushi:e,togura:e,tomi:e,ueda:e,wada:e,yamagata:e,yamanouchi:e,yasaka:e,yasuoka:e}],nagasaki:[1,{chijiwa:e,futsu:e,goto:e,hasami:e,hirado:e,iki:e,isahaya:e,kawatana:e,kuchinotsu:e,matsuura:e,nagasaki:e,obama:e,omura:e,oseto:e,saikai:e,sasebo:e,seihi:e,shimabara:e,shinkamigoto:e,togitsu:e,tsushima:e,unzen:e}],nara:[1,{ando:e,gose:e,heguri:e,higashiyoshino:e,ikaruga:e,ikoma:e,kamikitayama:e,kanmaki:e,kashiba:e,kashihara:e,katsuragi:e,kawai:e,kawakami:e,kawanishi:e,koryo:e,kurotaki:e,mitsue:e,miyake:e,nara:e,nosegawa:e,oji:e,ouda:e,oyodo:e,sakurai:e,sango:e,shimoichi:e,shimokitayama:e,shinjo:e,soni:e,takatori:e,tawaramoto:e,tenkawa:e,tenri:e,uda:e,yamatokoriyama:e,yamatotakada:e,yamazoe:e,yoshino:e}],niigata:[1,{aga:e,agano:e,gosen:e,itoigawa:e,izumozaki:e,joetsu:e,kamo:e,kariwa:e,kashiwazaki:e,minamiuonuma:e,mitsuke:e,muika:e,murakami:e,myoko:e,nagaoka:e,niigata:e,ojiya:e,omi:e,sado:e,sanjo:e,seiro:e,seirou:e,sekikawa:e,shibata:e,tagami:e,tainai:e,tochio:e,tokamachi:e,tsubame:e,tsunan:e,uonuma:e,yahiko:e,yoita:e,yuzawa:e}],oita:[1,{beppu:e,bungoono:e,bungotakada:e,hasama:e,hiji:e,himeshima:e,hita:e,kamitsue:e,kokonoe:e,kuju:e,kunisaki:e,kusu:e,oita:e,saiki:e,taketa:e,tsukumi:e,usa:e,usuki:e,yufu:e}],okayama:[1,{akaiwa:e,asakuchi:e,bizen:e,hayashima:e,ibara:e,kagamino:e,kasaoka:e,kibichuo:e,kumenan:e,kurashiki:e,maniwa:e,misaki:e,nagi:e,niimi:e,nishiawakura:e,okayama:e,satosho:e,setouchi:e,shinjo:e,shoo:e,soja:e,takahashi:e,tamano:e,tsuyama:e,wake:e,yakage:e}],okinawa:[1,{aguni:e,ginowan:e,ginoza:e,gushikami:e,haebaru:e,higashi:e,hirara:e,iheya:e,ishigaki:e,ishikawa:e,itoman:e,izena:e,kadena:e,kin:e,kitadaito:e,kitanakagusuku:e,kumejima:e,kunigami:e,minamidaito:e,motobu:e,nago:e,naha:e,nakagusuku:e,nakijin:e,nanjo:e,nishihara:e,ogimi:e,okinawa:e,onna:e,shimoji:e,taketomi:e,tarama:e,tokashiki:e,tomigusuku:e,tonaki:e,urasoe:e,uruma:e,yaese:e,yomitan:e,yonabaru:e,yonaguni:e,zamami:e}],osaka:[1,{abeno:e,chihayaakasaka:e,chuo:e,daito:e,fujiidera:e,habikino:e,hannan:e,higashiosaka:e,higashisumiyoshi:e,higashiyodogawa:e,hirakata:e,ibaraki:e,ikeda:e,izumi:e,izumiotsu:e,izumisano:e,kadoma:e,kaizuka:e,kanan:e,kashiwara:e,katano:e,kawachinagano:e,kishiwada:e,kita:e,kumatori:e,matsubara:e,minato:e,minoh:e,misaki:e,moriguchi:e,neyagawa:e,nishi:e,nose:e,osakasayama:e,sakai:e,sayama:e,sennan:e,settsu:e,shijonawate:e,shimamoto:e,suita:e,tadaoka:e,taishi:e,tajiri:e,takaishi:e,takatsuki:e,tondabayashi:e,toyonaka:e,toyono:e,yao:e}],saga:[1,{ariake:e,arita:e,fukudomi:e,genkai:e,hamatama:e,hizen:e,imari:e,kamimine:e,kanzaki:e,karatsu:e,kashima:e,kitagata:e,kitahata:e,kiyama:e,kouhoku:e,kyuragi:e,nishiarita:e,ogi:e,omachi:e,ouchi:e,saga:e,shiroishi:e,taku:e,tara:e,tosu:e,yoshinogari:e}],saitama:[1,{arakawa:e,asaka:e,chichibu:e,fujimi:e,fujimino:e,fukaya:e,hanno:e,hanyu:e,hasuda:e,hatogaya:e,hatoyama:e,hidaka:e,higashichichibu:e,higashimatsuyama:e,honjo:e,ina:e,iruma:e,iwatsuki:e,kamiizumi:e,kamikawa:e,kamisato:e,kasukabe:e,kawagoe:e,kawaguchi:e,kawajima:e,kazo:e,kitamoto:e,koshigaya:e,kounosu:e,kuki:e,kumagaya:e,matsubushi:e,minano:e,misato:e,miyashiro:e,miyoshi:e,moroyama:e,nagatoro:e,namegawa:e,niiza:e,ogano:e,ogawa:e,ogose:e,okegawa:e,omiya:e,otaki:e,ranzan:e,ryokami:e,saitama:e,sakado:e,satte:e,sayama:e,shiki:e,shiraoka:e,soka:e,sugito:e,toda:e,tokigawa:e,tokorozawa:e,tsurugashima:e,urawa:e,warabi:e,yashio:e,yokoze:e,yono:e,yorii:e,yoshida:e,yoshikawa:e,yoshimi:e}],shiga:[1,{aisho:e,gamo:e,higashiomi:e,hikone:e,koka:e,konan:e,kosei:e,koto:e,kusatsu:e,maibara:e,moriyama:e,nagahama:e,nishiazai:e,notogawa:e,omihachiman:e,otsu:e,ritto:e,ryuoh:e,takashima:e,takatsuki:e,torahime:e,toyosato:e,yasu:e}],shimane:[1,{akagi:e,ama:e,gotsu:e,hamada:e,higashiizumo:e,hikawa:e,hikimi:e,izumo:e,kakinoki:e,masuda:e,matsue:e,misato:e,nishinoshima:e,ohda:e,okinoshima:e,okuizumo:e,shimane:e,tamayu:e,tsuwano:e,unnan:e,yakumo:e,yasugi:e,yatsuka:e}],shizuoka:[1,{arai:e,atami:e,fuji:e,fujieda:e,fujikawa:e,fujinomiya:e,fukuroi:e,gotemba:e,haibara:e,hamamatsu:e,higashiizu:e,ito:e,iwata:e,izu:e,izunokuni:e,kakegawa:e,kannami:e,kawanehon:e,kawazu:e,kikugawa:e,kosai:e,makinohara:e,matsuzaki:e,minamiizu:e,mishima:e,morimachi:e,nishiizu:e,numazu:e,omaezaki:e,shimada:e,shimizu:e,shimoda:e,shizuoka:e,susono:e,yaizu:e,yoshida:e}],tochigi:[1,{ashikaga:e,bato:e,haga:e,ichikai:e,iwafune:e,kaminokawa:e,kanuma:e,karasuyama:e,kuroiso:e,mashiko:e,mibu:e,moka:e,motegi:e,nasu:e,nasushiobara:e,nikko:e,nishikata:e,nogi:e,ohira:e,ohtawara:e,oyama:e,sakura:e,sano:e,shimotsuke:e,shioya:e,takanezawa:e,tochigi:e,tsuga:e,ujiie:e,utsunomiya:e,yaita:e}],tokushima:[1,{aizumi:e,anan:e,ichiba:e,itano:e,kainan:e,komatsushima:e,matsushige:e,mima:e,minami:e,miyoshi:e,mugi:e,nakagawa:e,naruto:e,sanagochi:e,shishikui:e,tokushima:e,wajiki:e}],tokyo:[1,{adachi:e,akiruno:e,akishima:e,aogashima:e,arakawa:e,bunkyo:e,chiyoda:e,chofu:e,chuo:e,edogawa:e,fuchu:e,fussa:e,hachijo:e,hachioji:e,hamura:e,higashikurume:e,higashimurayama:e,higashiyamato:e,hino:e,hinode:e,hinohara:e,inagi:e,itabashi:e,katsushika:e,kita:e,kiyose:e,kodaira:e,koganei:e,kokubunji:e,komae:e,koto:e,kouzushima:e,kunitachi:e,machida:e,meguro:e,minato:e,mitaka:e,mizuho:e,musashimurayama:e,musashino:e,nakano:e,nerima:e,ogasawara:e,okutama:e,ome:e,oshima:e,ota:e,setagaya:e,shibuya:e,shinagawa:e,shinjuku:e,suginami:e,sumida:e,tachikawa:e,taito:e,tama:e,toshima:e}],tottori:[1,{chizu:e,hino:e,kawahara:e,koge:e,kotoura:e,misasa:e,nanbu:e,nichinan:e,sakaiminato:e,tottori:e,wakasa:e,yazu:e,yonago:e}],toyama:[1,{asahi:e,fuchu:e,fukumitsu:e,funahashi:e,himi:e,imizu:e,inami:e,johana:e,kamiichi:e,kurobe:e,nakaniikawa:e,namerikawa:e,nanto:e,nyuzen:e,oyabe:e,taira:e,takaoka:e,tateyama:e,toga:e,tonami:e,toyama:e,unazuki:e,uozu:e,yamada:e}],wakayama:[1,{arida:e,aridagawa:e,gobo:e,hashimoto:e,hidaka:e,hirogawa:e,inami:e,iwade:e,kainan:e,kamitonda:e,katsuragi:e,kimino:e,kinokawa:e,kitayama:e,koya:e,koza:e,kozagawa:e,kudoyama:e,kushimoto:e,mihama:e,misato:e,nachikatsuura:e,shingu:e,shirahama:e,taiji:e,tanabe:e,wakayama:e,yuasa:e,yura:e}],yamagata:[1,{asahi:e,funagata:e,higashine:e,iide:e,kahoku:e,kaminoyama:e,kaneyama:e,kawanishi:e,mamurogawa:e,mikawa:e,murayama:e,nagai:e,nakayama:e,nanyo:e,nishikawa:e,obanazawa:e,oe:e,oguni:e,ohkura:e,oishida:e,sagae:e,sakata:e,sakegawa:e,shinjo:e,shirataka:e,shonai:e,takahata:e,tendo:e,tozawa:e,tsuruoka:e,yamagata:e,yamanobe:e,yonezawa:e,yuza:e}],yamaguchi:[1,{abu:e,hagi:e,hikari:e,hofu:e,iwakuni:e,kudamatsu:e,mitou:e,nagato:e,oshima:e,shimonoseki:e,shunan:e,tabuse:e,tokuyama:e,toyota:e,ube:e,yuu:e}],yamanashi:[1,{chuo:e,doshi:e,fuefuki:e,fujikawa:e,fujikawaguchiko:e,fujiyoshida:e,hayakawa:e,hokuto:e,ichikawamisato:e,kai:e,kofu:e,koshu:e,kosuge:e,"minami-alps":e,minobu:e,nakamichi:e,nanbu:e,narusawa:e,nirasaki:e,nishikatsura:e,oshino:e,otsuki:e,showa:e,tabayama:e,tsuru:e,uenohara:e,yamanakako:e,yamanashi:e}],"xn--ehqz56n":e,\u4E09\u91CD:e,"xn--1lqs03n":e,\u4EAC\u90FD:e,"xn--qqqt11m":e,\u4F50\u8CC0:e,"xn--f6qx53a":e,\u5175\u5EAB:e,"xn--djrs72d6uy":e,\u5317\u6D77\u9053:e,"xn--mkru45i":e,\u5343\u8449:e,"xn--0trq7p7nn":e,\u548C\u6B4C\u5C71:e,"xn--5js045d":e,\u57FC\u7389:e,"xn--kbrq7o":e,\u5927\u5206:e,"xn--pssu33l":e,\u5927\u962A:e,"xn--ntsq17g":e,\u5948\u826F:e,"xn--uisz3g":e,\u5BAE\u57CE:e,"xn--6btw5a":e,\u5BAE\u5D0E:e,"xn--1ctwo":e,\u5BCC\u5C71:e,"xn--6orx2r":e,\u5C71\u53E3:e,"xn--rht61e":e,\u5C71\u5F62:e,"xn--rht27z":e,\u5C71\u68A8:e,"xn--nit225k":e,\u5C90\u961C:e,"xn--rht3d":e,\u5CA1\u5C71:e,"xn--djty4k":e,\u5CA9\u624B:e,"xn--klty5x":e,\u5CF6\u6839:e,"xn--kltx9a":e,\u5E83\u5CF6:e,"xn--kltp7d":e,\u5FB3\u5CF6:e,"xn--c3s14m":e,\u611B\u5A9B:e,"xn--vgu402c":e,\u611B\u77E5:e,"xn--efvn9s":e,\u65B0\u6F5F:e,"xn--1lqs71d":e,\u6771\u4EAC:e,"xn--4pvxs":e,\u6803\u6728:e,"xn--uuwu58a":e,\u6C96\u7E04:e,"xn--zbx025d":e,\u6ECB\u8CC0:e,"xn--8pvr4u":e,\u718A\u672C:e,"xn--5rtp49c":e,\u77F3\u5DDD:e,"xn--ntso0iqx3a":e,\u795E\u5948\u5DDD:e,"xn--elqq16h":e,\u798F\u4E95:e,"xn--4it168d":e,\u798F\u5CA1:e,"xn--klt787d":e,\u798F\u5CF6:e,"xn--rny31h":e,\u79CB\u7530:e,"xn--7t0a264c":e,\u7FA4\u99AC:e,"xn--uist22h":e,\u8328\u57CE:e,"xn--8ltr62k":e,\u9577\u5D0E:e,"xn--2m4a15e":e,\u9577\u91CE:e,"xn--32vp30h":e,\u9752\u68EE:e,"xn--4it797k":e,\u9759\u5CA1:e,"xn--5rtq34k":e,\u9999\u5DDD:e,"xn--k7yn95e":e,\u9AD8\u77E5:e,"xn--tor131o":e,\u9CE5\u53D6:e,"xn--d5qv7z876c":e,\u9E7F\u5150\u5CF6:e,kawasaki:g,kitakyushu:g,kobe:g,nagoya:g,sapporo:g,sendai:g,yokohama:g,buyshop:t,fashionstore:t,handcrafted:t,kawaiishop:t,supersale:t,theshop:t,"0am":t,"0g0":t,"0j0":t,"0t0":t,mydns:t,pgw:t,wjg:t,usercontent:t,angry:t,babyblue:t,babymilk:t,backdrop:t,bambina:t,bitter:t,blush:t,boo:t,boy:t,boyfriend:t,but:t,candypop:t,capoo:t,catfood:t,cheap:t,chicappa:t,chillout:t,chips:t,chowder:t,chu:t,ciao:t,cocotte:t,coolblog:t,cranky:t,cutegirl:t,daa:t,deca:t,deci:t,digick:t,egoism:t,fakefur:t,fem:t,flier:t,floppy:t,fool:t,frenchkiss:t,girlfriend:t,girly:t,gloomy:t,gonna:t,greater:t,hacca:t,heavy:t,her:t,hiho:t,hippy:t,holy:t,hungry:t,icurus:t,itigo:t,jellybean:t,kikirara:t,kill:t,kilo:t,kuron:t,littlestar:t,lolipopmc:t,lolitapunk:t,lomo:t,lovepop:t,lovesick:t,main:t,mods:t,mond:t,mongolian:t,moo:t,namaste:t,nikita:t,nobushi:t,noor:t,oops:t,parallel:t,parasite:t,pecori:t,peewee:t,penne:t,pepper:t,perma:t,pigboat:t,pinoko:t,punyu:t,pupu:t,pussycat:t,pya:t,raindrop:t,readymade:t,sadist:t,schoolbus:t,secret:t,staba:t,stripper:t,sub:t,sunnyday:t,thick:t,tonkotsu:t,under:t,upper:t,velvet:t,verse:t,versus:t,vivian:t,watson:t,weblike:t,whitesnow:t,zombie:t,hateblo:t,hatenablog:t,hatenadiary:t,"2-d":t,bona:t,crap:t,daynight:t,eek:t,flop:t,halfmoon:t,jeez:t,matrix:t,mimoza:t,netgamers:t,nyanta:t,o0o0:t,rdy:t,rgr:t,rulez:t,sakurastorage:[0,{isk01:I,isk02:I}],saloon:t,sblo:t,skr:t,tank:t,"uh-oh":t,undo:t,webaccel:[0,{rs:t,user:t}],websozai:t,xii:t}],ke:[1,{ac:e,co:e,go:e,info:e,me:e,mobi:e,ne:e,or:e,sc:e}],kg:[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e,us:t}],kh:g,ki:j,km:[1,{ass:e,com:e,edu:e,gov:e,mil:e,nom:e,org:e,prd:e,tm:e,asso:e,coop:e,gouv:e,medecin:e,notaires:e,pharmaciens:e,presse:e,veterinaire:e}],kn:[1,{edu:e,gov:e,net:e,org:e}],kp:[1,{com:e,edu:e,gov:e,org:e,rep:e,tra:e}],kr:[1,{ac:e,ai:e,co:e,es:e,go:e,hs:e,io:e,it:e,kg:e,me:e,mil:e,ms:e,ne:e,or:e,pe:e,re:e,sc:e,busan:e,chungbuk:e,chungnam:e,daegu:e,daejeon:e,gangwon:e,gwangju:e,gyeongbuk:e,gyeonggi:e,gyeongnam:e,incheon:e,jeju:e,jeonbuk:e,jeonnam:e,seoul:e,ulsan:e,c01:t,"eliv-dns":t}],kw:[1,{com:e,edu:e,emb:e,gov:e,ind:e,net:e,org:e}],ky:Re,kz:[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e,jcloud:t}],la:[1,{com:e,edu:e,gov:e,info:e,int:e,net:e,org:e,per:e,bnr:t}],lb:r,lc:[1,{co:e,com:e,edu:e,gov:e,net:e,org:e,oy:t}],li:e,lk:[1,{ac:e,assn:e,com:e,edu:e,gov:e,grp:e,hotel:e,int:e,ltd:e,net:e,ngo:e,org:e,sch:e,soc:e,web:e}],lr:r,ls:[1,{ac:e,biz:e,co:e,edu:e,gov:e,info:e,net:e,org:e,sc:e}],lt:l,lu:[1,{"123website":t}],lv:[1,{asn:e,com:e,conf:e,edu:e,gov:e,id:e,mil:e,net:e,org:e}],ly:[1,{com:e,edu:e,gov:e,id:e,med:e,net:e,org:e,plc:e,sch:e}],ma:[1,{ac:e,co:e,gov:e,net:e,org:e,press:e}],mc:[1,{asso:e,tm:e}],md:[1,{ir:t}],me:[1,{ac:e,co:e,edu:e,gov:e,its:e,net:e,org:e,priv:e,c66:t,craft:t,edgestack:t,filegear:t,glitch:t,"filegear-sg":t,lohmus:t,barsy:t,mcdir:t,brasilia:t,ddns:t,dnsfor:t,hopto:t,loginto:t,noip:t,webhop:t,soundcast:t,tcp4:t,vp4:t,diskstation:t,dscloud:t,i234:t,myds:t,synology:t,transip:je,nohost:t}],mg:[1,{co:e,com:e,edu:e,gov:e,mil:e,nom:e,org:e,prd:e}],mh:e,mil:e,mk:[1,{com:e,edu:e,gov:e,inf:e,name:e,net:e,org:e}],ml:[1,{ac:e,art:e,asso:e,com:e,edu:e,gouv:e,gov:e,info:e,inst:e,net:e,org:e,pr:e,presse:e}],mm:g,mn:[1,{edu:e,gov:e,org:e,nyc:t}],mo:r,mobi:[1,{barsy:t,dscloud:t}],mp:[1,{ju:t}],mq:e,mr:l,ms:[1,{com:e,edu:e,gov:e,net:e,org:e,minisite:t}],mt:Re,mu:[1,{ac:e,co:e,com:e,gov:e,net:e,or:e,org:e}],museum:e,mv:[1,{aero:e,biz:e,com:e,coop:e,edu:e,gov:e,info:e,int:e,mil:e,museum:e,name:e,net:e,org:e,pro:e}],mw:[1,{ac:e,biz:e,co:e,com:e,coop:e,edu:e,gov:e,int:e,net:e,org:e}],mx:[1,{com:e,edu:e,gob:e,net:e,org:e}],my:[1,{biz:e,com:e,edu:e,gov:e,mil:e,name:e,net:e,org:e}],mz:[1,{ac:e,adv:e,co:e,edu:e,gov:e,mil:e,net:e,org:e}],na:[1,{alt:e,co:e,com:e,gov:e,net:e,org:e}],name:[1,{her:he,his:he}],nc:[1,{asso:e,nom:e}],ne:e,net:[1,{adobeaemcloud:t,"adobeio-static":t,adobeioruntime:t,akadns:t,akamai:t,"akamai-staging":t,akamaiedge:t,"akamaiedge-staging":t,akamaihd:t,"akamaihd-staging":t,akamaiorigin:t,"akamaiorigin-staging":t,akamaized:t,"akamaized-staging":t,edgekey:t,"edgekey-staging":t,edgesuite:t,"edgesuite-staging":t,alwaysdata:t,myamaze:t,cloudfront:t,appudo:t,"atlassian-dev":[0,{prod:F}],myfritz:t,onavstack:t,shopselect:t,blackbaudcdn:t,boomla:t,bplaced:t,square7:t,cdn77:[0,{r:t}],"cdn77-ssl":t,gb:t,hu:t,jp:t,se:t,uk:t,clickrising:t,"ddns-ip":t,"dns-cloud":t,"dns-dynamic":t,cloudaccess:t,cloudflare:[2,{cdn:t}],cloudflareanycast:F,cloudflarecn:F,cloudflareglobal:F,ctfcloud:t,"feste-ip":t,"knx-server":t,"static-access":t,cryptonomic:s,dattolocal:t,mydatto:t,debian:t,definima:t,deno:t,"at-band-camp":t,blogdns:t,"broke-it":t,buyshouses:t,dnsalias:t,dnsdojo:t,"does-it":t,dontexist:t,dynalias:t,dynathome:t,endofinternet:t,"from-az":t,"from-co":t,"from-la":t,"from-ny":t,"gets-it":t,"ham-radio-op":t,homeftp:t,homeip:t,homelinux:t,homeunix:t,"in-the-band":t,"is-a-chef":t,"is-a-geek":t,"isa-geek":t,"kicks-ass":t,"office-on-the":t,podzone:t,"scrapper-site":t,selfip:t,"sells-it":t,servebbs:t,serveftp:t,thruhere:t,webhop:t,casacam:t,dynu:t,dynv6:t,twmail:t,ru:t,channelsdvr:[2,{u:t}],fastly:[0,{freetls:t,map:t,prod:[0,{a:t,global:t}],ssl:[0,{a:t,b:t,global:t}]}],fastlylb:[2,{map:t}],edgeapp:t,"keyword-on":t,"live-on":t,"server-on":t,"cdn-edges":t,heteml:t,cloudfunctions:t,"grafana-dev":t,iobb:t,moonscale:t,"in-dsl":t,"in-vpn":t,oninferno:t,botdash:t,"apps-1and1":t,ipifony:t,cloudjiffy:[2,{"fra1-de":t,"west1-us":t}],elastx:[0,{"jls-sto1":t,"jls-sto2":t,"jls-sto3":t}],massivegrid:[0,{paas:[0,{"fr-1":t,"lon-1":t,"lon-2":t,"ny-1":t,"ny-2":t,"sg-1":t}]}],saveincloud:[0,{jelastic:t,"nordeste-idc":t}],scaleforce:Qe,kinghost:t,uni5:t,krellian:t,ggff:t,localcert:t,localhostcert:t,localto:s,barsy:t,memset:t,"azure-api":t,"azure-mobile":t,azureedge:t,azurefd:t,azurestaticapps:[2,{1:t,2:t,3:t,4:t,5:t,6:t,7:t,centralus:t,eastasia:t,eastus2:t,westeurope:t,westus2:t}],azurewebsites:t,cloudapp:t,trafficmanager:t,windows:[0,{core:[0,{blob:t}],servicebus:t}],mynetname:[0,{sn:t}],routingthecloud:t,bounceme:t,ddns:t,"eating-organic":t,mydissent:t,myeffect:t,mymediapc:t,mypsx:t,mysecuritycamera:t,nhlfan:t,"no-ip":t,pgafan:t,privatizehealthinsurance:t,redirectme:t,serveblog:t,serveminecraft:t,sytes:t,dnsup:t,hicam:t,"now-dns":t,ownip:t,vpndns:t,cloudycluster:t,ovh:[0,{hosting:s,webpaas:s}],rackmaze:t,myradweb:t,in:t,"subsc-pay":t,squares:t,schokokeks:t,"firewall-gateway":t,seidat:t,senseering:t,siteleaf:t,mafelo:t,myspreadshop:t,"vps-host":[2,{jelastic:[0,{atl:t,njs:t,ric:t}]}],srcf:[0,{soc:t,user:t}],supabase:t,dsmynas:t,familyds:t,ts:[2,{c:s}],torproject:[2,{pages:t}],vusercontent:t,"reserve-online":t,"community-pro":t,meinforum:t,yandexcloud:[2,{storage:t,website:t}],za:t}],nf:[1,{arts:e,com:e,firm:e,info:e,net:e,other:e,per:e,rec:e,store:e,web:e}],ng:[1,{com:e,edu:e,gov:e,i:e,mil:e,mobi:e,name:e,net:e,org:e,sch:e,biz:[2,{co:t,dl:t,go:t,lg:t,on:t}],col:t,firm:t,gen:t,ltd:t,ngo:t,plc:t}],ni:[1,{ac:e,biz:e,co:e,com:e,edu:e,gob:e,in:e,info:e,int:e,mil:e,net:e,nom:e,org:e,web:e}],nl:[1,{co:t,"hosting-cluster":t,gov:t,khplay:t,"123website":t,myspreadshop:t,transurl:s,cistron:t,demon:t}],no:[1,{fhs:e,folkebibl:e,fylkesbibl:e,idrett:e,museum:e,priv:e,vgs:e,dep:e,herad:e,kommune:e,mil:e,stat:e,aa:oe,ah:oe,bu:oe,fm:oe,hl:oe,hm:oe,"jan-mayen":oe,mr:oe,nl:oe,nt:oe,of:oe,ol:oe,oslo:oe,rl:oe,sf:oe,st:oe,svalbard:oe,tm:oe,tr:oe,va:oe,vf:oe,akrehamn:e,"xn--krehamn-dxa":e,\u00E5krehamn:e,algard:e,"xn--lgrd-poac":e,\u00E5lg\u00E5rd:e,arna:e,bronnoysund:e,"xn--brnnysund-m8ac":e,br\u00F8nn\u00F8ysund:e,brumunddal:e,bryne:e,drobak:e,"xn--drbak-wua":e,dr\u00F8bak:e,egersund:e,fetsund:e,floro:e,"xn--flor-jra":e,flor\u00F8:e,fredrikstad:e,hokksund:e,honefoss:e,"xn--hnefoss-q1a":e,h\u00F8nefoss:e,jessheim:e,jorpeland:e,"xn--jrpeland-54a":e,j\u00F8rpeland:e,kirkenes:e,kopervik:e,krokstadelva:e,langevag:e,"xn--langevg-jxa":e,langev\u00E5g:e,leirvik:e,mjondalen:e,"xn--mjndalen-64a":e,mj\u00F8ndalen:e,"mo-i-rana":e,mosjoen:e,"xn--mosjen-eya":e,mosj\u00F8en:e,nesoddtangen:e,orkanger:e,osoyro:e,"xn--osyro-wua":e,os\u00F8yro:e,raholt:e,"xn--rholt-mra":e,r\u00E5holt:e,sandnessjoen:e,"xn--sandnessjen-ogb":e,sandnessj\u00F8en:e,skedsmokorset:e,slattum:e,spjelkavik:e,stathelle:e,stavern:e,stjordalshalsen:e,"xn--stjrdalshalsen-sqb":e,stj\u00F8rdalshalsen:e,tananger:e,tranby:e,vossevangen:e,aarborte:e,aejrie:e,afjord:e,"xn--fjord-lra":e,\u00E5fjord:e,agdenes:e,akershus:$e,aknoluokta:e,"xn--koluokta-7ya57h":e,\u00E1k\u014Boluokta:e,al:e,"xn--l-1fa":e,\u00E5l:e,alaheadju:e,"xn--laheadju-7ya":e,\u00E1laheadju:e,alesund:e,"xn--lesund-hua":e,\u00E5lesund:e,alstahaug:e,alta:e,"xn--lt-liac":e,\u00E1lt\u00E1:e,alvdal:e,amli:e,"xn--mli-tla":e,\u00E5mli:e,amot:e,"xn--mot-tla":e,\u00E5mot:e,andasuolo:e,andebu:e,andoy:e,"xn--andy-ira":e,and\u00F8y:e,ardal:e,"xn--rdal-poa":e,\u00E5rdal:e,aremark:e,arendal:e,"xn--s-1fa":e,\u00E5s:e,aseral:e,"xn--seral-lra":e,\u00E5seral:e,asker:e,askim:e,askoy:e,"xn--asky-ira":e,ask\u00F8y:e,askvoll:e,asnes:e,"xn--snes-poa":e,\u00E5snes:e,audnedaln:e,aukra:e,aure:e,aurland:e,"aurskog-holand":e,"xn--aurskog-hland-jnb":e,"aurskog-h\xF8land":e,austevoll:e,austrheim:e,averoy:e,"xn--avery-yua":e,aver\u00F8y:e,badaddja:e,"xn--bdddj-mrabd":e,b\u00E5d\u00E5ddj\u00E5:e,"xn--brum-voa":e,b\u00E6rum:e,bahcavuotna:e,"xn--bhcavuotna-s4a":e,b\u00E1hcavuotna:e,bahccavuotna:e,"xn--bhccavuotna-k7a":e,b\u00E1hccavuotna:e,baidar:e,"xn--bidr-5nac":e,b\u00E1id\u00E1r:e,bajddar:e,"xn--bjddar-pta":e,b\u00E1jddar:e,balat:e,"xn--blt-elab":e,b\u00E1l\u00E1t:e,balestrand:e,ballangen:e,balsfjord:e,bamble:e,bardu:e,barum:e,batsfjord:e,"xn--btsfjord-9za":e,b\u00E5tsfjord:e,bearalvahki:e,"xn--bearalvhki-y4a":e,bearalv\u00E1hki:e,beardu:e,beiarn:e,berg:e,bergen:e,berlevag:e,"xn--berlevg-jxa":e,berlev\u00E5g:e,bievat:e,"xn--bievt-0qa":e,biev\u00E1t:e,bindal:e,birkenes:e,bjarkoy:e,"xn--bjarky-fya":e,bjark\u00F8y:e,bjerkreim:e,bjugn:e,bodo:e,"xn--bod-2na":e,bod\u00F8:e,bokn:e,bomlo:e,"xn--bmlo-gra":e,b\u00F8mlo:e,bremanger:e,bronnoy:e,"xn--brnny-wuac":e,br\u00F8nn\u00F8y:e,budejju:e,buskerud:$e,bygland:e,bykle:e,cahcesuolo:e,"xn--hcesuolo-7ya35b":e,\u010D\u00E1hcesuolo:e,davvenjarga:e,"xn--davvenjrga-y4a":e,davvenj\u00E1rga:e,davvesiida:e,deatnu:e,dielddanuorri:e,divtasvuodna:e,divttasvuotna:e,donna:e,"xn--dnna-gra":e,d\u00F8nna:e,dovre:e,drammen:e,drangedal:e,dyroy:e,"xn--dyry-ira":e,dyr\u00F8y:e,eid:e,eidfjord:e,eidsberg:e,eidskog:e,eidsvoll:e,eigersund:e,elverum:e,enebakk:e,engerdal:e,etne:e,etnedal:e,evenassi:e,"xn--eveni-0qa01ga":e,even\u00E1\u0161\u0161i:e,evenes:e,"evje-og-hornnes":e,farsund:e,fauske:e,fedje:e,fet:e,finnoy:e,"xn--finny-yua":e,finn\u00F8y:e,fitjar:e,fjaler:e,fjell:e,fla:e,"xn--fl-zia":e,fl\u00E5:e,flakstad:e,flatanger:e,flekkefjord:e,flesberg:e,flora:e,folldal:e,forde:e,"xn--frde-gra":e,f\u00F8rde:e,forsand:e,fosnes:e,"xn--frna-woa":e,fr\u00E6na:e,frana:e,frei:e,frogn:e,froland:e,frosta:e,froya:e,"xn--frya-hra":e,fr\u00F8ya:e,fuoisku:e,fuossko:e,fusa:e,fyresdal:e,gaivuotna:e,"xn--givuotna-8ya":e,g\u00E1ivuotna:e,galsa:e,"xn--gls-elac":e,g\u00E1ls\u00E1:e,gamvik:e,gangaviika:e,"xn--ggaviika-8ya47h":e,g\u00E1\u014Bgaviika:e,gaular:e,gausdal:e,giehtavuoatna:e,gildeskal:e,"xn--gildeskl-g0a":e,gildesk\u00E5l:e,giske:e,gjemnes:e,gjerdrum:e,gjerstad:e,gjesdal:e,gjovik:e,"xn--gjvik-wua":e,gj\u00F8vik:e,gloppen:e,gol:e,gran:e,grane:e,granvin:e,gratangen:e,grimstad:e,grong:e,grue:e,gulen:e,guovdageaidnu:e,ha:e,"xn--h-2fa":e,h\u00E5:e,habmer:e,"xn--hbmer-xqa":e,h\u00E1bmer:e,hadsel:e,"xn--hgebostad-g3a":e,h\u00E6gebostad:e,hagebostad:e,halden:e,halsa:e,hamar:e,hamaroy:e,hammarfeasta:e,"xn--hmmrfeasta-s4ac":e,h\u00E1mm\u00E1rfeasta:e,hammerfest:e,hapmir:e,"xn--hpmir-xqa":e,h\u00E1pmir:e,haram:e,hareid:e,harstad:e,hasvik:e,hattfjelldal:e,haugesund:e,hedmark:[0,{os:e,valer:e,"xn--vler-qoa":e,v\u00E5ler:e}],hemne:e,hemnes:e,hemsedal:e,hitra:e,hjartdal:e,hjelmeland:e,hobol:e,"xn--hobl-ira":e,hob\u00F8l:e,hof:e,hol:e,hole:e,holmestrand:e,holtalen:e,"xn--holtlen-hxa":e,holt\u00E5len:e,hordaland:[0,{os:e}],hornindal:e,horten:e,hoyanger:e,"xn--hyanger-q1a":e,h\u00F8yanger:e,hoylandet:e,"xn--hylandet-54a":e,h\u00F8ylandet:e,hurdal:e,hurum:e,hvaler:e,hyllestad:e,ibestad:e,inderoy:e,"xn--indery-fya":e,inder\u00F8y:e,iveland:e,ivgu:e,jevnaker:e,jolster:e,"xn--jlster-bya":e,j\u00F8lster:e,jondal:e,kafjord:e,"xn--kfjord-iua":e,k\u00E5fjord:e,karasjohka:e,"xn--krjohka-hwab49j":e,k\u00E1r\u00E1\u0161johka:e,karasjok:e,karlsoy:e,karmoy:e,"xn--karmy-yua":e,karm\u00F8y:e,kautokeino:e,klabu:e,"xn--klbu-woa":e,kl\u00E6bu:e,klepp:e,kongsberg:e,kongsvinger:e,kraanghke:e,"xn--kranghke-b0a":e,kr\u00E5anghke:e,kragero:e,"xn--krager-gya":e,krager\u00F8:e,kristiansand:e,kristiansund:e,krodsherad:e,"xn--krdsherad-m8a":e,kr\u00F8dsherad:e,"xn--kvfjord-nxa":e,kv\u00E6fjord:e,"xn--kvnangen-k0a":e,kv\u00E6nangen:e,kvafjord:e,kvalsund:e,kvam:e,kvanangen:e,kvinesdal:e,kvinnherad:e,kviteseid:e,kvitsoy:e,"xn--kvitsy-fya":e,kvits\u00F8y:e,laakesvuemie:e,"xn--lrdal-sra":e,l\u00E6rdal:e,lahppi:e,"xn--lhppi-xqa":e,l\u00E1hppi:e,lardal:e,larvik:e,lavagis:e,lavangen:e,leangaviika:e,"xn--leagaviika-52b":e,lea\u014Bgaviika:e,lebesby:e,leikanger:e,leirfjord:e,leka:e,leksvik:e,lenvik:e,lerdal:e,lesja:e,levanger:e,lier:e,lierne:e,lillehammer:e,lillesand:e,lindas:e,"xn--linds-pra":e,lind\u00E5s:e,lindesnes:e,loabat:e,"xn--loabt-0qa":e,loab\u00E1t:e,lodingen:e,"xn--ldingen-q1a":e,l\u00F8dingen:e,lom:e,loppa:e,lorenskog:e,"xn--lrenskog-54a":e,l\u00F8renskog:e,loten:e,"xn--lten-gra":e,l\u00F8ten:e,lund:e,lunner:e,luroy:e,"xn--lury-ira":e,lur\u00F8y:e,luster:e,lyngdal:e,lyngen:e,malatvuopmi:e,"xn--mlatvuopmi-s4a":e,m\u00E1latvuopmi:e,malselv:e,"xn--mlselv-iua":e,m\u00E5lselv:e,malvik:e,mandal:e,marker:e,marnardal:e,masfjorden:e,masoy:e,"xn--msy-ula0h":e,m\u00E5s\u00F8y:e,"matta-varjjat":e,"xn--mtta-vrjjat-k7af":e,"m\xE1tta-v\xE1rjjat":e,meland:e,meldal:e,melhus:e,meloy:e,"xn--mely-ira":e,mel\u00F8y:e,meraker:e,"xn--merker-kua":e,mer\u00E5ker:e,midsund:e,"midtre-gauldal":e,moareke:e,"xn--moreke-jua":e,mo\u00E5reke:e,modalen:e,modum:e,molde:e,"more-og-romsdal":[0,{heroy:e,sande:e}],"xn--mre-og-romsdal-qqb":[0,{"xn--hery-ira":e,sande:e}],"m\xF8re-og-romsdal":[0,{her\u00F8y:e,sande:e}],moskenes:e,moss:e,mosvik:e,muosat:e,"xn--muost-0qa":e,muos\u00E1t:e,naamesjevuemie:e,"xn--nmesjevuemie-tcba":e,n\u00E5\u00E5mesjevuemie:e,"xn--nry-yla5g":e,n\u00E6r\u00F8y:e,namdalseid:e,namsos:e,namsskogan:e,nannestad:e,naroy:e,narviika:e,narvik:e,naustdal:e,navuotna:e,"xn--nvuotna-hwa":e,n\u00E1vuotna:e,"nedre-eiker":e,nesna:e,nesodden:e,nesseby:e,nesset:e,nissedal:e,nittedal:e,"nord-aurdal":e,"nord-fron":e,"nord-odal":e,norddal:e,nordkapp:e,nordland:[0,{bo:e,"xn--b-5ga":e,b\u00F8:e,heroy:e,"xn--hery-ira":e,her\u00F8y:e}],"nordre-land":e,nordreisa:e,"nore-og-uvdal":e,notodden:e,notteroy:e,"xn--nttery-byae":e,n\u00F8tter\u00F8y:e,odda:e,oksnes:e,"xn--ksnes-uua":e,\u00F8ksnes:e,omasvuotna:e,oppdal:e,oppegard:e,"xn--oppegrd-ixa":e,oppeg\u00E5rd:e,orkdal:e,orland:e,"xn--rland-uua":e,\u00F8rland:e,orskog:e,"xn--rskog-uua":e,\u00F8rskog:e,orsta:e,"xn--rsta-fra":e,\u00F8rsta:e,osen:e,osteroy:e,"xn--ostery-fya":e,oster\u00F8y:e,ostfold:[0,{valer:e}],"xn--stfold-9xa":[0,{"xn--vler-qoa":e}],\u00F8stfold:[0,{v\u00E5ler:e}],"ostre-toten":e,"xn--stre-toten-zcb":e,"\xF8stre-toten":e,overhalla:e,"ovre-eiker":e,"xn--vre-eiker-k8a":e,"\xF8vre-eiker":e,oyer:e,"xn--yer-zna":e,\u00F8yer:e,oygarden:e,"xn--ygarden-p1a":e,\u00F8ygarden:e,"oystre-slidre":e,"xn--ystre-slidre-ujb":e,"\xF8ystre-slidre":e,porsanger:e,porsangu:e,"xn--porsgu-sta26f":e,pors\u00E1\u014Bgu:e,porsgrunn:e,rade:e,"xn--rde-ula":e,r\u00E5de:e,radoy:e,"xn--rady-ira":e,rad\u00F8y:e,"xn--rlingen-mxa":e,r\u00E6lingen:e,rahkkeravju:e,"xn--rhkkervju-01af":e,r\u00E1hkker\u00E1vju:e,raisa:e,"xn--risa-5na":e,r\u00E1isa:e,rakkestad:e,ralingen:e,rana:e,randaberg:e,rauma:e,rendalen:e,rennebu:e,rennesoy:e,"xn--rennesy-v1a":e,rennes\u00F8y:e,rindal:e,ringebu:e,ringerike:e,ringsaker:e,risor:e,"xn--risr-ira":e,ris\u00F8r:e,rissa:e,roan:e,rodoy:e,"xn--rdy-0nab":e,r\u00F8d\u00F8y:e,rollag:e,romsa:e,romskog:e,"xn--rmskog-bya":e,r\u00F8mskog:e,roros:e,"xn--rros-gra":e,r\u00F8ros:e,rost:e,"xn--rst-0na":e,r\u00F8st:e,royken:e,"xn--ryken-vua":e,r\u00F8yken:e,royrvik:e,"xn--ryrvik-bya":e,r\u00F8yrvik:e,ruovat:e,rygge:e,salangen:e,salat:e,"xn--slat-5na":e,s\u00E1lat:e,"xn--slt-elab":e,s\u00E1l\u00E1t:e,saltdal:e,samnanger:e,sandefjord:e,sandnes:e,sandoy:e,"xn--sandy-yua":e,sand\u00F8y:e,sarpsborg:e,sauda:e,sauherad:e,sel:e,selbu:e,selje:e,seljord:e,siellak:e,sigdal:e,siljan:e,sirdal:e,skanit:e,"xn--sknit-yqa":e,sk\u00E1nit:e,skanland:e,"xn--sknland-fxa":e,sk\u00E5nland:e,skaun:e,skedsmo:e,ski:e,skien:e,skierva:e,"xn--skierv-uta":e,skierv\u00E1:e,skiptvet:e,skjak:e,"xn--skjk-soa":e,skj\u00E5k:e,skjervoy:e,"xn--skjervy-v1a":e,skjerv\u00F8y:e,skodje:e,smola:e,"xn--smla-hra":e,sm\u00F8la:e,snaase:e,"xn--snase-nra":e,sn\u00E5ase:e,snasa:e,"xn--snsa-roa":e,sn\u00E5sa:e,snillfjord:e,snoasa:e,sogndal:e,sogne:e,"xn--sgne-gra":e,s\u00F8gne:e,sokndal:e,sola:e,solund:e,somna:e,"xn--smna-gra":e,s\u00F8mna:e,"sondre-land":e,"xn--sndre-land-0cb":e,"s\xF8ndre-land":e,songdalen:e,"sor-aurdal":e,"xn--sr-aurdal-l8a":e,"s\xF8r-aurdal":e,"sor-fron":e,"xn--sr-fron-q1a":e,"s\xF8r-fron":e,"sor-odal":e,"xn--sr-odal-q1a":e,"s\xF8r-odal":e,"sor-varanger":e,"xn--sr-varanger-ggb":e,"s\xF8r-varanger":e,sorfold:e,"xn--srfold-bya":e,s\u00F8rfold:e,sorreisa:e,"xn--srreisa-q1a":e,s\u00F8rreisa:e,sortland:e,sorum:e,"xn--srum-gra":e,s\u00F8rum:e,spydeberg:e,stange:e,stavanger:e,steigen:e,steinkjer:e,stjordal:e,"xn--stjrdal-s1a":e,stj\u00F8rdal:e,stokke:e,"stor-elvdal":e,stord:e,stordal:e,storfjord:e,strand:e,stranda:e,stryn:e,sula:e,suldal:e,sund:e,sunndal:e,surnadal:e,sveio:e,svelvik:e,sykkylven:e,tana:e,telemark:[0,{bo:e,"xn--b-5ga":e,b\u00F8:e}],time:e,tingvoll:e,tinn:e,tjeldsund:e,tjome:e,"xn--tjme-hra":e,tj\u00F8me:e,tokke:e,tolga:e,tonsberg:e,"xn--tnsberg-q1a":e,t\u00F8nsberg:e,torsken:e,"xn--trna-woa":e,tr\u00E6na:e,trana:e,tranoy:e,"xn--trany-yua":e,tran\u00F8y:e,troandin:e,trogstad:e,"xn--trgstad-r1a":e,tr\u00F8gstad:e,tromsa:e,tromso:e,"xn--troms-zua":e,troms\u00F8:e,trondheim:e,trysil:e,tvedestrand:e,tydal:e,tynset:e,tysfjord:e,tysnes:e,"xn--tysvr-vra":e,tysv\u00E6r:e,tysvar:e,ullensaker:e,ullensvang:e,ulvik:e,unjarga:e,"xn--unjrga-rta":e,unj\u00E1rga:e,utsira:e,vaapste:e,vadso:e,"xn--vads-jra":e,vads\u00F8:e,"xn--vry-yla5g":e,v\u00E6r\u00F8y:e,vaga:e,"xn--vg-yiab":e,v\u00E5g\u00E5:e,vagan:e,"xn--vgan-qoa":e,v\u00E5gan:e,vagsoy:e,"xn--vgsy-qoa0j":e,v\u00E5gs\u00F8y:e,vaksdal:e,valle:e,vang:e,vanylven:e,vardo:e,"xn--vard-jra":e,vard\u00F8:e,varggat:e,"xn--vrggt-xqad":e,v\u00E1rgg\u00E1t:e,varoy:e,vefsn:e,vega:e,vegarshei:e,"xn--vegrshei-c0a":e,veg\u00E5rshei:e,vennesla:e,verdal:e,verran:e,vestby:e,vestfold:[0,{sande:e}],vestnes:e,"vestre-slidre":e,"vestre-toten":e,vestvagoy:e,"xn--vestvgy-ixa6o":e,vestv\u00E5g\u00F8y:e,vevelstad:e,vik:e,vikna:e,vindafjord:e,voagat:e,volda:e,voss:e,co:t,"123hjemmeside":t,myspreadshop:t}],np:g,nr:j,nu:[1,{merseine:t,mine:t,shacknet:t,enterprisecloud:t}],nz:[1,{ac:e,co:e,cri:e,geek:e,gen:e,govt:e,health:e,iwi:e,kiwi:e,maori:e,"xn--mori-qsa":e,m\u0101ori:e,mil:e,net:e,org:e,parliament:e,school:e,cloudns:t}],om:[1,{co:e,com:e,edu:e,gov:e,med:e,museum:e,net:e,org:e,pro:e}],onion:e,org:[1,{altervista:t,pimienta:t,poivron:t,potager:t,sweetpepper:t,cdn77:[0,{c:t,rsc:t}],"cdn77-secure":[0,{origin:[0,{ssl:t}]}],ae:t,cloudns:t,"ip-dynamic":t,ddnss:t,dpdns:t,duckdns:t,tunk:t,blogdns:t,blogsite:t,boldlygoingnowhere:t,dnsalias:t,dnsdojo:t,doesntexist:t,dontexist:t,doomdns:t,dvrdns:t,dynalias:t,dyndns:[2,{go:t,home:t}],endofinternet:t,endoftheinternet:t,"from-me":t,"game-host":t,gotdns:t,"hobby-site":t,homedns:t,homeftp:t,homelinux:t,homeunix:t,"is-a-bruinsfan":t,"is-a-candidate":t,"is-a-celticsfan":t,"is-a-chef":t,"is-a-geek":t,"is-a-knight":t,"is-a-linux-user":t,"is-a-patsfan":t,"is-a-soxfan":t,"is-found":t,"is-lost":t,"is-saved":t,"is-very-bad":t,"is-very-evil":t,"is-very-good":t,"is-very-nice":t,"is-very-sweet":t,"isa-geek":t,"kicks-ass":t,misconfused:t,podzone:t,readmyblog:t,selfip:t,sellsyourhome:t,servebbs:t,serveftp:t,servegame:t,"stuff-4-sale":t,webhop:t,accesscam:t,camdvr:t,freeddns:t,mywire:t,webredirect:t,twmail:t,eu:[2,{al:t,asso:t,at:t,au:t,be:t,bg:t,ca:t,cd:t,ch:t,cn:t,cy:t,cz:t,de:t,dk:t,edu:t,ee:t,es:t,fi:t,fr:t,gr:t,hr:t,hu:t,ie:t,il:t,in:t,int:t,is:t,it:t,jp:t,kr:t,lt:t,lu:t,lv:t,me:t,mk:t,mt:t,my:t,net:t,ng:t,nl:t,no:t,nz:t,pl:t,pt:t,ro:t,ru:t,se:t,si:t,sk:t,tr:t,uk:t,us:t}],fedorainfracloud:t,fedorapeople:t,fedoraproject:[0,{cloud:t,os:ue,stg:[0,{os:ue}]}],freedesktop:t,hatenadiary:t,hepforge:t,"in-dsl":t,"in-vpn":t,js:t,barsy:t,mayfirst:t,routingthecloud:t,bmoattachments:t,"cable-modem":t,collegefan:t,couchpotatofries:t,hopto:t,mlbfan:t,myftp:t,mysecuritycamera:t,nflfan:t,"no-ip":t,"read-books":t,ufcfan:t,zapto:t,dynserv:t,"now-dns":t,"is-local":t,httpbin:t,pubtls:t,jpn:t,"my-firewall":t,myfirewall:t,spdns:t,"small-web":t,dsmynas:t,familyds:t,teckids:I,tuxfamily:t,diskstation:t,hk:t,us:t,toolforge:t,wmcloud:t,wmflabs:t,za:t}],pa:[1,{abo:e,ac:e,com:e,edu:e,gob:e,ing:e,med:e,net:e,nom:e,org:e,sld:e}],pe:[1,{com:e,edu:e,gob:e,mil:e,net:e,nom:e,org:e}],pf:[1,{com:e,edu:e,org:e}],pg:g,ph:[1,{com:e,edu:e,gov:e,i:e,mil:e,net:e,ngo:e,org:e,cloudns:t}],pk:[1,{ac:e,biz:e,com:e,edu:e,fam:e,gkp:e,gob:e,gog:e,gok:e,gop:e,gos:e,gov:e,net:e,org:e,web:e}],pl:[1,{com:e,net:e,org:e,agro:e,aid:e,atm:e,auto:e,biz:e,edu:e,gmina:e,gsm:e,info:e,mail:e,media:e,miasta:e,mil:e,nieruchomosci:e,nom:e,pc:e,powiat:e,priv:e,realestate:e,rel:e,sex:e,shop:e,sklep:e,sos:e,szkola:e,targi:e,tm:e,tourism:e,travel:e,turystyka:e,gov:[1,{ap:e,griw:e,ic:e,is:e,kmpsp:e,konsulat:e,kppsp:e,kwp:e,kwpsp:e,mup:e,mw:e,oia:e,oirm:e,oke:e,oow:e,oschr:e,oum:e,pa:e,pinb:e,piw:e,po:e,pr:e,psp:e,psse:e,pup:e,rzgw:e,sa:e,sdn:e,sko:e,so:e,sr:e,starostwo:e,ug:e,ugim:e,um:e,umig:e,upow:e,uppo:e,us:e,uw:e,uzs:e,wif:e,wiih:e,winb:e,wios:e,witd:e,wiw:e,wkz:e,wsa:e,wskr:e,wsse:e,wuoz:e,wzmiuw:e,zp:e,zpisdn:e}],augustow:e,"babia-gora":e,bedzin:e,beskidy:e,bialowieza:e,bialystok:e,bielawa:e,bieszczady:e,boleslawiec:e,bydgoszcz:e,bytom:e,cieszyn:e,czeladz:e,czest:e,dlugoleka:e,elblag:e,elk:e,glogow:e,gniezno:e,gorlice:e,grajewo:e,ilawa:e,jaworzno:e,"jelenia-gora":e,jgora:e,kalisz:e,karpacz:e,kartuzy:e,kaszuby:e,katowice:e,"kazimierz-dolny":e,kepno:e,ketrzyn:e,klodzko:e,kobierzyce:e,kolobrzeg:e,konin:e,konskowola:e,kutno:e,lapy:e,lebork:e,legnica:e,lezajsk:e,limanowa:e,lomza:e,lowicz:e,lubin:e,lukow:e,malbork:e,malopolska:e,mazowsze:e,mazury:e,mielec:e,mielno:e,mragowo:e,naklo:e,nowaruda:e,nysa:e,olawa:e,olecko:e,olkusz:e,olsztyn:e,opoczno:e,opole:e,ostroda:e,ostroleka:e,ostrowiec:e,ostrowwlkp:e,pila:e,pisz:e,podhale:e,podlasie:e,polkowice:e,pomorskie:e,pomorze:e,prochowice:e,pruszkow:e,przeworsk:e,pulawy:e,radom:e,"rawa-maz":e,rybnik:e,rzeszow:e,sanok:e,sejny:e,skoczow:e,slask:e,slupsk:e,sosnowiec:e,"stalowa-wola":e,starachowice:e,stargard:e,suwalki:e,swidnica:e,swiebodzin:e,swinoujscie:e,szczecin:e,szczytno:e,tarnobrzeg:e,tgory:e,turek:e,tychy:e,ustka:e,walbrzych:e,warmia:e,warszawa:e,waw:e,wegrow:e,wielun:e,wlocl:e,wloclawek:e,wodzislaw:e,wolomin:e,wroclaw:e,zachpomor:e,zagan:e,zarow:e,zgora:e,zgorzelec:e,art:t,gliwice:t,krakow:t,poznan:t,wroc:t,zakopane:t,beep:t,"ecommerce-shop":t,cfolks:t,dfirma:t,dkonto:t,you2:t,shoparena:t,homesklep:t,sdscloud:t,unicloud:t,lodz:t,pabianice:t,plock:t,sieradz:t,skierniewice:t,zgierz:t,krasnik:t,leczna:t,lubartow:t,lublin:t,poniatowa:t,swidnik:t,co:t,torun:t,simplesite:t,myspreadshop:t,gda:t,gdansk:t,gdynia:t,med:t,sopot:t,bielsko:t}],pm:[1,{own:t,name:t}],pn:[1,{co:e,edu:e,gov:e,net:e,org:e}],post:e,pr:[1,{biz:e,com:e,edu:e,gov:e,info:e,isla:e,name:e,net:e,org:e,pro:e,ac:e,est:e,prof:e}],pro:[1,{aaa:e,aca:e,acct:e,avocat:e,bar:e,cpa:e,eng:e,jur:e,law:e,med:e,recht:e,"12chars":t,cloudns:t,barsy:t,ngrok:t}],ps:[1,{com:e,edu:e,gov:e,net:e,org:e,plo:e,sec:e}],pt:[1,{com:e,edu:e,gov:e,int:e,net:e,nome:e,org:e,publ:e,"123paginaweb":t}],pw:[1,{gov:e,cloudns:t,x443:t}],py:[1,{com:e,coop:e,edu:e,gov:e,mil:e,net:e,org:e}],qa:[1,{com:e,edu:e,gov:e,mil:e,name:e,net:e,org:e,sch:e}],re:[1,{asso:e,com:e,netlib:t,can:t}],ro:[1,{arts:e,com:e,firm:e,info:e,nom:e,nt:e,org:e,rec:e,store:e,tm:e,www:e,co:t,shop:t,barsy:t}],rs:[1,{ac:e,co:e,edu:e,gov:e,in:e,org:e,brendly:tr,barsy:t,ox:t}],ru:[1,{ac:t,edu:t,gov:t,int:t,mil:t,eurodir:t,adygeya:t,bashkiria:t,bir:t,cbg:t,com:t,dagestan:t,grozny:t,kalmykia:t,kustanai:t,marine:t,mordovia:t,msk:t,mytis:t,nalchik:t,nov:t,pyatigorsk:t,spb:t,vladikavkaz:t,vladimir:t,na4u:t,mircloud:t,myjino:[2,{hosting:s,landing:s,spectrum:s,vps:s}],cldmail:[0,{hb:t}],mcdir:[2,{vps:t}],mcpre:t,net:t,org:t,pp:t,lk3:t,ras:t}],rw:[1,{ac:e,co:e,coop:e,gov:e,mil:e,net:e,org:e}],sa:[1,{com:e,edu:e,gov:e,med:e,net:e,org:e,pub:e,sch:e}],sb:r,sc:r,sd:[1,{com:e,edu:e,gov:e,info:e,med:e,net:e,org:e,tv:e}],se:[1,{a:e,ac:e,b:e,bd:e,brand:e,c:e,d:e,e,f:e,fh:e,fhsk:e,fhv:e,g:e,h:e,i:e,k:e,komforb:e,kommunalforbund:e,komvux:e,l:e,lanbib:e,m:e,n:e,naturbruksgymn:e,o:e,org:e,p:e,parti:e,pp:e,press:e,r:e,s:e,t:e,tm:e,u:e,w:e,x:e,y:e,z:e,com:t,iopsys:t,"123minsida":t,itcouldbewor:t,myspreadshop:t}],sg:[1,{com:e,edu:e,gov:e,net:e,org:e,enscaled:t}],sh:[1,{com:e,gov:e,mil:e,net:e,org:e,hashbang:t,botda:t,platform:[0,{ent:t,eu:t,us:t}],now:t}],si:[1,{f5:t,gitapp:t,gitpage:t}],sj:e,sk:e,sl:r,sm:e,sn:[1,{art:e,com:e,edu:e,gouv:e,org:e,perso:e,univ:e}],so:[1,{com:e,edu:e,gov:e,me:e,net:e,org:e,surveys:t}],sr:e,ss:[1,{biz:e,co:e,com:e,edu:e,gov:e,me:e,net:e,org:e,sch:e}],st:[1,{co:e,com:e,consulado:e,edu:e,embaixada:e,mil:e,net:e,org:e,principe:e,saotome:e,store:e,helioho:t,kirara:t,noho:t}],su:[1,{abkhazia:t,adygeya:t,aktyubinsk:t,arkhangelsk:t,armenia:t,ashgabad:t,azerbaijan:t,balashov:t,bashkiria:t,bryansk:t,bukhara:t,chimkent:t,dagestan:t,"east-kazakhstan":t,exnet:t,georgia:t,grozny:t,ivanovo:t,jambyl:t,kalmykia:t,kaluga:t,karacol:t,karaganda:t,karelia:t,khakassia:t,krasnodar:t,kurgan:t,kustanai:t,lenug:t,mangyshlak:t,mordovia:t,msk:t,murmansk:t,nalchik:t,navoi:t,"north-kazakhstan":t,nov:t,obninsk:t,penza:t,pokrovsk:t,sochi:t,spb:t,tashkent:t,termez:t,togliatti:t,troitsk:t,tselinograd:t,tula:t,tuva:t,vladikavkaz:t,vladimir:t,vologda:t}],sv:[1,{com:e,edu:e,gob:e,org:e,red:e}],sx:l,sy:n,sz:[1,{ac:e,co:e,org:e}],tc:e,td:e,tel:e,tf:[1,{sch:t}],tg:e,th:[1,{ac:e,co:e,go:e,in:e,mi:e,net:e,or:e,online:t,shop:t}],tj:[1,{ac:e,biz:e,co:e,com:e,edu:e,go:e,gov:e,int:e,mil:e,name:e,net:e,nic:e,org:e,test:e,web:e}],tk:e,tl:l,tm:[1,{co:e,com:e,edu:e,gov:e,mil:e,net:e,nom:e,org:e}],tn:[1,{com:e,ens:e,fin:e,gov:e,ind:e,info:e,intl:e,mincom:e,nat:e,net:e,org:e,perso:e,tourism:e,orangecloud:t}],to:[1,{611:t,com:e,edu:e,gov:e,mil:e,net:e,org:e,oya:t,x0:t,quickconnect:z,vpnplus:t}],tr:[1,{av:e,bbs:e,bel:e,biz:e,com:e,dr:e,edu:e,gen:e,gov:e,info:e,k12:e,kep:e,mil:e,name:e,net:e,org:e,pol:e,tel:e,tsk:e,tv:e,web:e,nc:l}],tt:[1,{biz:e,co:e,com:e,edu:e,gov:e,info:e,mil:e,name:e,net:e,org:e,pro:e}],tv:[1,{"better-than":t,dyndns:t,"on-the-web":t,"worse-than":t,from:t,sakura:t}],tw:[1,{club:e,com:[1,{mymailer:t}],ebiz:e,edu:e,game:e,gov:e,idv:e,mil:e,net:e,org:e,url:t,mydns:t}],tz:[1,{ac:e,co:e,go:e,hotel:e,info:e,me:e,mil:e,mobi:e,ne:e,or:e,sc:e,tv:e}],ua:[1,{com:e,edu:e,gov:e,in:e,net:e,org:e,cherkassy:e,cherkasy:e,chernigov:e,chernihiv:e,chernivtsi:e,chernovtsy:e,ck:e,cn:e,cr:e,crimea:e,cv:e,dn:e,dnepropetrovsk:e,dnipropetrovsk:e,donetsk:e,dp:e,if:e,"ivano-frankivsk":e,kh:e,kharkiv:e,kharkov:e,kherson:e,khmelnitskiy:e,khmelnytskyi:e,kiev:e,kirovograd:e,km:e,kr:e,kropyvnytskyi:e,krym:e,ks:e,kv:e,kyiv:e,lg:e,lt:e,lugansk:e,luhansk:e,lutsk:e,lv:e,lviv:e,mk:e,mykolaiv:e,nikolaev:e,od:e,odesa:e,odessa:e,pl:e,poltava:e,rivne:e,rovno:e,rv:e,sb:e,sebastopol:e,sevastopol:e,sm:e,sumy:e,te:e,ternopil:e,uz:e,uzhgorod:e,uzhhorod:e,vinnica:e,vinnytsia:e,vn:e,volyn:e,yalta:e,zakarpattia:e,zaporizhzhe:e,zaporizhzhia:e,zhitomir:e,zhytomyr:e,zp:e,zt:e,cc:t,inf:t,ltd:t,cx:t,ie:t,biz:t,co:t,pp:t,v:t}],ug:[1,{ac:e,co:e,com:e,edu:e,go:e,gov:e,mil:e,ne:e,or:e,org:e,sc:e,us:e}],uk:[1,{ac:e,co:[1,{bytemark:[0,{dh:t,vm:t}],layershift:Qe,barsy:t,barsyonline:t,retrosnub:O,"nh-serv":t,"no-ip":t,adimo:t,myspreadshop:t}],gov:[1,{api:t,campaign:t,service:t}],ltd:e,me:e,net:e,nhs:e,org:[1,{glug:t,lug:t,lugs:t,affinitylottery:t,raffleentry:t,weeklylottery:t}],plc:e,police:e,sch:g,conn:t,copro:t,hosp:t,"independent-commission":t,"independent-inquest":t,"independent-inquiry":t,"independent-panel":t,"independent-review":t,"public-inquiry":t,"royal-commission":t,pymnt:t,barsy:t,nimsite:t,oraclegovcloudapps:s}],us:[1,{dni:e,isa:e,nsn:e,ak:ne,al:ne,ar:ne,as:ne,az:ne,ca:ne,co:ne,ct:ne,dc:ne,de:[1,{cc:e,lib:t}],fl:ne,ga:ne,gu:ne,hi:ut,ia:ne,id:ne,il:ne,in:ne,ks:ne,ky:ne,la:ne,ma:[1,{k12:[1,{chtr:e,paroch:e,pvt:e}],cc:e,lib:e}],md:ne,me:ne,mi:[1,{k12:e,cc:e,lib:e,"ann-arbor":e,cog:e,dst:e,eaton:e,gen:e,mus:e,tec:e,washtenaw:e}],mn:ne,mo:ne,ms:ne,mt:ne,nc:ne,nd:ut,ne,nh:ne,nj:ne,nm:ne,nv:ne,ny:ne,oh:ne,ok:ne,or:ne,pa:ne,pr:ne,ri:ut,sc:ne,sd:ut,tn:ne,tx:ne,ut:ne,va:ne,vi:ne,vt:ne,wa:ne,wi:ne,wv:[1,{cc:e}],wy:ne,cloudns:t,"is-by":t,"land-4-sale":t,"stuff-4-sale":t,heliohost:t,enscaled:[0,{phx:t}],mircloud:t,ngo:t,golffan:t,noip:t,pointto:t,freeddns:t,srv:[2,{gh:t,gl:t}],platterp:t,servername:t}],uy:[1,{com:e,edu:e,gub:e,mil:e,net:e,org:e}],uz:[1,{co:e,com:e,net:e,org:e}],va:e,vc:[1,{com:e,edu:e,gov:e,mil:e,net:e,org:e,gv:[2,{d:t}],"0e":s,mydns:t}],ve:[1,{arts:e,bib:e,co:e,com:e,e12:e,edu:e,emprende:e,firm:e,gob:e,gov:e,info:e,int:e,mil:e,net:e,nom:e,org:e,rar:e,rec:e,store:e,tec:e,web:e}],vg:[1,{edu:e}],vi:[1,{co:e,com:e,k12:e,net:e,org:e}],vn:[1,{ac:e,ai:e,biz:e,com:e,edu:e,gov:e,health:e,id:e,info:e,int:e,io:e,name:e,net:e,org:e,pro:e,angiang:e,bacgiang:e,backan:e,baclieu:e,bacninh:e,"baria-vungtau":e,bentre:e,binhdinh:e,binhduong:e,binhphuoc:e,binhthuan:e,camau:e,cantho:e,caobang:e,daklak:e,daknong:e,danang:e,dienbien:e,dongnai:e,dongthap:e,gialai:e,hagiang:e,haiduong:e,haiphong:e,hanam:e,hanoi:e,hatinh:e,haugiang:e,hoabinh:e,hungyen:e,khanhhoa:e,kiengiang:e,kontum:e,laichau:e,lamdong:e,langson:e,laocai:e,longan:e,namdinh:e,nghean:e,ninhbinh:e,ninhthuan:e,phutho:e,phuyen:e,quangbinh:e,quangnam:e,quangngai:e,quangninh:e,quangtri:e,soctrang:e,sonla:e,tayninh:e,thaibinh:e,thainguyen:e,thanhhoa:e,thanhphohochiminh:e,thuathienhue:e,tiengiang:e,travinh:e,tuyenquang:e,vinhlong:e,vinhphuc:e,yenbai:e}],vu:Re,wf:[1,{biz:t,sch:t}],ws:[1,{com:e,edu:e,gov:e,net:e,org:e,advisor:s,cloud66:t,dyndns:t,mypets:t}],yt:[1,{org:t}],"xn--mgbaam7a8h":e,\u0627\u0645\u0627\u0631\u0627\u062A:e,"xn--y9a3aq":e,\u0570\u0561\u0575:e,"xn--54b7fta0cc":e,\u09AC\u09BE\u0982\u09B2\u09BE:e,"xn--90ae":e,\u0431\u0433:e,"xn--mgbcpq6gpa1a":e,\u0627\u0644\u0628\u062D\u0631\u064A\u0646:e,"xn--90ais":e,\u0431\u0435\u043B:e,"xn--fiqs8s":e,\u4E2D\u56FD:e,"xn--fiqz9s":e,\u4E2D\u570B:e,"xn--lgbbat1ad8j":e,\u0627\u0644\u062C\u0632\u0627\u0626\u0631:e,"xn--wgbh1c":e,\u0645\u0635\u0631:e,"xn--e1a4c":e,\u0435\u044E:e,"xn--qxa6a":e,\u03B5\u03C5:e,"xn--mgbah1a3hjkrd":e,\u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627:e,"xn--node":e,\u10D2\u10D4:e,"xn--qxam":e,\u03B5\u03BB:e,"xn--j6w193g":[1,{"xn--gmqw5a":e,"xn--55qx5d":e,"xn--mxtq1m":e,"xn--wcvs22d":e,"xn--uc0atv":e,"xn--od0alg":e}],\u9999\u6E2F:[1,{\u500B\u4EBA:e,\u516C\u53F8:e,\u653F\u5E9C:e,\u6559\u80B2:e,\u7D44\u7E54:e,\u7DB2\u7D61:e}],"xn--2scrj9c":e,\u0CAD\u0CBE\u0CB0\u0CA4:e,"xn--3hcrj9c":e,\u0B2D\u0B3E\u0B30\u0B24:e,"xn--45br5cyl":e,\u09AD\u09BE\u09F0\u09A4:e,"xn--h2breg3eve":e,\u092D\u093E\u0930\u0924\u092E\u094D:e,"xn--h2brj9c8c":e,\u092D\u093E\u0930\u094B\u0924:e,"xn--mgbgu82a":e,\u0680\u0627\u0631\u062A:e,"xn--rvc1e0am3e":e,\u0D2D\u0D3E\u0D30\u0D24\u0D02:e,"xn--h2brj9c":e,\u092D\u093E\u0930\u0924:e,"xn--mgbbh1a":e,\u0628\u0627\u0631\u062A:e,"xn--mgbbh1a71e":e,\u0628\u06BE\u0627\u0631\u062A:e,"xn--fpcrj9c3d":e,\u0C2D\u0C3E\u0C30\u0C24\u0C4D:e,"xn--gecrj9c":e,\u0AAD\u0ABE\u0AB0\u0AA4:e,"xn--s9brj9c":e,\u0A2D\u0A3E\u0A30\u0A24:e,"xn--45brj9c":e,\u09AD\u09BE\u09B0\u09A4:e,"xn--xkc2dl3a5ee0h":e,\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE:e,"xn--mgba3a4f16a":e,\u0627\u06CC\u0631\u0627\u0646:e,"xn--mgba3a4fra":e,\u0627\u064A\u0631\u0627\u0646:e,"xn--mgbtx2b":e,\u0639\u0631\u0627\u0642:e,"xn--mgbayh7gpa":e,\u0627\u0644\u0627\u0631\u062F\u0646:e,"xn--3e0b707e":e,\uD55C\uAD6D:e,"xn--80ao21a":e,\u049B\u0430\u0437:e,"xn--q7ce6a":e,\u0EA5\u0EB2\u0EA7:e,"xn--fzc2c9e2c":e,\u0DBD\u0D82\u0D9A\u0DCF:e,"xn--xkc2al3hye2a":e,\u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8:e,"xn--mgbc0a9azcg":e,\u0627\u0644\u0645\u063A\u0631\u0628:e,"xn--d1alf":e,\u043C\u043A\u0434:e,"xn--l1acc":e,\u043C\u043E\u043D:e,"xn--mix891f":e,\u6FB3\u9580:e,"xn--mix082f":e,\u6FB3\u95E8:e,"xn--mgbx4cd0ab":e,\u0645\u0644\u064A\u0633\u064A\u0627:e,"xn--mgb9awbf":e,\u0639\u0645\u0627\u0646:e,"xn--mgbai9azgqp6j":e,\u067E\u0627\u06A9\u0633\u062A\u0627\u0646:e,"xn--mgbai9a5eva00b":e,\u067E\u0627\u0643\u0633\u062A\u0627\u0646:e,"xn--ygbi2ammx":e,\u0641\u0644\u0633\u0637\u064A\u0646:e,"xn--90a3ac":[1,{"xn--80au":e,"xn--90azh":e,"xn--d1at":e,"xn--c1avg":e,"xn--o1ac":e,"xn--o1ach":e}],\u0441\u0440\u0431:[1,{\u0430\u043A:e,\u043E\u0431\u0440:e,\u043E\u0434:e,\u043E\u0440\u0433:e,\u043F\u0440:e,\u0443\u043F\u0440:e}],"xn--p1ai":e,\u0440\u0444:e,"xn--wgbl6a":e,\u0642\u0637\u0631:e,"xn--mgberp4a5d4ar":e,\u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629:e,"xn--mgberp4a5d4a87g":e,\u0627\u0644\u0633\u0639\u0648\u062F\u06CC\u0629:e,"xn--mgbqly7c0a67fbc":e,\u0627\u0644\u0633\u0639\u0648\u062F\u06CC\u06C3:e,"xn--mgbqly7cvafr":e,\u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0647:e,"xn--mgbpl2fh":e,\u0633\u0648\u062F\u0627\u0646:e,"xn--yfro4i67o":e,\u65B0\u52A0\u5761:e,"xn--clchc0ea0b2g2a9gcd":e,\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD:e,"xn--ogbpf8fl":e,\u0633\u0648\u0631\u064A\u0629:e,"xn--mgbtf8fl":e,\u0633\u0648\u0631\u064A\u0627:e,"xn--o3cw4h":[1,{"xn--o3cyx2a":e,"xn--12co0c3b4eva":e,"xn--m3ch0j3a":e,"xn--h3cuzk1di":e,"xn--12c1fe0br":e,"xn--12cfi8ixb8l":e}],\u0E44\u0E17\u0E22:[1,{\u0E17\u0E2B\u0E32\u0E23:e,\u0E18\u0E38\u0E23\u0E01\u0E34\u0E08:e,\u0E40\u0E19\u0E47\u0E15:e,\u0E23\u0E31\u0E10\u0E1A\u0E32\u0E25:e,\u0E28\u0E36\u0E01\u0E29\u0E32:e,\u0E2D\u0E07\u0E04\u0E4C\u0E01\u0E23:e}],"xn--pgbs0dh":e,\u062A\u0648\u0646\u0633:e,"xn--kpry57d":e,\u53F0\u7063:e,"xn--kprw13d":e,\u53F0\u6E7E:e,"xn--nnx388a":e,\u81FA\u7063:e,"xn--j1amh":e,\u0443\u043A\u0440:e,"xn--mgb2ddes":e,\u0627\u0644\u064A\u0645\u0646:e,xxx:e,ye:n,za:[0,{ac:e,agric:e,alt:e,co:e,edu:e,gov:e,grondar:e,law:e,mil:e,net:e,ngo:e,nic:e,nis:e,nom:e,org:e,school:e,tm:e,web:e}],zm:[1,{ac:e,biz:e,co:e,com:e,edu:e,gov:e,info:e,mil:e,net:e,org:e,sch:e}],zw:[1,{ac:e,co:e,gov:e,mil:e,org:e}],aaa:e,aarp:e,abb:e,abbott:e,abbvie:e,abc:e,able:e,abogado:e,abudhabi:e,academy:[1,{official:t}],accenture:e,accountant:e,accountants:e,aco:e,actor:e,ads:e,adult:e,aeg:e,aetna:e,afl:e,africa:e,agakhan:e,agency:e,aig:e,airbus:e,airforce:e,airtel:e,akdn:e,alibaba:e,alipay:e,allfinanz:e,allstate:e,ally:e,alsace:e,alstom:e,amazon:e,americanexpress:e,americanfamily:e,amex:e,amfam:e,amica:e,amsterdam:e,analytics:e,android:e,anquan:e,anz:e,aol:e,apartments:e,app:[1,{adaptable:t,aiven:t,beget:s,brave:i,clerk:t,clerkstage:t,wnext:t,csb:[2,{preview:t}],convex:t,deta:t,ondigitalocean:t,easypanel:t,encr:t,evervault:a,expo:[2,{staging:t}],edgecompute:t,"on-fleek":t,flutterflow:t,e2b:t,framer:t,hosted:s,run:s,web:t,hasura:t,botdash:t,loginline:t,lovable:t,medusajs:t,messerli:t,netfy:t,netlify:t,ngrok:t,"ngrok-free":t,developer:s,noop:t,northflank:s,upsun:s,replit:o,nyat:t,snowflake:[0,{"*":t,privatelink:s}],streamlit:t,storipress:t,telebit:t,typedream:t,vercel:t,bookonline:t,wdh:t,windsurf:t,zeabur:t,zerops:s}],apple:e,aquarelle:e,arab:e,aramco:e,archi:e,army:e,art:e,arte:e,asda:e,associates:e,athleta:e,attorney:e,auction:e,audi:e,audible:e,audio:e,auspost:e,author:e,auto:e,autos:e,aws:[1,{sagemaker:[0,{"ap-northeast-1":d,"ap-northeast-2":d,"ap-south-1":d,"ap-southeast-1":d,"ap-southeast-2":d,"ca-central-1":h,"eu-central-1":d,"eu-west-1":d,"eu-west-2":d,"us-east-1":h,"us-east-2":h,"us-west-2":h,"af-south-1":u,"ap-east-1":u,"ap-northeast-3":u,"ap-south-2":f,"ap-southeast-3":u,"ap-southeast-4":f,"ca-west-1":[0,{notebook:t,"notebook-fips":t}],"eu-central-2":u,"eu-north-1":u,"eu-south-1":u,"eu-south-2":u,"eu-west-3":u,"il-central-1":u,"me-central-1":u,"me-south-1":u,"sa-east-1":u,"us-gov-east-1":p,"us-gov-west-1":p,"us-west-1":[0,{notebook:t,"notebook-fips":t,studio:t}],experiments:s}],repost:[0,{private:s}],on:[0,{"ap-northeast-1":c,"ap-southeast-1":c,"ap-southeast-2":c,"eu-central-1":c,"eu-north-1":c,"eu-west-1":c,"us-east-1":c,"us-east-2":c,"us-west-2":c}]}],axa:e,azure:e,baby:e,baidu:e,banamex:e,band:e,bank:e,bar:e,barcelona:e,barclaycard:e,barclays:e,barefoot:e,bargains:e,baseball:e,basketball:[1,{aus:t,nz:t}],bauhaus:e,bayern:e,bbc:e,bbt:e,bbva:e,bcg:e,bcn:e,beats:e,beauty:e,beer:e,bentley:e,berlin:e,best:e,bestbuy:e,bet:e,bharti:e,bible:e,bid:e,bike:e,bing:e,bingo:e,bio:e,black:e,blackfriday:e,blockbuster:e,blog:e,bloomberg:e,blue:e,bms:e,bmw:e,bnpparibas:e,boats:e,boehringer:e,bofa:e,bom:e,bond:e,boo:e,book:e,booking:e,bosch:e,bostik:e,boston:e,bot:e,boutique:e,box:e,bradesco:e,bridgestone:e,broadway:e,broker:e,brother:e,brussels:e,build:[1,{v0:t,windsurf:t}],builders:[1,{cloudsite:t}],business:y,buy:e,buzz:e,bzh:e,cab:e,cafe:e,cal:e,call:e,calvinklein:e,cam:e,camera:e,camp:[1,{emf:[0,{at:t}]}],canon:e,capetown:e,capital:e,capitalone:e,car:e,caravan:e,cards:e,care:e,career:e,careers:e,cars:e,casa:[1,{nabu:[0,{ui:t}]}],case:e,cash:e,casino:e,catering:e,catholic:e,cba:e,cbn:e,cbre:e,center:e,ceo:e,cern:e,cfa:e,cfd:e,chanel:e,channel:e,charity:e,chase:e,chat:e,cheap:e,chintai:e,christmas:e,chrome:e,church:e,cipriani:e,circle:e,cisco:e,citadel:e,citi:e,citic:e,city:e,claims:e,cleaning:e,click:e,clinic:e,clinique:e,clothing:e,cloud:[1,{convex:t,elementor:t,encoway:[0,{eu:t}],statics:s,ravendb:t,axarnet:[0,{"es-1":t}],diadem:t,jelastic:[0,{vip:t}],jele:t,"jenv-aruba":[0,{aruba:[0,{eur:[0,{it1:t}]}],it1:t}],keliweb:[2,{cs:t}],oxa:[2,{tn:t,uk:t}],primetel:[2,{uk:t}],reclaim:[0,{ca:t,uk:t,us:t}],trendhosting:[0,{ch:t,de:t}],jotelulu:t,kuleuven:t,laravel:t,linkyard:t,magentosite:s,matlab:t,observablehq:t,perspecta:t,vapor:t,"on-rancher":s,scw:[0,{baremetal:[0,{"fr-par-1":t,"fr-par-2":t,"nl-ams-1":t}],"fr-par":[0,{cockpit:t,fnc:[2,{functions:t}],k8s:P,s3:t,"s3-website":t,whm:t}],instances:[0,{priv:t,pub:t}],k8s:t,"nl-ams":[0,{cockpit:t,k8s:P,s3:t,"s3-website":t,whm:t}],"pl-waw":[0,{cockpit:t,k8s:P,s3:t,"s3-website":t}],scalebook:t,smartlabeling:t}],servebolt:t,onstackit:[0,{runs:t}],trafficplex:t,"unison-services":t,urown:t,voorloper:t,zap:t}],club:[1,{cloudns:t,jele:t,barsy:t}],clubmed:e,coach:e,codes:[1,{owo:s}],coffee:e,college:e,cologne:e,commbank:e,community:[1,{nog:t,ravendb:t,myforum:t}],company:e,compare:e,computer:e,comsec:e,condos:e,construction:e,consulting:e,contact:e,contractors:e,cooking:e,cool:[1,{elementor:t,de:t}],corsica:e,country:e,coupon:e,coupons:e,courses:e,cpa:e,credit:e,creditcard:e,creditunion:e,cricket:e,crown:e,crs:e,cruise:e,cruises:e,cuisinella:e,cymru:e,cyou:e,dad:e,dance:e,data:e,date:e,dating:e,datsun:e,day:e,dclk:e,dds:e,deal:e,dealer:e,deals:e,degree:e,delivery:e,dell:e,deloitte:e,delta:e,democrat:e,dental:e,dentist:e,desi:e,design:[1,{graphic:t,bss:t}],dev:[1,{"12chars":t,myaddr:t,panel:t,lcl:s,lclstage:s,stg:s,stgstage:s,pages:t,r2:t,workers:t,deno:t,"deno-staging":t,deta:t,evervault:a,fly:t,githubpreview:t,gateway:s,hrsn:[2,{psl:[0,{sub:t,wc:[0,{"*":t,sub:s}]}]}],botdash:t,inbrowser:s,"is-a-good":t,"is-a":t,iserv:t,runcontainers:t,localcert:[0,{user:s}],loginline:t,barsy:t,mediatech:t,modx:t,ngrok:t,"ngrok-free":t,"is-a-fullstack":t,"is-cool":t,"is-not-a":t,localplayer:t,xmit:t,"platter-app":t,replit:[2,{archer:t,bones:t,canary:t,global:t,hacker:t,id:t,janeway:t,kim:t,kira:t,kirk:t,odo:t,paris:t,picard:t,pike:t,prerelease:t,reed:t,riker:t,sisko:t,spock:t,staging:t,sulu:t,tarpit:t,teams:t,tucker:t,wesley:t,worf:t}],crm:[0,{d:s,w:s,wa:s,wb:s,wc:s,wd:s,we:s,wf:s}],vercel:t,webhare:s}],dhl:e,diamonds:e,diet:e,digital:[1,{cloudapps:[2,{london:t}]}],direct:[1,{libp2p:t}],directory:e,discount:e,discover:e,dish:e,diy:e,dnp:e,docs:e,doctor:e,dog:e,domains:e,dot:e,download:e,drive:e,dtv:e,dubai:e,dunlop:e,dupont:e,durban:e,dvag:e,dvr:e,earth:e,eat:e,eco:e,edeka:e,education:y,email:[1,{crisp:[0,{on:t}],tawk:Le,tawkto:Le}],emerck:e,energy:e,engineer:e,engineering:e,enterprises:e,epson:e,equipment:e,ericsson:e,erni:e,esq:e,estate:[1,{compute:s}],eurovision:e,eus:[1,{party:Oe}],events:[1,{koobin:t,co:t}],exchange:e,expert:e,exposed:e,express:e,extraspace:e,fage:e,fail:e,fairwinds:e,faith:e,family:e,fan:e,fans:e,farm:[1,{storj:t}],farmers:e,fashion:e,fast:e,fedex:e,feedback:e,ferrari:e,ferrero:e,fidelity:e,fido:e,film:e,final:e,finance:e,financial:y,fire:e,firestone:e,firmdale:e,fish:e,fishing:e,fit:e,fitness:e,flickr:e,flights:e,flir:e,florist:e,flowers:e,fly:e,foo:e,food:e,football:e,ford:e,forex:e,forsale:e,forum:e,foundation:e,fox:e,free:e,fresenius:e,frl:e,frogans:e,frontier:e,ftr:e,fujitsu:e,fun:e,fund:e,furniture:e,futbol:e,fyi:e,gal:e,gallery:e,gallo:e,gallup:e,game:e,games:[1,{pley:t,sheezy:t}],gap:e,garden:e,gay:[1,{pages:t}],gbiz:e,gdn:[1,{cnpy:t}],gea:e,gent:e,genting:e,george:e,ggee:e,gift:e,gifts:e,gives:e,giving:e,glass:e,gle:e,global:[1,{appwrite:t}],globo:e,gmail:e,gmbh:e,gmo:e,gmx:e,godaddy:e,gold:e,goldpoint:e,golf:e,goo:e,goodyear:e,goog:[1,{cloud:t,translate:t,usercontent:s}],google:e,gop:e,got:e,grainger:e,graphics:e,gratis:e,green:e,gripe:e,grocery:e,group:[1,{discourse:t}],gucci:e,guge:e,guide:e,guitars:e,guru:e,hair:e,hamburg:e,hangout:e,haus:e,hbo:e,hdfc:e,hdfcbank:e,health:[1,{hra:t}],healthcare:e,help:e,helsinki:e,here:e,hermes:e,hiphop:e,hisamitsu:e,hitachi:e,hiv:e,hkt:e,hockey:e,holdings:e,holiday:e,homedepot:e,homegoods:e,homes:e,homesense:e,honda:e,horse:e,hospital:e,host:[1,{cloudaccess:t,freesite:t,easypanel:t,fastvps:t,myfast:t,tempurl:t,wpmudev:t,jele:t,mircloud:t,wp2:t,half:t}],hosting:[1,{opencraft:t}],hot:e,hotels:e,hotmail:e,house:e,how:e,hsbc:e,hughes:e,hyatt:e,hyundai:e,ibm:e,icbc:e,ice:e,icu:e,ieee:e,ifm:e,ikano:e,imamat:e,imdb:e,immo:e,immobilien:e,inc:e,industries:e,infiniti:e,ing:e,ink:e,institute:e,insurance:e,insure:e,international:e,intuit:e,investments:e,ipiranga:e,irish:e,ismaili:e,ist:e,istanbul:e,itau:e,itv:e,jaguar:e,java:e,jcb:e,jeep:e,jetzt:e,jewelry:e,jio:e,jll:e,jmp:e,jnj:e,joburg:e,jot:e,joy:e,jpmorgan:e,jprs:e,juegos:e,juniper:e,kaufen:e,kddi:e,kerryhotels:e,kerryproperties:e,kfh:e,kia:e,kids:e,kim:e,kindle:e,kitchen:e,kiwi:e,koeln:e,komatsu:e,kosher:e,kpmg:e,kpn:e,krd:[1,{co:t,edu:t}],kred:e,kuokgroup:e,kyoto:e,lacaixa:e,lamborghini:e,lamer:e,lancaster:e,land:e,landrover:e,lanxess:e,lasalle:e,lat:e,latino:e,latrobe:e,law:e,lawyer:e,lds:e,lease:e,leclerc:e,lefrak:e,legal:e,lego:e,lexus:e,lgbt:e,lidl:e,life:e,lifeinsurance:e,lifestyle:e,lighting:e,like:e,lilly:e,limited:e,limo:e,lincoln:e,link:[1,{myfritz:t,cyon:t,dweb:s,inbrowser:s,nftstorage:J,mypep:t,storacha:J,w3s:J}],live:[1,{aem:t,hlx:t,ewp:s}],living:e,llc:e,llp:e,loan:e,loans:e,locker:e,locus:e,lol:[1,{omg:t}],london:e,lotte:e,lotto:e,love:e,lpl:e,lplfinancial:e,ltd:e,ltda:e,lundbeck:e,luxe:e,luxury:e,madrid:e,maif:e,maison:e,makeup:e,man:e,management:e,mango:e,map:e,market:e,marketing:e,markets:e,marriott:e,marshalls:e,mattel:e,mba:e,mckinsey:e,med:e,media:K,meet:e,melbourne:e,meme:e,memorial:e,men:e,menu:[1,{barsy:t,barsyonline:t}],merck:e,merckmsd:e,miami:e,microsoft:e,mini:e,mint:e,mit:e,mitsubishi:e,mlb:e,mls:e,mma:e,mobile:e,moda:e,moe:e,moi:e,mom:[1,{ind:t}],monash:e,money:e,monster:e,mormon:e,mortgage:e,moscow:e,moto:e,motorcycles:e,mov:e,movie:e,msd:e,mtn:e,mtr:e,music:e,nab:e,nagoya:e,navy:e,nba:e,nec:e,netbank:e,netflix:e,network:[1,{alces:s,co:t,arvo:t,azimuth:t,tlon:t}],neustar:e,new:e,news:[1,{noticeable:t}],next:e,nextdirect:e,nexus:e,nfl:e,ngo:e,nhk:e,nico:e,nike:e,nikon:e,ninja:e,nissan:e,nissay:e,nokia:e,norton:e,now:e,nowruz:e,nowtv:e,nra:e,nrw:e,ntt:e,nyc:e,obi:e,observer:e,office:e,okinawa:e,olayan:e,olayangroup:e,ollo:e,omega:e,one:[1,{kin:s,service:t}],ong:[1,{obl:t}],onl:e,online:[1,{eero:t,"eero-stage":t,websitebuilder:t,barsy:t}],ooo:e,open:e,oracle:e,orange:[1,{tech:t}],organic:e,origins:e,osaka:e,otsuka:e,ott:e,ovh:[1,{nerdpol:t}],page:[1,{aem:t,hlx:t,hlx3:t,translated:t,codeberg:t,heyflow:t,prvcy:t,rocky:t,pdns:t,plesk:t}],panasonic:e,paris:e,pars:e,partners:e,parts:e,party:e,pay:e,pccw:e,pet:e,pfizer:e,pharmacy:e,phd:e,philips:e,phone:e,photo:e,photography:e,photos:K,physio:e,pics:e,pictet:e,pictures:[1,{1337:t}],pid:e,pin:e,ping:e,pink:e,pioneer:e,pizza:[1,{ngrok:t}],place:y,play:e,playstation:e,plumbing:e,plus:e,pnc:e,pohl:e,poker:e,politie:e,porn:e,pramerica:e,praxi:e,press:e,prime:e,prod:e,productions:e,prof:e,progressive:e,promo:e,properties:e,property:e,protection:e,pru:e,prudential:e,pub:[1,{id:s,kin:s,barsy:t}],pwc:e,qpon:e,quebec:e,quest:e,racing:e,radio:e,read:e,realestate:e,realtor:e,realty:e,recipes:e,red:e,redstone:e,redumbrella:e,rehab:e,reise:e,reisen:e,reit:e,reliance:e,ren:e,rent:e,rentals:e,repair:e,report:e,republican:e,rest:e,restaurant:e,review:e,reviews:e,rexroth:e,rich:e,richardli:e,ricoh:e,ril:e,rio:e,rip:[1,{clan:t}],rocks:[1,{myddns:t,stackit:t,"lima-city":t,webspace:t}],rodeo:e,rogers:e,room:e,rsvp:e,rugby:e,ruhr:e,run:[1,{appwrite:s,development:t,ravendb:t,liara:[2,{iran:t}],servers:t,build:s,code:s,database:s,migration:s,onporter:t,repl:t,stackit:t,val:[0,{express:t,web:t}],wix:t}],rwe:e,ryukyu:e,saarland:e,safe:e,safety:e,sakura:e,sale:e,salon:e,samsclub:e,samsung:e,sandvik:e,sandvikcoromant:e,sanofi:e,sap:e,sarl:e,sas:e,save:e,saxo:e,sbi:e,sbs:e,scb:e,schaeffler:e,schmidt:e,scholarships:e,school:e,schule:e,schwarz:e,science:e,scot:[1,{gov:[2,{service:t}]}],search:e,seat:e,secure:e,security:e,seek:e,select:e,sener:e,services:[1,{loginline:t}],seven:e,sew:e,sex:e,sexy:e,sfr:e,shangrila:e,sharp:e,shell:e,shia:e,shiksha:e,shoes:e,shop:[1,{base:t,hoplix:t,barsy:t,barsyonline:t,shopware:t}],shopping:e,shouji:e,show:e,silk:e,sina:e,singles:e,site:[1,{square:t,canva:E,cloudera:s,convex:t,cyon:t,fastvps:t,figma:t,heyflow:t,jele:t,jouwweb:t,loginline:t,barsy:t,notion:t,omniwe:t,opensocial:t,madethis:t,platformsh:s,tst:s,byen:t,srht:t,novecore:t,cpanel:t,wpsquared:t}],ski:e,skin:e,sky:e,skype:e,sling:e,smart:e,smile:e,sncf:e,soccer:e,social:e,softbank:e,software:e,sohu:e,solar:e,solutions:e,song:e,sony:e,soy:e,spa:e,space:[1,{myfast:t,heiyu:t,hf:[2,{static:t}],"app-ionos":t,project:t,uber:t,xs4all:t}],sport:e,spot:e,srl:e,stada:e,staples:e,star:e,statebank:e,statefarm:e,stc:e,stcgroup:e,stockholm:e,storage:e,store:[1,{barsy:t,sellfy:t,shopware:t,storebase:t}],stream:e,studio:e,study:e,style:e,sucks:e,supplies:e,supply:e,support:[1,{barsy:t}],surf:e,surgery:e,suzuki:e,swatch:e,swiss:e,sydney:e,systems:[1,{knightpoint:t}],tab:e,taipei:e,talk:e,taobao:e,target:e,tatamotors:e,tatar:e,tattoo:e,tax:e,taxi:e,tci:e,tdk:e,team:[1,{discourse:t,jelastic:t}],tech:[1,{cleverapps:t}],technology:y,temasek:e,tennis:e,teva:e,thd:e,theater:e,theatre:e,tiaa:e,tickets:e,tienda:e,tips:e,tires:e,tirol:e,tjmaxx:e,tjx:e,tkmaxx:e,tmall:e,today:[1,{prequalifyme:t}],tokyo:e,tools:[1,{addr:Kt,myaddr:t}],top:[1,{ntdll:t,wadl:s}],toray:e,toshiba:e,total:e,tours:e,town:e,toyota:e,toys:e,trade:e,trading:e,training:e,travel:e,travelers:e,travelersinsurance:e,trust:e,trv:e,tube:e,tui:e,tunes:e,tushu:e,tvs:e,ubank:e,ubs:e,unicom:e,university:e,uno:e,uol:e,ups:e,vacations:e,vana:e,vanguard:e,vegas:e,ventures:e,verisign:e,versicherung:e,vet:e,viajes:e,video:e,vig:e,viking:e,villas:e,vin:e,vip:e,virgin:e,visa:e,vision:e,viva:e,vivo:e,vlaanderen:e,vodka:e,volvo:e,vote:e,voting:e,voto:e,voyage:e,wales:e,walmart:e,walter:e,wang:e,wanggou:e,watch:e,watches:e,weather:e,weatherchannel:e,webcam:e,weber:e,website:K,wed:e,wedding:e,weibo:e,weir:e,whoswho:e,wien:e,wiki:K,williamhill:e,win:e,windows:e,wine:e,winners:e,wme:e,wolterskluwer:e,woodside:e,work:e,works:e,world:e,wow:e,wtc:e,wtf:e,xbox:e,xerox:e,xihuan:e,xin:e,"xn--11b4c3d":e,\u0915\u0949\u092E:e,"xn--1ck2e1b":e,\u30BB\u30FC\u30EB:e,"xn--1qqw23a":e,\u4F5B\u5C71:e,"xn--30rr7y":e,\u6148\u5584:e,"xn--3bst00m":e,\u96C6\u56E2:e,"xn--3ds443g":e,\u5728\u7EBF:e,"xn--3pxu8k":e,\u70B9\u770B:e,"xn--42c2d9a":e,\u0E04\u0E2D\u0E21:e,"xn--45q11c":e,\u516B\u5366:e,"xn--4gbrim":e,\u0645\u0648\u0642\u0639:e,"xn--55qw42g":e,\u516C\u76CA:e,"xn--55qx5d":e,\u516C\u53F8:e,"xn--5su34j936bgsg":e,\u9999\u683C\u91CC\u62C9:e,"xn--5tzm5g":e,\u7F51\u7AD9:e,"xn--6frz82g":e,\u79FB\u52A8:e,"xn--6qq986b3xl":e,\u6211\u7231\u4F60:e,"xn--80adxhks":e,\u043C\u043E\u0441\u043A\u0432\u0430:e,"xn--80aqecdr1a":e,\u043A\u0430\u0442\u043E\u043B\u0438\u043A:e,"xn--80asehdb":e,\u043E\u043D\u043B\u0430\u0439\u043D:e,"xn--80aswg":e,\u0441\u0430\u0439\u0442:e,"xn--8y0a063a":e,\u8054\u901A:e,"xn--9dbq2a":e,\u05E7\u05D5\u05DD:e,"xn--9et52u":e,\u65F6\u5C1A:e,"xn--9krt00a":e,\u5FAE\u535A:e,"xn--b4w605ferd":e,\u6DE1\u9A6C\u9521:e,"xn--bck1b9a5dre4c":e,\u30D5\u30A1\u30C3\u30B7\u30E7\u30F3:e,"xn--c1avg":e,\u043E\u0440\u0433:e,"xn--c2br7g":e,\u0928\u0947\u091F:e,"xn--cck2b3b":e,\u30B9\u30C8\u30A2:e,"xn--cckwcxetd":e,\u30A2\u30DE\u30BE\u30F3:e,"xn--cg4bki":e,\uC0BC\uC131:e,"xn--czr694b":e,\u5546\u6807:e,"xn--czrs0t":e,\u5546\u5E97:e,"xn--czru2d":e,\u5546\u57CE:e,"xn--d1acj3b":e,\u0434\u0435\u0442\u0438:e,"xn--eckvdtc9d":e,\u30DD\u30A4\u30F3\u30C8:e,"xn--efvy88h":e,\u65B0\u95FB:e,"xn--fct429k":e,\u5BB6\u96FB:e,"xn--fhbei":e,\u0643\u0648\u0645:e,"xn--fiq228c5hs":e,\u4E2D\u6587\u7F51:e,"xn--fiq64b":e,\u4E2D\u4FE1:e,"xn--fjq720a":e,\u5A31\u4E50:e,"xn--flw351e":e,\u8C37\u6B4C:e,"xn--fzys8d69uvgm":e,\u96FB\u8A0A\u76C8\u79D1:e,"xn--g2xx48c":e,\u8D2D\u7269:e,"xn--gckr3f0f":e,\u30AF\u30E9\u30A6\u30C9:e,"xn--gk3at1e":e,\u901A\u8CA9:e,"xn--hxt814e":e,\u7F51\u5E97:e,"xn--i1b6b1a6a2e":e,\u0938\u0902\u0917\u0920\u0928:e,"xn--imr513n":e,\u9910\u5385:e,"xn--io0a7i":e,\u7F51\u7EDC:e,"xn--j1aef":e,\u043A\u043E\u043C:e,"xn--jlq480n2rg":e,\u4E9A\u9A6C\u900A:e,"xn--jvr189m":e,\u98DF\u54C1:e,"xn--kcrx77d1x4a":e,\u98DE\u5229\u6D66:e,"xn--kput3i":e,\u624B\u673A:e,"xn--mgba3a3ejt":e,\u0627\u0631\u0627\u0645\u0643\u0648:e,"xn--mgba7c0bbn0a":e,\u0627\u0644\u0639\u0644\u064A\u0627\u0646:e,"xn--mgbab2bd":e,\u0628\u0627\u0632\u0627\u0631:e,"xn--mgbca7dzdo":e,\u0627\u0628\u0648\u0638\u0628\u064A:e,"xn--mgbi4ecexp":e,\u0643\u0627\u062B\u0648\u0644\u064A\u0643:e,"xn--mgbt3dhd":e,\u0647\u0645\u0631\u0627\u0647:e,"xn--mk1bu44c":e,\uB2F7\uCEF4:e,"xn--mxtq1m":e,\u653F\u5E9C:e,"xn--ngbc5azd":e,\u0634\u0628\u0643\u0629:e,"xn--ngbe9e0a":e,\u0628\u064A\u062A\u0643:e,"xn--ngbrx":e,\u0639\u0631\u0628:e,"xn--nqv7f":e,\u673A\u6784:e,"xn--nqv7fs00ema":e,\u7EC4\u7EC7\u673A\u6784:e,"xn--nyqy26a":e,\u5065\u5EB7:e,"xn--otu796d":e,\u62DB\u8058:e,"xn--p1acf":[1,{"xn--90amc":t,"xn--j1aef":t,"xn--j1ael8b":t,"xn--h1ahn":t,"xn--j1adp":t,"xn--c1avg":t,"xn--80aaa0cvac":t,"xn--h1aliz":t,"xn--90a1af":t,"xn--41a":t}],\u0440\u0443\u0441:[1,{\u0431\u0438\u0437:t,\u043A\u043E\u043C:t,\u043A\u0440\u044B\u043C:t,\u043C\u0438\u0440:t,\u043C\u0441\u043A:t,\u043E\u0440\u0433:t,\u0441\u0430\u043C\u0430\u0440\u0430:t,\u0441\u043E\u0447\u0438:t,\u0441\u043F\u0431:t,\u044F:t}],"xn--pssy2u":e,\u5927\u62FF:e,"xn--q9jyb4c":e,\u307F\u3093\u306A:e,"xn--qcka1pmc":e,\u30B0\u30FC\u30B0\u30EB:e,"xn--rhqv96g":e,\u4E16\u754C:e,"xn--rovu88b":e,\u66F8\u7C4D:e,"xn--ses554g":e,\u7F51\u5740:e,"xn--t60b56a":e,\uB2F7\uB137:e,"xn--tckwe":e,\u30B3\u30E0:e,"xn--tiq49xqyj":e,\u5929\u4E3B\u6559:e,"xn--unup4y":e,\u6E38\u620F:e,"xn--vermgensberater-ctb":e,verm\u00F6gensberater:e,"xn--vermgensberatung-pwb":e,verm\u00F6gensberatung:e,"xn--vhquv":e,\u4F01\u4E1A:e,"xn--vuq861b":e,\u4FE1\u606F:e,"xn--w4r85el8fhu5dnra":e,\u5609\u91CC\u5927\u9152\u5E97:e,"xn--w4rs40l":e,\u5609\u91CC:e,"xn--xhq521b":e,\u5E7F\u4E1C:e,"xn--zfr164b":e,\u653F\u52A1:e,xyz:[1,{botdash:t,telebit:s}],yachts:e,yahoo:e,yamaxun:e,yandex:e,yodobashi:e,yoga:e,yokohama:e,you:e,youtube:e,yun:e,zappos:e,zara:e,zero:e,zip:e,zone:[1,{cloud66:t,triton:s,stackit:t,lima:t}],zuerich:e}]})();function Nw(e,t,r,n){let s=null,i=t;for(;i!==void 0&&((i[0]&n)!==0&&(s={index:r+1,isIcann:i[0]===1,isPrivate:i[0]===2}),r!==-1);){let a=i[1];i=Object.prototype.hasOwnProperty.call(a,e[r])?a[e[r]]:a["*"],r-=1}return s}function vi(e,t,r){var n;if(hT(e,t,r))return;let s=e.split("."),i=(t.allowPrivateDomains?2:0)|(t.allowIcannDomains?1:0),a=Nw(s,fT,s.length-1,i);if(a!==null){r.isIcann=a.isIcann,r.isPrivate=a.isPrivate,r.publicSuffix=s.slice(a.index+1).join(".");return}let o=Nw(s,pT,s.length-1,i);if(o!==null){r.isIcann=o.isIcann,r.isPrivate=o.isPrivate,r.publicSuffix=s.slice(o.index).join(".");return}r.isIcann=!1,r.isPrivate=!1,r.publicSuffix=(n=s[s.length-1])!==null&&n!==void 0?n:null}var Jr=qw();function mT(e,t={}){return yi(e,5,vi,t,qw())}function gT(e,t={}){return La(Jr),yi(e,0,vi,t,Jr).hostname}function yT(e,t={}){return La(Jr),yi(e,2,vi,t,Jr).publicSuffix}function vT(e,t={}){return La(Jr),yi(e,3,vi,t,Jr).domain}function _T(e,t={}){return La(Jr),yi(e,4,vi,t,Jr).subdomain}function bT(e,t={}){return La(Jr),yi(e,5,vi,t,Jr).domainWithoutSuffix}En.getDomain=vT;En.getDomainWithoutSuffix=bT;En.getHostname=gT;En.getPublicSuffix=yT;En.getSubdomain=_T;En.parse=mT});var qa=T(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.getPublicSuffix=xT;var wT=$w(),zw=["local","example","invalid","localhost","test"],kT=["localhost","invalid"],ST={allowSpecialUseDomain:!1,ignoreError:!1};function xT(e,t={}){t={...ST,...t};let r=e.split("."),n=r[r.length-1],s=!!t.allowSpecialUseDomain,i=!!t.ignoreError;if(s&&n!==void 0&&zw.includes(n)){if(r.length>1)return`${r[r.length-2]}.${n}`;if(kT.includes(n))return n}if(!i&&n!==void 0&&zw.includes(n))throw new Error(`Cookie has domain set to the public suffix "${n}" which is a special use domain. To allow this, configure your CookieJar with {allowSpecialUseDomain: true, rejectPublicSuffixes: false}.`);let a=(0,wT.getDomain)(e,{allowIcannDomains:!0,allowPrivateDomains:!0});if(a)return a}});var mf=T(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.permuteDomain=CT;var ET=qa();function CT(e,t){let r=(0,ET.getPublicSuffix)(e,{allowSpecialUseDomain:t});if(!r)return;if(r==e)return[e];e.slice(-1)=="."&&(e=e.slice(0,-1));let s=e.slice(0,-(r.length+1)).split(".").reverse(),i=r,a=[i];for(;s.length;)i=`${s.shift()}.${i}`,a.push(i);return a}});var Dc=T(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.Store=void 0;var gf=class{constructor(){this.synchronous=!1}findCookie(t,r,n,s){throw new Error("findCookie is not implemented")}findCookies(t,r,n=!1,s){throw new Error("findCookies is not implemented")}putCookie(t,r){throw new Error("putCookie is not implemented")}updateCookie(t,r,n){throw new Error("updateCookie is not implemented")}removeCookie(t,r,n,s){throw new Error("removeCookie is not implemented")}removeCookies(t,r,n){throw new Error("removeCookies is not implemented")}removeAllCookies(t){throw new Error("removeAllCookies is not implemented")}getAllCookies(t){throw new Error("getAllCookies is not implemented (therefore jar cannot be serialized)")}};Tc.Store=gf});var $a=T(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.safeToString=Kr.objectToString=void 0;Kr.createPromiseCallback=OT;Kr.inOperator=TT;var PT=e=>Object.prototype.toString.call(e);Kr.objectToString=PT;var RT=(e,t)=>typeof e.join!="function"?(0,Kr.objectToString)(e):(t.add(e),e.map(n=>n==null||t.has(n)?"":Fw(n,t)).join()),Fw=(e,t=new WeakSet)=>typeof e!="object"||e===null?String(e):typeof e.toString=="function"?Array.isArray(e)?RT(e,t):String(e):(0,Kr.objectToString)(e),IT=e=>Fw(e);Kr.safeToString=IT;function OT(e){let t,r,n,s=new Promise((i,a)=>{r=i,n=a});return typeof e=="function"?t=(i,a)=>{try{i?e(i):e(null,a)}catch(o){n(o instanceof Error?o:new Error)}}:t=(i,a)=>{try{i?n(i):r(a)}catch(o){n(o instanceof Error?o:new Error)}},{promise:s,callback:t,resolve:i=>(t(null,i),s),reject:i=>(t(i),s)}}function TT(e,t){return e in t}});var vf=T(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.MemoryCookieStore=void 0;var DT=Oc(),jT=mf(),AT=Dc(),Cn=$a(),yf=class extends AT.Store{constructor(){super(),this.synchronous=!0,this.idx=Object.create(null)}findCookie(t,r,n,s){let i=(0,Cn.createPromiseCallback)(s);if(t==null||r==null||n==null)return i.resolve(void 0);let a=this.idx[t]?.[r]?.[n];return i.resolve(a)}findCookies(t,r,n=!1,s){typeof n=="function"&&(s=n,n=!0);let i=[],a=(0,Cn.createPromiseCallback)(s);if(!t)return a.resolve([]);let o;r?o=function(d){for(let f in d)if((0,DT.pathMatch)(r,f)){let h=d[f];for(let p in h){let g=h[p];g&&i.push(g)}}}:o=function(d){for(let f in d){let h=d[f];for(let p in h){let g=h[p];g&&i.push(g)}}};let l=(0,jT.permuteDomain)(t,n)||[t],c=this.idx;return l.forEach(u=>{let d=c[u];d&&o(d)}),a.resolve(i)}putCookie(t,r){let n=(0,Cn.createPromiseCallback)(r),{domain:s,path:i,key:a}=t;if(s==null||i==null||a==null)return n.resolve(void 0);let o=this.idx[s]??Object.create(null);this.idx[s]=o;let l=o[i]??Object.create(null);return o[i]=l,l[a]=t,n.resolve(void 0)}updateCookie(t,r,n){if(n)this.putCookie(r,n);else return this.putCookie(r)}removeCookie(t,r,n,s){let i=(0,Cn.createPromiseCallback)(s);return delete this.idx[t]?.[r]?.[n],i.resolve(void 0)}removeCookies(t,r,n){let s=(0,Cn.createPromiseCallback)(n),i=this.idx[t];return i&&(r?delete i[r]:delete this.idx[t]),s.resolve(void 0)}removeAllCookies(t){let r=(0,Cn.createPromiseCallback)(t);return this.idx=Object.create(null),r.resolve(void 0)}getAllCookies(t){let r=(0,Cn.createPromiseCallback)(t),n=[],s=this.idx;return Object.keys(s).forEach(a=>{let o=s[a]??{};Object.keys(o).forEach(c=>{let u=o[c]??{};Object.keys(u).forEach(f=>{let h=u[f];h!=null&&n.push(h)})})}),n.sort((a,o)=>(a.creationIndex||0)-(o.creationIndex||0)),r.resolve(n)}};jc.MemoryCookieStore=yf});var za=T(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.ParameterError=void 0;wr.isNonEmptyString=MT;wr.isDate=UT;wr.isEmptyString=NT;wr.isString=Bw;wr.isObject=Hw;wr.isInteger=Jw;wr.validate=LT;var Vw=$a();function MT(e){return Bw(e)&&e!==""}function UT(e){return e instanceof Date&&Jw(e.getTime())}function NT(e){return e===""||e instanceof String&&e.toString()===""}function Bw(e){return typeof e=="string"||e instanceof String}function Hw(e){return(0,Vw.objectToString)(e)==="[object Object]"}function Jw(e){return typeof e=="number"&&e%1===0}function LT(e,t,r){if(e)return;let n=typeof t=="function"?t:void 0,s=typeof t=="function"?r:t;Hw(s)||(s="[object Object]");let i=new Ac((0,Vw.safeToString)(s));if(n)n(i);else throw i}var Ac=class extends Error{};wr.ParameterError=Ac});var _f=T(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.version=void 0;Mc.version="5.1.2"});var Uc=T(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.IP_V6_REGEX_OBJECT=Pn.PrefixSecurityEnum=void 0;Pn.PrefixSecurityEnum={SILENT:"silent",STRICT:"strict",DISABLED:"unsafe-disabled"};Object.freeze(Pn.PrefixSecurityEnum);var qT=`
\\[?(?:
(?:[a-fA-F\\d]{1,4}:){7}(?:[a-fA-F\\d]{1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|:[a-fA-F\\d]{1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,2}|:)|
(?:[a-fA-F\\d]{1,4}:){4}(?:(?::[a-fA-F\\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,3}|:)|
(?:[a-fA-F\\d]{1,4}:){3}(?:(?::[a-fA-F\\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){2}(?:(?::[a-fA-F\\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,5}|:)|
(?:[a-fA-F\\d]{1,4}:){1}(?:(?::[a-fA-F\\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,6}|:)|
(?::(?:(?::[a-fA-F\\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,7}|:))
)(?:%[0-9a-zA-Z]{1,})?\\]?
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim();Pn.IP_V6_REGEX_OBJECT=new RegExp(`^${qT}$`)});var Fa=T(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.canonicalDomain=zT;var $T=Uc();function Kw(e){return new URL(`http://${e}`).hostname}function zT(e){if(e==null)return;let t=e.trim().replace(/^\./,"");return $T.IP_V6_REGEX_OBJECT.test(t)?(t.startsWith("[")||(t="["+t),t.endsWith("]")||(t=t+"]"),Kw(t).slice(1,-1)):/[^\u0001-\u007f]/.test(t)?Kw(t):t.toLowerCase()}});var kf=T(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.formatDate=FT;function FT(e){return e.toUTCString()}});var Ef=T(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.parseDate=JT;var VT=/[\x09\x20-\x2F\x3B-\x40\x5B-\x60\x7B-\x7E]/,fr={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11};function Sf(e,t,r,n){let s=0;for(;s<e.length;){let i=e.charCodeAt(s);if(i<=47||i>=58)break;s++}if(!(s<t||s>r)&&!(!n&&s!=e.length))return parseInt(e.slice(0,s),10)}function BT(e){let t=e.split(":"),r=[0,0,0];if(t.length===3){for(let n=0;n<3;n++){let s=n==2,i=t[n];if(i===void 0)return;let a=Sf(i,1,2,s);if(a===void 0)return;r[n]=a}return r}}function HT(e){switch(e=String(e).slice(0,3).toLowerCase(),e){case"jan":return fr.jan;case"feb":return fr.feb;case"mar":return fr.mar;case"apr":return fr.apr;case"may":return fr.may;case"jun":return fr.jun;case"jul":return fr.jul;case"aug":return fr.aug;case"sep":return fr.sep;case"oct":return fr.oct;case"nov":return fr.nov;case"dec":return fr.dec;default:return}}function JT(e){if(!e)return;let t=e.split(VT),r,n,s,i,a,o;for(let l=0;l<t.length;l++){let c=(t[l]??"").trim();if(c.length){if(s===void 0){let u=BT(c);if(u){r=u[0],n=u[1],s=u[2];continue}}if(i===void 0){let u=Sf(c,1,2,!0);if(u!==void 0){i=u;continue}}if(a===void 0){let u=HT(c);if(u!==void 0){a=u;continue}}if(o===void 0){let u=Sf(c,2,4,!0);u!==void 0&&(o=u,o>=70&&o<=99?o+=1900:o>=0&&o<=69&&(o+=2e3))}}}if(!(i===void 0||a===void 0||o===void 0||r===void 0||n===void 0||s===void 0||i<1||i>31||o<1601||r>23||n>59||s>59))return new Date(Date.UTC(o,a,i,r,n,s))}});var Lc=T(Gr=>{"use strict";var KT=Gr&&Gr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),WT=Gr&&Gr.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),GT=Gr&&Gr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&KT(t,e,r);return WT(t,e),t};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.Cookie=void 0;var ZT=qa(),Nc=GT(za()),Ww=$a(),YT=kf(),Cf=Ef(),Gw=Fa(),QT=/^[\x21\x23-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]+$/,XT=/[\x20-\x3A\x3C-\x7E]+/,Zw=/[\x00-\x1F]/,Yw=[`
`,"\r","\0"];function eD(e){if(Nc.isEmptyString(e))return e;for(let t=0;t<Yw.length;t++){let r=Yw[t],n=r?e.indexOf(r):-1;n!==-1&&(e=e.slice(0,n))}return e}function tD(e,t){e=eD(e);let r=e.indexOf("=");if(t)r===0&&(e=e.substring(1),r=e.indexOf("="));else if(r<=0)return;let n,s;if(r<=0?(n="",s=e.trim()):(n=e.slice(0,r).trim(),s=e.slice(r+1).trim()),Zw.test(n)||Zw.test(s))return;let i=new Wr;return i.key=n,i.value=s,i}function rD(e,t){if(Nc.isEmptyString(e)||!Nc.isString(e))return;e=e.trim();let r=e.indexOf(";"),n=r===-1?e:e.slice(0,r),s=tD(n,t?.loose??!1);if(!s)return;if(r===-1)return s;let i=e.slice(r+1).trim();if(i.length===0)return s;let a=i.split(";");for(;a.length;){let o=(a.shift()??"").trim();if(o.length===0)continue;let l=o.indexOf("="),c,u;switch(l===-1?(c=o,u=null):(c=o.slice(0,l),u=o.slice(l+1)),c=c.trim().toLowerCase(),u&&(u=u.trim()),c){case"expires":if(u){let d=(0,Cf.parseDate)(u);d&&(s.expires=d)}break;case"max-age":if(u&&/^-?[0-9]+$/.test(u)){let d=parseInt(u,10);s.setMaxAge(d)}break;case"domain":if(u){let d=u.trim().replace(/^\./,"");d&&(s.domain=d.toLowerCase())}break;case"path":s.path=u&&u[0]==="/"?u:null;break;case"secure":s.secure=!0;break;case"httponly":s.httpOnly=!0;break;case"samesite":switch(u?u.toLowerCase():""){case"strict":s.sameSite="strict";break;case"lax":s.sameSite="lax";break;case"none":s.sameSite="none";break;default:s.sameSite=void 0;break}break;default:s.extensions=s.extensions||[],s.extensions.push(o);break}}return s}function Qw(e){if(!e||Nc.isEmptyString(e))return;let t;if(typeof e=="string")try{t=JSON.parse(e)}catch{return}else t=e;let r=new Wr;return Wr.serializableProperties.forEach(n=>{if(t&&typeof t=="object"&&(0,Ww.inOperator)(n,t)){let s=t[n];if(s===void 0||(0,Ww.inOperator)(n,vt)&&s===vt[n])return;switch(n){case"key":case"value":case"sameSite":typeof s=="string"&&(r[n]=s);break;case"expires":case"creation":case"lastAccessed":typeof s=="number"||typeof s=="string"||s instanceof Date?r[n]=t[n]=="Infinity"?"Infinity":new Date(s):s===null&&(r[n]=null);break;case"maxAge":(typeof s=="number"||s==="Infinity"||s==="-Infinity")&&(r[n]=s);break;case"domain":case"path":(typeof s=="string"||s===null)&&(r[n]=s);break;case"secure":case"httpOnly":typeof s=="boolean"&&(r[n]=s);break;case"extensions":Array.isArray(s)&&s.every(i=>typeof i=="string")&&(r[n]=s);break;case"hostOnly":case"pathIsDefault":(typeof s=="boolean"||s===null)&&(r[n]=s);break}}}),r}var vt={key:"",value:"",expires:"Infinity",maxAge:null,domain:null,path:null,secure:!1,httpOnly:!1,extensions:null,hostOnly:null,pathIsDefault:null,creation:null,lastAccessed:null,sameSite:void 0},Wr=class e{constructor(t={}){this.key=t.key??vt.key,this.value=t.value??vt.value,this.expires=t.expires??vt.expires,this.maxAge=t.maxAge??vt.maxAge,this.domain=t.domain??vt.domain,this.path=t.path??vt.path,this.secure=t.secure??vt.secure,this.httpOnly=t.httpOnly??vt.httpOnly,this.extensions=t.extensions??vt.extensions,this.creation=t.creation??vt.creation,this.hostOnly=t.hostOnly??vt.hostOnly,this.pathIsDefault=t.pathIsDefault??vt.pathIsDefault,this.lastAccessed=t.lastAccessed??vt.lastAccessed,this.sameSite=t.sameSite??vt.sameSite,this.creation=t.creation??new Date,Object.defineProperty(this,"creationIndex",{configurable:!1,enumerable:!1,writable:!0,value:++e.cookiesCreated}),this.creationIndex=e.cookiesCreated}[Symbol.for("nodejs.util.inspect.custom")](){let t=Date.now(),r=this.hostOnly!=null?this.hostOnly.toString():"?",n=this.creation&&this.creation!=="Infinity"?`${String(t-this.creation.getTime())}ms`:"?",s=this.lastAccessed&&this.lastAccessed!=="Infinity"?`${String(t-this.lastAccessed.getTime())}ms`:"?";return`Cookie="${this.toString()}; hostOnly=${r}; aAge=${s}; cAge=${n}"`}toJSON(){let t={};for(let r of e.serializableProperties){let n=this[r];if(n!==vt[r])switch(r){case"key":case"value":case"sameSite":typeof n=="string"&&(t[r]=n);break;case"expires":case"creation":case"lastAccessed":typeof n=="number"||typeof n=="string"||n instanceof Date?t[r]=n=="Infinity"?"Infinity":new Date(n).toISOString():n===null&&(t[r]=null);break;case"maxAge":(typeof n=="number"||n==="Infinity"||n==="-Infinity")&&(t[r]=n);break;case"domain":case"path":(typeof n=="string"||n===null)&&(t[r]=n);break;case"secure":case"httpOnly":typeof n=="boolean"&&(t[r]=n);break;case"extensions":Array.isArray(n)&&(t[r]=n);break;case"hostOnly":case"pathIsDefault":(typeof n=="boolean"||n===null)&&(t[r]=n);break}}return t}clone(){return Qw(this.toJSON())}validate(){if(!this.value||!QT.test(this.value)||this.expires!="Infinity"&&!(this.expires instanceof Date)&&!(0,Cf.parseDate)(this.expires)||this.maxAge!=null&&this.maxAge!=="Infinity"&&(this.maxAge==="-Infinity"||this.maxAge<=0)||this.path!=null&&!XT.test(this.path))return!1;let t=this.cdomain();return!(t&&(t.match(/\.$/)||(0,ZT.getPublicSuffix)(t)==null))}setExpires(t){t instanceof Date?this.expires=t:this.expires=(0,Cf.parseDate)(t)||"Infinity"}setMaxAge(t){t===1/0?this.maxAge="Infinity":t===-1/0?this.maxAge="-Infinity":this.maxAge=t}cookieString(){let t=this.value||"";return this.key?`${this.key}=${t}`:t}toString(){let t=this.cookieString();return this.expires!="Infinity"&&this.expires instanceof Date&&(t+=`; Expires=${(0,YT.formatDate)(this.expires)}`),this.maxAge!=null&&this.maxAge!=1/0&&(t+=`; Max-Age=${String(this.maxAge)}`),this.domain&&!this.hostOnly&&(t+=`; Domain=${this.domain}`),this.path&&(t+=`; Path=${this.path}`),this.secure&&(t+="; Secure"),this.httpOnly&&(t+="; HttpOnly"),this.sameSite&&this.sameSite!=="none"&&(this.sameSite.toLowerCase()===e.sameSiteCanonical.lax.toLowerCase()?t+=`; SameSite=${e.sameSiteCanonical.lax}`:this.sameSite.toLowerCase()===e.sameSiteCanonical.strict.toLowerCase()?t+=`; SameSite=${e.sameSiteCanonical.strict}`:t+=`; SameSite=${this.sameSite}`),this.extensions&&this.extensions.forEach(r=>{t+=`; ${r}`}),t}TTL(t=Date.now()){if(this.maxAge!=null&&typeof this.maxAge=="number")return this.maxAge<=0?0:this.maxAge*1e3;let r=this.expires;return r==="Infinity"?1/0:(r?.getTime()??t)-(t||Date.now())}expiryTime(t){if(this.maxAge!=null){let r=t||this.lastAccessed||new Date,n=typeof this.maxAge=="number"?this.maxAge:-1/0,s=n<=0?-1/0:n*1e3;return r==="Infinity"?1/0:r.getTime()+s}return this.expires=="Infinity"?1/0:this.expires?this.expires.getTime():void 0}expiryDate(t){let r=this.expiryTime(t);return r==1/0?new Date(2147483647e3):r==-1/0?new Date(0):r==null?void 0:new Date(r)}isPersistent(){return this.maxAge!=null||this.expires!="Infinity"}canonicalizedDomain(){return(0,Gw.canonicalDomain)(this.domain)}cdomain(){return(0,Gw.canonicalDomain)(this.domain)}static parse(t,r){return rD(t,r)}static fromJSON(t){return Qw(t)}};Gr.Cookie=Wr;Wr.cookiesCreated=0;Wr.sameSiteLevel={strict:3,lax:2,none:1};Wr.sameSiteCanonical={strict:"Strict",lax:"Lax"};Wr.serializableProperties=["key","value","expires","maxAge","domain","path","secure","httpOnly","extensions","hostOnly","pathIsDefault","creation","lastAccessed","sameSite"]});var Rf=T(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.cookieCompare=sD;var Xw=2147483647e3;function sD(e,t){let r,n=e.path?e.path.length:0;if(r=(t.path?t.path.length:0)-n,r!==0)return r;let i=e.creation&&e.creation instanceof Date?e.creation.getTime():Xw,a=t.creation&&t.creation instanceof Date?t.creation.getTime():Xw;return r=i-a,r!==0||(r=(e.creationIndex||0)-(t.creationIndex||0)),r}});var Of=T(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.defaultPath=nD;function nD(e){if(!e||e.slice(0,1)!=="/")return"/";if(e==="/")return e;let t=e.lastIndexOf("/");return t===0?"/":e.slice(0,t)}});var Df=T(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});Tf.domainMatch=aD;var ek=Fa(),iD=/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-f\d]{1,4}:){7}(?:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,2}|:)|(?:[a-f\d]{1,4}:){4}(?:(?::[a-f\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,3}|:)|(?:[a-f\d]{1,4}:){3}(?:(?::[a-f\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,4}|:)|(?:[a-f\d]{1,4}:){2}(?:(?::[a-f\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,5}|:)|(?:[a-f\d]{1,4}:){1}(?:(?::[a-f\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,6}|:)|(?::(?:(?::[a-f\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,7}|:)))$)/;function aD(e,t,r){if(e==null||t==null)return;let n,s;if(r!==!1?(n=(0,ek.canonicalDomain)(e),s=(0,ek.canonicalDomain)(t)):(n=e,s=t),n==null||s==null)return;if(n==s)return!0;let i=n.lastIndexOf(s);return i<=0||n.length!==s.length+i||n.substring(i-1,i)!=="."?!1:!iD.test(n)}});var ok=T(Zr=>{"use strict";var oD=Zr&&Zr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),lD=Zr&&Zr.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),cD=Zr&&Zr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&oD(t,e,r);return lD(t,e),t};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.CookieJar=void 0;var uD=qa(),kr=cD(za()),dD=za(),hD=Dc(),fD=vf(),pD=Oc(),ms=Lc(),Qt=$a(),tk=Fa(),Rn=Uc(),mD=Of(),rk=Df(),sk=Rf(),gD=_f(),yD={loose:!1,sameSiteContext:void 0,ignoreError:!1,http:!0},nk={http:!0,expire:!0,allPaths:!1,sameSiteContext:void 0,sort:void 0},jf='Invalid sameSiteContext option for getCookies(); expected one of "strict", "lax", or "none"';function ik(e){if(e&&typeof e=="object"&&"hostname"in e&&typeof e.hostname=="string"&&"pathname"in e&&typeof e.pathname=="string"&&"protocol"in e&&typeof e.protocol=="string")return{hostname:e.hostname,pathname:e.pathname,protocol:e.protocol};if(typeof e=="string")try{return new URL(decodeURI(e))}catch{return new URL(e)}else throw new dD.ParameterError("`url` argument is not a string or URL.")}function ak(e){let t=String(e).toLowerCase();if(t==="none"||t==="lax"||t==="strict")return t}function vD(e){return!(typeof e.key=="string"&&e.key.startsWith("__Secure-"))||e.secure}function _D(e){return!(typeof e.key=="string"&&e.key.startsWith("__Host-"))||!!(e.secure&&e.hostOnly&&e.path!=null&&e.path==="/")}function qc(e){let t=e.toLowerCase();switch(t){case Rn.PrefixSecurityEnum.STRICT:case Rn.PrefixSecurityEnum.SILENT:case Rn.PrefixSecurityEnum.DISABLED:return t;default:return Rn.PrefixSecurityEnum.SILENT}}var Af=class e{constructor(t,r){typeof r=="boolean"&&(r={rejectPublicSuffixes:r}),this.rejectPublicSuffixes=r?.rejectPublicSuffixes??!0,this.enableLooseMode=r?.looseMode??!1,this.allowSpecialUseDomain=r?.allowSpecialUseDomain??!0,this.prefixSecurity=qc(r?.prefixSecurity??"silent"),this.store=t??new fD.MemoryCookieStore}callSync(t){if(!this.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");let r=null,n;try{t.call(this,(s,i)=>{r=s,n=i})}catch(s){r=s}if(r)throw r;return n}setCookie(t,r,n,s){typeof n=="function"&&(s=n,n=void 0);let i=(0,Qt.createPromiseCallback)(s),a=i.callback,o;try{if(typeof r=="string"&&kr.validate(kr.isNonEmptyString(r),s,(0,Qt.safeToString)(n)),o=ik(r),typeof r=="function")return i.reject(new Error("No URL was specified"));if(typeof n=="function"&&(n=yD),kr.validate(typeof a=="function",a),!kr.isNonEmptyString(t)&&!kr.isObject(t)&&t instanceof String&&t.length==0)return i.resolve(void 0)}catch(y){return i.reject(y)}let l=(0,tk.canonicalDomain)(o.hostname)??null,c=n?.loose||this.enableLooseMode,u=null;if(n?.sameSiteContext&&(u=ak(n.sameSiteContext),!u))return i.reject(new Error(jf));if(typeof t=="string"||t instanceof String){let y=ms.Cookie.parse(t.toString(),{loose:c});if(!y){let v=new Error("Cookie failed to parse");return n?.ignoreError?i.resolve(void 0):i.reject(v)}t=y}else if(!(t instanceof ms.Cookie)){let y=new Error("First argument to setCookie must be a Cookie object or string");return n?.ignoreError?i.resolve(void 0):i.reject(y)}let d=n?.now||new Date;if(this.rejectPublicSuffixes&&t.domain)try{let y=t.cdomain();if((typeof y=="string"?(0,uD.getPublicSuffix)(y,{allowSpecialUseDomain:this.allowSpecialUseDomain,ignoreError:n?.ignoreError}):null)==null&&!Rn.IP_V6_REGEX_OBJECT.test(t.domain)){let P=new Error("Cookie has domain set to a public suffix");return n?.ignoreError?i.resolve(void 0):i.reject(P)}}catch(y){return n?.ignoreError?i.resolve(void 0):i.reject(y)}if(t.domain){if(!(0,rk.domainMatch)(l??void 0,t.cdomain()??void 0,!1)){let y=new Error(`Cookie not in this host's domain. Cookie:${t.cdomain()??"null"} Request:${l??"null"}`);return n?.ignoreError?i.resolve(void 0):i.reject(y)}t.hostOnly==null&&(t.hostOnly=!1)}else t.hostOnly=!0,t.domain=l;if((!t.path||t.path[0]!=="/")&&(t.path=(0,mD.defaultPath)(o.pathname),t.pathIsDefault=!0),n?.http===!1&&t.httpOnly){let y=new Error("Cookie is HttpOnly and this isn't an HTTP API");return n.ignoreError?i.resolve(void 0):i.reject(y)}if(t.sameSite!=="none"&&t.sameSite!==void 0&&u&&u==="none"){let y=new Error("Cookie is SameSite but this is a cross-origin request");return n?.ignoreError?i.resolve(void 0):i.reject(y)}let f=this.prefixSecurity===Rn.PrefixSecurityEnum.SILENT;if(!(this.prefixSecurity===Rn.PrefixSecurityEnum.DISABLED)){let y=!1,v;if(vD(t)?_D(t)||(y=!0,v="Cookie has __Host prefix but either Secure or HostOnly attribute is not set or Path is not '/'"):(y=!0,v="Cookie has __Secure prefix but Secure attribute is not set"),y)return n?.ignoreError||f?i.resolve(void 0):i.reject(new Error(v))}let p=this.store;p.updateCookie||(p.updateCookie=async function(y,v,P){return this.putCookie(v).then(()=>P?.(null),E=>P?.(E))});let g=function(v,P){if(v){a(v);return}let E=function(S){S?a(S):typeof t=="string"?a(null,void 0):a(null,t)};if(P){if(n&&"http"in n&&n.http===!1&&P.httpOnly){v=new Error("old Cookie is HttpOnly and this isn't an HTTP API"),n.ignoreError?a(null,void 0):a(v);return}t instanceof ms.Cookie&&(t.creation=P.creation,t.creationIndex=P.creationIndex,t.lastAccessed=d,p.updateCookie(P,t,E))}else t instanceof ms.Cookie&&(t.creation=t.lastAccessed=d,p.putCookie(t,E))};return p.findCookie(t.domain,t.path,t.key,g),i.promise}setCookieSync(t,r,n){let s=n?this.setCookie.bind(this,t,r,n):this.setCookie.bind(this,t,r);return this.callSync(s)}getCookies(t,r,n){typeof r=="function"?(n=r,r=nk):r===void 0&&(r=nk);let s=(0,Qt.createPromiseCallback)(n),i=s.callback,a;try{typeof t=="string"&&kr.validate(kr.isNonEmptyString(t),i,t),a=ik(t),kr.validate(kr.isObject(r),i,(0,Qt.safeToString)(r)),kr.validate(typeof i=="function",i)}catch(v){return s.reject(v)}let o=(0,tk.canonicalDomain)(a.hostname),l=a.pathname||"/",c=a.protocol&&(a.protocol=="https:"||a.protocol=="wss:"),u=0;if(r.sameSiteContext){let v=ak(r.sameSiteContext);if(v==null)return s.reject(new Error(jf));if(u=ms.Cookie.sameSiteLevel[v],!u)return s.reject(new Error(jf))}let d=r.http??!0,f=Date.now(),h=r.expire??!0,p=r.allPaths??!1,g=this.store;function y(v){if(v.hostOnly){if(v.domain!=o)return!1}else if(!(0,rk.domainMatch)(o??void 0,v.domain??void 0,!1))return!1;if(!p&&typeof v.path=="string"&&!(0,pD.pathMatch)(l,v.path)||v.secure&&!c||v.httpOnly&&!d)return!1;if(u){let E;if(v.sameSite==="lax"?E=ms.Cookie.sameSiteLevel.lax:v.sameSite==="strict"?E=ms.Cookie.sameSiteLevel.strict:E=ms.Cookie.sameSiteLevel.none,E>u)return!1}let P=v.expiryTime();return h&&P!=null&&P<=f?(g.removeCookie(v.domain,v.path,v.key,()=>{}),!1):!0}return g.findCookies(o,p?null:l,this.allowSpecialUseDomain,(v,P)=>{if(v){i(v);return}if(P==null){i(null,[]);return}P=P.filter(y),"sort"in r&&r.sort!==!1&&(P=P.sort(sk.cookieCompare));let E=new Date;for(let S of P)S.lastAccessed=E;i(null,P)}),s.promise}getCookiesSync(t,r){return this.callSync(this.getCookies.bind(this,t,r))??[]}getCookieString(t,r,n){typeof r=="function"&&(n=r,r=void 0);let s=(0,Qt.createPromiseCallback)(n),i=function(a,o){a?s.callback(a):s.callback(null,o?.sort(sk.cookieCompare).map(l=>l.cookieString()).join("; "))};return this.getCookies(t,r,i),s.promise}getCookieStringSync(t,r){return this.callSync(r?this.getCookieString.bind(this,t,r):this.getCookieString.bind(this,t))??""}getSetCookieStrings(t,r,n){typeof r=="function"&&(n=r,r=void 0);let s=(0,Qt.createPromiseCallback)(n),i=function(a,o){a?s.callback(a):s.callback(null,o?.map(l=>l.toString()))};return this.getCookies(t,r,i),s.promise}getSetCookieStringsSync(t,r={}){return this.callSync(this.getSetCookieStrings.bind(this,t,r))??[]}serialize(t){let r=(0,Qt.createPromiseCallback)(t),n=this.store.constructor.name;kr.isObject(n)&&(n=null);let s={version:`tough-cookie@${gD.version}`,storeType:n,rejectPublicSuffixes:this.rejectPublicSuffixes,enableLooseMode:this.enableLooseMode,allowSpecialUseDomain:this.allowSpecialUseDomain,prefixSecurity:qc(this.prefixSecurity),cookies:[]};return typeof this.store.getAllCookies!="function"?r.reject(new Error("store does not support getAllCookies and cannot be serialized")):(this.store.getAllCookies((i,a)=>{if(i){r.callback(i);return}if(a==null){r.callback(null,s);return}s.cookies=a.map(o=>{let l=o.toJSON();return delete l.creationIndex,l}),r.callback(null,s)}),r.promise)}serializeSync(){return this.callSync(t=>{this.serialize(t)})}toJSON(){return this.serializeSync()}_importCookies(t,r){let n;if(t&&typeof t=="object"&&(0,Qt.inOperator)("cookies",t)&&Array.isArray(t.cookies)&&(n=t.cookies),!n){r(new Error("serialized jar has no cookies array"),void 0);return}n=n.slice();let s=i=>{if(i){r(i,void 0);return}if(Array.isArray(n)){if(!n.length){r(i,this);return}let a;try{a=ms.Cookie.fromJSON(n.shift())}catch(o){r(o instanceof Error?o:new Error,void 0);return}if(a===void 0){s(null);return}this.store.putCookie(a,s)}};s(null)}_importCookiesSync(t){this.callSync(this._importCookies.bind(this,t))}clone(t,r){typeof t=="function"&&(r=t,t=void 0);let n=(0,Qt.createPromiseCallback)(r),s=n.callback;return this.serialize((i,a)=>i?n.reject(i):e.deserialize(a??"",t,s)),n.promise}_cloneSync(t){let r=t&&typeof t!="function"?this.clone.bind(this,t):this.clone.bind(this);return this.callSync(n=>{r(n)})}cloneSync(t){if(!t)return this._cloneSync();if(!t.synchronous)throw new Error("CookieJar clone destination store is not synchronous; use async API instead.");return this._cloneSync(t)}removeAllCookies(t){let r=(0,Qt.createPromiseCallback)(t),n=r.callback,s=this.store;return typeof s.removeAllCookies=="function"&&s.removeAllCookies!==hD.Store.prototype.removeAllCookies?(s.removeAllCookies(n),r.promise):(s.getAllCookies((i,a)=>{if(i){n(i);return}if(a||(a=[]),a.length===0){n(null,void 0);return}let o=0,l=[],c=function(d){if(d&&l.push(d),o++,o===a.length){l[0]?n(l[0]):n(null,void 0);return}};a.forEach(u=>{s.removeCookie(u.domain,u.path,u.key,c)})}),r.promise)}removeAllCookiesSync(){this.callSync(t=>{this.removeAllCookies(t)})}static deserialize(t,r,n){typeof r=="function"&&(n=r,r=void 0);let s=(0,Qt.createPromiseCallback)(n),i;if(typeof t=="string")try{i=JSON.parse(t)}catch(u){return s.reject(u instanceof Error?u:new Error)}else i=t;let a=u=>i&&typeof i=="object"&&(0,Qt.inOperator)(u,i)?i[u]:void 0,o=u=>{let d=a(u);return typeof d=="boolean"?d:void 0},l=u=>{let d=a(u);return typeof d=="string"?d:void 0},c=new e(r,{rejectPublicSuffixes:o("rejectPublicSuffixes"),looseMode:o("enableLooseMode"),allowSpecialUseDomain:o("allowSpecialUseDomain"),prefixSecurity:qc(l("prefixSecurity")??"silent")});return c._importCookies(i,u=>{if(u){s.callback(u);return}s.callback(null,c)}),s.promise}static deserializeSync(t,r){let n=typeof t=="string"?JSON.parse(t):t,s=l=>n&&typeof n=="object"&&(0,Qt.inOperator)(l,n)?n[l]:void 0,i=l=>{let c=s(l);return typeof c=="boolean"?c:void 0},a=l=>{let c=s(l);return typeof c=="string"?c:void 0},o=new e(r,{rejectPublicSuffixes:i("rejectPublicSuffixes"),looseMode:i("enableLooseMode"),allowSpecialUseDomain:i("allowSpecialUseDomain"),prefixSecurity:qc(a("prefixSecurity")??"silent")});if(!o.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");return o._importCookiesSync(n),o}static fromJSON(t,r){return e.deserializeSync(t,r)}};Zr.CookieJar=Af});var lk=T(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.permutePath=bD;function bD(e){if(e==="/")return["/"];let t=[e];for(;e.length>1;){let r=e.lastIndexOf("/");if(r===0)break;e=e.slice(0,r),t.push(e)}return t.push("/"),t}});var uk=T(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.permutePath=ge.parseDate=ge.formatDate=ge.domainMatch=ge.defaultPath=ge.CookieJar=ge.cookieCompare=ge.Cookie=ge.PrefixSecurityEnum=ge.canonicalDomain=ge.version=ge.ParameterError=ge.Store=ge.getPublicSuffix=ge.permuteDomain=ge.pathMatch=ge.MemoryCookieStore=void 0;ge.parse=LD;ge.fromJSON=qD;var wD=vf();Object.defineProperty(ge,"MemoryCookieStore",{enumerable:!0,get:function(){return wD.MemoryCookieStore}});var kD=Oc();Object.defineProperty(ge,"pathMatch",{enumerable:!0,get:function(){return kD.pathMatch}});var SD=mf();Object.defineProperty(ge,"permuteDomain",{enumerable:!0,get:function(){return SD.permuteDomain}});var xD=qa();Object.defineProperty(ge,"getPublicSuffix",{enumerable:!0,get:function(){return xD.getPublicSuffix}});var ED=Dc();Object.defineProperty(ge,"Store",{enumerable:!0,get:function(){return ED.Store}});var CD=za();Object.defineProperty(ge,"ParameterError",{enumerable:!0,get:function(){return CD.ParameterError}});var PD=_f();Object.defineProperty(ge,"version",{enumerable:!0,get:function(){return PD.version}});var RD=Fa();Object.defineProperty(ge,"canonicalDomain",{enumerable:!0,get:function(){return RD.canonicalDomain}});var ID=Uc();Object.defineProperty(ge,"PrefixSecurityEnum",{enumerable:!0,get:function(){return ID.PrefixSecurityEnum}});var OD=Lc();Object.defineProperty(ge,"Cookie",{enumerable:!0,get:function(){return OD.Cookie}});var TD=Rf();Object.defineProperty(ge,"cookieCompare",{enumerable:!0,get:function(){return TD.cookieCompare}});var DD=ok();Object.defineProperty(ge,"CookieJar",{enumerable:!0,get:function(){return DD.CookieJar}});var jD=Of();Object.defineProperty(ge,"defaultPath",{enumerable:!0,get:function(){return jD.defaultPath}});var AD=Df();Object.defineProperty(ge,"domainMatch",{enumerable:!0,get:function(){return AD.domainMatch}});var MD=kf();Object.defineProperty(ge,"formatDate",{enumerable:!0,get:function(){return MD.formatDate}});var UD=Ef();Object.defineProperty(ge,"parseDate",{enumerable:!0,get:function(){return UD.parseDate}});var ND=lk();Object.defineProperty(ge,"permutePath",{enumerable:!0,get:function(){return ND.permutePath}});var ck=Lc();function LD(e,t){return ck.Cookie.parse(e,t)}function qD(e){return ck.Cookie.fromJSON(e)}});import Mm from"node:process";var m={};$S(m,{BRAND:()=>fx,DIRTY:()=>Ys,EMPTY_PATH:()=>HS,INVALID:()=>ae,NEVER:()=>Yx,OK:()=>_t,ParseStatus:()=>pt,Schema:()=>pe,ZodAny:()=>xs,ZodArray:()=>ls,ZodBigInt:()=>Xs,ZodBoolean:()=>en,ZodBranded:()=>ea,ZodCatch:()=>hn,ZodDate:()=>tn,ZodDefault:()=>dn,ZodDiscriminatedUnion:()=>Co,ZodEffects:()=>ar,ZodEnum:()=>cn,ZodError:()=>Lt,ZodFirstPartyTypeKind:()=>B,ZodFunction:()=>Ro,ZodIntersection:()=>an,ZodIssueCode:()=>V,ZodLazy:()=>on,ZodLiteral:()=>ln,ZodMap:()=>Yn,ZodNaN:()=>Xn,ZodNativeEnum:()=>un,ZodNever:()=>gr,ZodNull:()=>sn,ZodNullable:()=>Ar,ZodNumber:()=>Qs,ZodObject:()=>qt,ZodOptional:()=>nr,ZodParsedType:()=>Q,ZodPipeline:()=>ta,ZodPromise:()=>Es,ZodReadonly:()=>fn,ZodRecord:()=>Po,ZodSchema:()=>pe,ZodSet:()=>Qn,ZodString:()=>Ss,ZodSymbol:()=>Gn,ZodTransformer:()=>ar,ZodTuple:()=>jr,ZodType:()=>pe,ZodUndefined:()=>rn,ZodUnion:()=>nn,ZodUnknown:()=>os,ZodVoid:()=>Zn,addIssueToContext:()=>Z,any:()=>kx,array:()=>Cx,bigint:()=>yx,boolean:()=>pm,coerce:()=>Zx,custom:()=>dm,date:()=>vx,datetimeRegex:()=>cm,defaultErrorMap:()=>is,discriminatedUnion:()=>Ox,effect:()=>Fx,enum:()=>qx,function:()=>Ux,getErrorMap:()=>Jn,getParsedType:()=>Dr,instanceof:()=>mx,intersection:()=>Tx,isAborted:()=>xo,isAsync:()=>Kn,isDirty:()=>Eo,isValid:()=>ks,late:()=>px,lazy:()=>Nx,literal:()=>Lx,makeIssue:()=>Xi,map:()=>Ax,nan:()=>gx,nativeEnum:()=>$x,never:()=>xx,null:()=>wx,nullable:()=>Bx,number:()=>fm,object:()=>Px,objectUtil:()=>Ju,oboolean:()=>Gx,onumber:()=>Wx,optional:()=>Vx,ostring:()=>Kx,pipeline:()=>Jx,preprocess:()=>Hx,promise:()=>zx,quotelessJson:()=>FS,record:()=>jx,set:()=>Mx,setErrorMap:()=>BS,strictObject:()=>Rx,string:()=>hm,symbol:()=>_x,transformer:()=>Fx,tuple:()=>Dx,undefined:()=>bx,union:()=>Ix,unknown:()=>Sx,util:()=>ve,void:()=>Ex});var ve;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{let i={};for(let a of s)i[a]=a;return i},e.getValidEnumValues=s=>{let i=e.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(let o of i)a[o]=s[o];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let i=[];for(let a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(let a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ve||(ve={}));var Ju;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Ju||(Ju={}));var Q=ve.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Dr=e=>{switch(typeof e){case"undefined":return Q.undefined;case"string":return Q.string;case"number":return Number.isNaN(e)?Q.nan:Q.number;case"boolean":return Q.boolean;case"function":return Q.function;case"bigint":return Q.bigint;case"symbol":return Q.symbol;case"object":return Array.isArray(e)?Q.array:e===null?Q.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Q.promise:typeof Map<"u"&&e instanceof Map?Q.map:typeof Set<"u"&&e instanceof Set?Q.set:typeof Date<"u"&&e instanceof Date?Q.date:Q.object;default:return Q.unknown}};var V=ve.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),FS=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),Lt=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(let a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,l=0;for(;l<a.path.length;){let c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return s(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ve.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let s of this.issues)if(s.path.length>0){let i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Lt.create=e=>new Lt(e);var VS=(e,t)=>{let r;switch(e.code){case V.invalid_type:e.received===Q.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case V.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ve.jsonStringifyReplacer)}`;break;case V.unrecognized_keys:r=`Unrecognized key(s) in object: ${ve.joinValues(e.keys,", ")}`;break;case V.invalid_union:r="Invalid input";break;case V.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ve.joinValues(e.options)}`;break;case V.invalid_enum_value:r=`Invalid enum value. Expected ${ve.joinValues(e.options)}, received '${e.received}'`;break;case V.invalid_arguments:r="Invalid function arguments";break;case V.invalid_return_type:r="Invalid function return type";break;case V.invalid_date:r="Invalid date";break;case V.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ve.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case V.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case V.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case V.custom:r="Invalid input";break;case V.invalid_intersection_types:r="Intersection results could not be merged";break;case V.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case V.not_finite:r="Number must be finite";break;default:r=t.defaultError,ve.assertNever(e)}return{message:r}},is=VS;var nm=is;function BS(e){nm=e}function Jn(){return nm}var Xi=e=>{let{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="",l=n.filter(c=>!!c).slice().reverse();for(let c of l)o=c(a,{data:t,defaultError:o}).message;return{...s,path:i,message:o}},HS=[];function Z(e,t){let r=Jn(),n=Xi({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===is?void 0:is].filter(s=>!!s)});e.common.issues.push(n)}var pt=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let s of r){if(s.status==="aborted")return ae;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let s of r){let i=await s.key,a=await s.value;n.push({key:i,value:a})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let s of r){let{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return ae;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:t.value,value:n}}},ae=Object.freeze({status:"aborted"}),Ys=e=>({status:"dirty",value:e}),_t=e=>({status:"valid",value:e}),xo=e=>e.status==="aborted",Eo=e=>e.status==="dirty",ks=e=>e.status==="valid",Kn=e=>typeof Promise<"u"&&e instanceof Promise;var se;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(se||(se={}));var ir=class{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},im=(e,t)=>{if(ks(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Lt(e.common.issues);return this._error=r,this._error}}};function fe(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,o)=>{let{message:l}=e;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:s}}var pe=class{get description(){return this._def.description}_getType(t){return Dr(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Dr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new pt,ctx:{common:t.parent.common,data:t.data,parsedType:Dr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(Kn(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Dr(t)},s=this._parseSync({data:t,path:n.path,parent:n});return im(n,s)}"~validate"(t){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Dr(t)};if(!this["~standard"].async)try{let n=this._parseSync({data:t,path:[],parent:r});return ks(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>ks(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Dr(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Kn(s)?s:Promise.resolve(s));return im(n,i)}refine(t,r){let n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{let a=t(s),o=()=>i.addIssue({code:V.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new ar({schema:this,typeName:B.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return nr.create(this,this._def)}nullable(){return Ar.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ls.create(this)}promise(){return Es.create(this,this._def)}or(t){return nn.create([this,t],this._def)}and(t){return an.create(this,t,this._def)}transform(t){return new ar({...fe(this._def),schema:this,typeName:B.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new dn({...fe(this._def),innerType:this,defaultValue:r,typeName:B.ZodDefault})}brand(){return new ea({typeName:B.ZodBranded,type:this,...fe(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new hn({...fe(this._def),innerType:this,catchValue:r,typeName:B.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ta.create(this,t)}readonly(){return fn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},JS=/^c[^\s-]{8,}$/i,KS=/^[0-9a-z]+$/,WS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,GS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ZS=/^[a-z0-9_-]{21}$/i,YS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,QS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,XS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Ku,tx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,nx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ix=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ax=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,om="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ox=new RegExp(`^${om}$`);function lm(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function lx(e){return new RegExp(`^${lm(e)}$`)}function cm(e){let t=`${om}T${lm(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function cx(e,t){return!!((t==="v4"||!t)&&tx.test(e)||(t==="v6"||!t)&&sx.test(e))}function ux(e,t){if(!YS.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function dx(e,t){return!!((t==="v4"||!t)&&rx.test(e)||(t==="v6"||!t)&&nx.test(e))}var Ss=class e extends pe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Q.string){let i=this._getOrReturnCtx(t);return Z(i,{code:V.invalid_type,expected:Q.string,received:i.parsedType}),ae}let n=new pt,s;for(let i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Z(s,{code:V.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Z(s,{code:V.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let a=t.data.length>i.value,o=t.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(t,s),a?Z(s,{code:V.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&Z(s,{code:V.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")XS.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"email",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Ku||(Ku=new RegExp(ex,"u")),Ku.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"emoji",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")GS.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"uuid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")ZS.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"nanoid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")JS.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"cuid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")KS.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"cuid2",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")WS.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"ulid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Z(s,{validation:"url",code:V.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"regex",code:V.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Z(s,{code:V.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Z(s,{code:V.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Z(s,{code:V.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?cm(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{code:V.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?ox.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{code:V.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?lx(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{code:V.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?QS.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"duration",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?cx(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"ip",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?ux(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"jwt",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?dx(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"cidr",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?ix.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"base64",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?ax.test(t.data)||(s=this._getOrReturnCtx(t,s),Z(s,{validation:"base64url",code:V.invalid_string,message:i.message}),n.dirty()):ve.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:V.invalid_string,...se.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...se.errToObj(t)})}url(t){return this._addCheck({kind:"url",...se.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...se.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...se.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...se.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...se.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...se.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...se.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...se.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...se.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...se.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...se.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...se.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...se.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...se.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...se.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...se.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...se.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...se.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...se.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...se.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...se.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...se.errToObj(r)})}nonempty(t){return this.min(1,se.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};Ss.create=e=>new Ss({checks:[],typeName:B.ZodString,coerce:e?.coerce??!1,...fe(e)});function hx(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),a=Number.parseInt(t.toFixed(s).replace(".",""));return i%a/10**s}var Qs=class e extends pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Q.number){let i=this._getOrReturnCtx(t);return Z(i,{code:V.invalid_type,expected:Q.number,received:i.parsedType}),ae}let n,s=new pt;for(let i of this._def.checks)i.kind==="int"?ve.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Z(n,{code:V.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Z(n,{code:V.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Z(n,{code:V.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?hx(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Z(n,{code:V.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Z(n,{code:V.not_finite,message:i.message}),s.dirty()):ve.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,se.toString(r))}setLimit(t,r,n,s){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:se.toString(s)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:se.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:se.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:se.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ve.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};Qs.create=e=>new Qs({checks:[],typeName:B.ZodNumber,coerce:e?.coerce||!1,...fe(e)});var Xs=class e extends pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Q.bigint)return this._getInvalidInput(t);let n,s=new pt;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Z(n,{code:V.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Z(n,{code:V.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Z(n,{code:V.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ve.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return Z(r,{code:V.invalid_type,expected:Q.bigint,received:r.parsedType}),ae}gte(t,r){return this.setLimit("min",t,!0,se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,se.toString(r))}setLimit(t,r,n,s){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:se.toString(s)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:se.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};Xs.create=e=>new Xs({checks:[],typeName:B.ZodBigInt,coerce:e?.coerce??!1,...fe(e)});var en=class extends pe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Q.boolean){let n=this._getOrReturnCtx(t);return Z(n,{code:V.invalid_type,expected:Q.boolean,received:n.parsedType}),ae}return _t(t.data)}};en.create=e=>new en({typeName:B.ZodBoolean,coerce:e?.coerce||!1,...fe(e)});var tn=class e extends pe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Q.date){let i=this._getOrReturnCtx(t);return Z(i,{code:V.invalid_type,expected:Q.date,received:i.parsedType}),ae}if(Number.isNaN(t.data.getTime())){let i=this._getOrReturnCtx(t);return Z(i,{code:V.invalid_date}),ae}let n=new pt,s;for(let i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Z(s,{code:V.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Z(s,{code:V.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ve.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:se.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:se.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};tn.create=e=>new tn({checks:[],coerce:e?.coerce||!1,typeName:B.ZodDate,...fe(e)});var Gn=class extends pe{_parse(t){if(this._getType(t)!==Q.symbol){let n=this._getOrReturnCtx(t);return Z(n,{code:V.invalid_type,expected:Q.symbol,received:n.parsedType}),ae}return _t(t.data)}};Gn.create=e=>new Gn({typeName:B.ZodSymbol,...fe(e)});var rn=class extends pe{_parse(t){if(this._getType(t)!==Q.undefined){let n=this._getOrReturnCtx(t);return Z(n,{code:V.invalid_type,expected:Q.undefined,received:n.parsedType}),ae}return _t(t.data)}};rn.create=e=>new rn({typeName:B.ZodUndefined,...fe(e)});var sn=class extends pe{_parse(t){if(this._getType(t)!==Q.null){let n=this._getOrReturnCtx(t);return Z(n,{code:V.invalid_type,expected:Q.null,received:n.parsedType}),ae}return _t(t.data)}};sn.create=e=>new sn({typeName:B.ZodNull,...fe(e)});var xs=class extends pe{constructor(){super(...arguments),this._any=!0}_parse(t){return _t(t.data)}};xs.create=e=>new xs({typeName:B.ZodAny,...fe(e)});var os=class extends pe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return _t(t.data)}};os.create=e=>new os({typeName:B.ZodUnknown,...fe(e)});var gr=class extends pe{_parse(t){let r=this._getOrReturnCtx(t);return Z(r,{code:V.invalid_type,expected:Q.never,received:r.parsedType}),ae}};gr.create=e=>new gr({typeName:B.ZodNever,...fe(e)});var Zn=class extends pe{_parse(t){if(this._getType(t)!==Q.undefined){let n=this._getOrReturnCtx(t);return Z(n,{code:V.invalid_type,expected:Q.void,received:n.parsedType}),ae}return _t(t.data)}};Zn.create=e=>new Zn({typeName:B.ZodVoid,...fe(e)});var ls=class e extends pe{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Q.array)return Z(r,{code:V.invalid_type,expected:Q.array,received:r.parsedType}),ae;if(s.exactLength!==null){let a=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(a||o)&&(Z(r,{code:a?V.too_big:V.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Z(r,{code:V.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Z(r,{code:V.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>s.type._parseAsync(new ir(r,a,r.path,o)))).then(a=>pt.mergeArray(n,a));let i=[...r.data].map((a,o)=>s.type._parseSync(new ir(r,a,r.path,o)));return pt.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:se.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:se.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:se.toString(r)}})}nonempty(t){return this.min(1,t)}};ls.create=(e,t)=>new ls({type:e,minLength:null,maxLength:null,exactLength:null,typeName:B.ZodArray,...fe(t)});function Wn(e){if(e instanceof qt){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=nr.create(Wn(n))}return new qt({...e._def,shape:()=>t})}else return e instanceof ls?new ls({...e._def,type:Wn(e.element)}):e instanceof nr?nr.create(Wn(e.unwrap())):e instanceof Ar?Ar.create(Wn(e.unwrap())):e instanceof jr?jr.create(e.items.map(t=>Wn(t))):e}var qt=class e extends pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=ve.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Q.object){let c=this._getOrReturnCtx(t);return Z(c,{code:V.invalid_type,expected:Q.object,received:c.parsedType}),ae}let{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof gr&&this._def.unknownKeys==="strip"))for(let c in s.data)a.includes(c)||o.push(c);let l=[];for(let c of a){let u=i[c],d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ir(s,d,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof gr){let c=this._def.unknownKeys;if(c==="passthrough")for(let u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")o.length>0&&(Z(s,{code:V.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let u of o){let d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ir(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let c=[];for(let u of l){let d=await u.key,f=await u.value;c.push({key:d,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>pt.mergeObjectSync(n,c)):pt.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return se.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{let s=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:se.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:B.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};for(let n of ve.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new e({...this._def,shape:()=>r})}omit(t){let r={};for(let n of ve.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new e({...this._def,shape:()=>r})}deepPartial(){return Wn(this)}partial(t){let r={};for(let n of ve.objectKeys(this.shape)){let s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new e({...this._def,shape:()=>r})}required(t){let r={};for(let n of ve.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof nr;)i=i._def.innerType;r[n]=i}return new e({...this._def,shape:()=>r})}keyof(){return um(ve.objectKeys(this.shape))}};qt.create=(e,t)=>new qt({shape:()=>e,unknownKeys:"strip",catchall:gr.create(),typeName:B.ZodObject,...fe(t)});qt.strictCreate=(e,t)=>new qt({shape:()=>e,unknownKeys:"strict",catchall:gr.create(),typeName:B.ZodObject,...fe(t)});qt.lazycreate=(e,t)=>new qt({shape:e,unknownKeys:"strip",catchall:gr.create(),typeName:B.ZodObject,...fe(t)});var nn=class extends pe{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(let o of i)if(o.result.status==="valid")return o.result;for(let o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;let a=i.map(o=>new Lt(o.ctx.common.issues));return Z(r,{code:V.invalid_union,unionErrors:a}),ae}if(r.common.async)return Promise.all(n.map(async i=>{let a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i,a=[];for(let l of n){let c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let o=a.map(l=>new Lt(l));return Z(r,{code:V.invalid_union,unionErrors:o}),ae}}get options(){return this._def.options}};nn.create=(e,t)=>new nn({options:e,typeName:B.ZodUnion,...fe(t)});var as=e=>e instanceof on?as(e.schema):e instanceof ar?as(e.innerType()):e instanceof ln?[e.value]:e instanceof cn?e.options:e instanceof un?ve.objectValues(e.enum):e instanceof dn?as(e._def.innerType):e instanceof rn?[void 0]:e instanceof sn?[null]:e instanceof nr?[void 0,...as(e.unwrap())]:e instanceof Ar?[null,...as(e.unwrap())]:e instanceof ea||e instanceof fn?as(e.unwrap()):e instanceof hn?as(e._def.innerType):[],Co=class e extends pe{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.object)return Z(r,{code:V.invalid_type,expected:Q.object,received:r.parsedType}),ae;let n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Z(r,{code:V.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ae)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let s=new Map;for(let i of r){let a=as(i.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let o of a){if(s.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);s.set(o,i)}}return new e({typeName:B.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...fe(n)})}};function Wu(e,t){let r=Dr(e),n=Dr(t);if(e===t)return{valid:!0,data:e};if(r===Q.object&&n===Q.object){let s=ve.objectKeys(t),i=ve.objectKeys(e).filter(o=>s.indexOf(o)!==-1),a={...e,...t};for(let o of i){let l=Wu(e[o],t[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(r===Q.array&&n===Q.array){if(e.length!==t.length)return{valid:!1};let s=[];for(let i=0;i<e.length;i++){let a=e[i],o=t[i],l=Wu(a,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===Q.date&&n===Q.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var an=class extends pe{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),s=(i,a)=>{if(xo(i)||xo(a))return ae;let o=Wu(i.value,a.value);return o.valid?((Eo(i)||Eo(a))&&r.dirty(),{status:r.value,value:o.data}):(Z(n,{code:V.invalid_intersection_types}),ae)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};an.create=(e,t,r)=>new an({left:e,right:t,typeName:B.ZodIntersection,...fe(r)});var jr=class e extends pe{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Q.array)return Z(n,{code:V.invalid_type,expected:Q.array,received:n.parsedType}),ae;if(n.data.length<this._def.items.length)return Z(n,{code:V.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ae;!this._def.rest&&n.data.length>this._def.items.length&&(Z(n,{code:V.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((a,o)=>{let l=this._def.items[o]||this._def.rest;return l?l._parse(new ir(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>pt.mergeArray(r,a)):pt.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};jr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jr({items:e,typeName:B.ZodTuple,rest:null,...fe(t)})};var Po=class e extends pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Q.object)return Z(n,{code:V.invalid_type,expected:Q.object,received:n.parsedType}),ae;let s=[],i=this._def.keyType,a=this._def.valueType;for(let o in n.data)s.push({key:i._parse(new ir(n,o,n.path,o)),value:a._parse(new ir(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?pt.mergeObjectAsync(r,s):pt.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof pe?new e({keyType:t,valueType:r,typeName:B.ZodRecord,...fe(n)}):new e({keyType:Ss.create(),valueType:t,typeName:B.ZodRecord,...fe(r)})}},Yn=class extends pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Q.map)return Z(n,{code:V.invalid_type,expected:Q.map,received:n.parsedType}),ae;let s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([o,l],c)=>({key:s._parse(new ir(n,o,n.path,[c,"key"])),value:i._parse(new ir(n,l,n.path,[c,"value"]))}));if(n.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let l of a){let c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return ae;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{let o=new Map;for(let l of a){let c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return ae;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}};Yn.create=(e,t,r)=>new Yn({valueType:t,keyType:e,typeName:B.ZodMap,...fe(r)});var Qn=class e extends pe{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Q.set)return Z(n,{code:V.invalid_type,expected:Q.set,received:n.parsedType}),ae;let s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Z(n,{code:V.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Z(n,{code:V.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());let i=this._def.valueType;function a(l){let c=new Set;for(let u of l){if(u.status==="aborted")return ae;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}let o=[...n.data.values()].map((l,c)=>i._parse(new ir(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(t,r){return new e({...this._def,minSize:{value:t,message:se.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:se.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};Qn.create=(e,t)=>new Qn({valueType:e,minSize:null,maxSize:null,typeName:B.ZodSet,...fe(t)});var Ro=class e extends pe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.function)return Z(r,{code:V.invalid_type,expected:Q.function,received:r.parsedType}),ae;function n(o,l){return Xi({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Jn(),is].filter(c=>!!c),issueData:{code:V.invalid_arguments,argumentsError:l}})}function s(o,l){return Xi({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Jn(),is].filter(c=>!!c),issueData:{code:V.invalid_return_type,returnTypeError:l}})}let i={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof Es){let o=this;return _t(async function(...l){let c=new Lt([]),u=await o._def.args.parseAsync(l,i).catch(h=>{throw c.addIssue(n(l,h)),c}),d=await Reflect.apply(a,this,u);return await o._def.returns._def.type.parseAsync(d,i).catch(h=>{throw c.addIssue(s(d,h)),c})})}else{let o=this;return _t(function(...l){let c=o._def.args.safeParse(l,i);if(!c.success)throw new Lt([n(l,c.error)]);let u=Reflect.apply(a,this,c.data),d=o._def.returns.safeParse(u,i);if(!d.success)throw new Lt([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:jr.create(t).rest(os.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||jr.create([]).rest(os.create()),returns:r||os.create(),typeName:B.ZodFunction,...fe(n)})}},on=class extends pe{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};on.create=(e,t)=>new on({getter:e,typeName:B.ZodLazy,...fe(t)});var ln=class extends pe{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return Z(r,{received:r.data,code:V.invalid_literal,expected:this._def.value}),ae}return{status:"valid",value:t.data}}get value(){return this._def.value}};ln.create=(e,t)=>new ln({value:e,typeName:B.ZodLiteral,...fe(t)});function um(e,t){return new cn({values:e,typeName:B.ZodEnum,...fe(t)})}var cn=class e extends pe{_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return Z(r,{expected:ve.joinValues(n),received:r.parsedType,code:V.invalid_type}),ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return Z(r,{received:r.data,code:V.invalid_enum_value,options:n}),ae}return _t(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};cn.create=um;var un=class extends pe{_parse(t){let r=ve.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Q.string&&n.parsedType!==Q.number){let s=ve.objectValues(r);return Z(n,{expected:ve.joinValues(s),received:n.parsedType,code:V.invalid_type}),ae}if(this._cache||(this._cache=new Set(ve.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){let s=ve.objectValues(r);return Z(n,{received:n.data,code:V.invalid_enum_value,options:s}),ae}return _t(t.data)}get enum(){return this._def.values}};un.create=(e,t)=>new un({values:e,typeName:B.ZodNativeEnum,...fe(t)});var Es=class extends pe{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Q.promise&&r.common.async===!1)return Z(r,{code:V.invalid_type,expected:Q.promise,received:r.parsedType}),ae;let n=r.parsedType===Q.promise?r.data:Promise.resolve(r.data);return _t(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Es.create=(e,t)=>new Es({type:e,typeName:B.ZodPromise,...fe(t)});var ar=class extends pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===B.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{Z(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){let a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return ae;let l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?ae:l.status==="dirty"?Ys(l.value):r.value==="dirty"?Ys(l.value):l});{if(r.value==="aborted")return ae;let o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?ae:o.status==="dirty"?Ys(o.value):r.value==="dirty"?Ys(o.value):o}}if(s.type==="refinement"){let a=o=>{let l=s.refinement(o,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ae:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?ae:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ks(a))return ae;let o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>ks(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:r.value,value:o})):ae);ve.assertNever(s)}};ar.create=(e,t,r)=>new ar({schema:e,typeName:B.ZodEffects,effect:t,...fe(r)});ar.createWithPreprocess=(e,t,r)=>new ar({schema:t,effect:{type:"preprocess",transform:e},typeName:B.ZodEffects,...fe(r)});var nr=class extends pe{_parse(t){return this._getType(t)===Q.undefined?_t(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};nr.create=(e,t)=>new nr({innerType:e,typeName:B.ZodOptional,...fe(t)});var Ar=class extends pe{_parse(t){return this._getType(t)===Q.null?_t(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Ar.create=(e,t)=>new Ar({innerType:e,typeName:B.ZodNullable,...fe(t)});var dn=class extends pe{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===Q.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};dn.create=(e,t)=>new dn({innerType:e,typeName:B.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...fe(t)});var hn=class extends pe{_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Kn(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Lt(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Lt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};hn.create=(e,t)=>new hn({innerType:e,typeName:B.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...fe(t)});var Xn=class extends pe{_parse(t){if(this._getType(t)!==Q.nan){let n=this._getOrReturnCtx(t);return Z(n,{code:V.invalid_type,expected:Q.nan,received:n.parsedType}),ae}return{status:"valid",value:t.data}}};Xn.create=e=>new Xn({typeName:B.ZodNaN,...fe(e)});var fx=Symbol("zod_brand"),ea=class extends pe{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},ta=class e extends pe{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ae:i.status==="dirty"?(r.dirty(),Ys(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ae:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:B.ZodPipeline})}},fn=class extends pe{_parse(t){let r=this._def.innerType._parse(t),n=s=>(ks(s)&&(s.value=Object.freeze(s.value)),s);return Kn(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}};fn.create=(e,t)=>new fn({innerType:e,typeName:B.ZodReadonly,...fe(t)});function am(e,t){let r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function dm(e,t={},r){return e?xs.create().superRefine((n,s)=>{let i=e(n);if(i instanceof Promise)return i.then(a=>{if(!a){let o=am(t,n),l=o.fatal??r??!0;s.addIssue({code:"custom",...o,fatal:l})}});if(!i){let a=am(t,n),o=a.fatal??r??!0;s.addIssue({code:"custom",...a,fatal:o})}}):xs.create()}var px={object:qt.lazycreate},B;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(B||(B={}));var mx=(e,t={message:`Input not instance of ${e.name}`})=>dm(r=>r instanceof e,t),hm=Ss.create,fm=Qs.create,gx=Xn.create,yx=Xs.create,pm=en.create,vx=tn.create,_x=Gn.create,bx=rn.create,wx=sn.create,kx=xs.create,Sx=os.create,xx=gr.create,Ex=Zn.create,Cx=ls.create,Px=qt.create,Rx=qt.strictCreate,Ix=nn.create,Ox=Co.create,Tx=an.create,Dx=jr.create,jx=Po.create,Ax=Yn.create,Mx=Qn.create,Ux=Ro.create,Nx=on.create,Lx=ln.create,qx=cn.create,$x=un.create,zx=Es.create,Fx=ar.create,Vx=nr.create,Bx=Ar.create,Hx=ar.createWithPreprocess,Jx=ta.create,Kx=()=>hm().optional(),Wx=()=>fm().optional(),Gx=()=>pm().optional(),Zx={string:(e=>Ss.create({...e,coerce:!0})),number:(e=>Qs.create({...e,coerce:!0})),boolean:(e=>en.create({...e,coerce:!0})),bigint:(e=>Xs.create({...e,coerce:!0})),date:(e=>tn.create({...e,coerce:!0}))};var Yx=ae;var Gu="2025-06-18";var mm=[Gu,"2025-03-26","2024-11-05","2024-10-07"],Io="2.0",gm=m.union([m.string(),m.number().int()]),ym=m.string(),Qx=m.object({progressToken:m.optional(gm)}).passthrough(),or=m.object({_meta:m.optional(Qx)}).passthrough(),$t=m.object({method:m.string(),params:m.optional(or)}),ra=m.object({_meta:m.optional(m.object({}).passthrough())}).passthrough(),Mr=m.object({method:m.string(),params:m.optional(ra)}),lr=m.object({_meta:m.optional(m.object({}).passthrough())}).passthrough(),Oo=m.union([m.string(),m.number().int()]),vm=m.object({jsonrpc:m.literal(Io),id:Oo}).merge($t).strict(),_m=e=>vm.safeParse(e).success,bm=m.object({jsonrpc:m.literal(Io)}).merge(Mr).strict(),wm=e=>bm.safeParse(e).success,km=m.object({jsonrpc:m.literal(Io),id:Oo,result:lr}).strict(),Zu=e=>km.safeParse(e).success,Me;(function(e){e[e.ConnectionClosed=-32e3]="ConnectionClosed",e[e.RequestTimeout=-32001]="RequestTimeout",e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError"})(Me||(Me={}));var Sm=m.object({jsonrpc:m.literal(Io),id:Oo,error:m.object({code:m.number().int(),message:m.string(),data:m.optional(m.unknown())})}).strict(),xm=e=>Sm.safeParse(e).success,Em=m.union([vm,bm,km,Sm]),To=lr.strict(),Do=Mr.extend({method:m.literal("notifications/cancelled"),params:ra.extend({requestId:Oo,reason:m.string().optional()})}),sa=m.object({name:m.string(),title:m.optional(m.string())}).passthrough(),Cm=sa.extend({version:m.string()}),Xx=m.object({experimental:m.optional(m.object({}).passthrough()),sampling:m.optional(m.object({}).passthrough()),elicitation:m.optional(m.object({}).passthrough()),roots:m.optional(m.object({listChanged:m.optional(m.boolean())}).passthrough())}).passthrough(),Yu=$t.extend({method:m.literal("initialize"),params:or.extend({protocolVersion:m.string(),capabilities:Xx,clientInfo:Cm})});var e1=m.object({experimental:m.optional(m.object({}).passthrough()),logging:m.optional(m.object({}).passthrough()),completions:m.optional(m.object({}).passthrough()),prompts:m.optional(m.object({listChanged:m.optional(m.boolean())}).passthrough()),resources:m.optional(m.object({subscribe:m.optional(m.boolean()),listChanged:m.optional(m.boolean())}).passthrough()),tools:m.optional(m.object({listChanged:m.optional(m.boolean())}).passthrough())}).passthrough(),t1=lr.extend({protocolVersion:m.string(),capabilities:e1,serverInfo:Cm,instructions:m.optional(m.string())}),Qu=Mr.extend({method:m.literal("notifications/initialized")});var jo=$t.extend({method:m.literal("ping")}),r1=m.object({progress:m.number(),total:m.optional(m.number()),message:m.optional(m.string())}).passthrough(),Ao=Mr.extend({method:m.literal("notifications/progress"),params:ra.merge(r1).extend({progressToken:gm})}),Mo=$t.extend({params:or.extend({cursor:m.optional(ym)}).optional()}),Uo=lr.extend({nextCursor:m.optional(ym)}),Pm=m.object({uri:m.string(),mimeType:m.optional(m.string()),_meta:m.optional(m.object({}).passthrough())}).passthrough(),Rm=Pm.extend({text:m.string()}),Xu=m.string().refine(e=>{try{return atob(e),!0}catch{return!1}},{message:"Invalid Base64 string"}),Im=Pm.extend({blob:Xu}),Om=sa.extend({uri:m.string(),description:m.optional(m.string()),mimeType:m.optional(m.string()),_meta:m.optional(m.object({}).passthrough())}),s1=sa.extend({uriTemplate:m.string(),description:m.optional(m.string()),mimeType:m.optional(m.string()),_meta:m.optional(m.object({}).passthrough())}),No=Mo.extend({method:m.literal("resources/list")}),n1=Uo.extend({resources:m.array(Om)}),Lo=Mo.extend({method:m.literal("resources/templates/list")}),i1=Uo.extend({resourceTemplates:m.array(s1)}),qo=$t.extend({method:m.literal("resources/read"),params:or.extend({uri:m.string()})}),a1=lr.extend({contents:m.array(m.union([Rm,Im]))}),o1=Mr.extend({method:m.literal("notifications/resources/list_changed")}),l1=$t.extend({method:m.literal("resources/subscribe"),params:or.extend({uri:m.string()})}),c1=$t.extend({method:m.literal("resources/unsubscribe"),params:or.extend({uri:m.string()})}),u1=Mr.extend({method:m.literal("notifications/resources/updated"),params:ra.extend({uri:m.string()})}),d1=m.object({name:m.string(),description:m.optional(m.string()),required:m.optional(m.boolean())}).passthrough(),h1=sa.extend({description:m.optional(m.string()),arguments:m.optional(m.array(d1)),_meta:m.optional(m.object({}).passthrough())}),$o=Mo.extend({method:m.literal("prompts/list")}),f1=Uo.extend({prompts:m.array(h1)}),zo=$t.extend({method:m.literal("prompts/get"),params:or.extend({name:m.string(),arguments:m.optional(m.record(m.string()))})}),ed=m.object({type:m.literal("text"),text:m.string(),_meta:m.optional(m.object({}).passthrough())}).passthrough(),td=m.object({type:m.literal("image"),data:Xu,mimeType:m.string(),_meta:m.optional(m.object({}).passthrough())}).passthrough(),rd=m.object({type:m.literal("audio"),data:Xu,mimeType:m.string(),_meta:m.optional(m.object({}).passthrough())}).passthrough(),p1=m.object({type:m.literal("resource"),resource:m.union([Rm,Im]),_meta:m.optional(m.object({}).passthrough())}).passthrough(),m1=Om.extend({type:m.literal("resource_link")}),Tm=m.union([ed,td,rd,m1,p1]),g1=m.object({role:m.enum(["user","assistant"]),content:Tm}).passthrough(),y1=lr.extend({description:m.optional(m.string()),messages:m.array(g1)}),v1=Mr.extend({method:m.literal("notifications/prompts/list_changed")}),_1=m.object({title:m.optional(m.string()),readOnlyHint:m.optional(m.boolean()),destructiveHint:m.optional(m.boolean()),idempotentHint:m.optional(m.boolean()),openWorldHint:m.optional(m.boolean())}).passthrough(),b1=sa.extend({description:m.optional(m.string()),inputSchema:m.object({type:m.literal("object"),properties:m.optional(m.object({}).passthrough()),required:m.optional(m.array(m.string()))}).passthrough(),outputSchema:m.optional(m.object({type:m.literal("object"),properties:m.optional(m.object({}).passthrough()),required:m.optional(m.array(m.string()))}).passthrough()),annotations:m.optional(_1),_meta:m.optional(m.object({}).passthrough())}),Fo=Mo.extend({method:m.literal("tools/list")}),w1=Uo.extend({tools:m.array(b1)}),Dm=lr.extend({content:m.array(Tm).default([]),structuredContent:m.object({}).passthrough().optional(),isError:m.optional(m.boolean())}),NM=Dm.or(lr.extend({toolResult:m.unknown()})),Vo=$t.extend({method:m.literal("tools/call"),params:or.extend({name:m.string(),arguments:m.optional(m.record(m.unknown()))})}),k1=Mr.extend({method:m.literal("notifications/tools/list_changed")}),jm=m.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),S1=$t.extend({method:m.literal("logging/setLevel"),params:or.extend({level:jm})}),x1=Mr.extend({method:m.literal("notifications/message"),params:ra.extend({level:jm,logger:m.optional(m.string()),data:m.unknown()})}),E1=m.object({name:m.string().optional()}).passthrough(),C1=m.object({hints:m.optional(m.array(E1)),costPriority:m.optional(m.number().min(0).max(1)),speedPriority:m.optional(m.number().min(0).max(1)),intelligencePriority:m.optional(m.number().min(0).max(1))}).passthrough(),P1=m.object({role:m.enum(["user","assistant"]),content:m.union([ed,td,rd])}).passthrough(),R1=$t.extend({method:m.literal("sampling/createMessage"),params:or.extend({messages:m.array(P1),systemPrompt:m.optional(m.string()),includeContext:m.optional(m.enum(["none","thisServer","allServers"])),temperature:m.optional(m.number()),maxTokens:m.number().int(),stopSequences:m.optional(m.array(m.string())),metadata:m.optional(m.object({}).passthrough()),modelPreferences:m.optional(C1)})}),sd=lr.extend({model:m.string(),stopReason:m.optional(m.enum(["endTurn","stopSequence","maxTokens"]).or(m.string())),role:m.enum(["user","assistant"]),content:m.discriminatedUnion("type",[ed,td,rd])}),I1=m.object({type:m.literal("boolean"),title:m.optional(m.string()),description:m.optional(m.string()),default:m.optional(m.boolean())}).passthrough(),O1=m.object({type:m.literal("string"),title:m.optional(m.string()),description:m.optional(m.string()),minLength:m.optional(m.number()),maxLength:m.optional(m.number()),format:m.optional(m.enum(["email","uri","date","date-time"]))}).passthrough(),T1=m.object({type:m.enum(["number","integer"]),title:m.optional(m.string()),description:m.optional(m.string()),minimum:m.optional(m.number()),maximum:m.optional(m.number())}).passthrough(),D1=m.object({type:m.literal("string"),title:m.optional(m.string()),description:m.optional(m.string()),enum:m.array(m.string()),enumNames:m.optional(m.array(m.string()))}).passthrough(),j1=m.union([I1,O1,T1,D1]),A1=$t.extend({method:m.literal("elicitation/create"),params:or.extend({message:m.string(),requestedSchema:m.object({type:m.literal("object"),properties:m.record(m.string(),j1),required:m.optional(m.array(m.string()))}).passthrough()})}),nd=lr.extend({action:m.enum(["accept","decline","cancel"]),content:m.optional(m.record(m.string(),m.unknown()))}),M1=m.object({type:m.literal("ref/resource"),uri:m.string()}).passthrough();var U1=m.object({type:m.literal("ref/prompt"),name:m.string()}).passthrough(),Bo=$t.extend({method:m.literal("completion/complete"),params:or.extend({ref:m.union([U1,M1]),argument:m.object({name:m.string(),value:m.string()}).passthrough(),context:m.optional(m.object({arguments:m.optional(m.record(m.string(),m.string()))}))})}),N1=lr.extend({completion:m.object({values:m.array(m.string()).max(100),total:m.optional(m.number().int()),hasMore:m.optional(m.boolean())}).passthrough()}),L1=m.object({uri:m.string().startsWith("file://"),name:m.optional(m.string()),_meta:m.optional(m.object({}).passthrough())}).passthrough(),q1=$t.extend({method:m.literal("roots/list")}),id=lr.extend({roots:m.array(L1)}),$1=Mr.extend({method:m.literal("notifications/roots/list_changed")}),LM=m.union([jo,Yu,Bo,S1,zo,$o,No,Lo,qo,l1,c1,Vo,Fo]),qM=m.union([Do,Ao,Qu,$1]),$M=m.union([To,sd,nd,id]),zM=m.union([jo,R1,A1,q1]),FM=m.union([Do,Ao,x1,u1,o1,k1,v1]),VM=m.union([To,t1,N1,y1,f1,n1,i1,a1,Dm,w1]),Ue=class extends Error{constructor(t,r,n){super(`MCP error ${t}: ${r}`),this.code=t,this.data=n,this.name="McpError"}};var Ho=class{append(t){this._buffer=this._buffer?Buffer.concat([this._buffer,t]):t}readMessage(){if(!this._buffer)return null;let t=this._buffer.indexOf(`
`);if(t===-1)return null;let r=this._buffer.toString("utf8",0,t).replace(/\r$/,"");return this._buffer=this._buffer.subarray(t+1),z1(r)}clear(){this._buffer=void 0}};function z1(e){return Em.parse(JSON.parse(e))}function Am(e){return JSON.stringify(e)+`
`}var Jo=class{constructor(t=Mm.stdin,r=Mm.stdout){this._stdin=t,this._stdout=r,this._readBuffer=new Ho,this._started=!1,this._ondata=n=>{this._readBuffer.append(n),this.processReadBuffer()},this._onerror=n=>{var s;(s=this.onerror)===null||s===void 0||s.call(this,n)}}async start(){if(this._started)throw new Error("StdioServerTransport already started! If using Server class, note that connect() calls start() automatically.");this._started=!0,this._stdin.on("data",this._ondata),this._stdin.on("error",this._onerror)}processReadBuffer(){for(var t,r;;)try{let n=this._readBuffer.readMessage();if(n===null)break;(t=this.onmessage)===null||t===void 0||t.call(this,n)}catch(n){(r=this.onerror)===null||r===void 0||r.call(this,n)}}async close(){var t;this._stdin.off("data",this._ondata),this._stdin.off("error",this._onerror),this._stdin.listenerCount("data")===0&&this._stdin.pause(),this._readBuffer.clear(),(t=this.onclose)===null||t===void 0||t.call(this)}send(t){return new Promise(r=>{let n=Am(t);this._stdout.write(n)?r():this._stdout.once("drain",r)})}};var F1=6e4,Ko=class{constructor(t){this._options=t,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this.setNotificationHandler(Do,r=>{let n=this._requestHandlerAbortControllers.get(r.params.requestId);n?.abort(r.params.reason)}),this.setNotificationHandler(Ao,r=>{this._onprogress(r)}),this.setRequestHandler(jo,r=>({}))}_setupTimeout(t,r,n,s,i=!1){this._timeoutInfo.set(t,{timeoutId:setTimeout(s,r),startTime:Date.now(),timeout:r,maxTotalTimeout:n,resetTimeoutOnProgress:i,onTimeout:s})}_resetTimeout(t){let r=this._timeoutInfo.get(t);if(!r)return!1;let n=Date.now()-r.startTime;if(r.maxTotalTimeout&&n>=r.maxTotalTimeout)throw this._timeoutInfo.delete(t),new Ue(Me.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:n});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(t){let r=this._timeoutInfo.get(t);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(t))}async connect(t){var r,n,s;this._transport=t;let i=(r=this.transport)===null||r===void 0?void 0:r.onclose;this._transport.onclose=()=>{i?.(),this._onclose()};let a=(n=this.transport)===null||n===void 0?void 0:n.onerror;this._transport.onerror=l=>{a?.(l),this._onerror(l)};let o=(s=this._transport)===null||s===void 0?void 0:s.onmessage;this._transport.onmessage=(l,c)=>{o?.(l,c),Zu(l)||xm(l)?this._onresponse(l):_m(l)?this._onrequest(l,c):wm(l)?this._onnotification(l):this._onerror(new Error(`Unknown message type: ${JSON.stringify(l)}`))},await this._transport.start()}_onclose(){var t;let r=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._pendingDebouncedNotifications.clear(),this._transport=void 0,(t=this.onclose)===null||t===void 0||t.call(this);let n=new Ue(Me.ConnectionClosed,"Connection closed");for(let s of r.values())s(n)}_onerror(t){var r;(r=this.onerror)===null||r===void 0||r.call(this,t)}_onnotification(t){var r;let n=(r=this._notificationHandlers.get(t.method))!==null&&r!==void 0?r:this.fallbackNotificationHandler;n!==void 0&&Promise.resolve().then(()=>n(t)).catch(s=>this._onerror(new Error(`Uncaught error in notification handler: ${s}`)))}_onrequest(t,r){var n,s;let i=(n=this._requestHandlers.get(t.method))!==null&&n!==void 0?n:this.fallbackRequestHandler,a=this._transport;if(i===void 0){a?.send({jsonrpc:"2.0",id:t.id,error:{code:Me.MethodNotFound,message:"Method not found"}}).catch(c=>this._onerror(new Error(`Failed to send an error response: ${c}`)));return}let o=new AbortController;this._requestHandlerAbortControllers.set(t.id,o);let l={signal:o.signal,sessionId:a?.sessionId,_meta:(s=t.params)===null||s===void 0?void 0:s._meta,sendNotification:c=>this.notification(c,{relatedRequestId:t.id}),sendRequest:(c,u,d)=>this.request(c,u,{...d,relatedRequestId:t.id}),authInfo:r?.authInfo,requestId:t.id,requestInfo:r?.requestInfo};Promise.resolve().then(()=>i(t,l)).then(c=>{if(!o.signal.aborted)return a?.send({result:c,jsonrpc:"2.0",id:t.id})},c=>{var u;if(!o.signal.aborted)return a?.send({jsonrpc:"2.0",id:t.id,error:{code:Number.isSafeInteger(c.code)?c.code:Me.InternalError,message:(u=c.message)!==null&&u!==void 0?u:"Internal error"}})}).catch(c=>this._onerror(new Error(`Failed to send response: ${c}`))).finally(()=>{this._requestHandlerAbortControllers.delete(t.id)})}_onprogress(t){let{progressToken:r,...n}=t.params,s=Number(r),i=this._progressHandlers.get(s);if(!i){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(t)}`));return}let a=this._responseHandlers.get(s),o=this._timeoutInfo.get(s);if(o&&a&&o.resetTimeoutOnProgress)try{this._resetTimeout(s)}catch(l){a(l);return}i(n)}_onresponse(t){let r=Number(t.id),n=this._responseHandlers.get(r);if(n===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(t)}`));return}if(this._responseHandlers.delete(r),this._progressHandlers.delete(r),this._cleanupTimeout(r),Zu(t))n(t);else{let s=new Ue(t.error.code,t.error.message,t.error.data);n(s)}}get transport(){return this._transport}async close(){var t;await((t=this._transport)===null||t===void 0?void 0:t.close())}request(t,r,n){let{relatedRequestId:s,resumptionToken:i,onresumptiontoken:a}=n??{};return new Promise((o,l)=>{var c,u,d,f,h,p;if(!this._transport){l(new Error("Not connected"));return}((c=this._options)===null||c===void 0?void 0:c.enforceStrictCapabilities)===!0&&this.assertCapabilityForMethod(t.method),(u=n?.signal)===null||u===void 0||u.throwIfAborted();let g=this._requestMessageId++,y={...t,jsonrpc:"2.0",id:g};n?.onprogress&&(this._progressHandlers.set(g,n.onprogress),y.params={...t.params,_meta:{...((d=t.params)===null||d===void 0?void 0:d._meta)||{},progressToken:g}});let v=S=>{var U;this._responseHandlers.delete(g),this._progressHandlers.delete(g),this._cleanupTimeout(g),(U=this._transport)===null||U===void 0||U.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:g,reason:String(S)}},{relatedRequestId:s,resumptionToken:i,onresumptiontoken:a}).catch(z=>this._onerror(new Error(`Failed to send cancellation: ${z}`))),l(S)};this._responseHandlers.set(g,S=>{var U;if(!(!((U=n?.signal)===null||U===void 0)&&U.aborted)){if(S instanceof Error)return l(S);try{let z=r.parse(S.result);o(z)}catch(z){l(z)}}}),(f=n?.signal)===null||f===void 0||f.addEventListener("abort",()=>{var S;v((S=n?.signal)===null||S===void 0?void 0:S.reason)});let P=(h=n?.timeout)!==null&&h!==void 0?h:F1,E=()=>v(new Ue(Me.RequestTimeout,"Request timed out",{timeout:P}));this._setupTimeout(g,P,n?.maxTotalTimeout,E,(p=n?.resetTimeoutOnProgress)!==null&&p!==void 0?p:!1),this._transport.send(y,{relatedRequestId:s,resumptionToken:i,onresumptiontoken:a}).catch(S=>{this._cleanupTimeout(g),l(S)})})}async notification(t,r){var n,s;if(!this._transport)throw new Error("Not connected");if(this.assertNotificationCapability(t.method),((s=(n=this._options)===null||n===void 0?void 0:n.debouncedNotificationMethods)!==null&&s!==void 0?s:[]).includes(t.method)&&!t.params&&!r?.relatedRequestId){if(this._pendingDebouncedNotifications.has(t.method))return;this._pendingDebouncedNotifications.add(t.method),Promise.resolve().then(()=>{var l;if(this._pendingDebouncedNotifications.delete(t.method),!this._transport)return;let c={...t,jsonrpc:"2.0"};(l=this._transport)===null||l===void 0||l.send(c,r).catch(u=>this._onerror(u))});return}let o={...t,jsonrpc:"2.0"};await this._transport.send(o,r)}setRequestHandler(t,r){let n=t.shape.method.value;this.assertRequestHandlerCapability(n),this._requestHandlers.set(n,(s,i)=>Promise.resolve(r(t.parse(s),i)))}removeRequestHandler(t){this._requestHandlers.delete(t)}assertCanSetRequestHandler(t){if(this._requestHandlers.has(t))throw new Error(`A request handler for ${t} already exists, which would be overridden`)}setNotificationHandler(t,r){this._notificationHandlers.set(t.shape.method.value,n=>Promise.resolve(r(t.parse(n))))}removeNotificationHandler(t){this._notificationHandlers.delete(t)}};function Um(e,t){return Object.entries(t).reduce((r,[n,s])=>(s&&typeof s=="object"?r[n]=r[n]?{...r[n],...s}:s:r[n]=s,r),{...e})}var Ly=Ee(Ny(),1),hl=class extends Ko{constructor(t,r){var n;super(r),this._serverInfo=t,this._capabilities=(n=r?.capabilities)!==null&&n!==void 0?n:{},this._instructions=r?.instructions,this.setRequestHandler(Yu,s=>this._oninitialize(s)),this.setNotificationHandler(Qu,()=>{var s;return(s=this.oninitialized)===null||s===void 0?void 0:s.call(this)})}registerCapabilities(t){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=Um(this._capabilities,t)}assertCapabilityForMethod(t){var r,n,s;switch(t){case"sampling/createMessage":if(!(!((r=this._clientCapabilities)===null||r===void 0)&&r.sampling))throw new Error(`Client does not support sampling (required for ${t})`);break;case"elicitation/create":if(!(!((n=this._clientCapabilities)===null||n===void 0)&&n.elicitation))throw new Error(`Client does not support elicitation (required for ${t})`);break;case"roots/list":if(!(!((s=this._clientCapabilities)===null||s===void 0)&&s.roots))throw new Error(`Client does not support listing roots (required for ${t})`);break;case"ping":break}}assertNotificationCapability(t){switch(t){case"notifications/message":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${t})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw new Error(`Server does not support notifying about resources (required for ${t})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw new Error(`Server does not support notifying of tool list changes (required for ${t})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw new Error(`Server does not support notifying of prompt list changes (required for ${t})`);break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(t){switch(t){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Server does not support sampling (required for ${t})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${t})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw new Error(`Server does not support prompts (required for ${t})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw new Error(`Server does not support resources (required for ${t})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw new Error(`Server does not support tools (required for ${t})`);break;case"ping":case"initialize":break}}async _oninitialize(t){let r=t.params.protocolVersion;return this._clientCapabilities=t.params.capabilities,this._clientVersion=t.params.clientInfo,{protocolVersion:mm.includes(r)?r:Gu,capabilities:this.getCapabilities(),serverInfo:this._serverInfo,...this._instructions&&{instructions:this._instructions}}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},To)}async createMessage(t,r){return this.request({method:"sampling/createMessage",params:t},sd,r)}async elicitInput(t,r){let n=await this.request({method:"elicitation/create",params:t},nd,r);if(n.action==="accept"&&n.content)try{let s=new Ly.default,i=s.compile(t.requestedSchema);if(!i(n.content))throw new Ue(Me.InvalidParams,`Elicitation response content does not match requested schema: ${s.errorsText(i.errors)}`)}catch(s){throw s instanceof Ue?s:new Ue(Me.InternalError,`Error validating elicitation response: ${s}`)}return n}async listRoots(t,r){return this.request({method:"roots/list",params:t},id,r)}async sendLoggingMessage(t){return this.notification({method:"notifications/message",params:t})}async sendResourceUpdated(t){return this.notification({method:"notifications/resources/updated",params:t})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}};var $y=Symbol("Let zodToJsonSchema decide on which parser to use");var qy={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},zy=e=>typeof e=="string"?{...qy,name:e}:{...qy,...e};var Fy=e=>{let t=zy(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,s])=>[s._def,{def:s._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}};function Od(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function be(e,t,r,n,s){e[t]=r,Od(e,t,n,s)}var fl=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")};function Fe(e){if(e.target!=="openAi")return{};let t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?fl(t,e.currentPath):t.join("/")}}function Vy(e,t){let r={type:"array"};return e.type?._def&&e.type?._def?.typeName!==B.ZodAny&&(r.items=le(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&be(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&be(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(be(r,"minItems",e.exactLength.value,e.exactLength.message,t),be(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}function By(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?be(r,"minimum",n.value,n.message,t):be(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),be(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?be(r,"maximum",n.value,n.message,t):be(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),be(r,"maximum",n.value,n.message,t));break;case"multipleOf":be(r,"multipleOf",n.value,n.message,t);break}return r}function Hy(){return{type:"boolean"}}function pl(e,t){return le(e.type._def,t)}var Jy=(e,t)=>le(e.innerType._def,t);function Td(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((s,i)=>Td(e,t,s))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return wC(e,t)}}var wC=(e,t)=>{let r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(let n of e.checks)switch(n.kind){case"min":be(r,"minimum",n.value,n.message,t);break;case"max":be(r,"maximum",n.value,n.message,t);break}return r};function Ky(e,t){return{...le(e.innerType._def,t),default:e.defaultValue()}}function Wy(e,t){return t.effectStrategy==="input"?le(e.schema._def,t):Fe(t)}function Gy(e){return{type:"string",enum:Array.from(e.values)}}var kC=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function Zy(e,t){let r=[le(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),le(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(i=>!!i),n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,s=[];return r.forEach(i=>{if(kC(i))s.push(...i.allOf),i.unevaluatedProperties===void 0&&(n=void 0);else{let a=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:o,...l}=i;a=l}else n=void 0;s.push(a)}}),s.length?{allOf:s,...n}:void 0}function Yy(e,t){let r=typeof e.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[e.value]}:{type:r==="bigint"?"integer":r,const:e.value}}var Dd,yr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Dd===void 0&&(Dd=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Dd),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function ml(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":be(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":be(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":vr(r,"email",n.message,t);break;case"format:idn-email":vr(r,"idn-email",n.message,t);break;case"pattern:zod":Pt(r,yr.email,n.message,t);break}break;case"url":vr(r,"uri",n.message,t);break;case"uuid":vr(r,"uuid",n.message,t);break;case"regex":Pt(r,n.regex,n.message,t);break;case"cuid":Pt(r,yr.cuid,n.message,t);break;case"cuid2":Pt(r,yr.cuid2,n.message,t);break;case"startsWith":Pt(r,RegExp(`^${jd(n.value,t)}`),n.message,t);break;case"endsWith":Pt(r,RegExp(`${jd(n.value,t)}$`),n.message,t);break;case"datetime":vr(r,"date-time",n.message,t);break;case"date":vr(r,"date",n.message,t);break;case"time":vr(r,"time",n.message,t);break;case"duration":vr(r,"duration",n.message,t);break;case"length":be(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t),be(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":{Pt(r,RegExp(jd(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&vr(r,"ipv4",n.message,t),n.version!=="v4"&&vr(r,"ipv6",n.message,t);break}case"base64url":Pt(r,yr.base64url,n.message,t);break;case"jwt":Pt(r,yr.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&Pt(r,yr.ipv4Cidr,n.message,t),n.version!=="v4"&&Pt(r,yr.ipv6Cidr,n.message,t);break}case"emoji":Pt(r,yr.emoji(),n.message,t);break;case"ulid":{Pt(r,yr.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{vr(r,"binary",n.message,t);break}case"contentEncoding:base64":{be(r,"contentEncoding","base64",n.message,t);break}case"pattern:zod":{Pt(r,yr.base64,n.message,t);break}}break}case"nanoid":Pt(r,yr.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}function jd(e,t){return t.patternStrategy==="escape"?xC(e):e}var SC=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function xC(e){let t="";for(let r=0;r<e.length;r++)SC.has(e[r])||(t+="\\"),t+=e[r];return t}function vr(e,t,r,n){e.format||e.anyOf?.some(s=>s.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):be(e,"format",t,r,n)}function Pt(e,t,r,n){e.pattern||e.allOf?.some(s=>s.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:Qy(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):be(e,"pattern",Qy(t,n),r,n)}function Qy(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,s="",i=!1,a=!1,o=!1;for(let l=0;l<n.length;l++){if(i){s+=n[l],i=!1;continue}if(r.i){if(a){if(n[l].match(/[a-z]/)){o?(s+=n[l],s+=`${n[l-2]}-${n[l]}`.toUpperCase(),o=!1):n[l+1]==="-"&&n[l+2]?.match(/[a-z]/)?(s+=n[l],o=!0):s+=`${n[l]}${n[l].toUpperCase()}`;continue}}else if(n[l].match(/[a-z]/)){s+=`[${n[l]}${n[l].toUpperCase()}]`;continue}}if(r.m){if(n[l]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(n[l]==="$"){s+=`($|(?=[\r
]))`;continue}}if(r.s&&n[l]==="."){s+=a?`${n[l]}\r
`:`[${n[l]}\r
]`;continue}s+=n[l],n[l]==="\\"?i=!0:a&&n[l]==="]"?a=!1:!a&&n[l]==="["&&(a=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function gl(e,t){if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&e.keyType?._def.typeName===B.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,s)=>({...n,[s]:le(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",s]})??Fe(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};let r={type:"object",additionalProperties:le(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return r;if(e.keyType?._def.typeName===B.ZodString&&e.keyType._def.checks?.length){let{type:n,...s}=ml(e.keyType._def,t);return{...r,propertyNames:s}}else{if(e.keyType?._def.typeName===B.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===B.ZodBranded&&e.keyType._def.type._def.typeName===B.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...s}=pl(e.keyType._def,t);return{...r,propertyNames:s}}}return r}function Xy(e,t){if(t.mapStrategy==="record")return gl(e,t);let r=le(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Fe(t),n=le(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Fe(t);return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function ev(e){let t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),s=Array.from(new Set(n.map(i=>typeof i)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:n}}function tv(e){return e.target==="openAi"?void 0:{not:Fe({...e,currentPath:[...e.currentPath,"not"]})}}function rv(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var ia={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function nv(e,t){if(t.target==="openApi3")return sv(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in ia&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((s,i)=>{let a=ia[i._def.typeName];return a&&!s.includes(a)?[...s,a]:s},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((s,i)=>{let a=typeof i._def.value;switch(a){case"string":case"number":case"boolean":return[...s,a];case"bigint":return[...s,"integer"];case"object":if(i._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(n.length===r.length){let s=n.filter((i,a,o)=>o.indexOf(i)===a);return{type:s.length>1?s:s[0],enum:r.reduce((i,a)=>i.includes(a._def.value)?i:[...i,a._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,s)=>[...n,...s._def.values.filter(i=>!n.includes(i))],[])};return sv(e,t)}var sv=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,s)=>le(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${s}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function iv(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:ia[e.innerType._def.typeName],nullable:!0}:{type:[ia[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){let n=le(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=le(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function av(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",Od(r,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?be(r,"minimum",n.value,n.message,t):be(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),be(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?be(r,"maximum",n.value,n.message,t):be(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),be(r,"maximum",n.value,n.message,t));break;case"multipleOf":be(r,"multipleOf",n.value,n.message,t);break}return r}function ov(e,t){let r=t.target==="openAi",n={type:"object",properties:{}},s=[],i=e.shape();for(let o in i){let l=i[o];if(l===void 0||l._def===void 0)continue;let c=CC(l);c&&r&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),c=!1);let u=le(l._def,{...t,currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]});u!==void 0&&(n.properties[o]=u,c||s.push(o))}s.length&&(n.required=s);let a=EC(e,t);return a!==void 0&&(n.additionalProperties=a),n}function EC(e,t){if(e.catchall._def.typeName!=="ZodNever")return le(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function CC(e){try{return e.isOptional()}catch{return!0}}var lv=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return le(e.innerType._def,t);let r=le(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:Fe(t)},r]}:Fe(t)};var cv=(e,t)=>{if(t.pipeStrategy==="input")return le(e.in._def,t);if(t.pipeStrategy==="output")return le(e.out._def,t);let r=le(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=le(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(s=>s!==void 0)}};function uv(e,t){return le(e.type._def,t)}function dv(e,t){let n={type:"array",uniqueItems:!0,items:le(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&be(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&be(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}function hv(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>le(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:le(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>le(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function fv(e){return{not:Fe(e)}}function pv(e){return Fe(e)}var mv=(e,t)=>le(e.innerType._def,t);var gv=(e,t,r)=>{switch(t){case B.ZodString:return ml(e,r);case B.ZodNumber:return av(e,r);case B.ZodObject:return ov(e,r);case B.ZodBigInt:return By(e,r);case B.ZodBoolean:return Hy();case B.ZodDate:return Td(e,r);case B.ZodUndefined:return fv(r);case B.ZodNull:return rv(r);case B.ZodArray:return Vy(e,r);case B.ZodUnion:case B.ZodDiscriminatedUnion:return nv(e,r);case B.ZodIntersection:return Zy(e,r);case B.ZodTuple:return hv(e,r);case B.ZodRecord:return gl(e,r);case B.ZodLiteral:return Yy(e,r);case B.ZodEnum:return Gy(e);case B.ZodNativeEnum:return ev(e);case B.ZodNullable:return iv(e,r);case B.ZodOptional:return lv(e,r);case B.ZodMap:return Xy(e,r);case B.ZodSet:return dv(e,r);case B.ZodLazy:return()=>e.getter()._def;case B.ZodPromise:return uv(e,r);case B.ZodNaN:case B.ZodNever:return tv(r);case B.ZodEffects:return Wy(e,r);case B.ZodAny:return Fe(r);case B.ZodUnknown:return pv(r);case B.ZodDefault:return Ky(e,r);case B.ZodBranded:return pl(e,r);case B.ZodReadonly:return mv(e,r);case B.ZodCatch:return Jy(e,r);case B.ZodPipeline:return cv(e,r);case B.ZodFunction:case B.ZodVoid:case B.ZodSymbol:return;default:return(n=>{})(t)}};function le(e,t,r=!1){let n=t.seen.get(e);if(t.override){let o=t.override?.(e,t,n,r);if(o!==$y)return o}if(n&&!r){let o=PC(n,t);if(o!==void 0)return o}let s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);let i=gv(e,e.typeName,t),a=typeof i=="function"?le(i(),t):i;if(a&&RC(e,t,a),t.postProcess){let o=t.postProcess(a,e,t);return s.jsonSchema=a,o}return s.jsonSchema=a,a}var PC=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:fl(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Fe(t)):t.$refStrategy==="seen"?Fe(t):void 0}},RC=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r);var yl=(e,t)=>{let r=Fy(t),n=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((l,[c,u])=>({...l,[c]:le(u._def,{...r,currentPath:[...r.basePath,r.definitionPath,c]},!0)??Fe(r)}),{}):void 0,s=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,i=le(e._def,s===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,s]},!1)??Fe(r),a=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;a!==void 0&&(i.title=a),r.flags.hasReferencedOpenAiAnyType&&(n||(n={}),n[r.openAiAnyTypeName]||(n[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:r.$refStrategy==="relative"?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));let o=s===void 0?n?{...i,[r.definitionPath]:n}:i:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:{...n,[s]:i}};return r.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in o||"oneOf"in o||"allOf"in o||"type"in o&&Array.isArray(o.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),o};var Ad;(function(e){e.Completable="McpCompletable"})(Ad||(Ad={}));var ei=class extends pe{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}};ei.create=(e,t)=>new ei({type:e,typeName:Ad.Completable,complete:t.complete,...IC(t)});function IC(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,o)=>{var l,c;let{message:u}=e;return a.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??n)!==null&&l!==void 0?l:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:o.defaultError}},description:s}}var _l=class{constructor(t,r){this._registeredResources={},this._registeredResourceTemplates={},this._registeredTools={},this._registeredPrompts={},this._toolHandlersInitialized=!1,this._completionHandlerInitialized=!1,this._resourceHandlersInitialized=!1,this._promptHandlersInitialized=!1,this.server=new hl(t,r)}async connect(t){return await this.server.connect(t)}async close(){await this.server.close()}setToolRequestHandlers(){this._toolHandlersInitialized||(this.server.assertCanSetRequestHandler(Fo.shape.method.value),this.server.assertCanSetRequestHandler(Vo.shape.method.value),this.server.registerCapabilities({tools:{listChanged:!0}}),this.server.setRequestHandler(Fo,()=>({tools:Object.entries(this._registeredTools).filter(([,t])=>t.enabled).map(([t,r])=>{let n={name:t,title:r.title,description:r.description,inputSchema:r.inputSchema?yl(r.inputSchema,{strictUnions:!0}):OC,annotations:r.annotations};return r.outputSchema&&(n.outputSchema=yl(r.outputSchema,{strictUnions:!0})),n})})),this.server.setRequestHandler(Vo,async(t,r)=>{let n=this._registeredTools[t.params.name];if(!n)throw new Ue(Me.InvalidParams,`Tool ${t.params.name} not found`);if(!n.enabled)throw new Ue(Me.InvalidParams,`Tool ${t.params.name} disabled`);let s;if(n.inputSchema){let i=await n.inputSchema.safeParseAsync(t.params.arguments);if(!i.success)throw new Ue(Me.InvalidParams,`Invalid arguments for tool ${t.params.name}: ${i.error.message}`);let a=i.data,o=n.callback;try{s=await Promise.resolve(o(a,r))}catch(l){s={content:[{type:"text",text:l instanceof Error?l.message:String(l)}],isError:!0}}}else{let i=n.callback;try{s=await Promise.resolve(i(r))}catch(a){s={content:[{type:"text",text:a instanceof Error?a.message:String(a)}],isError:!0}}}if(n.outputSchema&&!s.isError){if(!s.structuredContent)throw new Ue(Me.InvalidParams,`Tool ${t.params.name} has an output schema but no structured content was provided`);let i=await n.outputSchema.safeParseAsync(s.structuredContent);if(!i.success)throw new Ue(Me.InvalidParams,`Invalid structured content for tool ${t.params.name}: ${i.error.message}`)}return s}),this._toolHandlersInitialized=!0)}setCompletionRequestHandler(){this._completionHandlerInitialized||(this.server.assertCanSetRequestHandler(Bo.shape.method.value),this.server.registerCapabilities({completions:{}}),this.server.setRequestHandler(Bo,async t=>{switch(t.params.ref.type){case"ref/prompt":return this.handlePromptCompletion(t,t.params.ref);case"ref/resource":return this.handleResourceCompletion(t,t.params.ref);default:throw new Ue(Me.InvalidParams,`Invalid completion reference: ${t.params.ref}`)}}),this._completionHandlerInitialized=!0)}async handlePromptCompletion(t,r){let n=this._registeredPrompts[r.name];if(!n)throw new Ue(Me.InvalidParams,`Prompt ${r.name} not found`);if(!n.enabled)throw new Ue(Me.InvalidParams,`Prompt ${r.name} disabled`);if(!n.argsSchema)return vl;let s=n.argsSchema.shape[t.params.argument.name];if(!(s instanceof ei))return vl;let a=await s._def.complete(t.params.argument.value,t.params.context);return vv(a)}async handleResourceCompletion(t,r){let n=Object.values(this._registeredResourceTemplates).find(a=>a.resourceTemplate.uriTemplate.toString()===r.uri);if(!n){if(this._registeredResources[r.uri])return vl;throw new Ue(Me.InvalidParams,`Resource template ${t.params.ref.uri} not found`)}let s=n.resourceTemplate.completeCallback(t.params.argument.name);if(!s)return vl;let i=await s(t.params.argument.value,t.params.context);return vv(i)}setResourceRequestHandlers(){this._resourceHandlersInitialized||(this.server.assertCanSetRequestHandler(No.shape.method.value),this.server.assertCanSetRequestHandler(Lo.shape.method.value),this.server.assertCanSetRequestHandler(qo.shape.method.value),this.server.registerCapabilities({resources:{listChanged:!0}}),this.server.setRequestHandler(No,async(t,r)=>{let n=Object.entries(this._registeredResources).filter(([i,a])=>a.enabled).map(([i,a])=>({uri:i,name:a.name,...a.metadata})),s=[];for(let i of Object.values(this._registeredResourceTemplates)){if(!i.resourceTemplate.listCallback)continue;let a=await i.resourceTemplate.listCallback(r);for(let o of a.resources)s.push({...i.metadata,...o})}return{resources:[...n,...s]}}),this.server.setRequestHandler(Lo,async()=>({resourceTemplates:Object.entries(this._registeredResourceTemplates).map(([r,n])=>({name:r,uriTemplate:n.resourceTemplate.uriTemplate.toString(),...n.metadata}))})),this.server.setRequestHandler(qo,async(t,r)=>{let n=new URL(t.params.uri),s=this._registeredResources[n.toString()];if(s){if(!s.enabled)throw new Ue(Me.InvalidParams,`Resource ${n} disabled`);return s.readCallback(n,r)}for(let i of Object.values(this._registeredResourceTemplates)){let a=i.resourceTemplate.uriTemplate.match(n.toString());if(a)return i.readCallback(n,a,r)}throw new Ue(Me.InvalidParams,`Resource ${n} not found`)}),this.setCompletionRequestHandler(),this._resourceHandlersInitialized=!0)}setPromptRequestHandlers(){this._promptHandlersInitialized||(this.server.assertCanSetRequestHandler($o.shape.method.value),this.server.assertCanSetRequestHandler(zo.shape.method.value),this.server.registerCapabilities({prompts:{listChanged:!0}}),this.server.setRequestHandler($o,()=>({prompts:Object.entries(this._registeredPrompts).filter(([,t])=>t.enabled).map(([t,r])=>({name:t,title:r.title,description:r.description,arguments:r.argsSchema?DC(r.argsSchema):void 0}))})),this.server.setRequestHandler(zo,async(t,r)=>{let n=this._registeredPrompts[t.params.name];if(!n)throw new Ue(Me.InvalidParams,`Prompt ${t.params.name} not found`);if(!n.enabled)throw new Ue(Me.InvalidParams,`Prompt ${t.params.name} disabled`);if(n.argsSchema){let s=await n.argsSchema.safeParseAsync(t.params.arguments);if(!s.success)throw new Ue(Me.InvalidParams,`Invalid arguments for prompt ${t.params.name}: ${s.error.message}`);let i=s.data,a=n.callback;return await Promise.resolve(a(i,r))}else{let s=n.callback;return await Promise.resolve(s(r))}}),this.setCompletionRequestHandler(),this._promptHandlersInitialized=!0)}resource(t,r,...n){let s;typeof n[0]=="object"&&(s=n.shift());let i=n[0];if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let a=this._createRegisteredResource(t,void 0,r,s,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),a}else{if(this._registeredResourceTemplates[t])throw new Error(`Resource template ${t} is already registered`);let a=this._createRegisteredResourceTemplate(t,void 0,r,s,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),a}}registerResource(t,r,n,s){if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let i=this._createRegisteredResource(t,n.title,r,n,s);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}else{if(this._registeredResourceTemplates[t])throw new Error(`Resource template ${t} is already registered`);let i=this._createRegisteredResourceTemplate(t,n.title,r,n,s);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}}_createRegisteredResource(t,r,n,s,i){let a={name:t,title:r,metadata:s,readCallback:i,enabled:!0,disable:()=>a.update({enabled:!1}),enable:()=>a.update({enabled:!0}),remove:()=>a.update({uri:null}),update:o=>{typeof o.uri<"u"&&o.uri!==n&&(delete this._registeredResources[n],o.uri&&(this._registeredResources[o.uri]=a)),typeof o.name<"u"&&(a.name=o.name),typeof o.title<"u"&&(a.title=o.title),typeof o.metadata<"u"&&(a.metadata=o.metadata),typeof o.callback<"u"&&(a.readCallback=o.callback),typeof o.enabled<"u"&&(a.enabled=o.enabled),this.sendResourceListChanged()}};return this._registeredResources[n]=a,a}_createRegisteredResourceTemplate(t,r,n,s,i){let a={resourceTemplate:n,title:r,metadata:s,readCallback:i,enabled:!0,disable:()=>a.update({enabled:!1}),enable:()=>a.update({enabled:!0}),remove:()=>a.update({name:null}),update:o=>{typeof o.name<"u"&&o.name!==t&&(delete this._registeredResourceTemplates[t],o.name&&(this._registeredResourceTemplates[o.name]=a)),typeof o.title<"u"&&(a.title=o.title),typeof o.template<"u"&&(a.resourceTemplate=o.template),typeof o.metadata<"u"&&(a.metadata=o.metadata),typeof o.callback<"u"&&(a.readCallback=o.callback),typeof o.enabled<"u"&&(a.enabled=o.enabled),this.sendResourceListChanged()}};return this._registeredResourceTemplates[t]=a,a}_createRegisteredPrompt(t,r,n,s,i){let a={title:r,description:n,argsSchema:s===void 0?void 0:m.object(s),callback:i,enabled:!0,disable:()=>a.update({enabled:!1}),enable:()=>a.update({enabled:!0}),remove:()=>a.update({name:null}),update:o=>{typeof o.name<"u"&&o.name!==t&&(delete this._registeredPrompts[t],o.name&&(this._registeredPrompts[o.name]=a)),typeof o.title<"u"&&(a.title=o.title),typeof o.description<"u"&&(a.description=o.description),typeof o.argsSchema<"u"&&(a.argsSchema=m.object(o.argsSchema)),typeof o.callback<"u"&&(a.callback=o.callback),typeof o.enabled<"u"&&(a.enabled=o.enabled),this.sendPromptListChanged()}};return this._registeredPrompts[t]=a,a}_createRegisteredTool(t,r,n,s,i,a,o){let l={title:r,description:n,inputSchema:s===void 0?void 0:m.object(s),outputSchema:i===void 0?void 0:m.object(i),annotations:a,callback:o,enabled:!0,disable:()=>l.update({enabled:!1}),enable:()=>l.update({enabled:!0}),remove:()=>l.update({name:null}),update:c=>{typeof c.name<"u"&&c.name!==t&&(delete this._registeredTools[t],c.name&&(this._registeredTools[c.name]=l)),typeof c.title<"u"&&(l.title=c.title),typeof c.description<"u"&&(l.description=c.description),typeof c.paramsSchema<"u"&&(l.inputSchema=m.object(c.paramsSchema)),typeof c.callback<"u"&&(l.callback=c.callback),typeof c.annotations<"u"&&(l.annotations=c.annotations),typeof c.enabled<"u"&&(l.enabled=c.enabled),this.sendToolListChanged()}};return this._registeredTools[t]=l,this.setToolRequestHandlers(),this.sendToolListChanged(),l}tool(t,...r){if(this._registeredTools[t])throw new Error(`Tool ${t} is already registered`);let n,s,i,a;if(typeof r[0]=="string"&&(n=r.shift()),r.length>1){let l=r[0];yv(l)?(s=r.shift(),r.length>1&&typeof r[0]=="object"&&r[0]!==null&&!yv(r[0])&&(a=r.shift())):typeof l=="object"&&l!==null&&(a=r.shift())}let o=r[0];return this._createRegisteredTool(t,void 0,n,s,i,a,o)}registerTool(t,r,n){if(this._registeredTools[t])throw new Error(`Tool ${t} is already registered`);let{title:s,description:i,inputSchema:a,outputSchema:o,annotations:l}=r;return this._createRegisteredTool(t,s,i,a,o,l,n)}prompt(t,...r){if(this._registeredPrompts[t])throw new Error(`Prompt ${t} is already registered`);let n;typeof r[0]=="string"&&(n=r.shift());let s;r.length>1&&(s=r.shift());let i=r[0],a=this._createRegisteredPrompt(t,void 0,n,s,i);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),a}registerPrompt(t,r,n){if(this._registeredPrompts[t])throw new Error(`Prompt ${t} is already registered`);let{title:s,description:i,argsSchema:a}=r,o=this._createRegisteredPrompt(t,s,i,a,n);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),o}isConnected(){return this.server.transport!==void 0}sendResourceListChanged(){this.isConnected()&&this.server.sendResourceListChanged()}sendToolListChanged(){this.isConnected()&&this.server.sendToolListChanged()}sendPromptListChanged(){this.isConnected()&&this.server.sendPromptListChanged()}};var OC={type:"object",properties:{}};function yv(e){return typeof e!="object"||e===null?!1:Object.keys(e).length===0||Object.values(e).some(TC)}function TC(e){return e!==null&&typeof e=="object"&&"parse"in e&&typeof e.parse=="function"&&"safeParse"in e&&typeof e.safeParse=="function"}function DC(e){return Object.entries(e.shape).map(([t,r])=>({name:t,description:r.description,required:!r.isOptional()}))}function vv(e){return{completion:{values:e.slice(0,100),total:e.length,hasMore:e.length>100}}}var vl={completion:{values:[],hasMore:!1}};var mS=Ee(qe(),1),Bi=Ee(wt(),1);function eT(e){switch(e.toLowerCase()){case"error":return 0;case"warn":case"warning":return 1;case"info":return 2;case"debug":return 3;default:return 2}}var Ic=process.env.LOG_LEVEL?eT(process.env.LOG_LEVEL):2,df=class e{context;constructor(t=""){this.context=t}error(t,r){if(Ic>=0){let n=new Date().toISOString(),s=this.context?`[${this.context}] `:"",i="",a="";r&&(r instanceof Error?(i=`: ${r.message}`,a=r.stack?`
${r.stack}`:""):i=`: ${JSON.stringify(r)}`),console.error(`${n} [ERROR] ${s}${t}${i}${a}`)}}warn(t){if(Ic>=1){let r=new Date().toISOString(),n=this.context?`[${this.context}] `:"";console.error(`${r} [WARN] ${n}${t}`)}}info(t){if(Ic>=2){let r=new Date().toISOString(),n=this.context?`[${this.context}] `:"";console.error(`${r} [INFO] ${n}${t}`)}}debug(t){if(Ic>=3){let r=new Date().toISOString(),n=this.context?`[${this.context}] `:"";console.error(`${r} [DEBUG] ${n}${t}`)}}withContext(t){return new e(t)}},G=new df;var $c=Ee(uk(),1);var Uf=class{cookies;constructor(){this.cookies=new $c.CookieJar}parseSetCookieHeader(t){try{let r=$c.Cookie.parse(t);r?this.cookies.setCookieSync(r,"http://localhost"):G.warn(`Failed to parse cookie from header: ${t}`)}catch(r){G.error(`Error parsing cookie header: ${t}`,r)}}parseResponseHeaders(t){let r=t.get("set-cookie");r&&r.split(`
`).forEach(s=>{let i=s.trim();i&&this.parseSetCookieHeader(i)})}getCookieHeader(){return this.cookies.getCookieStringSync("http://localhost")}hasCookies(){return this.cookies.getCookiesSync("http://localhost").length>0}clear(){this.cookies.removeAllCookiesSync()}},xt=new Uf;var Eu=Ee(Xe(),1),Cu=Ee(et(),1);var Ft=Math.floor;var _i=Math.abs;var bi=(e,t)=>e<t?e:t,gs=(e,t)=>e>t?e:t,K$=Number.isNaN,dk=Math.pow;var zc=e=>e!==0?e<0:1/e<0;var Nf=Number.MAX_SAFE_INTEGER,W$=Number.MIN_SAFE_INTEGER,G$=1<<31;var hk=Number.isInteger||(e=>typeof e=="number"&&isFinite(e)&&Ft(e)===e),Z$=Number.isNaN,Y$=Number.parseInt;var Yr=()=>new Set;var Fc=e=>e[e.length-1];var pk=(e,t)=>{for(let r=0;r<t.length;r++)e.push(t[r])},Sr=Array.from;var mk=(e,t)=>{for(let r=0;r<e.length;r++)if(t(e[r],r,e))return!0;return!1};var Va=Array.isArray;var $f=String.fromCharCode,Q$=String.fromCodePoint,X$=$f(65535),$D=e=>e.toLowerCase(),zD=/^\s*/g,FD=e=>e.replace(zD,""),VD=/([A-Z])/g,zf=(e,t)=>FD(e.replace(VD,r=>`${t}${$D(r)}`));var BD=e=>{let t=unescape(encodeURIComponent(e)),r=t.length,n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=t.codePointAt(s);return n},Si=typeof TextEncoder<"u"?new TextEncoder:null,HD=e=>Si.encode(e),gk=Si?HD:BD;var ki=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});ki&&ki.decode(new Uint8Array).length===1&&(ki=null);var In=class{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}},at=()=>new In;var Hc=e=>{let t=e.cpos;for(let r=0;r<e.bufs.length;r++)t+=e.bufs[r].length;return t};var Ne=e=>{let t=new Uint8Array(Hc(e)),r=0;for(let n=0;n<e.bufs.length;n++){let s=e.bufs[n];t.set(s,r),r+=s.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),r),t},JD=(e,t)=>{let r=e.cbuf.length;r-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(gs(r,t)*2),e.cpos=0)},ft=(e,t)=>{let r=e.cbuf.length;e.cpos===r&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(r*2),e.cpos=0),e.cbuf[e.cpos++]=t};var Jc=ft;var ie=(e,t)=>{for(;t>127;)ft(e,128|127&t),t=Ft(t/128);ft(e,127&t)},Kc=(e,t)=>{let r=zc(t);for(r&&(t=-t),ft(e,(t>63?128:0)|(r?64:0)|63&t),t=Ft(t/64);t>0;)ft(e,(t>127?128:0)|127&t),t=Ft(t/128)},Ff=new Uint8Array(3e4),KD=Ff.length/3,WD=(e,t)=>{if(t.length<KD){let r=Si.encodeInto(t,Ff).written||0;ie(e,r);for(let n=0;n<r;n++)ft(e,Ff[n])}else Be(e,gk(t))},GD=(e,t)=>{let r=unescape(encodeURIComponent(t)),n=r.length;ie(e,n);for(let s=0;s<n;s++)ft(e,r.codePointAt(s))},ys=Si&&Si.encodeInto?WD:GD;var Ha=(e,t)=>{let r=e.cbuf.length,n=e.cpos,s=bi(r-n,t.length),i=t.length-s;e.cbuf.set(t.subarray(0,s),n),e.cpos+=s,i>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(gs(r*2,i)),e.cbuf.set(t.subarray(s)),e.cpos=i)},Be=(e,t)=>{ie(e,t.byteLength),Ha(e,t)},Vf=(e,t)=>{JD(e,t);let r=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,r},ZD=(e,t)=>Vf(e,4).setFloat32(0,t,!1),YD=(e,t)=>Vf(e,8).setFloat64(0,t,!1),QD=(e,t)=>Vf(e,8).setBigInt64(0,t,!1);var vk=new DataView(new ArrayBuffer(4)),XD=e=>(vk.setFloat32(0,e),vk.getFloat32(0)===e),Ei=(e,t)=>{switch(typeof t){case"string":ft(e,119),ys(e,t);break;case"number":hk(t)&&_i(t)<=2147483647?(ft(e,125),Kc(e,t)):XD(t)?(ft(e,124),ZD(e,t)):(ft(e,123),YD(e,t));break;case"bigint":ft(e,122),QD(e,t);break;case"object":if(t===null)ft(e,126);else if(Va(t)){ft(e,117),ie(e,t.length);for(let r=0;r<t.length;r++)Ei(e,t[r])}else if(t instanceof Uint8Array)ft(e,116),Be(e,t);else{ft(e,118);let r=Object.keys(t);ie(e,r.length);for(let n=0;n<r.length;n++){let s=r[n];ys(e,s),Ei(e,t[s])}}break;case"boolean":ft(e,t?120:121);break;default:ft(e,127)}},Ba=class extends In{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&ie(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}};var _k=e=>{e.count>0&&(Kc(e.encoder,e.count===1?e.s:-e.s),e.count>1&&ie(e.encoder,e.count-2))},On=class{constructor(){this.encoder=new In,this.s=0,this.count=0}write(t){this.s===t?this.count++:(_k(this),this.count=1,this.s=t)}toUint8Array(){return _k(this),Ne(this.encoder)}};var bk=e=>{if(e.count>0){let t=e.diff*2+(e.count===1?0:1);Kc(e.encoder,t),e.count>1&&ie(e.encoder,e.count-2)}},Ci=class{constructor(){this.encoder=new In,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(bk(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return bk(this),Ne(this.encoder)}},Bc=class{constructor(){this.sarr=[],this.s="",this.lensE=new On}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){let t=new In;return this.sarr.push(this.s),this.s="",ys(t,this.sarr.join("")),Ha(t,this.lensE.toUint8Array()),Ne(t)}};var Qr=e=>new Error(e),xr=()=>{throw Qr("Method unimplemented")},Er=()=>{throw Qr("Unexpected case")};var kk=Qr("Unexpected end of array"),Sk=Qr("Integer out of Range"),Pi=class{constructor(t){this.arr=t,this.pos=0}},Pr=e=>new Pi(e),xk=e=>e.pos!==e.arr.length;var ej=(e,t)=>{let r=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,r},ot=e=>ej(e,ce(e));var Tn=e=>e.arr[e.pos++];var ce=e=>{let t=0,r=1,n=e.arr.length;for(;e.pos<n;){let s=e.arr[e.pos++];if(t=t+(s&127)*r,r*=128,s<128)return t;if(t>Nf)throw Sk}throw kk},Zc=e=>{let t=e.arr[e.pos++],r=t&63,n=64,s=(t&64)>0?-1:1;if((t&128)===0)return s*r;let i=e.arr.length;for(;e.pos<i;){if(t=e.arr[e.pos++],r=r+(t&127)*n,n*=128,t<128)return s*r;if(r>Nf)throw Sk}throw kk};var tj=e=>{let t=ce(e);if(t===0)return"";{let r=String.fromCodePoint(Tn(e));if(--t<100)for(;t--;)r+=String.fromCodePoint(Tn(e));else for(;t>0;){let n=t<1e4?t:1e4,s=e.arr.subarray(e.pos,e.pos+n);e.pos+=n,r+=String.fromCodePoint.apply(null,s),t-=n}return decodeURIComponent(escape(r))}},rj=e=>ki.decode(ot(e)),Cr=ki?rj:tj;var Bf=(e,t)=>{let r=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,r},sj=e=>Bf(e,4).getFloat32(0,!1),nj=e=>Bf(e,8).getFloat64(0,!1),ij=e=>Bf(e,8).getBigInt64(0,!1);var aj=[e=>{},e=>null,Zc,sj,nj,ij,e=>!1,e=>!0,Cr,e=>{let t=ce(e),r={};for(let n=0;n<t;n++){let s=Cr(e);r[s]=Ri(e)}return r},e=>{let t=ce(e),r=[];for(let n=0;n<t;n++)r.push(Ri(e));return r},ot],Ri=e=>aj[127-Tn(e)](e),Ja=class extends Pi{constructor(t,r){super(t),this.reader=r,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),xk(this)?this.count=ce(this)+1:this.count=-1),this.count--,this.s}};var Dn=class extends Pi{constructor(t){super(t),this.s=0,this.count=0}read(){if(this.count===0){this.s=Zc(this);let t=zc(this.s);this.count=1,t&&(this.s=-this.s,this.count=ce(this)+2)}return this.count--,this.s}};var Ii=class extends Pi{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){let t=Zc(this),r=t&1;this.diff=Ft(t/2),this.count=1,r&&(this.count=ce(this)+2)}return this.s+=this.diff,this.count--,this.s}},Gc=class{constructor(t){this.decoder=new Dn(t),this.str=Cr(this.decoder),this.spos=0}read(){let t=this.spos+this.decoder.read(),r=this.str.slice(this.spos,t);return this.spos=t,r}};var Xt=Date.now;var Et=()=>new Map,Qc=e=>{let t=Et();return e.forEach((r,n)=>{t.set(n,r)}),t},er=(e,t,r)=>{let n=e.get(t);return n===void 0&&e.set(t,n=r()),n};var Ek=(e,t)=>{for(let[r,n]of e)if(t(n,r))return!0;return!1};var jn=class{constructor(){this._observers=Et()}on(t,r){return er(this._observers,t,Yr).add(r),r}once(t,r){let n=(...s)=>{this.off(t,n),r(...s)};this.on(t,n)}off(t,r){let n=this._observers.get(t);n!==void 0&&(n.delete(r),n.size===0&&this._observers.delete(t))}emit(t,r){return Sr((this._observers.get(t)||Et()).values()).forEach(n=>n(...r))}destroy(){this._observers=Et()}},eu=class{constructor(){this._observers=Et()}on(t,r){er(this._observers,t,Yr).add(r)}once(t,r){let n=(...s)=>{this.off(t,n),r(...s)};this.on(t,n)}off(t,r){let n=this._observers.get(t);n!==void 0&&(n.delete(r),n.size===0&&this._observers.delete(t))}emit(t,r){return Sr((this._observers.get(t)||Et()).values()).forEach(n=>n(...r))}destroy(){this._observers=Et()}};var Pk=Object.assign,Rk=Object.keys;var Ik=(e,t)=>{for(let r in e)t(e[r],r)},Ok=(e,t)=>{let r=[];for(let n in e)r.push(t(e[n],n));return r},Hf=e=>Rk(e).length,Ck=e=>Rk(e).length;var Tk=e=>{for(let t in e)return!1;return!0},oj=(e,t)=>{for(let r in e)if(!t(e[r],r))return!1;return!0},Jf=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Kf=(e,t)=>e===t||Ck(e)===Ck(t)&&oj(e,(r,n)=>(r!==void 0||Jf(t,n))&&t[n]===r),lj=Object.freeze,Wf=e=>{for(let t in e){let r=e[t];(typeof r=="object"||typeof r=="function")&&Wf(e[t])}return lj(e)};var Zf=Symbol("Equality");var Wa=(e,t,r=0)=>{try{for(;r<e.length;r++)e[r](...t)}finally{r<e.length&&Wa(e,t,r+1)}};var Dk=e=>e;var Oi=(e,t)=>{if(e===t)return!0;if(e==null||t==null||e.constructor!==t.constructor)return!1;if(e[Zf]!=null)return e[Zf](t);switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:{if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;break}case Set:{if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;break}case Map:{if(e.size!==t.size)return!1;for(let r of e.keys())if(!t.has(r)||!Oi(e.get(r),t.get(r)))return!1;break}case Object:if(Hf(e)!==Hf(t))return!1;for(let r in e)if(!Jf(e,r)||!Oi(e[r],t[r]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Oi(e[r],t[r]))return!1;break;default:return!1}return!0},jk=(e,t)=>t.includes(e);import{webcrypto as Qf}from"node:crypto";var nz=Qf.subtle,Ak=Qf.getRandomValues.bind(Qf);var Xf=()=>Ak(new Uint32Array(1))[0];var uj="10000000-1000-4000-8000"+-1e11,Mk=()=>uj.replace(/[018]/g,e=>(e^Xf()&15>>e/4).toString(16));var ep=e=>new Promise(e);var oz=Promise.all.bind(Promise);var tp=e=>e===void 0?null:e;var rp=class{constructor(){this.map=new Map}setItem(t,r){this.map.set(t,r)}getItem(t){return this.map.get(t)}},Uk=new rp,sp=!0;try{typeof localStorage<"u"&&localStorage&&(Uk=localStorage,sp=!1)}catch{}var tu=Uk,Nk=e=>sp||addEventListener("storage",e),Lk=e=>sp||removeEventListener("storage",e);var vs=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",ip=typeof window<"u"&&typeof document<"u"&&!vs,lz=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,Xr,pj=[],mj=()=>{if(Xr===void 0)if(vs){Xr=Et();let e=process.argv,t=null;for(let r=0;r<e.length;r++){let n=e[r];n[0]==="-"?(t!==null&&Xr.set(t,""),t=n):t!==null?(Xr.set(t,n),t=null):pj.push(n)}t!==null&&Xr.set(t,"")}else typeof location=="object"?(Xr=Et(),(location.search||"?").slice(1).split("&").forEach(e=>{if(e.length!==0){let[t,r]=e.split("=");Xr.set(`--${zf(t,"-")}`,r),Xr.set(`-${zf(t,"-")}`,r)}})):Xr=Et();return Xr},np=e=>mj().has(e);var Ga=e=>vs?tp(process.env[e.toUpperCase().replaceAll("-","_")]):tp(tu.getItem(e));var $k=e=>np("--"+e)||Ga(e)!==null,cz=$k("production"),gj=vs&&jk(process.env.FORCE_COLOR,["true","1","2"]),zk=gj||!np("--no-colors")&&!$k("no-color")&&(!vs||process.stdout.isTTY)&&(!vs||np("--color")||Ga("COLORTERM")!==null||(Ga("TERM")||"").includes("color"));var Fk=e=>new Uint8Array(e),yj=(e,t,r)=>new Uint8Array(e,t,r),Vk=e=>new Uint8Array(e),vj=e=>{let t="";for(let r=0;r<e.byteLength;r++)t+=$f(e[r]);return btoa(t)},_j=e=>Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"),bj=e=>{let t=atob(e),r=Fk(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r},wj=e=>{let t=Buffer.from(e,"base64");return yj(t.buffer,t.byteOffset,t.byteLength)},Bk=ip?vj:_j,Hk=ip?bj:wj;var Jk=e=>{let t=Fk(e.byteLength);return t.set(e),t};var es=Symbol;var Za=es(),Ya=es(),ap=es(),op=es(),lp=es(),Qa=es(),cp=es(),Xa=es(),up=es(),Wk=e=>{e.length===1&&e[0]?.constructor===Function&&(e=e[0]());let t=[],r=[],n=0;for(;n<e.length;n++){let s=e[n];if(s===void 0)break;if(s.constructor===String||s.constructor===Number)t.push(s);else if(s.constructor===Object)break}for(n>0&&r.push(t.join(""));n<e.length;n++){let s=e[n];s instanceof Symbol||r.push(s)}return r};var uz=Xt();var xj={[Za]:"\x1B[1m",[Ya]:"\x1B[2m",[ap]:"\x1B[34m",[lp]:"\x1B[32m",[op]:"\x1B[37m",[Qa]:"\x1B[31m",[cp]:"\x1B[35m",[Xa]:"\x1B[38;5;208m",[up]:"\x1B[0m"},Ej=e=>{e.length===1&&e[0]?.constructor===Function&&(e=e[0]());let t=[],r=[],n=0;for(;n<e.length;n++){let s=e[n],i=xj[s];if(i!==void 0)t.push(i);else{if(s===void 0)break;if(s.constructor===String||s.constructor===Number)t.push(s);else break}}for(n>0&&(t.push("\x1B[0m"),r.push(t.join("")));n<e.length;n++){let s=e[n];s instanceof Symbol||r.push(s)}return r},Gk=zk?Ej:Wk,Zk=(...e)=>{console.log(...Gk(e))},dp=(...e)=>{console.warn(...Gk(e))};var Yk=e=>({[Symbol.iterator](){return this},next:e}),Qk=(e,t)=>Yk(()=>{let r;do r=e.next();while(!r.done&&!t(r.value));return r}),su=(e,t)=>Yk(()=>{let{done:r,value:n}=e.next();return{done:r,value:r?void 0:t(n)}});var to=class{constructor(t,r){this.clock=t,this.len=r}},Fs=class{constructor(){this.clients=new Map}},Di=(e,t,r)=>t.clients.forEach((n,s)=>{let i=e.doc.store.clients.get(s);if(i!=null){let a=i[i.length-1],o=a.id.clock+a.length;for(let l=0,c=n[l];l<n.length&&c.clock<o;c=n[++l])E0(e,i,c.clock,c.len,r)}}),Oj=(e,t)=>{let r=0,n=e.length-1;for(;r<=n;){let s=Ft((r+n)/2),i=e[s],a=i.clock;if(a<=t){if(t<a+i.len)return s;r=s+1}else n=s-1}return null},fo=(e,t)=>{let r=e.clients.get(t.client);return r!==void 0&&Oj(r,t.clock)!==null},Op=e=>{e.clients.forEach(t=>{t.sort((s,i)=>s.clock-i.clock);let r,n;for(r=1,n=1;r<t.length;r++){let s=t[n-1],i=t[r];s.clock+s.len>=i.clock?s.len=gs(s.len,i.clock+i.len-s.clock):(n<r&&(t[n]=i),n++)}t.length=n})},fp=e=>{let t=new Fs;for(let r=0;r<e.length;r++)e[r].clients.forEach((n,s)=>{if(!t.clients.has(s)){let i=n.slice();for(let a=r+1;a<e.length;a++)pk(i,e[a].clients.get(s)||[]);t.clients.set(s,i)}});return Op(t),t},ro=(e,t,r,n)=>{er(e.clients,t,()=>[]).push(new to(r,n))},m0=()=>new Fs,Tj=e=>{let t=m0();return e.clients.forEach((r,n)=>{let s=[];for(let i=0;i<r.length;i++){let a=r[i];if(a.deleted){let o=a.id.clock,l=a.length;if(i+1<r.length)for(let c=r[i+1];i+1<r.length&&c.deleted;c=r[++i+1])l+=c.length;s.push(new to(o,l))}}s.length>0&&t.clients.set(n,s)}),t},Ni=(e,t)=>{ie(e.restEncoder,t.clients.size),Sr(t.clients.entries()).sort((r,n)=>n[0]-r[0]).forEach(([r,n])=>{e.resetDsCurVal(),ie(e.restEncoder,r);let s=n.length;ie(e.restEncoder,s);for(let i=0;i<s;i++){let a=n[i];e.writeDsClock(a.clock),e.writeDsLen(a.len)}})},Tp=e=>{let t=new Fs,r=ce(e.restDecoder);for(let n=0;n<r;n++){e.resetDsCurVal();let s=ce(e.restDecoder),i=ce(e.restDecoder);if(i>0){let a=er(t.clients,s,()=>[]);for(let o=0;o<i;o++)a.push(new to(e.readDsClock(),e.readDsLen()))}}return t},t0=(e,t,r)=>{let n=new Fs,s=ce(e.restDecoder);for(let i=0;i<s;i++){e.resetDsCurVal();let a=ce(e.restDecoder),o=ce(e.restDecoder),l=r.clients.get(a)||[],c=lt(r,a);for(let u=0;u<o;u++){let d=e.readDsClock(),f=d+e.readDsLen();if(d<c){c<f&&ro(n,a,c,f-c);let h=ts(l,d),p=l[h];for(!p.deleted&&p.id.clock<d&&(l.splice(h+1,0,bu(t,p,d-p.id.clock)),h++);h<l.length&&(p=l[h++],p.id.clock<f);)p.deleted||(f<p.id.clock+p.length&&l.splice(h,0,bu(t,p,f-p.id.clock)),p.delete(t))}else ro(n,a,d,f-d)}}if(n.clients.size>0){let i=new _s;return ie(i.restEncoder,0),Ni(i,n),i.toUint8Array()}return null};var g0=Xf,Jt=class e extends jn{constructor({guid:t=Mk(),collectionid:r=null,gc:n=!0,gcFilter:s=()=>!0,meta:i=null,autoLoad:a=!1,shouldLoad:o=!0}={}){super(),this.gc=n,this.gcFilter=s,this.clientID=g0(),this.guid=t,this.collectionid=r,this.share=new Map,this.store=new mu,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=o,this.autoLoad=a,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=ep(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});let l=()=>ep(c=>{let u=d=>{(d===void 0||d===!0)&&(this.off("sync",u),c())};this.on("sync",u)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=l()}load(){let t=this._item;t!==null&&!this.shouldLoad&&De(t.parent.doc,r=>{r.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Sr(this.subdocs).map(t=>t.guid))}transact(t,r=null){return De(this,t,r)}get(t,r=nt){let n=er(this.share,t,()=>{let i=new r;return i._integrate(this,null),i}),s=n.constructor;if(r!==nt&&s!==r)if(s===nt){let i=new r;i._map=n._map,n._map.forEach(a=>{for(;a!==null;a=a.left)a.parent=i}),i._start=n._start;for(let a=i._start;a!==null;a=a.right)a.parent=i;return i._length=n._length,this.share.set(t,i),i._integrate(this,null),i}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return n}getArray(t=""){return this.get(t,Ai)}getText(t=""){return this.get(t,Bs)}getMap(t=""){return this.get(t,Rr)}getXmlElement(t=""){return this.get(t,lo)}getXmlFragment(t=""){return this.get(t,Mi)}toJSON(){let t={};return this.share.forEach((r,n)=>{t[n]=r.toJSON()}),t}destroy(){this.isDestroyed=!0,Sr(this.subdocs).forEach(r=>r.destroy());let t=this._item;if(t!==null){this._item=null;let r=t.content;r.doc=new e({guid:this.guid,...r.opts,shouldLoad:!1}),r.doc._item=t,De(t.parent.doc,n=>{let s=r.doc;t.deleted||n.subdocsAdded.add(s),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}},uu=class{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return ce(this.restDecoder)}readDsLen(){return ce(this.restDecoder)}},du=class extends uu{readLeftID(){return ye(ce(this.restDecoder),ce(this.restDecoder))}readRightID(){return ye(ce(this.restDecoder),ce(this.restDecoder))}readClient(){return ce(this.restDecoder)}readInfo(){return Tn(this.restDecoder)}readString(){return Cr(this.restDecoder)}readParentInfo(){return ce(this.restDecoder)===1}readTypeRef(){return ce(this.restDecoder)}readLen(){return ce(this.restDecoder)}readAny(){return Ri(this.restDecoder)}readBuf(){return Jk(ot(this.restDecoder))}readJSON(){return JSON.parse(Cr(this.restDecoder))}readKey(){return Cr(this.restDecoder)}},pp=class{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=ce(this.restDecoder),this.dsCurrVal}readDsLen(){let t=ce(this.restDecoder)+1;return this.dsCurrVal+=t,t}},Vs=class extends pp{constructor(t){super(t),this.keys=[],ce(t),this.keyClockDecoder=new Ii(ot(t)),this.clientDecoder=new Dn(ot(t)),this.leftClockDecoder=new Ii(ot(t)),this.rightClockDecoder=new Ii(ot(t)),this.infoDecoder=new Ja(ot(t),Tn),this.stringDecoder=new Gc(ot(t)),this.parentInfoDecoder=new Ja(ot(t),Tn),this.typeRefDecoder=new Dn(ot(t)),this.lenDecoder=new Dn(ot(t))}readLeftID(){return new zs(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new zs(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Ri(this.restDecoder)}readBuf(){return ot(this.restDecoder)}readJSON(){return Ri(this.restDecoder)}readKey(){let t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{let r=this.stringDecoder.read();return this.keys.push(r),r}}},hu=class{constructor(){this.restEncoder=at()}toUint8Array(){return Ne(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){ie(this.restEncoder,t)}writeDsLen(t){ie(this.restEncoder,t)}},An=class extends hu{writeLeftID(t){ie(this.restEncoder,t.client),ie(this.restEncoder,t.clock)}writeRightID(t){ie(this.restEncoder,t.client),ie(this.restEncoder,t.clock)}writeClient(t){ie(this.restEncoder,t)}writeInfo(t){Jc(this.restEncoder,t)}writeString(t){ys(this.restEncoder,t)}writeParentInfo(t){ie(this.restEncoder,t?1:0)}writeTypeRef(t){ie(this.restEncoder,t)}writeLen(t){ie(this.restEncoder,t)}writeAny(t){Ei(this.restEncoder,t)}writeBuf(t){Be(this.restEncoder,t)}writeJSON(t){ys(this.restEncoder,JSON.stringify(t))}writeKey(t){ys(this.restEncoder,t)}},fu=class{constructor(){this.restEncoder=at(),this.dsCurrVal=0}toUint8Array(){return Ne(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){let r=t-this.dsCurrVal;this.dsCurrVal=t,ie(this.restEncoder,r)}writeDsLen(t){t===0&&Er(),ie(this.restEncoder,t-1),this.dsCurrVal+=t}},_s=class extends fu{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Ci,this.clientEncoder=new On,this.leftClockEncoder=new Ci,this.rightClockEncoder=new Ci,this.infoEncoder=new Ba(Jc),this.stringEncoder=new Bc,this.parentInfoEncoder=new Ba(Jc),this.typeRefEncoder=new On,this.lenEncoder=new On}toUint8Array(){let t=at();return ie(t,0),Be(t,this.keyClockEncoder.toUint8Array()),Be(t,this.clientEncoder.toUint8Array()),Be(t,this.leftClockEncoder.toUint8Array()),Be(t,this.rightClockEncoder.toUint8Array()),Be(t,Ne(this.infoEncoder)),Be(t,this.stringEncoder.toUint8Array()),Be(t,Ne(this.parentInfoEncoder)),Be(t,this.typeRefEncoder.toUint8Array()),Be(t,this.lenEncoder.toUint8Array()),Ha(t,Ne(this.restEncoder)),Ne(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){Ei(this.restEncoder,t)}writeBuf(t){Be(this.restEncoder,t)}writeJSON(t){Ei(this.restEncoder,t)}writeKey(t){let r=this.keyMap.get(t);r===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(r)}},Dj=(e,t,r,n)=>{n=gs(n,t[0].id.clock);let s=ts(t,n);ie(e.restEncoder,t.length-s),e.writeClient(r),ie(e.restEncoder,n);let i=t[s];i.write(e,n-i.id.clock);for(let a=s+1;a<t.length;a++)t[a].write(e,0)},Dp=(e,t,r)=>{let n=new Map;r.forEach((s,i)=>{lt(t,i)>s&&n.set(i,s)}),wu(t).forEach((s,i)=>{r.has(i)||n.set(i,0)}),ie(e.restEncoder,n.size),Sr(n.entries()).sort((s,i)=>i[0]-s[0]).forEach(([s,i])=>{Dj(e,t.clients.get(s),s,i)})},jj=(e,t)=>{let r=Et(),n=ce(e.restDecoder);for(let s=0;s<n;s++){let i=ce(e.restDecoder),a=new Array(i),o=e.readClient(),l=ce(e.restDecoder);r.set(o,{i:0,refs:a});for(let c=0;c<i;c++){let u=e.readInfo();switch(31&u){case 0:{let d=e.readLen();a[c]=new Bt(ye(o,l),d),l+=d;break}case 10:{let d=ce(e.restDecoder);a[c]=new Ht(ye(o,l),d),l+=d;break}default:{let d=(u&192)===0,f=new He(ye(o,l),null,(u&128)===128?e.readLeftID():null,null,(u&64)===64?e.readRightID():null,d?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,d&&(u&32)===32?e.readString():null,H0(e,u));a[c]=f,l+=f.length}}}}return r},Aj=(e,t,r)=>{let n=[],s=Sr(r.keys()).sort((h,p)=>h-p);if(s.length===0)return null;let i=()=>{if(s.length===0)return null;let h=r.get(s[s.length-1]);for(;h.refs.length===h.i;)if(s.pop(),s.length>0)h=r.get(s[s.length-1]);else return null;return h},a=i();if(a===null)return null;let o=new mu,l=new Map,c=(h,p)=>{let g=l.get(h);(g==null||g>p)&&l.set(h,p)},u=a.refs[a.i++],d=new Map,f=()=>{for(let h of n){let p=h.id.client,g=r.get(p);g?(g.i--,o.clients.set(p,g.refs.slice(g.i)),r.delete(p),g.i=0,g.refs=[]):o.clients.set(p,[h]),s=s.filter(y=>y!==p)}n.length=0};for(;;){if(u.constructor!==Ht){let p=er(d,u.id.client,()=>lt(t,u.id.client))-u.id.clock;if(p<0)n.push(u),c(u.id.client,u.id.clock-1),f();else{let g=u.getMissing(e,t);if(g!==null){n.push(u);let y=r.get(g)||{refs:[],i:0};if(y.refs.length===y.i)c(g,lt(t,g)),f();else{u=y.refs[y.i++];continue}}else(p===0||p<u.length)&&(u.integrate(e,p),d.set(u.id.client,u.id.clock+u.length))}}if(n.length>0)u=n.pop();else if(a!==null&&a.i<a.refs.length)u=a.refs[a.i++];else{if(a=i(),a===null)break;u=a.refs[a.i++]}}if(o.clients.size>0){let h=new _s;return Dp(h,o,new Map),ie(h.restEncoder,0),{missing:l,update:h.toUint8Array()}}return null},Mj=(e,t)=>Dp(e,t.doc.store,t.beforeState),Uj=(e,t,r,n=new Vs(e))=>De(t,s=>{s.local=!1;let i=!1,a=s.doc,o=a.store,l=jj(n,a),c=Aj(s,o,l),u=o.pendingStructs;if(u){for(let[f,h]of u.missing)if(h<lt(o,f)){i=!0;break}if(c){for(let[f,h]of c.missing){let p=u.missing.get(f);(p==null||p>h)&&u.missing.set(f,h)}u.update=gu([u.update,c.update])}}else o.pendingStructs=c;let d=t0(n,s,o);if(o.pendingDs){let f=new Vs(Pr(o.pendingDs));ce(f.restDecoder);let h=t0(f,s,o);d&&h?o.pendingDs=gu([d,h]):o.pendingDs=d||h}else o.pendingDs=d;if(i){let f=o.pendingStructs.update;o.pendingStructs=null,y0(s.doc,f)}},r,!1);var y0=(e,t,r,n=Vs)=>{let s=Pr(t);Uj(s,e,r,new n(s))},v0=(e,t,r)=>y0(e,t,r,du),Nj=(e,t,r=new Map)=>{Dp(e,t.store,r),Ni(e,Tj(t.store))},Lj=(e,t=new Uint8Array([0]),r=new _s)=>{let n=b0(t);Nj(r,e,n);let s=[r.toUint8Array()];if(e.store.pendingDs&&s.push(e.store.pendingDs),e.store.pendingStructs&&s.push(Yj(e.store.pendingStructs.update,t)),s.length>1){if(r.constructor===An)return Gj(s.map((i,a)=>a===0?i:Xj(i)));if(r.constructor===_s)return gu(s)}return s[0]},_0=(e,t)=>Lj(e,t,new An),qj=e=>{let t=new Map,r=ce(e.restDecoder);for(let n=0;n<r;n++){let s=ce(e.restDecoder),i=ce(e.restDecoder);t.set(s,i)}return t},b0=e=>qj(new uu(Pr(e))),w0=(e,t)=>(ie(e.restEncoder,t.size),Sr(t.entries()).sort((r,n)=>n[0]-r[0]).forEach(([r,n])=>{ie(e.restEncoder,r),ie(e.restEncoder,n)}),e),$j=(e,t)=>w0(e,wu(t.store)),zj=(e,t=new fu)=>(e instanceof Map?w0(t,e):$j(t,e),t.toUint8Array()),k0=e=>zj(e,new hu),mp=class{constructor(){this.l=[]}},r0=()=>new mp,s0=(e,t)=>e.l.push(t),n0=(e,t)=>{let r=e.l,n=r.length;e.l=r.filter(s=>t!==s),n===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},S0=(e,t,r)=>Wa(e.l,[t,r]),zs=class{constructor(t,r){this.client=t,this.clock=r}},nu=(e,t)=>e===t||e!==null&&t!==null&&e.client===t.client&&e.clock===t.clock,ye=(e,t)=>new zs(e,t);var Fj=e=>{for(let[t,r]of e.doc.share.entries())if(r===e)return t;throw Er()},pu=(e,t)=>{for(;t!==null;){if(t.parent===e)return!0;t=t.parent._item}return!1};var gp=class{constructor(t,r){this.ds=t,this.sv=r}};var Vj=(e,t)=>new gp(e,t),gz=Vj(m0(),new Map);var Ti=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!fo(t.ds,e.id),yp=(e,t)=>{let r=er(e.meta,yp,Yr),n=e.doc.store;r.has(t)||(t.sv.forEach((s,i)=>{s<lt(n,i)&&Vt(e,ye(i,s))}),Di(e,t.ds,s=>{}),r.add(t))};var mu=class{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}},wu=e=>{let t=new Map;return e.clients.forEach((r,n)=>{let s=r[r.length-1];t.set(n,s.id.clock+s.length)}),t},lt=(e,t)=>{let r=e.clients.get(t);if(r===void 0)return 0;let n=r[r.length-1];return n.id.clock+n.length},x0=(e,t)=>{let r=e.clients.get(t.id.client);if(r===void 0)r=[],e.clients.set(t.id.client,r);else{let n=r[r.length-1];if(n.id.clock+n.length!==t.id.clock)throw Er()}r.push(t)},ts=(e,t)=>{let r=0,n=e.length-1,s=e[n],i=s.id.clock;if(i===t)return n;let a=Ft(t/(i+s.length-1)*n);for(;r<=n;){if(s=e[a],i=s.id.clock,i<=t){if(t<i+s.length)return a;r=a+1}else n=a-1;a=Ft((r+n)/2)}throw Er()},Bj=(e,t)=>{let r=e.clients.get(t.client);return r[ts(r,t.clock)]},ou=Bj,vp=(e,t,r)=>{let n=ts(t,r),s=t[n];return s.id.clock<r&&s instanceof He?(t.splice(n+1,0,bu(e,s,r-s.id.clock)),n+1):n},Vt=(e,t)=>{let r=e.doc.store.clients.get(t.client);return r[vp(e,r,t.clock)]},i0=(e,t,r)=>{let n=t.clients.get(r.client),s=ts(n,r.clock),i=n[s];return r.clock!==i.id.clock+i.length-1&&i.constructor!==Bt&&n.splice(s+1,0,bu(e,i,r.clock-i.id.clock+1)),i},Hj=(e,t,r)=>{let n=e.clients.get(t.id.client);n[ts(n,t.id.clock)]=r},E0=(e,t,r,n,s)=>{if(n===0)return;let i=r+n,a=vp(e,t,r),o;do o=t[a++],i<o.id.clock+o.length&&vp(e,t,i),s(o);while(a<t.length&&t[a].id.clock<i)},_p=class{constructor(t,r,n){this.doc=t,this.deleteSet=new Fs,this.beforeState=wu(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=r,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}},a0=(e,t)=>t.deleteSet.clients.size===0&&!Ek(t.afterState,(r,n)=>t.beforeState.get(n)!==r)?!1:(Op(t.deleteSet),Mj(e,t),Ni(e,t.deleteSet),!0),o0=(e,t,r)=>{let n=t._item;(n===null||n.id.clock<(e.beforeState.get(n.id.client)||0)&&!n.deleted)&&er(e.changed,t,Yr).add(r)},lu=(e,t)=>{let r=e[t],n=e[t-1],s=t;for(;s>0;r=n,n=e[--s-1]){if(n.deleted===r.deleted&&n.constructor===r.constructor&&n.mergeWith(r)){r instanceof He&&r.parentSub!==null&&r.parent._map.get(r.parentSub)===r&&r.parent._map.set(r.parentSub,n);continue}break}let i=t-s;return i&&e.splice(t+1-i,i),i},Jj=(e,t,r)=>{for(let[n,s]of e.clients.entries()){let i=t.clients.get(n);for(let a=s.length-1;a>=0;a--){let o=s[a],l=o.clock+o.len;for(let c=ts(i,o.clock),u=i[c];c<i.length&&u.id.clock<l;u=i[++c]){let d=i[c];if(o.clock+o.len<=d.id.clock)break;d instanceof He&&d.deleted&&!d.keep&&r(d)&&d.gc(t,!1)}}}},Kj=(e,t)=>{e.clients.forEach((r,n)=>{let s=t.clients.get(n);for(let i=r.length-1;i>=0;i--){let a=r[i],o=bi(s.length-1,1+ts(s,a.clock+a.len-1));for(let l=o,c=s[l];l>0&&c.id.clock>=a.clock;c=s[l])l-=1+lu(s,l)}})};var C0=(e,t)=>{if(t<e.length){let r=e[t],n=r.doc,s=n.store,i=r.deleteSet,a=r._mergeStructs;try{Op(i),r.afterState=wu(r.doc.store),n.emit("beforeObserverCalls",[r,n]);let o=[];r.changed.forEach((l,c)=>o.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(r,l)})),o.push(()=>{r.changedParentTypes.forEach((l,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(l=l.filter(u=>u.target._item===null||!u.target._item.deleted),l.forEach(u=>{u.currentTarget=c,u._path=null}),l.sort((u,d)=>u.path.length-d.path.length),S0(c._dEH,l,r))})}),o.push(()=>n.emit("afterTransaction",[r,n])),Wa(o,[]),r._needFormattingCleanup&&uA(r)}finally{n.gc&&Jj(i,s,n.gcFilter),Kj(i,s),r.afterState.forEach((u,d)=>{let f=r.beforeState.get(d)||0;if(f!==u){let h=s.clients.get(d),p=gs(ts(h,f),1);for(let g=h.length-1;g>=p;)g-=1+lu(h,g)}});for(let u=a.length-1;u>=0;u--){let{client:d,clock:f}=a[u].id,h=s.clients.get(d),p=ts(h,f);p+1<h.length&&lu(h,p+1)>1||p>0&&lu(h,p)}if(!r.local&&r.afterState.get(n.clientID)!==r.beforeState.get(n.clientID)&&(Zk(Xa,Za,"[yjs] ",Ya,Qa,"Changed the client-id because another client seems to be using it."),n.clientID=g0()),n.emit("afterTransactionCleanup",[r,n]),n._observers.has("update")){let u=new An;a0(u,r)&&n.emit("update",[u.toUint8Array(),r.origin,n,r])}if(n._observers.has("updateV2")){let u=new _s;a0(u,r)&&n.emit("updateV2",[u.toUint8Array(),r.origin,n,r])}let{subdocsAdded:o,subdocsLoaded:l,subdocsRemoved:c}=r;(o.size>0||c.size>0||l.size>0)&&(o.forEach(u=>{u.clientID=n.clientID,u.collectionid==null&&(u.collectionid=n.collectionid),n.subdocs.add(u)}),c.forEach(u=>n.subdocs.delete(u)),n.emit("subdocs",[{loaded:l,added:o,removed:c},n,r]),c.forEach(u=>u.destroy())),e.length<=t+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,e])):C0(e,t+1)}}},De=(e,t,r=null,n=!0)=>{let s=e._transactionCleanups,i=!1,a=null;e._transaction===null&&(i=!0,e._transaction=new _p(e,r,n),s.push(e._transaction),s.length===1&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{a=t(e._transaction)}finally{if(i){let o=e._transaction===s[0];e._transaction=null,o&&C0(s,0)}}return a},bp=class{constructor(t,r){this.insertions=r,this.deletions=t,this.meta=new Map}},l0=(e,t,r)=>{Di(e,r.deletions,n=>{n instanceof He&&t.scope.some(s=>s===e.doc||pu(s,n))&&Np(n,!1)})},c0=(e,t,r)=>{let n=null,s=e.doc,i=e.scope;De(s,o=>{for(;t.length>0&&e.currStackItem===null;){let l=s.store,c=t.pop(),u=new Set,d=[],f=!1;Di(o,c.insertions,h=>{if(h instanceof He){if(h.redone!==null){let{item:p,diff:g}=MA(l,h.id);g>0&&(p=Vt(o,ye(p.id.client,p.id.clock+g))),h=p}!h.deleted&&i.some(p=>p===o.doc||pu(p,h))&&d.push(h)}}),Di(o,c.deletions,h=>{h instanceof He&&i.some(p=>p===o.doc||pu(p,h))&&!fo(c.insertions,h.id)&&u.add(h)}),u.forEach(h=>{f=B0(o,h,u,c.insertions,e.ignoreRemoteMapChanges,e)!==null||f});for(let h=d.length-1;h>=0;h--){let p=d[h];e.deleteFilter(p)&&(p.delete(o),f=!0)}e.currStackItem=f?c:null}o.changed.forEach((l,c)=>{l.has(null)&&c._searchMarker&&(c._searchMarker.length=0)}),n=o},e);let a=e.currStackItem;if(a!=null){let o=n.changedParentTypes;e.emit("stack-item-popped",[{stackItem:a,type:r,changedParentTypes:o,origin:e},e]),e.currStackItem=null}return a},Mn=class extends jn{constructor(t,{captureTimeout:r=500,captureTransaction:n=l=>!0,deleteFilter:s=()=>!0,trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:a=!1,doc:o=Va(t)?t[0].doc:t instanceof Jt?t:t.doc}={}){super(),this.scope=[],this.doc=o,this.addToScope(t),this.deleteFilter=s,i.add(this),this.trackedOrigins=i,this.captureTransaction=n,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=a,this.captureTimeout=r,this.afterTransactionHandler=l=>{if(!this.captureTransaction(l)||!this.scope.some(y=>l.changedParentTypes.has(y)||y===this.doc)||!this.trackedOrigins.has(l.origin)&&(!l.origin||!this.trackedOrigins.has(l.origin.constructor)))return;let c=this.undoing,u=this.redoing,d=c?this.redoStack:this.undoStack;c?this.stopCapturing():u||this.clear(!1,!0);let f=new Fs;l.afterState.forEach((y,v)=>{let P=l.beforeState.get(v)||0,E=y-P;E>0&&ro(f,v,P,E)});let h=Xt(),p=!1;if(this.lastChange>0&&h-this.lastChange<this.captureTimeout&&d.length>0&&!c&&!u){let y=d[d.length-1];y.deletions=fp([y.deletions,l.deleteSet]),y.insertions=fp([y.insertions,f])}else d.push(new bp(l.deleteSet,f)),p=!0;!c&&!u&&(this.lastChange=h),Di(l,l.deleteSet,y=>{y instanceof He&&this.scope.some(v=>v===l.doc||pu(v,y))&&Np(y,!0)});let g=[{stackItem:d[d.length-1],origin:l.origin,type:c?"redo":"undo",changedParentTypes:l.changedParentTypes},this];p?this.emit("stack-item-added",g):this.emit("stack-item-updated",g)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(t){let r=new Set(this.scope);t=Va(t)?t:[t],t.forEach(n=>{r.has(n)||(r.add(n),(n instanceof nt?n.doc!==this.doc:n!==this.doc)&&dp("[yjs#509] Not same Y.Doc"),this.scope.push(n))})}addTrackedOrigin(t){this.trackedOrigins.add(t)}removeTrackedOrigin(t){this.trackedOrigins.delete(t)}clear(t=!0,r=!0){(t&&this.canUndo()||r&&this.canRedo())&&this.doc.transact(n=>{t&&(this.undoStack.forEach(s=>l0(n,this,s)),this.undoStack=[]),r&&(this.redoStack.forEach(s=>l0(n,this,s)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:t,redoStackCleared:r}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let t;try{t=c0(this,this.undoStack,"undo")}finally{this.undoing=!1}return t}redo(){this.redoing=!0;let t;try{t=c0(this,this.redoStack,"redo")}finally{this.redoing=!1}return t}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}};function*Wj(e){let t=ce(e.restDecoder);for(let r=0;r<t;r++){let n=ce(e.restDecoder),s=e.readClient(),i=ce(e.restDecoder);for(let a=0;a<n;a++){let o=e.readInfo();if(o===10){let l=ce(e.restDecoder);yield new Ht(ye(s,i),l),i+=l}else if((31&o)!==0){let l=(o&192)===0,c=new He(ye(s,i),null,(o&128)===128?e.readLeftID():null,null,(o&64)===64?e.readRightID():null,l?e.readParentInfo()?e.readString():e.readLeftID():null,l&&(o&32)===32?e.readString():null,H0(e,o));yield c,i+=c.length}else{let l=e.readLen();yield new Bt(ye(s,i),l),i+=l}}}}var so=class{constructor(t,r){this.gen=Wj(t),this.curr=null,this.done=!1,this.filterSkips=r,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Ht);return this.curr}};var no=class{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}},Gj=e=>gu(e,du,An);var Zj=(e,t)=>{if(e.constructor===Bt){let{client:r,clock:n}=e.id;return new Bt(ye(r,n+t),e.length-t)}else if(e.constructor===Ht){let{client:r,clock:n}=e.id;return new Ht(ye(r,n+t),e.length-t)}else{let r=e,{client:n,clock:s}=r.id;return new He(ye(n,s+t),null,ye(n,s+t-1),null,r.rightOrigin,r.parent,r.parentSub,r.content.splice(t))}},gu=(e,t=Vs,r=_s)=>{if(e.length===1)return e[0];let n=e.map(u=>new t(Pr(u))),s=n.map(u=>new so(u,!0)),i=null,a=new r,o=new no(a);for(;s=s.filter(f=>f.curr!==null),s.sort((f,h)=>{if(f.curr.id.client===h.curr.id.client){let p=f.curr.id.clock-h.curr.id.clock;return p===0?f.curr.constructor===h.curr.constructor?0:f.curr.constructor===Ht?1:-1:p}else return h.curr.id.client-f.curr.id.client}),s.length!==0;){let u=s[0],d=u.curr.id.client;if(i!==null){let f=u.curr,h=!1;for(;f!==null&&f.id.clock+f.length<=i.struct.id.clock+i.struct.length&&f.id.client>=i.struct.id.client;)f=u.next(),h=!0;if(f===null||f.id.client!==d||h&&f.id.clock>i.struct.id.clock+i.struct.length)continue;if(d!==i.struct.id.client)qs(o,i.struct,i.offset),i={struct:f,offset:0},u.next();else if(i.struct.id.clock+i.struct.length<f.id.clock)if(i.struct.constructor===Ht)i.struct.length=f.id.clock+f.length-i.struct.id.clock;else{qs(o,i.struct,i.offset);let p=f.id.clock-i.struct.id.clock-i.struct.length;i={struct:new Ht(ye(d,i.struct.id.clock+i.struct.length),p),offset:0}}else{let p=i.struct.id.clock+i.struct.length-f.id.clock;p>0&&(i.struct.constructor===Ht?i.struct.length-=p:f=Zj(f,p)),i.struct.mergeWith(f)||(qs(o,i.struct,i.offset),i={struct:f,offset:0},u.next())}}else i={struct:u.curr,offset:0},u.next();for(let f=u.curr;f!==null&&f.id.client===d&&f.id.clock===i.struct.id.clock+i.struct.length&&f.constructor!==Ht;f=u.next())qs(o,i.struct,i.offset),i={struct:f,offset:0}}i!==null&&(qs(o,i.struct,i.offset),i=null),jp(o);let l=n.map(u=>Tp(u)),c=fp(l);return Ni(a,c),a.toUint8Array()},Yj=(e,t,r=Vs,n=_s)=>{let s=b0(t),i=new n,a=new no(i),o=new r(Pr(e)),l=new so(o,!1);for(;l.curr;){let u=l.curr,d=u.id.client,f=s.get(d)||0;if(l.curr.constructor===Ht){l.next();continue}if(u.id.clock+u.length>f)for(qs(a,u,gs(f-u.id.clock,0)),l.next();l.curr&&l.curr.id.client===d;)qs(a,l.curr,0),l.next();else for(;l.curr&&l.curr.id.client===d&&l.curr.id.clock+l.curr.length<=f;)l.next()}jp(a);let c=Tp(o);return Ni(i,c),i.toUint8Array()};var P0=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:Ne(e.encoder.restEncoder)}),e.encoder.restEncoder=at(),e.written=0)},qs=(e,t,r)=>{e.written>0&&e.currClient!==t.id.client&&P0(e),e.written===0&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),ie(e.encoder.restEncoder,t.id.clock+r)),t.write(e.encoder,r),e.written++},jp=e=>{P0(e);let t=e.encoder.restEncoder;ie(t,e.clientStructs.length);for(let r=0;r<e.clientStructs.length;r++){let n=e.clientStructs[r];ie(t,n.written),Ha(t,n.restEncoder)}},Qj=(e,t,r,n)=>{let s=new r(Pr(e)),i=new so(s,!1),a=new n,o=new no(a);for(let c=i.curr;c!==null;c=i.next())qs(o,t(c),0);jp(o);let l=Tp(s);return Ni(a,l),a.toUint8Array()};var Xj=e=>Qj(e,Dk,Vs,An),u0="You must not compute changes after the event-handler fired.",ji=class{constructor(t,r){this.target=t,this.currentTarget=t,this.transaction=r,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=eA(this.currentTarget,this.target))}deletes(t){return fo(this.transaction.deleteSet,t.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Qr(u0);let t=new Map,r=this.target;this.transaction.changed.get(r).forEach(s=>{if(s!==null){let i=r._map.get(s),a,o;if(this.adds(i)){let l=i.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(i))if(l!==null&&this.deletes(l))a="delete",o=Fc(l.content.getContent());else return;else l!==null&&this.deletes(l)?(a="update",o=Fc(l.content.getContent())):(a="add",o=void 0)}else if(this.deletes(i))a="delete",o=Fc(i.content.getContent());else return;t.set(s,{action:a,oldValue:o})}}),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(t===null){if(this.transaction.doc._transactionCleanups.length===0)throw Qr(u0);let r=this.target,n=Yr(),s=Yr(),i=[];if(t={added:n,deleted:s,delta:i,keys:this.keys},this.transaction.changed.get(r).has(null)){let o=null,l=()=>{o&&i.push(o)};for(let c=r._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((o===null||o.delete===void 0)&&(l(),o={delete:0}),o.delete+=c.length,s.add(c)):this.adds(c)?((o===null||o.insert===void 0)&&(l(),o={insert:[]}),o.insert=o.insert.concat(c.content.getContent()),n.add(c)):((o===null||o.retain===void 0)&&(l(),o={retain:0}),o.retain+=c.length);o!==null&&o.retain===void 0&&l()}this._changes=t}return t}},eA=(e,t)=>{let r=[];for(;t._item!==null&&t!==e;){if(t._item.parentSub!==null)r.unshift(t._item.parentSub);else{let n=0,s=t._item.parent._start;for(;s!==t._item&&s!==null;)!s.deleted&&s.countable&&(n+=s.length),s=s.right;r.unshift(n)}t=t._item.parent}return r},Ct=()=>{dp("Invalid access: Add Yjs type to a document before reading data.")},R0=80,Ap=0,wp=class{constructor(t,r){t.marker=!0,this.p=t,this.index=r,this.timestamp=Ap++}},tA=e=>{e.timestamp=Ap++},I0=(e,t,r)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=r,e.timestamp=Ap++},rA=(e,t,r)=>{if(e.length>=R0){let n=e.reduce((s,i)=>s.timestamp<i.timestamp?s:i);return I0(n,t,r),n}else{let n=new wp(t,r);return e.push(n),n}},ku=(e,t)=>{if(e._start===null||t===0||e._searchMarker===null)return null;let r=e._searchMarker.length===0?null:e._searchMarker.reduce((i,a)=>_i(t-i.index)<_i(t-a.index)?i:a),n=e._start,s=0;for(r!==null&&(n=r.p,s=r.index,tA(r));n.right!==null&&s<t;){if(!n.deleted&&n.countable){if(t<s+n.length)break;s+=n.length}n=n.right}for(;n.left!==null&&s>t;)n=n.left,!n.deleted&&n.countable&&(s-=n.length);for(;n.left!==null&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)n=n.left,!n.deleted&&n.countable&&(s-=n.length);return r!==null&&_i(r.index-s)<n.parent.length/R0?(I0(r,n,s),r):rA(e._searchMarker,n,s)},io=(e,t,r)=>{for(let n=e.length-1;n>=0;n--){let s=e[n];if(r>0){let i=s.p;for(i.marker=!1;i&&(i.deleted||!i.countable);)i=i.left,i&&!i.deleted&&i.countable&&(s.index-=i.length);if(i===null||i.marker===!0){e.splice(n,1);continue}s.p=i,i.marker=!0}(t<s.index||r>0&&t===s.index)&&(s.index=gs(t,s.index+r))}};var Su=(e,t,r)=>{let n=e,s=t.changedParentTypes;for(;er(s,e,()=>[]).push(r),e._item!==null;)e=e._item.parent;S0(n._eH,r,t)},nt=class{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=r0(),this._dEH=r0(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,r){this.doc=t,this._item=r}_copy(){throw xr()}clone(){throw xr()}_write(t){}get _first(){let t=this._start;for(;t!==null&&t.deleted;)t=t.right;return t}_callObserver(t,r){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){s0(this._eH,t)}observeDeep(t){s0(this._dEH,t)}unobserve(t){n0(this._eH,t)}unobserveDeep(t){n0(this._dEH,t)}toJSON(){}},O0=(e,t,r)=>{e.doc??Ct(),t<0&&(t=e._length+t),r<0&&(r=e._length+r);let n=r-t,s=[],i=e._start;for(;i!==null&&n>0;){if(i.countable&&!i.deleted){let a=i.content.getContent();if(a.length<=t)t-=a.length;else{for(let o=t;o<a.length&&n>0;o++)s.push(a[o]),n--;t=0}}i=i.right}return s},T0=e=>{e.doc??Ct();let t=[],r=e._start;for(;r!==null;){if(r.countable&&!r.deleted){let n=r.content.getContent();for(let s=0;s<n.length;s++)t.push(n[s])}r=r.right}return t};var ao=(e,t)=>{let r=0,n=e._start;for(e.doc??Ct();n!==null;){if(n.countable&&!n.deleted){let s=n.content.getContent();for(let i=0;i<s.length;i++)t(s[i],r++,e)}n=n.right}},D0=(e,t)=>{let r=[];return ao(e,(n,s)=>{r.push(t(n,s,e))}),r},sA=e=>{let t=e._start,r=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(r===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};r=t.content.getContent(),n=0,t=t.right}let s=r[n++];return r.length<=n&&(r=null),{done:!1,value:s}}}},j0=(e,t)=>{e.doc??Ct();let r=ku(e,t),n=e._start;for(r!==null&&(n=r.p,t-=r.index);n!==null;n=n.right)if(!n.deleted&&n.countable){if(t<n.length)return n.content.getContent()[t];t-=n.length}},yu=(e,t,r,n)=>{let s=r,i=e.doc,a=i.clientID,o=i.store,l=r===null?t._start:r.right,c=[],u=()=>{c.length>0&&(s=new He(ye(a,lt(o,a)),s,s&&s.lastId,l,l&&l.id,t,null,new Ui(c)),s.integrate(e,0),c=[])};n.forEach(d=>{if(d===null)c.push(d);else switch(d.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(d);break;default:switch(u(),d.constructor){case Uint8Array:case ArrayBuffer:s=new He(ye(a,lt(o,a)),s,s&&s.lastId,l,l&&l.id,t,null,new uo(new Uint8Array(d))),s.integrate(e,0);break;case Jt:s=new He(ye(a,lt(o,a)),s,s&&s.lastId,l,l&&l.id,t,null,new ho(d)),s.integrate(e,0);break;default:if(d instanceof nt)s=new He(ye(a,lt(o,a)),s,s&&s.lastId,l,l&&l.id,t,null,new ws(d)),s.integrate(e,0);else throw new Error("Unexpected content type in insert operation")}}}),u()},A0=()=>Qr("Length exceeded!"),M0=(e,t,r,n)=>{if(r>t._length)throw A0();if(r===0)return t._searchMarker&&io(t._searchMarker,r,n.length),yu(e,t,null,n);let s=r,i=ku(t,r),a=t._start;for(i!==null&&(a=i.p,r-=i.index,r===0&&(a=a.prev,r+=a&&a.countable&&!a.deleted?a.length:0));a!==null;a=a.right)if(!a.deleted&&a.countable){if(r<=a.length){r<a.length&&Vt(e,ye(a.id.client,a.id.clock+r));break}r-=a.length}return t._searchMarker&&io(t._searchMarker,s,n.length),yu(e,t,a,n)},nA=(e,t,r)=>{let s=(t._searchMarker||[]).reduce((i,a)=>a.index>i.index?a:i,{index:0,p:t._start}).p;if(s)for(;s.right;)s=s.right;return yu(e,t,s,r)},U0=(e,t,r,n)=>{if(n===0)return;let s=r,i=n,a=ku(t,r),o=t._start;for(a!==null&&(o=a.p,r-=a.index);o!==null&&r>0;o=o.right)!o.deleted&&o.countable&&(r<o.length&&Vt(e,ye(o.id.client,o.id.clock+r)),r-=o.length);for(;n>0&&o!==null;)o.deleted||(n<o.length&&Vt(e,ye(o.id.client,o.id.clock+n)),o.delete(e),n-=o.length),o=o.right;if(n>0)throw A0();t._searchMarker&&io(t._searchMarker,s,-i+n)},vu=(e,t,r)=>{let n=t._map.get(r);n!==void 0&&n.delete(e)},Mp=(e,t,r,n)=>{let s=t._map.get(r)||null,i=e.doc,a=i.clientID,o;if(n==null)o=new Ui([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:o=new Ui([n]);break;case Uint8Array:o=new uo(n);break;case Jt:o=new ho(n);break;default:if(n instanceof nt)o=new ws(n);else throw new Error("Unexpected content type")}new He(ye(a,lt(i.store,a)),s,s&&s.lastId,null,null,t,r,o).integrate(e,0)},Up=(e,t)=>{e.doc??Ct();let r=e._map.get(t);return r!==void 0&&!r.deleted?r.content.getContent()[r.length-1]:void 0},N0=e=>{let t={};return e.doc??Ct(),e._map.forEach((r,n)=>{r.deleted||(t[n]=r.content.getContent()[r.length-1])}),t},L0=(e,t)=>{e.doc??Ct();let r=e._map.get(t);return r!==void 0&&!r.deleted};var iA=(e,t)=>{let r={};return e._map.forEach((n,s)=>{let i=n;for(;i!==null&&(!t.sv.has(i.id.client)||i.id.clock>=(t.sv.get(i.id.client)||0));)i=i.left;i!==null&&Ti(i,t)&&(r[s]=i.content.getContent()[i.length-1])}),r},iu=e=>(e.doc??Ct(),Qk(e._map.entries(),t=>!t[1].deleted)),kp=class extends ji{},Ai=class e extends nt{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){let r=new e;return r.push(t),r}_integrate(t,r){super._integrate(t,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new e}clone(){let t=new e;return t.insert(0,this.toArray().map(r=>r instanceof nt?r.clone():r)),t}get length(){return this.doc??Ct(),this._length}_callObserver(t,r){super._callObserver(t,r),Su(this,t,new kp(this,t))}insert(t,r){this.doc!==null?De(this.doc,n=>{M0(n,this,t,r)}):this._prelimContent.splice(t,0,...r)}push(t){this.doc!==null?De(this.doc,r=>{nA(r,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,r=1){this.doc!==null?De(this.doc,n=>{U0(n,this,t,r)}):this._prelimContent.splice(t,r)}get(t){return j0(this,t)}toArray(){return T0(this)}slice(t=0,r=this.length){return O0(this,t,r)}toJSON(){return this.map(t=>t instanceof nt?t.toJSON():t)}map(t){return D0(this,t)}forEach(t){ao(this,t)}[Symbol.iterator](){return sA(this)}_write(t){t.writeTypeRef(PA)}},aA=e=>new Ai,Sp=class extends ji{constructor(t,r,n){super(t,r),this.keysChanged=n}},Rr=class e extends nt{constructor(t){super(),this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,r){super._integrate(t,r),this._prelimContent.forEach((n,s)=>{this.set(s,n)}),this._prelimContent=null}_copy(){return new e}clone(){let t=new e;return this.forEach((r,n)=>{t.set(n,r instanceof nt?r.clone():r)}),t}_callObserver(t,r){Su(this,t,new Sp(this,t,r))}toJSON(){this.doc??Ct();let t={};return this._map.forEach((r,n)=>{if(!r.deleted){let s=r.content.getContent()[r.length-1];t[n]=s instanceof nt?s.toJSON():s}}),t}get size(){return[...iu(this)].length}keys(){return su(iu(this),t=>t[0])}values(){return su(iu(this),t=>t[1].content.getContent()[t[1].length-1])}entries(){return su(iu(this),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){this.doc??Ct(),this._map.forEach((r,n)=>{r.deleted||t(r.content.getContent()[r.length-1],n,this)})}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?De(this.doc,r=>{vu(r,this,t)}):this._prelimContent.delete(t)}set(t,r){return this.doc!==null?De(this.doc,n=>{Mp(n,this,t,r)}):this._prelimContent.set(t,r),r}get(t){return Up(this,t)}has(t){return L0(this,t)}clear(){this.doc!==null?De(this.doc,t=>{this.forEach(function(r,n,s){vu(t,s,n)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(RA)}},oA=e=>new Rr,$s=(e,t)=>e===t||typeof e=="object"&&typeof t=="object"&&e&&t&&Kf(e,t),oo=class{constructor(t,r,n,s){this.left=t,this.right=r,this.index=n,this.currentAttributes=s}forward(){switch(this.right===null&&Er(),this.right.content.constructor){case ct:this.right.deleted||Li(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}},d0=(e,t,r)=>{for(;t.right!==null&&r>0;){switch(t.right.content.constructor){case ct:t.right.deleted||Li(t.currentAttributes,t.right.content);break;default:t.right.deleted||(r<t.right.length&&Vt(e,ye(t.right.id.client,t.right.id.clock+r)),t.index+=t.right.length,r-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},au=(e,t,r,n)=>{let s=new Map,i=n?ku(t,r):null;if(i){let a=new oo(i.p.left,i.p,i.index,s);return d0(e,a,r-i.index)}else{let a=new oo(null,t._start,0,s);return d0(e,a,r)}},q0=(e,t,r,n)=>{for(;r.right!==null&&(r.right.deleted===!0||r.right.content.constructor===ct&&$s(n.get(r.right.content.key),r.right.content.value));)r.right.deleted||n.delete(r.right.content.key),r.forward();let s=e.doc,i=s.clientID;n.forEach((a,o)=>{let l=r.left,c=r.right,u=new He(ye(i,lt(s.store,i)),l,l&&l.lastId,c,c&&c.id,t,null,new ct(o,a));u.integrate(e,0),r.right=u,r.forward()})},Li=(e,t)=>{let{key:r,value:n}=t;n===null?e.delete(r):e.set(r,n)},$0=(e,t)=>{for(;e.right!==null;){if(!(e.right.deleted||e.right.content.constructor===ct&&$s(t[e.right.content.key]??null,e.right.content.value)))break;e.forward()}},z0=(e,t,r,n)=>{let s=e.doc,i=s.clientID,a=new Map;for(let o in n){let l=n[o],c=r.currentAttributes.get(o)??null;if(!$s(c,l)){a.set(o,c);let{left:u,right:d}=r;r.right=new He(ye(i,lt(s.store,i)),u,u&&u.lastId,d,d&&d.id,t,null,new ct(o,l)),r.right.integrate(e,0),r.forward()}}return a},hp=(e,t,r,n,s)=>{r.currentAttributes.forEach((f,h)=>{s[h]===void 0&&(s[h]=null)});let i=e.doc,a=i.clientID;$0(r,s);let o=z0(e,t,r,s),l=n.constructor===String?new bs(n):n instanceof nt?new ws(n):new Un(n),{left:c,right:u,index:d}=r;t._searchMarker&&io(t._searchMarker,r.index,l.getLength()),u=new He(ye(a,lt(i.store,a)),c,c&&c.lastId,u,u&&u.id,t,null,l),u.integrate(e,0),r.right=u,r.index=d,r.forward(),q0(e,t,r,o)},h0=(e,t,r,n,s)=>{let i=e.doc,a=i.clientID;$0(r,s);let o=z0(e,t,r,s);e:for(;r.right!==null&&(n>0||o.size>0&&(r.right.deleted||r.right.content.constructor===ct));){if(!r.right.deleted)switch(r.right.content.constructor){case ct:{let{key:l,value:c}=r.right.content,u=s[l];if(u!==void 0){if($s(u,c))o.delete(l);else{if(n===0)break e;o.set(l,c)}r.right.delete(e)}else r.currentAttributes.set(l,c);break}default:n<r.right.length&&Vt(e,ye(r.right.id.client,r.right.id.clock+n)),n-=r.right.length;break}r.forward()}if(n>0){let l="";for(;n>0;n--)l+=`
`;r.right=new He(ye(a,lt(i.store,a)),r.left,r.left&&r.left.lastId,r.right,r.right&&r.right.id,t,null,new bs(l)),r.right.integrate(e,0),r.forward()}q0(e,t,r,o)},F0=(e,t,r,n,s)=>{let i=t,a=Et();for(;i&&(!i.countable||i.deleted);){if(!i.deleted&&i.content.constructor===ct){let c=i.content;a.set(c.key,c)}i=i.right}let o=0,l=!1;for(;t!==i;){if(r===t&&(l=!0),!t.deleted){let c=t.content;switch(c.constructor){case ct:{let{key:u,value:d}=c,f=n.get(u)??null;(a.get(u)!==c||f===d)&&(t.delete(e),o++,!l&&(s.get(u)??null)===d&&f!==d&&(f===null?s.delete(u):s.set(u,f))),!l&&!t.deleted&&Li(s,c);break}}}t=t.right}return o},lA=(e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;let r=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===ct){let n=t.content.key;r.has(n)?t.delete(e):r.add(n)}t=t.left}},cA=e=>{let t=0;return De(e.doc,r=>{let n=e._start,s=e._start,i=Et(),a=Qc(i);for(;s;){if(s.deleted===!1)switch(s.content.constructor){case ct:Li(a,s.content);break;default:t+=F0(r,n,s,i,a),i=Qc(a),n=s;break}s=s.right}}),t},uA=e=>{let t=new Set,r=e.doc;for(let[n,s]of e.afterState.entries()){let i=e.beforeState.get(n)||0;s!==i&&E0(e,r.store.clients.get(n),i,s,a=>{!a.deleted&&a.content.constructor===ct&&a.constructor!==Bt&&t.add(a.parent)})}De(r,n=>{Di(e,e.deleteSet,s=>{if(s instanceof Bt||!s.parent._hasFormatting||t.has(s.parent))return;let i=s.parent;s.content.constructor===ct?t.add(i):lA(n,s)});for(let s of t)cA(s)})},f0=(e,t,r)=>{let n=r,s=Qc(t.currentAttributes),i=t.right;for(;r>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case ws:case Un:case bs:r<t.right.length&&Vt(e,ye(t.right.id.client,t.right.id.clock+r)),r-=t.right.length,t.right.delete(e);break}t.forward()}i&&F0(e,i,t.right,s,t.currentAttributes);let a=(t.left||t.right).parent;return a._searchMarker&&io(a._searchMarker,t.index,-n+r),t},xp=class extends ji{constructor(t,r,n){super(t,r),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(s=>{s===null?this.childListChanged=!0:this.keysChanged.add(s)})}get changes(){if(this._changes===null){let t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(this._delta===null){let t=this.target.doc,r=[];De(t,n=>{let s=new Map,i=new Map,a=this.target._start,o=null,l={},c="",u=0,d=0,f=()=>{if(o!==null){let h=null;switch(o){case"delete":d>0&&(h={delete:d}),d=0;break;case"insert":(typeof c=="object"||c.length>0)&&(h={insert:c},s.size>0&&(h.attributes={},s.forEach((p,g)=>{p!==null&&(h.attributes[g]=p)}))),c="";break;case"retain":u>0&&(h={retain:u},Tk(l)||(h.attributes=Pk({},l))),u=0;break}h&&r.push(h),o=null}};for(;a!==null;){switch(a.content.constructor){case ws:case Un:this.adds(a)?this.deletes(a)||(f(),o="insert",c=a.content.getContent()[0],f()):this.deletes(a)?(o!=="delete"&&(f(),o="delete"),d+=1):a.deleted||(o!=="retain"&&(f(),o="retain"),u+=1);break;case bs:this.adds(a)?this.deletes(a)||(o!=="insert"&&(f(),o="insert"),c+=a.content.str):this.deletes(a)?(o!=="delete"&&(f(),o="delete"),d+=a.length):a.deleted||(o!=="retain"&&(f(),o="retain"),u+=a.length);break;case ct:{let{key:h,value:p}=a.content;if(this.adds(a)){if(!this.deletes(a)){let g=s.get(h)??null;$s(g,p)?p!==null&&a.delete(n):(o==="retain"&&f(),$s(p,i.get(h)??null)?delete l[h]:l[h]=p)}}else if(this.deletes(a)){i.set(h,p);let g=s.get(h)??null;$s(g,p)||(o==="retain"&&f(),l[h]=g)}else if(!a.deleted){i.set(h,p);let g=l[h];g!==void 0&&($s(g,p)?g!==null&&a.delete(n):(o==="retain"&&f(),p===null?delete l[h]:l[h]=p))}a.deleted||(o==="insert"&&f(),Li(s,a.content));break}}a=a.right}for(f();r.length>0;){let h=r[r.length-1];if(h.retain!==void 0&&h.attributes===void 0)r.pop();else break}}),this._delta=r}return this._delta}},Bs=class e extends nt{constructor(t){super(),this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Ct(),this._length}_integrate(t,r){super._integrate(t,r);try{this._pending.forEach(n=>n())}catch(n){console.error(n)}this._pending=null}_copy(){return new e}clone(){let t=new e;return t.applyDelta(this.toDelta()),t}_callObserver(t,r){super._callObserver(t,r);let n=new xp(this,t,r);Su(this,t,n),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){this.doc??Ct();let t="",r=this._start;for(;r!==null;)!r.deleted&&r.countable&&r.content.constructor===bs&&(t+=r.content.str),r=r.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:r=!0}={}){this.doc!==null?De(this.doc,n=>{let s=new oo(null,this._start,0,new Map);for(let i=0;i<t.length;i++){let a=t[i];if(a.insert!==void 0){let o=!r&&typeof a.insert=="string"&&i===t.length-1&&s.right===null&&a.insert.slice(-1)===`
`?a.insert.slice(0,-1):a.insert;(typeof o!="string"||o.length>0)&&hp(n,this,s,o,a.attributes||{})}else a.retain!==void 0?h0(n,this,s,a.retain,a.attributes||{}):a.delete!==void 0&&f0(n,s,a.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,r,n){this.doc??Ct();let s=[],i=new Map,a=this.doc,o="",l=this._start;function c(){if(o.length>0){let d={},f=!1;i.forEach((p,g)=>{f=!0,d[g]=p});let h={insert:o};f&&(h.attributes=d),s.push(h),o=""}}let u=()=>{for(;l!==null;){if(Ti(l,t)||r!==void 0&&Ti(l,r))switch(l.content.constructor){case bs:{let d=i.get("ychange");t!==void 0&&!Ti(l,t)?(d===void 0||d.user!==l.id.client||d.type!=="removed")&&(c(),i.set("ychange",n?n("removed",l.id):{type:"removed"})):r!==void 0&&!Ti(l,r)?(d===void 0||d.user!==l.id.client||d.type!=="added")&&(c(),i.set("ychange",n?n("added",l.id):{type:"added"})):d!==void 0&&(c(),i.delete("ychange")),o+=l.content.str;break}case ws:case Un:{c();let d={insert:l.content.getContent()[0]};if(i.size>0){let f={};d.attributes=f,i.forEach((h,p)=>{f[p]=h})}s.push(d);break}case ct:Ti(l,t)&&(c(),Li(i,l.content));break}l=l.right}c()};return t||r?De(a,d=>{t&&yp(d,t),r&&yp(d,r),u()},"cleanup"):u(),s}insert(t,r,n){if(r.length<=0)return;let s=this.doc;s!==null?De(s,i=>{let a=au(i,this,t,!n);n||(n={},a.currentAttributes.forEach((o,l)=>{n[l]=o})),hp(i,this,a,r,n)}):this._pending.push(()=>this.insert(t,r,n))}insertEmbed(t,r,n){let s=this.doc;s!==null?De(s,i=>{let a=au(i,this,t,!n);hp(i,this,a,r,n||{})}):this._pending.push(()=>this.insertEmbed(t,r,n||{}))}delete(t,r){if(r===0)return;let n=this.doc;n!==null?De(n,s=>{f0(s,au(s,this,t,!0),r)}):this._pending.push(()=>this.delete(t,r))}format(t,r,n){if(r===0)return;let s=this.doc;s!==null?De(s,i=>{let a=au(i,this,t,!1);a.right!==null&&h0(i,this,a,r,n)}):this._pending.push(()=>this.format(t,r,n))}removeAttribute(t){this.doc!==null?De(this.doc,r=>{vu(r,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,r){this.doc!==null?De(this.doc,n=>{Mp(n,this,t,r)}):this._pending.push(()=>this.setAttribute(t,r))}getAttribute(t){return Up(this,t)}getAttributes(){return N0(this)}_write(t){t.writeTypeRef(IA)}},dA=e=>new Bs,eo=class{constructor(t,r=()=>!0){this._filter=r,this._root=t,this._currentNode=t._start,this._firstCall=!0,t.doc??Ct()}[Symbol.iterator](){return this}next(){let t=this._currentNode,r=t&&t.content&&t.content.type;if(t!==null&&(!this._firstCall||t.deleted||!this._filter(r)))do if(r=t.content.type,!t.deleted&&(r.constructor===lo||r.constructor===Mi)&&r._start!==null)t=r._start;else for(;t!==null;){let n=t.next;if(n!==null){t=n;break}else t.parent===this._root?t=null:t=t.parent._item}while(t!==null&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,t===null?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}},Mi=class e extends nt{constructor(){super(),this._prelimContent=[]}get firstChild(){let t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,r){super._integrate(t,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new e}clone(){let t=new e;return t.insert(0,this.toArray().map(r=>r instanceof nt?r.clone():r)),t}get length(){return this.doc??Ct(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new eo(this,t)}querySelector(t){t=t.toUpperCase();let n=new eo(this,s=>s.nodeName&&s.nodeName.toUpperCase()===t).next();return n.done?null:n.value}querySelectorAll(t){return t=t.toUpperCase(),Sr(new eo(this,r=>r.nodeName&&r.nodeName.toUpperCase()===t))}_callObserver(t,r){Su(this,t,new Ep(this,r,t))}toString(){return D0(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,r={},n){let s=t.createDocumentFragment();return n!==void 0&&n._createAssociation(s,this),ao(this,i=>{s.insertBefore(i.toDOM(t,r,n),null)}),s}insert(t,r){this.doc!==null?De(this.doc,n=>{M0(n,this,t,r)}):this._prelimContent.splice(t,0,...r)}insertAfter(t,r){if(this.doc!==null)De(this.doc,n=>{let s=t&&t instanceof nt?t._item:t;yu(n,this,s,r)});else{let n=this._prelimContent,s=t===null?0:n.findIndex(i=>i===t)+1;if(s===0&&t!==null)throw Qr("Reference item not found");n.splice(s,0,...r)}}delete(t,r=1){this.doc!==null?De(this.doc,n=>{U0(n,this,t,r)}):this._prelimContent.splice(t,r)}toArray(){return T0(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return j0(this,t)}slice(t=0,r=this.length){return O0(this,t,r)}forEach(t){ao(this,t)}_write(t){t.writeTypeRef(TA)}},hA=e=>new Mi,lo=class e extends Mi{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){let t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){let t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,r){super._integrate(t,r),this._prelimAttrs.forEach((n,s)=>{this.setAttribute(s,n)}),this._prelimAttrs=null}_copy(){return new e(this.nodeName)}clone(){let t=new e(this.nodeName),r=this.getAttributes();return Ik(r,(n,s)=>{typeof n=="string"&&t.setAttribute(s,n)}),t.insert(0,this.toArray().map(n=>n instanceof nt?n.clone():n)),t}toString(){let t=this.getAttributes(),r=[],n=[];for(let o in t)n.push(o);n.sort();let s=n.length;for(let o=0;o<s;o++){let l=n[o];r.push(l+'="'+t[l]+'"')}let i=this.nodeName.toLocaleLowerCase(),a=r.length>0?" "+r.join(" "):"";return`<${i}${a}>${super.toString()}</${i}>`}removeAttribute(t){this.doc!==null?De(this.doc,r=>{vu(r,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,r){this.doc!==null?De(this.doc,n=>{Mp(n,this,t,r)}):this._prelimAttrs.set(t,r)}getAttribute(t){return Up(this,t)}hasAttribute(t){return L0(this,t)}getAttributes(t){return t?iA(this,t):N0(this)}toDOM(t=document,r={},n){let s=t.createElement(this.nodeName),i=this.getAttributes();for(let a in i){let o=i[a];typeof o=="string"&&s.setAttribute(a,o)}return ao(this,a=>{s.appendChild(a.toDOM(t,r,n))}),n!==void 0&&n._createAssociation(s,this),s}_write(t){t.writeTypeRef(OA),t.writeKey(this.nodeName)}},fA=e=>new lo(e.readKey()),Ep=class extends ji{constructor(t,r,n){super(t,n),this.childListChanged=!1,this.attributesChanged=new Set,r.forEach(s=>{s===null?this.childListChanged=!0:this.attributesChanged.add(s)})}},Cp=class e extends Rr{constructor(t){super(),this.hookName=t}_copy(){return new e(this.hookName)}clone(){let t=new e(this.hookName);return this.forEach((r,n)=>{t.set(n,r)}),t}toDOM(t=document,r={},n){let s=r[this.hookName],i;return s!==void 0?i=s.createDom(this):i=document.createElement(this.hookName),i.setAttribute("data-yjs-hook",this.hookName),n!==void 0&&n._createAssociation(i,this),i}_write(t){t.writeTypeRef(DA),t.writeKey(this.hookName)}},pA=e=>new Cp(e.readKey()),Pp=class e extends Bs{get nextSibling(){let t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){let t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new e}clone(){let t=new e;return t.applyDelta(this.toDelta()),t}toDOM(t=document,r,n){let s=t.createTextNode(this.toString());return n!==void 0&&n._createAssociation(s,this),s}toString(){return this.toDelta().map(t=>{let r=[];for(let s in t.attributes){let i=[];for(let a in t.attributes[s])i.push({key:a,value:t.attributes[s][a]});i.sort((a,o)=>a.key<o.key?-1:1),r.push({nodeName:s,attrs:i})}r.sort((s,i)=>s.nodeName<i.nodeName?-1:1);let n="";for(let s=0;s<r.length;s++){let i=r[s];n+=`<${i.nodeName}`;for(let a=0;a<i.attrs.length;a++){let o=i.attrs[a];n+=` ${o.key}="${o.value}"`}n+=">"}n+=t.insert;for(let s=r.length-1;s>=0;s--)n+=`</${r[s].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(jA)}},mA=e=>new Pp,co=class{constructor(t,r){this.id=t,this.length=r}get deleted(){throw xr()}mergeWith(t){return!1}write(t,r,n){throw xr()}integrate(t,r){throw xr()}},gA=0,Bt=class extends co{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,r){r>0&&(this.id.clock+=r,this.length-=r),x0(t.doc.store,this)}write(t,r){t.writeInfo(gA),t.writeLen(this.length-r)}getMissing(t,r){return null}},uo=class e{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new e(this.content)}splice(t){throw xr()}mergeWith(t){return!1}integrate(t,r){}delete(t){}gc(t){}write(t,r){t.writeBuf(this.content)}getRef(){return 3}},yA=e=>new uo(e.readBuf()),_u=class e{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new e(this.len)}splice(t){let r=new e(this.len-t);return this.len=t,r}mergeWith(t){return this.len+=t.len,!0}integrate(t,r){ro(t.deleteSet,r.id.client,r.id.clock,this.len),r.markDeleted()}delete(t){}gc(t){}write(t,r){t.writeLen(this.len-r)}getRef(){return 1}},vA=e=>new _u(e.readLen()),V0=(e,t)=>new Jt({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1}),ho=class e{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;let r={};this.opts=r,t.gc||(r.gc=!1),t.autoLoad&&(r.autoLoad=!0),t.meta!==null&&(r.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new e(V0(this.doc.guid,this.opts))}splice(t){throw xr()}mergeWith(t){return!1}integrate(t,r){this.doc._item=r,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,r){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}},_A=e=>new ho(V0(e.readString(),e.readAny())),Un=class e{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new e(this.embed)}splice(t){throw xr()}mergeWith(t){return!1}integrate(t,r){}delete(t){}gc(t){}write(t,r){t.writeJSON(this.embed)}getRef(){return 5}},bA=e=>new Un(e.readJSON()),ct=class e{constructor(t,r){this.key=t,this.value=r}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new e(this.key,this.value)}splice(t){throw xr()}mergeWith(t){return!1}integrate(t,r){let n=r.parent;n._searchMarker=null,n._hasFormatting=!0}delete(t){}gc(t){}write(t,r){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}},wA=e=>new ct(e.readKey(),e.readJSON()),Rp=class e{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new e(this.arr)}splice(t){let r=new e(this.arr.slice(t));return this.arr=this.arr.slice(0,t),r}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,r){}delete(t){}gc(t){}write(t,r){let n=this.arr.length;t.writeLen(n-r);for(let s=r;s<n;s++){let i=this.arr[s];t.writeString(i===void 0?"undefined":JSON.stringify(i))}}getRef(){return 2}},kA=e=>{let t=e.readLen(),r=[];for(let n=0;n<t;n++){let s=e.readString();s==="undefined"?r.push(void 0):r.push(JSON.parse(s))}return new Rp(r)},SA=Ga("node_env")==="development",Ui=class e{constructor(t){this.arr=t,SA&&Wf(t)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new e(this.arr)}splice(t){let r=new e(this.arr.slice(t));return this.arr=this.arr.slice(0,t),r}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,r){}delete(t){}gc(t){}write(t,r){let n=this.arr.length;t.writeLen(n-r);for(let s=r;s<n;s++){let i=this.arr[s];t.writeAny(i)}}getRef(){return 8}},xA=e=>{let t=e.readLen(),r=[];for(let n=0;n<t;n++)r.push(e.readAny());return new Ui(r)},bs=class e{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new e(this.str)}splice(t){let r=new e(this.str.slice(t));this.str=this.str.slice(0,t);let n=this.str.charCodeAt(t-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,t-1)+"\uFFFD",r.str="\uFFFD"+r.str.slice(1)),r}mergeWith(t){return this.str+=t.str,!0}integrate(t,r){}delete(t){}gc(t){}write(t,r){t.writeString(r===0?this.str:this.str.slice(r))}getRef(){return 4}},EA=e=>new bs(e.readString()),CA=[aA,oA,dA,fA,hA,pA,mA],PA=0,RA=1,IA=2,OA=3,TA=4,DA=5,jA=6,ws=class e{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new e(this.type._copy())}splice(t){throw xr()}mergeWith(t){return!1}integrate(t,r){this.type._integrate(t.doc,r)}delete(t){let r=this.type._start;for(;r!==null;)r.deleted?r.id.clock<(t.beforeState.get(r.id.client)||0)&&t._mergeStructs.push(r):r.delete(t),r=r.right;this.type._map.forEach(n=>{n.deleted?n.id.clock<(t.beforeState.get(n.id.client)||0)&&t._mergeStructs.push(n):n.delete(t)}),t.changed.delete(this.type)}gc(t){let r=this.type._start;for(;r!==null;)r.gc(t,!0),r=r.right;this.type._start=null,this.type._map.forEach(n=>{for(;n!==null;)n.gc(t,!0),n=n.left}),this.type._map=new Map}write(t,r){this.type._write(t)}getRef(){return 7}},AA=e=>new ws(CA[e.readTypeRef()](e)),MA=(e,t)=>{let r=t,n=0,s;do n>0&&(r=ye(r.client,r.clock+n)),s=ou(e,r),n=r.clock-s.id.clock,r=s.redone;while(r!==null&&s instanceof He);return{item:s,diff:n}},Np=(e,t)=>{for(;e!==null&&e.keep!==t;)e.keep=t,e=e.parent._item},bu=(e,t,r)=>{let{client:n,clock:s}=t.id,i=new He(ye(n,s+r),t,ye(n,s+r-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(r));return t.deleted&&i.markDeleted(),t.keep&&(i.keep=!0),t.redone!==null&&(i.redone=ye(t.redone.client,t.redone.clock+r)),t.right=i,i.right!==null&&(i.right.left=i),e._mergeStructs.push(i),i.parentSub!==null&&i.right===null&&i.parent._map.set(i.parentSub,i),t.length=r,i},p0=(e,t)=>mk(e,r=>fo(r.deletions,t)),B0=(e,t,r,n,s,i)=>{let a=e.doc,o=a.store,l=a.clientID,c=t.redone;if(c!==null)return Vt(e,c);let u=t.parent._item,d=null,f;if(u!==null&&u.deleted===!0){if(u.redone===null&&(!r.has(u)||B0(e,u,r,n,s,i)===null))return null;for(;u.redone!==null;)u=Vt(e,u.redone)}let h=u===null?t.parent:u.content.type;if(t.parentSub===null){for(d=t.left,f=t;d!==null;){let v=d;for(;v!==null&&v.parent._item!==u;)v=v.redone===null?null:Vt(e,v.redone);if(v!==null&&v.parent._item===u){d=v;break}d=d.left}for(;f!==null;){let v=f;for(;v!==null&&v.parent._item!==u;)v=v.redone===null?null:Vt(e,v.redone);if(v!==null&&v.parent._item===u){f=v;break}f=f.right}}else if(f=null,t.right&&!s){for(d=t;d!==null&&d.right!==null&&(d.right.redone||fo(n,d.right.id)||p0(i.undoStack,d.right.id)||p0(i.redoStack,d.right.id));)for(d=d.right;d.redone;)d=Vt(e,d.redone);if(d&&d.right!==null)return null}else d=h._map.get(t.parentSub)||null;let p=lt(o,l),g=ye(l,p),y=new He(g,d,d&&d.lastId,f,f&&f.id,h,t.parentSub,t.content.copy());return t.redone=g,Np(y,!0),y.integrate(e,0),y},He=class e extends co{constructor(t,r,n,s,i,a,o,l){super(t,l.getLength()),this.origin=n,this.left=r,this.right=s,this.rightOrigin=i,this.parent=a,this.parentSub=o,this.redone=null,this.content=l,this.info=this.content.isCountable()?2:0}set marker(t){(this.info&8)>0!==t&&(this.info^=8)}get marker(){return(this.info&8)>0}get keep(){return(this.info&1)>0}set keep(t){this.keep!==t&&(this.info^=1)}get countable(){return(this.info&2)>0}get deleted(){return(this.info&4)>0}set deleted(t){this.deleted!==t&&(this.info^=4)}markDeleted(){this.info|=4}getMissing(t,r){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=lt(r,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=lt(r,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===zs&&this.id.client!==this.parent.client&&this.parent.clock>=lt(r,this.parent.client))return this.parent.client;if(this.origin&&(this.left=i0(t,r,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Vt(t,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Bt||this.right&&this.right.constructor===Bt)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===e?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===e&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===zs){let n=ou(r,this.parent);n.constructor===Bt?this.parent=null:this.parent=n.content.type}return null}integrate(t,r){if(r>0&&(this.id.clock+=r,this.left=i0(t,t.doc.store,ye(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(r),this.length-=r),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let n=this.left,s;if(n!==null)s=n.right;else if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start;let i=new Set,a=new Set;for(;s!==null&&s!==this.right;){if(a.add(s),i.add(s),nu(this.origin,s.origin)){if(s.id.client<this.id.client)n=s,i.clear();else if(nu(this.rightOrigin,s.rightOrigin))break}else if(s.origin!==null&&a.has(ou(t.doc.store,s.origin)))i.has(ou(t.doc.store,s.origin))||(n=s,i.clear());else break;s=s.right}this.left=n}if(this.left!==null){let n=this.left.right;this.right=n,this.left.right=this}else{let n;if(this.parentSub!==null)for(n=this.parent._map.get(this.parentSub)||null;n!==null&&n.left!==null;)n=n.left;else n=this.parent._start,this.parent._start=this;this.right=n}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),x0(t.doc.store,this),this.content.integrate(t,this),o0(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new Bt(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:ye(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&nu(t.origin,this.lastId)&&this.right===t&&nu(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){let r=this.parent._searchMarker;return r&&r.forEach(n=>{n.p===t&&(n.p=this,!this.deleted&&this.countable&&(n.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){let r=this.parent;this.countable&&this.parentSub===null&&(r._length-=this.length),this.markDeleted(),ro(t.deleteSet,this.id.client,this.id.clock,this.length),o0(t,r,this.parentSub),this.content.delete(t)}}gc(t,r){if(!this.deleted)throw Er();this.content.gc(t),r?Hj(t,this,new Bt(this.id,this.length)):this.content=new _u(this.length)}write(t,r){let n=r>0?ye(this.id.client,this.id.clock+r-1):this.origin,s=this.rightOrigin,i=this.parentSub,a=this.content.getRef()&31|(n===null?0:128)|(s===null?0:64)|(i===null?0:32);if(t.writeInfo(a),n!==null&&t.writeLeftID(n),s!==null&&t.writeRightID(s),n===null&&s===null){let o=this.parent;if(o._item!==void 0){let l=o._item;if(l===null){let c=Fj(o);t.writeParentInfo(!0),t.writeString(c)}else t.writeParentInfo(!1),t.writeLeftID(l.id)}else o.constructor===String?(t.writeParentInfo(!0),t.writeString(o)):o.constructor===zs?(t.writeParentInfo(!1),t.writeLeftID(o)):Er();i!==null&&t.writeString(i)}this.content.write(t,r)}},H0=(e,t)=>UA[t&31](e),UA=[()=>{Er()},vA,kA,yA,EA,bA,wA,AA,xA,_A,()=>{Er()}],NA=10,Ht=class extends co{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,r){Er()}write(t,r){t.writeInfo(NA),ie(t.restEncoder,this.length-r)}getMissing(t,r){return null}},J0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},K0="__ $YJS$ __";J0[K0]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");J0[K0]=!0;var Lp=3e4,Hs=class extends eu{constructor(t){super(),this.doc=t,this.clientID=t.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{let r=Xt();this.getLocalState()!==null&&Lp/2<=r-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());let n=[];this.meta.forEach((s,i)=>{i!==this.clientID&&Lp<=r-s.lastUpdated&&this.states.has(i)&&n.push(i)}),n.length>0&&xu(this,n,"timeout")},Ft(Lp/10)),t.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(t){let r=this.clientID,n=this.meta.get(r),s=n===void 0?0:n.clock+1,i=this.states.get(r);t===null?this.states.delete(r):this.states.set(r,t),this.meta.set(r,{clock:s,lastUpdated:Xt()});let a=[],o=[],l=[],c=[];t===null?c.push(r):i==null?t!=null&&a.push(r):(o.push(r),Oi(i,t)||l.push(r)),(a.length>0||l.length>0||c.length>0)&&this.emit("change",[{added:a,updated:l,removed:c},"local"]),this.emit("update",[{added:a,updated:o,removed:c},"local"])}setLocalStateField(t,r){let n=this.getLocalState();n!==null&&this.setLocalState({...n,[t]:r})}getStates(){return this.states}},xu=(e,t,r)=>{let n=[];for(let s=0;s<t.length;s++){let i=t[s];if(e.states.has(i)){if(e.states.delete(i),i===e.clientID){let a=e.meta.get(i);e.meta.set(i,{clock:a.clock+1,lastUpdated:Xt()})}n.push(i)}}n.length>0&&(e.emit("change",[{added:[],updated:[],removed:n},r]),e.emit("update",[{added:[],updated:[],removed:n},r]))},$i=(e,t,r=e.states)=>{let n=t.length,s=at();ie(s,n);for(let i=0;i<n;i++){let a=t[i],o=r.get(a)||null,l=e.meta.get(a).clock;ie(s,a),ie(s,l),ys(s,JSON.stringify(o))}return Ne(s)};var W0=(e,t,r)=>{let n=Pr(t),s=Xt(),i=[],a=[],o=[],l=[],c=ce(n);for(let u=0;u<c;u++){let d=ce(n),f=ce(n),h=JSON.parse(Cr(n)),p=e.meta.get(d),g=e.states.get(d),y=p===void 0?0:p.clock;(y<f||y===f&&h===null&&e.states.has(d))&&(h===null?d===e.clientID&&e.getLocalState()!=null?f++:e.states.delete(d):e.states.set(d,h),e.meta.set(d,{clock:f,lastUpdated:s}),p===void 0&&h!==null?i.push(d):p!==void 0&&h===null?l.push(d):h!==null&&(Oi(h,g)||o.push(d),a.push(d)))}(i.length>0||o.length>0||l.length>0)&&e.emit("change",[{added:i,updated:o,removed:l},r]),(i.length>0||a.length>0||l.length>0)&&e.emit("update",[{added:i,updated:a,removed:l},r])};var po=class{constructor(t){var r;this.onStateChanged=n=>{let s=new Array;n.keysChanged.forEach(i=>{let a=n.changes.keys.get(i);a&&s.push({name:i,oldValue:a.oldValue,newValue:this.ystate.get(i)})}),this._changed.emit({stateChange:s})},this._changed=new Cu.Signal(this),this._isDisposed=!1,this._disposed=new Cu.Signal(this),this._ydoc=(r=t?.ydoc)!==null&&r!==void 0?r:new Jt,this._ystate=this._ydoc.getMap("state"),this._undoManager=new Mn([],{trackedOrigins:new Set([this]),doc:this._ydoc}),this._awareness=new Hs(this._ydoc),this._ystate.observe(this.onStateChanged)}get ydoc(){return this._ydoc}get ystate(){return this._ystate}get undoManager(){return this._undoManager}get awareness(){return this._awareness}get changed(){return this._changed}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}get state(){return Eu.JSONExt.deepCopy(this.ystate.toJSON())}canUndo(){return this.undoManager.undoStack.length>0}canRedo(){return this.undoManager.redoStack.length>0}dispose(){this._isDisposed||(this._isDisposed=!0,this.ystate.unobserve(this.onStateChanged),this.awareness.destroy(),this.undoManager.destroy(),this.ydoc.destroy(),this._disposed.emit(),Cu.Signal.clearData(this))}getState(t){let r=this.ystate.get(t);return typeof r>"u"?r:Eu.JSONExt.deepCopy(r)}setState(t,r){Eu.JSONExt.deepEqual(this.ystate.get(t),r)||this.ystate.set(t,r)}get source(){return this.getSource()}set source(t){this.setSource(t)}undo(){this.undoManager.undo()}redo(){this.undoManager.redo()}clearUndoHistory(){this.undoManager.clear()}transact(t,r=!0,n=null){this.ydoc.transact(t,r?this:n)}};var Js=Ee(Xe(),1),G0=Ee(et(),1);var Ir=Ee(Xe(),1),mo=Ee(et(),1);var qp=(e,t={})=>{switch(e.get("cell_type")){case"code":return new yo(e,e.get("source"),e.get("outputs"),t);case"markdown":return new _o(e,e.get("source"),t);case"raw":return new vo(e,e.get("source"),t);default:throw new Error("Found unknown cell type")}},Ru=(e,t)=>{var r,n;let s=new Rr,i=new Bs,a=new Rr;s.set("source",i),s.set("metadata",a),s.set("cell_type",e.cell_type),s.set("id",(r=e.id)!==null&&r!==void 0?r:Ir.UUID.uuid4());let o;switch(e.cell_type){case"markdown":{o=new _o(s,i,{notebook:t},a),e.attachments!=null&&o.setAttachments(e.attachments);break}case"code":{let l=new Ai;s.set("outputs",l),o=new yo(s,i,l,{notebook:t},a);let c=e;o.execution_count=(n=c.execution_count)!==null&&n!==void 0?n:null,c.outputs&&o.setOutputs(c.outputs);break}default:{o=new vo(s,i,{notebook:t},a),e.attachments&&o.setAttachments(e.attachments);break}}return e.metadata!=null&&o.setMetadata(e.metadata),e.source!=null&&o.setSource(typeof e.source=="string"?e.source:e.source.join("")),o};var go=class{static create(t){return Ru({id:t,cell_type:this.prototype.cell_type})}constructor(t,r,n={},s){if(this._modelObserver=(i,a)=>{a.origin!=="silent-change"&&this._changed.emit(this.getChanges(i))},this._metadataChanged=new mo.Signal(this),this._notebook=null,this._changed=new mo.Signal(this),this._disposed=new mo.Signal(this),this._isDisposed=!1,this._undoManager=null,this.ymodel=t,this._ysource=r,this._ymetadata=s??this.ymodel.get("metadata"),this._prevSourceLength=r?r.length:0,this._notebook=null,this._awareness=null,this._undoManager=null,n.notebook)this._notebook=n.notebook,this._notebook.disableDocumentWideUndoRedo&&(this._undoManager=new Mn([this.ymodel],{trackedOrigins:new Set([this]),doc:this._notebook.ydoc}));else{let i=new Jt;i.getArray().insert(0,[this.ymodel]),this._awareness=new Hs(i),this._undoManager=new Mn([this.ymodel],{trackedOrigins:new Set([this])})}this.ymodel.observeDeep(this._modelObserver)}get awareness(){var t,r,n;return(n=(t=this._awareness)!==null&&t!==void 0?t:(r=this.notebook)===null||r===void 0?void 0:r.awareness)!==null&&n!==void 0?n:null}get cell_type(){throw new Error("A YBaseCell must not be constructed")}get changed(){return this._changed}get disposed(){return this._disposed}get id(){return this.getId()}get isDisposed(){return this._isDisposed}get isStandalone(){return this._notebook!==null}get metadata(){return this.getMetadata()}set metadata(t){this.setMetadata(t)}get metadataChanged(){return this._metadataChanged}get notebook(){return this._notebook}get source(){return this.getSource()}set source(t){this.setSource(t)}get undoManager(){var t;return this.notebook?!((t=this.notebook)===null||t===void 0)&&t.disableDocumentWideUndoRedo?this._undoManager:this.notebook.undoManager:this._undoManager}get ysource(){return this._ysource}canUndo(){return!!this.undoManager&&this.undoManager.undoStack.length>0}canRedo(){return!!this.undoManager&&this.undoManager.redoStack.length>0}clearUndoHistory(){var t;(t=this.undoManager)===null||t===void 0||t.clear()}undo(){var t;(t=this.undoManager)===null||t===void 0||t.undo()}redo(){var t;(t=this.undoManager)===null||t===void 0||t.redo()}dispose(){var t;if(!this._isDisposed){if(this._isDisposed=!0,this.ymodel.unobserveDeep(this._modelObserver),this._awareness){let r=this._awareness.doc;this._awareness.destroy(),r.destroy()}this._undoManager&&(this._undoManager===((t=this.notebook)===null||t===void 0?void 0:t.undoManager)?this._undoManager=null:this._undoManager.destroy()),this._disposed.emit(),mo.Signal.clearData(this)}}getId(){return this.ymodel.get("id")}getSource(){return this.ysource.toString()}setSource(t){this.transact(()=>{this.ysource.delete(0,this.ysource.length),this.ysource.insert(0,t)})}updateSource(t,r,n=""){this.transact(()=>{let s=this.ysource;s.insert(t,n),s.delete(t+n.length,r-t)})}deleteMetadata(t){typeof this.getMetadata(t)>"u"||this.transact(()=>{this._ymetadata.delete(t);let r=this.getMetadata("jupyter");if(t==="collapsed"&&r){let{outputs_hidden:n,...s}=r;Object.keys(s).length===0?this._ymetadata.delete("jupyter"):this._ymetadata.set("jupyter",s)}else t==="jupyter"&&this._ymetadata.delete("collapsed")},!1)}getMetadata(t){let r=this._ymetadata;if(r!==void 0)return typeof t=="string"?typeof r.get(t)>"u"?void 0:Ir.JSONExt.deepCopy(r.get(t)):Ir.JSONExt.deepCopy(r.toJSON())}setMetadata(t,r){var n,s;if(typeof t=="string"){if(typeof r>"u")throw new TypeError(`Metadata value for ${t} cannot be 'undefined'; use deleteMetadata.`);let i=t;if(Ir.JSONExt.deepEqual((n=this.getMetadata(i))!==null&&n!==void 0?n:null,r))return;this.transact(()=>{var a;if(this._ymetadata.set(i,r),i==="collapsed"){let o=(a=this.getMetadata("jupyter"))!==null&&a!==void 0?a:{};o.outputs_hidden!==r&&this.setMetadata("jupyter",{...o,outputs_hidden:r})}else if(i==="jupyter"){let o=r.outputs_hidden;typeof o<"u"?this.getMetadata("collapsed")!==o&&this.setMetadata("collapsed",o):this.deleteMetadata("collapsed")}},!1)}else{let i=Ir.JSONExt.deepCopy(t);i.collapsed!=null?(i.jupyter=i.jupyter||{},i.jupyter.outputs_hidden=i.collapsed):((s=i?.jupyter)===null||s===void 0?void 0:s.outputs_hidden)!=null&&(i.collapsed=i.jupyter.outputs_hidden),Ir.JSONExt.deepEqual(i,this.getMetadata())||this.transact(()=>{for(let[a,o]of Object.entries(i))this._ymetadata.set(a,o)},!1)}}toJSON(){return{id:this.getId(),cell_type:this.cell_type,source:this.getSource(),metadata:this.getMetadata()}}transact(t,r=!0,n=null){!this.notebook||this.notebook.disableDocumentWideUndoRedo?this.ymodel.doc==null?t():this.ymodel.doc.transact(t,r?this:n):this.notebook.transact(t,r)}getChanges(t){let r={},n=t.find(o=>o.target===this.ymodel.get("source"));n&&(r.sourceChange=n.changes.delta);let s=t.find(o=>o.target===this._ymetadata);s&&(r.metadataChange=s.changes.keys,s.changes.keys.forEach((o,l)=>{switch(o.action){case"add":this._metadataChanged.emit({key:l,newValue:this._ymetadata.get(l),type:"add"});break;case"delete":this._metadataChanged.emit({key:l,oldValue:o.oldValue,type:"remove"});break;case"update":{let c=this._ymetadata.get(l),u=o.oldValue,d=!0;typeof u=="object"&&typeof c=="object"?d=Ir.JSONExt.deepEqual(u,c):d=u===c,d||this._metadataChanged.emit({key:l,type:"change",oldValue:u,newValue:c})}break}}));let i=t.find(o=>o.target===this.ymodel),a=this.ymodel.get("source");return i&&i.keysChanged.has("source")&&(r.sourceChange=[{delete:this._prevSourceLength},{insert:a.toString()}]),this._prevSourceLength=a.length,r}},yo=class extends go{static create(t){return super.create(t)}constructor(t,r,n,s={},i){super(t,r,s,i),this._youtputs=n}get cell_type(){return"code"}get execution_count(){return this.ymodel.get("execution_count")||null}set execution_count(t){this.ymodel.get("execution_count")!==t&&this.transact(()=>{this.ymodel.set("execution_count",t)},!1)}get executionState(){var t;return(t=this.ymodel.get("execution_state"))!==null&&t!==void 0?t:"idle"}set executionState(t){this.ymodel.get("execution_state")!==t&&this.transact(()=>{this.ymodel.set("execution_state",t)},!1)}get outputs(){return this.getOutputs()}set outputs(t){this.setOutputs(t)}get youtputs(){return this._youtputs}getOutputs(){return Ir.JSONExt.deepCopy(this._youtputs.toJSON())}createOutputs(t){let r=[];for(let n of Ir.JSONExt.deepCopy(t)){let s;if(n.output_type==="stream"){let{text:o,...l}=n;s=l;let c=new Bs,u=o instanceof Array?o.join():o;c.insert(0,u),s.text=c}else s=n;let i=[];for(let[o,l]of Object.entries(s))i.push([o,l]);let a=new Rr(i);r.push(a)}return r}setOutputs(t){this.transact(()=>{this._youtputs.delete(0,this._youtputs.length);let r=this.createOutputs(t);this._youtputs.insert(0,r)},!1)}removeStreamOutput(t,r,n=null){this.transact(()=>{let i=this._youtputs.get(t).get("text"),a=i.length-r;i.delete(r,a)},!1,n)}appendStreamOutput(t,r,n=null){this.transact(()=>{let i=this._youtputs.get(t).get("text");i.insert(i.length,r)},!1,n)}updateOutputs(t,r,n=[],s=null){let i=r<this._youtputs.length?r-t:this._youtputs.length-t;this.transact(()=>{this._youtputs.delete(t,i);let a=this.createOutputs(n);this._youtputs.insert(t,a)},!1,s)}clearOutputs(t=null){this.transact(()=>{this._youtputs.delete(0,this._youtputs.length)},!1,t)}toJSON(){return{...super.toJSON(),outputs:this.getOutputs(),execution_count:this.execution_count}}getChanges(t){let r=super.getChanges(t),n=t.find(a=>a.path.length===3&&a.path[0]==="outputs"&&a.path[2]==="text");n&&(r.streamOutputChange=n.changes.delta);let s=t.find(a=>a.target===this.ymodel.get("outputs"));s&&(r.outputsChange=s.changes.delta);let i=t.find(a=>a.target===this.ymodel);if(i&&i.keysChanged.has("execution_count")){let a=i.changes.keys.get("execution_count");r.executionCountChange={oldValue:a.oldValue,newValue:this.ymodel.get("execution_count")}}if(i&&i.keysChanged.has("execution_state")){let a=i.changes.keys.get("execution_state");r.executionStateChange={oldValue:a.oldValue,newValue:this.ymodel.get("execution_state")}}return r}},Pu=class extends go{get attachments(){return this.getAttachments()}set attachments(t){this.setAttachments(t)}getAttachments(){return this.ymodel.get("attachments")}setAttachments(t){this.transact(()=>{t==null?this.ymodel.delete("attachments"):this.ymodel.set("attachments",t)},!1)}getChanges(t){let r=super.getChanges(t),n=t.find(s=>s.target===this.ymodel);if(n&&n.keysChanged.has("attachments")){let s=n.changes.keys.get("attachments");r.attachmentsChange={oldValue:s.oldValue,newValue:this.ymodel.get("attachments")}}return r}},vo=class extends Pu{static create(t){return super.create(t)}get cell_type(){return"raw"}toJSON(){return{id:this.getId(),cell_type:"raw",source:this.getSource(),metadata:this.getMetadata(),attachments:this.getAttachments()}}},_o=class extends Pu{static create(t){return super.create(t)}get cell_type(){return"markdown"}toJSON(){return{id:this.getId(),cell_type:"markdown",source:this.getSource(),metadata:this.getMetadata(),attachments:this.getAttachments()}}};var Iu=class e extends po{constructor(t={}){var r;super(),this.version="2.0.0",this.ymeta=this.ydoc.getMap("meta"),this._onMetaChanged=n=>{let s=n.find(a=>a.target===this.ymeta.get("metadata"));if(s){let a=s.changes.keys,o=this.ymeta.get("metadata");s.changes.keys.forEach((l,c)=>{switch(l.action){case"add":this._metadataChanged.emit({key:c,type:"add",newValue:o.get(c)});break;case"delete":this._metadataChanged.emit({key:c,type:"remove",oldValue:l.oldValue});break;case"update":{let u=o.get(c),d=l.oldValue,f=!0;typeof d=="object"&&typeof u=="object"?f=Js.JSONExt.deepEqual(d,u):f=d===u,f||this._metadataChanged.emit({key:c,type:"change",oldValue:d,newValue:u})}break}}),this._changed.emit({metadataChange:a})}let i=n.find(a=>a.target===this.ymeta);if(i){if(i.keysChanged.has("metadata")){let a=i.changes.keys.get("metadata");if(a?.action==="add"&&!a.oldValue){let o=new Map;for(let l of Object.keys(this.metadata))o.set(l,{action:"add",oldValue:void 0}),this._metadataChanged.emit({key:l,type:"add",newValue:this.getMetadata(l)});this._changed.emit({metadataChange:o})}}if(i.keysChanged.has("nbformat")){let a=i.changes.keys.get("nbformat"),o={key:"nbformat",oldValue:a?.oldValue?a.oldValue:void 0,newValue:this.nbformat};this._changed.emit({nbformatChanged:o})}if(i.keysChanged.has("nbformat_minor")){let a=i.changes.keys.get("nbformat_minor"),o={key:"nbformat_minor",oldValue:a?.oldValue?a.oldValue:void 0,newValue:this.nbformat_minor};this._changed.emit({nbformatChanged:o})}}},this._onYCellsChanged=n=>{n.changes.added.forEach(a=>{let o=a.content.type;if(!this._ycellMapping.has(o)){let l=qp(o,{notebook:this});this._ycellMapping.set(o,l)}}),n.changes.deleted.forEach(a=>{let o=a.content.type,l=this._ycellMapping.get(o);l&&(l.dispose(),this._ycellMapping.delete(o))});let s=0,i=[];n.changes.delta.forEach(a=>{if(a.insert!=null){let o=a.insert.map(l=>this._ycellMapping.get(l));i.push({insert:o}),this.cells.splice(s,0,...o),s+=a.insert.length}else a.delete!=null?(i.push(a),this.cells.splice(s,a.delete)):a.retain!=null&&(i.push(a),s+=a.retain)}),this._changed.emit({cellsChange:i})},this._metadataChanged=new G0.Signal(this),this._ycells=this.ydoc.getArray("cells"),this._ycellMapping=new WeakMap,this._disableDocumentWideUndoRedo=(r=t.disableDocumentWideUndoRedo)!==null&&r!==void 0?r:!1,this.cells=this._ycells.toArray().map(n=>(this._ycellMapping.has(n)||this._ycellMapping.set(n,qp(n,{notebook:this})),this._ycellMapping.get(n))),this.undoManager.addToScope(this._ycells),this._ycells.observe(this._onYCellsChanged),this.ymeta.observeDeep(this._onMetaChanged)}static create(t={}){var r,n,s,i,a,o,l,c,u;let d=new e({disableDocumentWideUndoRedo:(r=t.disableDocumentWideUndoRedo)!==null&&r!==void 0?r:!1}),f={cells:(s=(n=t.data)===null||n===void 0?void 0:n.cells)!==null&&s!==void 0?s:[],nbformat:(a=(i=t.data)===null||i===void 0?void 0:i.nbformat)!==null&&a!==void 0?a:4,nbformat_minor:(l=(o=t.data)===null||o===void 0?void 0:o.nbformat_minor)!==null&&l!==void 0?l:5,metadata:(u=(c=t.data)===null||c===void 0?void 0:c.metadata)!==null&&u!==void 0?u:{}};return d.fromJSON(f),d}get disableDocumentWideUndoRedo(){return this._disableDocumentWideUndoRedo}get metadata(){return this.getMetadata()}set metadata(t){this.setMetadata(t)}get metadataChanged(){return this._metadataChanged}get nbformat(){return this.ymeta.get("nbformat")}set nbformat(t){this.transact(()=>{this.ymeta.set("nbformat",t)},!1)}get nbformat_minor(){return this.ymeta.get("nbformat_minor")}set nbformat_minor(t){this.transact(()=>{this.ymeta.set("nbformat_minor",t)},!1)}dispose(){this.isDisposed||(this._ycells.unobserve(this._onYCellsChanged),this.ymeta.unobserveDeep(this._onMetaChanged),super.dispose())}getCell(t){return this.cells[t]}addCell(t){return this.insertCell(this._ycells.length,t)}insertCell(t,r){return this.insertCells(t,[r])[0]}insertCells(t,r){let n=r.map(s=>{let i=Ru(s,this);return this._ycellMapping.set(i.ymodel,i),i});return this.transact(()=>{this._ycells.insert(t,n.map(s=>s.ymodel))}),n}moveCell(t,r){this.moveCells(t,r)}moveCells(t,r,n=1){let s=new Array(n).fill(!0).map((i,a)=>this.getCell(t+a).toJSON());this.transact(()=>{this._ycells.delete(t,n),this._ycells.insert(t>r?r:r-n+1,s.map(i=>Ru(i,this).ymodel))})}deleteCell(t){this.deleteCellRange(t,t+1)}deleteCellRange(t,r){this.transact(()=>{this._ycells.delete(t,r-t)})}deleteMetadata(t){if(typeof this.getMetadata(t)>"u")return;let r=this.metadata;delete r[t],this.setMetadata(r)}getMetadata(t){let r=this.ymeta.get("metadata");if(r!==void 0)if(typeof t=="string"){let n=r.get(t);return typeof n>"u"?void 0:Js.JSONExt.deepCopy(n)}else return Js.JSONExt.deepCopy(r.toJSON())}setMetadata(t,r){var n;if(typeof t=="string"){if(typeof r>"u")throw new TypeError(`Metadata value for ${t} cannot be 'undefined'; use deleteMetadata.`);if(Js.JSONExt.deepEqual((n=this.getMetadata(t))!==null&&n!==void 0?n:null,r))return;let s={};s[t]=r,this.updateMetadata(s)}else if(!this.metadata||!Js.JSONExt.deepEqual(this.metadata,t)){let s=Js.JSONExt.deepCopy(t),i=this.ymeta.get("metadata");if(i===void 0)return;this.transact(()=>{i.clear();for(let[a,o]of Object.entries(s))i.set(a,o)})}}updateMetadata(t){let r=Js.JSONExt.deepCopy(t),n=this.ymeta.get("metadata");n!==void 0&&this.transact(()=>{for(let[s,i]of Object.entries(r))n.set(s,i)})}getSource(){return this.toJSON()}setSource(t){this.fromJSON(t)}fromJSON(t){this.transact(()=>{this.nbformat=t.nbformat,this.nbformat_minor=t.nbformat_minor;let r=t.metadata;if(r.orig_nbformat!==void 0&&delete r.orig_nbformat,this.metadata)this.metadata=r;else{let i=new Rr;for(let[a,o]of Object.entries(r))i.set(a,o);this.ymeta.set("metadata",i)}let n=t.nbformat===4&&t.nbformat_minor>=5,s=t.cells.map(i=>(n||delete i.id,i));this.insertCells(this.cells.length,s),this.deleteCellRange(0,this.cells.length)})}toJSON(){let t=this.nbformat===4&&this.nbformat_minor<=4;return{metadata:this.metadata,nbformat_minor:this.nbformat_minor,nbformat:this.nbformat,cells:this.cells.map(r=>{let n=r.toJSON();return t&&delete n.id,n})}}};var hS=Ee(qe(),1),fS=Ee(Xe(),1);var Z0=new Map,$p=class{constructor(t){this.room=t,this.onmessage=null,this._onChange=r=>r.key===t&&this.onmessage!==null&&this.onmessage({data:Hk(r.newValue||"")}),Nk(this._onChange)}postMessage(t){tu.setItem(this.room,Bk(Vk(t)))}close(){Lk(this._onChange)}},qA=typeof BroadcastChannel>"u"?$p:BroadcastChannel,zp=e=>er(Z0,e,()=>{let t=Yr(),r=new qA(e);return r.onmessage=n=>t.forEach(s=>s(n.data,"broadcastchannel")),{bc:r,subs:t}}),Y0=(e,t)=>(zp(e).subs.add(t),t),Q0=(e,t)=>{let r=zp(e),n=r.subs.delete(t);return n&&r.subs.size===0&&(r.bc.close(),Z0.delete(e)),n},Nn=(e,t,r=null)=>{let n=zp(e);n.bc.postMessage(t),n.subs.forEach(s=>s(t,r))};var X0=0,Ou=1,eS=2,Tu=(e,t)=>{ie(e,X0);let r=k0(t);Be(e,r)},Fp=(e,t,r)=>{ie(e,Ou),Be(e,_0(t,r))},zA=(e,t,r)=>Fp(t,r,ot(e)),tS=(e,t,r)=>{try{v0(t,ot(e),r)}catch(n){console.error("Caught error while handling a Yjs update",n)}},rS=(e,t)=>{ie(e,eS),Be(e,t)},FA=tS,sS=(e,t,r,n)=>{let s=ce(e);switch(s){case X0:zA(e,t,r);break;case Ou:tS(e,r,n);break;case eS:FA(e,r,n);break;default:throw new Error("Unknown message type")}return s};var BA=0;var nS=(e,t,r)=>{switch(ce(e)){case BA:r(t,Cr(e))}};var iS=e=>Ok(e,(t,r)=>`${encodeURIComponent(r)}=${encodeURIComponent(t)}`).join("&");var Ln=0,oS=3,zi=1,KA=2,bo=[];bo[Ln]=(e,t,r,n,s)=>{ie(e,Ln);let i=sS(t,e,r.doc,r);n&&i===Ou&&!r.synced&&(r.synced=!0)};bo[oS]=(e,t,r,n,s)=>{ie(e,zi),Be(e,$i(r.awareness,Array.from(r.awareness.getStates().keys())))};bo[zi]=(e,t,r,n,s)=>{W0(r.awareness,ot(t),r)};bo[KA]=(e,t,r,n,s)=>{nS(t,r.doc,(i,a)=>WA(r,a))};var aS=3e4,WA=(e,t)=>console.warn(`Permission denied to access ${e.url}.
${t}`),lS=(e,t,r)=>{let n=Pr(t),s=at(),i=ce(n),a=e.messageHandlers[i];return a?a(s,n,e,r,i):console.error("Unable to compute message"),s},Bp=(e,t,r)=>{t===e.ws&&(e.emit("connection-close",[r,e]),e.ws=null,t.close(),e.wsconnecting=!1,e.wsconnected?(e.wsconnected=!1,e.synced=!1,xu(e.awareness,Array.from(e.awareness.getStates().keys()).filter(n=>n!==e.doc.clientID),e),e.emit("status",[{status:"disconnected"}])):e.wsUnsuccessfulReconnects++,setTimeout(cS,bi(dk(2,e.wsUnsuccessfulReconnects)*100,e.maxBackoffTime),e))},cS=e=>{if(e.shouldConnect&&e.ws===null){let t=new e._WS(e.url,e.protocols);t.binaryType="arraybuffer",e.ws=t,e.wsconnecting=!0,e.wsconnected=!1,e.synced=!1,t.onmessage=r=>{e.wsLastMessageReceived=Xt();let n=lS(e,new Uint8Array(r.data),!0);Hc(n)>1&&t.send(Ne(n))},t.onerror=r=>{e.emit("connection-error",[r,e])},t.onclose=r=>{Bp(e,t,r)},t.onopen=()=>{e.wsLastMessageReceived=Xt(),e.wsconnecting=!1,e.wsconnected=!0,e.wsUnsuccessfulReconnects=0,e.emit("status",[{status:"connected"}]);let r=at();if(ie(r,Ln),Tu(r,e.doc),t.send(Ne(r)),e.awareness.getLocalState()!==null){let n=at();ie(n,zi),Be(n,$i(e.awareness,[e.doc.clientID])),t.send(Ne(n))}},e.emit("status",[{status:"connecting"}])}},Vp=(e,t)=>{let r=e.ws;e.wsconnected&&r&&r.readyState===r.OPEN&&r.send(t),e.bcconnected&&Nn(e.bcChannel,t,e)},Du=class extends jn{constructor(t,r,n,{connect:s=!0,awareness:i=new Hs(n),params:a={},protocols:o=[],WebSocketPolyfill:l=WebSocket,resyncInterval:c=-1,maxBackoffTime:u=2500,disableBc:d=!1}={}){for(super();t[t.length-1]==="/";)t=t.slice(0,t.length-1);this.serverUrl=t,this.bcChannel=t+"/"+r,this.maxBackoffTime=u,this.params=a,this.protocols=o,this.roomname=r,this.doc=n,this._WS=l,this.awareness=i,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=d,this.wsUnsuccessfulReconnects=0,this.messageHandlers=bo.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=s,this._resyncInterval=0,c>0&&(this._resyncInterval=setInterval(()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN){let f=at();ie(f,Ln),Tu(f,n),this.ws.send(Ne(f))}},c)),this._bcSubscriber=(f,h)=>{if(h!==this){let p=lS(this,new Uint8Array(f),!1);Hc(p)>1&&Nn(this.bcChannel,Ne(p),this)}},this._updateHandler=(f,h)=>{if(h!==this){let p=at();ie(p,Ln),rS(p,f),Vp(this,Ne(p))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:f,updated:h,removed:p},g)=>{let y=f.concat(h).concat(p),v=at();ie(v,zi),Be(v,$i(i,y)),Vp(this,Ne(v))},this._exitHandler=()=>{xu(this.awareness,[n.clientID],"app closed")},vs&&typeof process<"u"&&process.on("exit",this._exitHandler),i.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&aS<Xt()-this.wsLastMessageReceived&&Bp(this,this.ws,null)},aS/10),s&&this.connect()}get url(){let t=iS(this.params);return this.serverUrl+"/"+this.roomname+(t.length===0?"":"?"+t)}get synced(){return this._synced}set synced(t){this._synced!==t&&(this._synced=t,this.emit("synced",[t]),this.emit("sync",[t]))}destroy(){this._resyncInterval!==0&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),vs&&typeof process<"u"&&process.off("exit",this._exitHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){if(this.disableBc)return;this.bcconnected||(Y0(this.bcChannel,this._bcSubscriber),this.bcconnected=!0);let t=at();ie(t,Ln),Tu(t,this.doc),Nn(this.bcChannel,Ne(t),this);let r=at();ie(r,Ln),Fp(r,this.doc),Nn(this.bcChannel,Ne(r),this);let n=at();ie(n,oS),Nn(this.bcChannel,Ne(n),this);let s=at();ie(s,zi),Be(s,$i(this.awareness,[this.doc.clientID])),Nn(this.bcChannel,Ne(s),this)}disconnectBc(){let t=at();ie(t,zi),Be(t,$i(this.awareness,[this.doc.clientID],new Map)),Vp(this,Ne(t)),this.bcconnected&&(Q0(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),this.ws!==null&&Bp(this,this.ws,null)}connect(){this.shouldConnect=!0,!this.wsconnected&&this.ws===null&&(cS(this),this.connectBc())}};var GA=Ee(dh(),1),ZA=Ee(Ul(),1),YA=Ee(Ll(),1),uS=Ee(ha(),1),QA=Ee(fh(),1);var dS=uS.default;var Hp=class extends dS{constructor(t,r){let n=xt.getCookieHeader();super(t,{...r,headers:{Cookie:n}})}},ju=class extends Du{constructor(t,r,n,s={}){super(t,r,n,{...s,WebSocketPolyfill:Hp})}};var Fi=class{_session;baseUrl;token;ydoc;provider;connected;synced;_connectionPromise;constructor(t,r,n,s){this._session=t,this.baseUrl=r,this.token=n,this.ydoc=s||new Jt,this.provider=null,this.connected=!1,this.synced=!1,this._connectionPromise=null}get session(){return this._session}getDocument(){return this.ydoc}isConnected(){return this.connected}isSynced(){return this.synced}async connect(){if(this.connected&&this.synced)return;if(this._connectionPromise)return this._connectionPromise.promise;let t=this._connectionPromise=new fS.PromiseDelegate;t.promise.catch(n=>{G.error(`Unhandled connection promise rejection for document ${this._session.fileId}:`,n)});let r=hS.URLExt.join(this.baseUrl.replace(/^http/,"ws"),"api/collaboration/room",`${this._session.format}:${this._session.type}:${this._session.fileId}`);return this.provider=new ju(r,`${this._session.format}:${this._session.type}:${this._session.fileId}`,this.ydoc,{connect:!1,params:{sessionId:this._session.sessionId}}),this.provider.on("status",n=>{n.status==="connected"&&(this.connected=!0)}),this.provider.on("sync",this._onSync),this.provider.on("connection-close",this._onConnectionClosed),this.provider.on("connection-error",n=>{G.error(`WebSocket error for document ${this._session.fileId}`,n),G.debug(`Connection status: ${this.connected}, Connection promise exists: ${!!t}`),!this.connected&&t?(G.debug(`Rejecting connection promise for document ${this._session.fileId}`),t.reject(n)):this.connected&&(G.debug(`WebSocket error occurred after connection was established for document ${this._session.fileId}`),this.connected=!1,this.synced=!1)}),this.provider.connect(),t.promise}async disconnect(){this.provider&&(this.provider.destroy(),this.provider=null),this.connected=!1,this.synced=!1,G.debug(`Disconnected from document: ${this._session.fileId}`)}async reconnect(){G.debug(`Reconnecting to document: ${this._session.fileId}`),this.provider&&(this.provider.off("sync",this._onSync),this.provider.off("connection-close",this._onConnectionClosed),this.provider.destroy(),this.provider=null),this.connected=!1,this.synced=!1,await this.connect()}async ensureSynchronized(){if(this.synced){G.debug("Document already synchronized");return}if(!this.connected)throw new Error("Document session is not connected to the WebSocket server.");if(this.provider&&!this.synced)return G.debug("Waiting for document synchronization..."),new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error("Document synchronization timed out after 30 seconds."))},3e4),s=i=>{i&&(clearTimeout(n),this.provider?.off("sync",s),G.debug("Document synchronized successfully"),t())};this.provider?.on("sync",s)});throw new Error("Document session is not connected to the WebSocket server.")}_onSync=t=>{this.synced=t,t&&this.connected&&(this.ydoc.getMap("state").set("document_id",this.provider.roomname),this._connectionPromise&&(this._connectionPromise.resolve(),this._connectionPromise=null))};_onConnectionClosed=t=>{this.connected=!1,this.synced=!1,G.error(`Disconnected from document: ${this._session.fileId}`,t),G.debug(`Connection closed event details: ${JSON.stringify(t)}`),G.debug(`Connection promise exists: ${!!this._connectionPromise}`),this._connectionPromise&&(G.debug("Rejecting connection promise due to connection close"),this._connectionPromise.reject(new Error(`Connection closed: ${t&&typeof t=="object"&&"reason"in t?t.reason:"Unknown reason"}`)),this._connectionPromise=null)}};var Au=class extends Fi{yNotebook;kernelManager;kernelConn;constructor(t,r,n,s){let i=new Iu;super(t,n,s,i.ydoc),this.yNotebook=i,this.kernelManager=r,this.kernelConn=null}async disconnect(){let t=this.kernelConn;t&&(t.dispose(),this.kernelConn=null),await super.disconnect()}async reconnect(){let t=this.kernelConn;t&&(t.dispose(),this.kernelConn=null),await super.reconnect()}getDocument(){return this.yNotebook.ydoc}getYNotebook(){return this.yNotebook}async ensureSynchronized(){return G.debug("Waiting for notebook synchronization..."),super.ensureSynchronized()}async ensureKernelConnection(t){let r=await this.getKernelConnection(t);if(!r)throw new Error(`No connection with <${t||"default"}> kernel established for notebook ${this._session.fileId}, try assign/restart with some proper kernel and retry!`);return r}async getKernelConnection(t){let r=this.kernelConn;return r&&!r.isDisposed&&(!t||r.name===t)?r:(r&&(r.dispose(),this.kernelConn=null),this.kernelConn=await this._connectKernel(t),this.kernelConn)}async _connectKernel(t){try{let{ServerConnection:r}=await Promise.resolve().then(()=>Ee(wt(),1)),{URLExt:n}=await Promise.resolve().then(()=>Ee(qe(),1)),s=r.makeSettings({baseUrl:this.baseUrl}),i=n.join(s.baseUrl,"api/sessions",this._session.sessionId),a={method:"GET"};this.token&&(a.headers={...a.headers,Authorization:`token ${this.token}`}),xt.hasCookies()&&(a.headers={...a.headers,Cookie:xt.getCookieHeader()});let o=!1;try{let p=await r.makeRequest(i,a,s);o=p.ok,xt.parseResponseHeaders(p.headers)}catch(p){G.debug(`Session check failed: ${p instanceof Error?p.message:String(p)}`)}let l=t?{name:t}:{},c=o?i:n.join(s.baseUrl,"api/sessions"),u={method:o?"PATCH":"POST",body:JSON.stringify({kernel:l,...o?{}:{path:`/notebooks/${this._session.fileId}`,name:`Notebook ${this._session.fileId}`,type:"notebook"}})};this.token&&(u.headers={...u.headers,Authorization:`token ${this.token}`}),xt.hasCookies()&&(u.headers={...u.headers,Cookie:xt.getCookieHeader()});let d;d=await r.makeRequest(c,u,s),xt.parseResponseHeaders(d.headers);let f=await d.text(),h=null;if(f.length>0)try{h=JSON.parse(f)}catch(p){return G.error("Not a JSON response body.",p),null}if(!d.ok)return G.error(`Server returned ${d.status}: ${h&&typeof h=="object"&&"message"in h?h.message:f}`),null;if(h&&typeof h=="object"&&"kernel"in h&&h.kernel){let p=h.kernel;return this.kernelManager.connectTo({model:p})}return null}catch(r){return G.error("Error requesting kernel session:",r),null}}async restartKernel(t,r=!1,n=!1){let s=this.kernelConn;if(s){t||(t=s.name);try{await s.restart(),G.debug(`Kernel <${s.name}> (${s.id}) restarted successfully`)}catch(a){G.error(`Failed to restart kernel <${s.name}> (${s.id}):`,a),s.dispose(),this.kernelConn=null}}if(r){await this.ensureSynchronized();for(let a of this.yNotebook.cells)a.cell_type==="code"&&a.setOutputs([])}let i=await this.getKernelConnection(t);if(n!==!1&&i)for(let a of this.getYNotebook().cells)a.cell_type==="code"&&await Vi(a,i)}};var Mu=class extends Fi{yText;constructor(t,r,n){let s=new Jt;super(t,r,n,s),this.yText=s.getText("content")}getYText(){return this.yText}getContent(){return this.yText.toString()}setContent(t){this.ydoc.transact(()=>{this.yText.delete(0,this.yText.length),this.yText.insert(0,t)})}insertText(t,r){this.ydoc.transact(()=>{this.yText.insert(t,r)})}deleteText(t,r){this.ydoc.transact(()=>{this.yText.delete(t,r)})}replaceText(t,r,n){this.ydoc.transact(()=>{this.yText.delete(t,r),this.yText.insert(t,n)})}getLength(){return this.yText.length}};var Uu=class{_baseUrl;_token;_kernelManager;sessionTimeout;sessionTimeoutTimers;documentSessions;notebookSessions;constructor(t,r,n){this.sessionTimeout=t||300*1e3,this.sessionTimeoutTimers=new Map,this._baseUrl=r||process.env.JUPYTERLAB_URL||"http://localhost:8888",this._token=n||process.env.JUPYTERLAB_TOKEN;let s=Bi.ServerConnection.makeSettings({baseUrl:this.baseUrl,token:this.token});this._kernelManager=new Bi.KernelManager({serverSettings:s}),this.documentSessions=new Map,this.notebookSessions=new Map}get baseUrl(){return this._baseUrl}get token(){return this._token}get kernelManager(){return this._kernelManager}getDocumentSession(t){return this.documentSessions.get(t)}getNotebookSession(t){return this.notebookSessions.get(t)}async closeDocumentSession(t){let r=this.documentSessions.get(t);r&&(this.clearSessionTimeout(t),await r.disconnect(),this.documentSessions.delete(t))}async closeNotebookSession(t){let r=this.notebookSessions.get(t);r&&(this.clearSessionTimeout(t),await r.disconnect(),this.notebookSessions.delete(t))}async closeAllDocumentSessions(){for(let r of this.documentSessions.keys())this.clearSessionTimeout(r);let t=Array.from(this.documentSessions.values()).map(r=>r.disconnect());await Promise.all(t),this.documentSessions.clear()}async closeAllNotebookSessions(){for(let r of this.notebookSessions.keys())this.clearSessionTimeout(r);let t=Array.from(this.notebookSessions.values()).map(r=>r.disconnect());await Promise.all(t),this.notebookSessions.clear()}async createDocumentSession(t){try{let r=await this.requestDocSession(t,"file");if(this.documentSessions.has(r.fileId)){let s=this.documentSessions.get(r.fileId);return s.isConnected()||await s.connect(),s}let n=new Mu(r,this.baseUrl,this.token);return this.documentSessions.set(r.fileId,n),await n.connect(),this.setupSessionTimeout(r.fileId),n}catch(r){throw G.error(`Error in createDocumentSession for path ${t}`,r),r}}async createNotebookSession(t){try{let r=await this.requestDocSession(t,"notebook");if(this.notebookSessions.has(r.fileId)){let s=this.notebookSessions.get(r.fileId);return s.isConnected()||await s.connect(),s}let n=new Au(r,this._kernelManager,this.baseUrl,this.token);return n.originalPath=t,this.notebookSessions.set(r.fileId,n),await n.connect(),this.setupSessionTimeout(r.fileId),n}catch(r){throw G.error(`Error in createNotebookSession for path ${t}`,r),r}}async endDocumentSession(t){let r=null,n=null;for(let[s,i]of this.documentSessions){let a=i.session;if(a.fileId===t.path||a.fileId.endsWith(t.path)){r=i,n=s;break}}return r?(this.clearSessionTimeout(n),await r.disconnect(),this.documentSessions.delete(n),{content:[{type:"text",text:JSON.stringify({path:t.path,status:"disconnected",message:"RTC session ended successfully"},null,2)}]}):{content:[{type:"text",text:JSON.stringify({path:t.path,status:"not_found",message:"No active RTC session found for this document"},null,2)}]}}async endNotebookSession(t){let r=null,n=null;for(let[s,i]of this.notebookSessions){let a=i.session;if(a.fileId===t.path||a.fileId.endsWith(t.path)){r=i,n=s;break}}return r?(this.clearSessionTimeout(n),await r.disconnect(),this.notebookSessions.delete(n),{content:[{type:"text",text:JSON.stringify({path:t.path,status:"disconnected",message:"RTC session ended successfully"},null,2)}]}):{content:[{type:"text",text:JSON.stringify({path:t.path,status:"not_found",message:"No active RTC session found for this notebook"},null,2)}]}}async queryDocumentSession(t){let r=null;for(let[,n]of this.documentSessions){let s=n.session;if(s.fileId===t.path||s.fileId.endsWith(t.path)){r=n;break}}if(r){let n=r.session;return{content:[{type:"text",text:JSON.stringify({path:t.path,session_id:n.sessionId,file_id:n.fileId,connected:r.isConnected(),synced:r.isSynced(),message:"RTC session found"},null,2)}]}}else return{content:[{type:"text",text:JSON.stringify({path:t.path,status:"not_found",message:"No active RTC session found"},null,2)}]}}async queryNotebookSession(t){let r=null;for(let[,n]of this.notebookSessions){let s=n.session;if(s.fileId===t.path||s.fileId.endsWith(t.path)){r=n;break}}if(r){let n=r.session;return{content:[{type:"text",text:JSON.stringify({path:t.path,session_id:n.sessionId,file_id:n.fileId,connected:r.isConnected(),synced:r.isSynced(),message:"RTC session found"},null,2)}]}}else return{content:[{type:"text",text:JSON.stringify({path:t.path,status:"not_found",message:"No active RTC session found"},null,2)}]}}async queryNotebookSessions(t){let{ServerConnection:r}=await Promise.resolve().then(()=>Ee(wt(),1)),{URLExt:n}=await Promise.resolve().then(()=>Ee(qe(),1)),s=r.makeSettings({baseUrl:this.baseUrl}),i=t.root_path||"",a=n.join(s.baseUrl,"/api/contents",i),o={method:"GET"};this.token&&(o.headers={...o.headers,Authorization:`token ${this.token}`}),xt.hasCookies()&&(o.headers={...o.headers,Cookie:xt.getCookieHeader()});let l;l=await r.makeRequest(a,o,s),xt.parseResponseHeaders(l.headers);let c=await l.text(),u=null;if(c.length>0)try{u=JSON.parse(c)}catch{G.error("Not a JSON response body.",l)}if(!l.ok)throw new Error(`Server returned ${l.status}: ${u&&typeof u=="object"&&"message"in u?u.message:c}`);let d=this._extractNotebooks(u),f=[],h=0;for(let p of d){let g=null;for(let[,y]of this.notebookSessions){let v=y.session;if(v.fileId===p.path||v.fileId.endsWith(p.path)){g=y;break}}if(g){let y=g.session;g.isConnected()&&h++,f.push({path:p.path,session_id:y.sessionId,file_id:y.fileId,connected:g.isConnected(),synced:g.isSynced(),message:g.isConnected()?"RTC session is active":"RTC session ended"})}else f.push({path:p.path,session_id:"",file_id:"",status:"not_found",cell_count:0,last_activity:null,message:"No active RTC session found for this notebook"})}return{content:[{type:"text",text:JSON.stringify({root_path:i,sessions:f,total_sessions:f.length,active_sessions:h},null,2)}]}}async requestDocSession(t,r){let n=Bi.ServerConnection.makeSettings({baseUrl:this.baseUrl}),s=mS.URLExt.join(n.baseUrl,"api/collaboration/session",encodeURIComponent(t)),i={method:"PUT",body:JSON.stringify({format:"json",type:r})};this.token&&(i.headers={...i.headers,Authorization:`token ${this.token}`}),xt.hasCookies()&&(i.headers={...i.headers,Cookie:xt.getCookieHeader()});let a;a=await Bi.ServerConnection.makeRequest(s,i,n),xt.parseResponseHeaders(a.headers);let o=await a.text(),l=null;if(o.length>0)try{l=JSON.parse(o)}catch{G.error("Not a JSON response body.",a)}if(!a.ok)throw new Error(`Server returned ${a.status}: ${l&&typeof l=="object"&&"message"in l?l.message:o}`);return l}_extractNotebooks(t){let r=[];if(t.type==="directory"){if(t.content)for(let n of t.content){let s=n;s.type==="directory"?r.push(...this._extractNotebooks(s)):s.type==="notebook"&&r.push({path:s.path||"",name:s.name||"",last_modified:s.last_modified,created:s.created,size:s.size,writable:s.writable})}}else t.type==="notebook"&&r.push({path:t.path,name:t.name,last_modified:t.last_modified,created:t.created,size:t.size,writable:t.writable});return r}setupSessionTimeout(t){this.clearSessionTimeout(t);let r=setTimeout(async()=>{G.info(`Session timeout reached for notebook ${t}, closing session...`),await this.closeNotebookSession(t)},this.sessionTimeout);this.sessionTimeoutTimers.set(t,r)}clearSessionTimeout(t){let r=this.sessionTimeoutTimers.get(t);r&&(clearTimeout(r),this.sessionTimeoutTimers.delete(t))}updateSessionActivity(t){this.notebookSessions.has(t)&&this.setupSessionTimeout(t)}};async function Vi(e,t,r=2e3){G.debug(`Executing cell with source: ${e.source}`),e.setOutputs([]),e.executionState="running";try{let n=t.requestExecute({code:e.source,silent:!1}),s=[];n.onIOPub=l=>{switch(G.debug(`Received IOPub message: ${l.header.msg_type}`),l.header.msg_type){case"execute_result":{let c=l.content;s.push({output_type:"execute_result",execution_count:c.execution_count,data:c.data,metadata:c.metadata||{}});break}case"stream":{let c=l.content;s.push({output_type:"stream",name:c.name,text:c.text});break}case"display_data":{let c=l.content;s.push({output_type:"display_data",data:c.data,metadata:c.metadata||{}});break}case"error":{let c=l.content;s.push({output_type:"error",ename:c.ename,evalue:c.evalue,traceback:c.traceback});break}case"execute_input":{let c=l.content;e.execution_count=c.execution_count;break}case"status":break;default:G.debug(`Unhandled IOPub message type: ${l.header.msg_type}`)}e.setOutputs([...s])},await n.done,G.debug("Cell execution completed successfully");let{outputs:i,truncated:a,originalSize:o}=pS(s,r);return{outputs:i,truncated:a,originalSize:o}}catch(n){G.error("Error executing cell:",n);let s={output_type:"error",ename:"ExecutionError",evalue:n instanceof Error?n.message:String(n),traceback:n instanceof Error?[n.stack||""]:[String(n)]};e.setOutputs([s]);let{outputs:i,truncated:a,originalSize:o}=pS([s],r);return{outputs:i,truncated:a,originalSize:o}}finally{e.executionState="idle"}}function pS(e,t){let r=[],n=!1,s=0;for(let i of e)if(i.output_type==="execute_result"||i.output_type==="display_data"){let a={output_type:i.output_type,execution_count:i.execution_count,data:{},metadata:i.metadata||{}},o=i.data||{};for(let[l,c]of Object.entries(o))typeof c=="string"?(s+=c.length,c.length>t?(a.data[l]=c.substring(0,t)+"... [truncated]",n=!0):a.data[l]=c):a.data[l]=c;r.push(a)}else if(i.output_type==="error"){let a={output_type:"error",ename:i.ename,evalue:i.evalue,traceback:i.traceback};if(typeof a.evalue=="string"&&a.evalue.length>t&&(s+=a.evalue.length,a.evalue=a.evalue.substring(0,t)+"... [truncated]",n=!0),a.traceback&&Array.isArray(a.traceback)){let o=[];for(let l of a.traceback)typeof l=="string"&&l.length>t?(s+=l.length,o.push(l.substring(0,t)+"... [truncated]"),n=!0):typeof l=="string"&&(s+=l.length,o.push(l));a.traceback=o}r.push(a)}else if(i.output_type==="stream"){let a={output_type:"stream",name:i.name,text:i.text};typeof a.text=="string"&&a.text.length>t&&(s+=a.text.length,a.text=a.text.substring(0,t)+"... [truncated]",n=!0),r.push(a)}else r.push(i);return{outputs:r,truncated:n,originalSize:n?s:void 0}}var Nu=class{jupyterAdapter;constructor(t){this.jupyterAdapter=t}async listNotebooks(t){try{let{ServerConnection:r}=await Promise.resolve().then(()=>Ee(wt(),1)),{URLExt:n}=await Promise.resolve().then(()=>Ee(qe(),1)),s=r.makeSettings({baseUrl:this.jupyterAdapter.baseUrl}),a=t||""||"/",o=n.join(s.baseUrl,"/api/contents",a),l={method:"GET"},c=this.jupyterAdapter.token;c&&(l.headers={...l.headers,Authorization:`token ${c}`});let u;try{u=await r.makeRequest(o,l,s)}catch(p){throw G.error("Network error in listNotebooks:",p),new Error(`Network error: ${p instanceof Error?p.message:String(p)}`)}let d=await u.text(),f=null;if(d.length>0)try{f=JSON.parse(d)}catch(p){G.error("Not a JSON response body in listNotebooks:",p),G.error("Response:",u)}if(!u.ok)throw new Error(`Server returned ${u.status}: ${f?.message||d}`);if(!f)throw new Error("Failed to parse response data");let h=this._extractNotebooksWithRTC(f);return{content:[{type:"text",text:JSON.stringify({notebooks:h},null,2)}]}}catch(r){throw G.error("Failed to list notebooks:",r),new Error(`Failed to list notebooks: ${r instanceof Error?r.message:String(r)}`)}}_shouldSkipDirectory(t){return[".ipynb_checkpoints","__pycache__",".git",".vscode",".idea","node_modules"].includes(t)}_extractNotebooksWithRTC(t){let r=[];if(t.type==="directory"){if(t.content){for(let n of t.content)if(n.type==="directory")this._shouldSkipDirectory(n.name)||r.push(...this._extractNotebooksWithRTC(n));else if(n.type==="notebook"){let i=`${this.jupyterAdapter.baseUrl}/notebooks/${n.path}`,a=this._getNotebookRTCSession(n.path);r.push({path:n.path,name:n.name,last_modified:n.last_modified,created:n.created,size:n.size,writable:n.writable,url:i,rtc_session:a})}}}else if(t.type==="notebook"){let s=`${this.jupyterAdapter.baseUrl}/notebooks/${t.path}`,i=this._getNotebookRTCSession(t.path);r.push({path:t.path,name:t.name,last_modified:t.last_modified,created:t.created,size:t.size,writable:t.writable,url:s,rtc_session:i})}return r}_getNotebookRTCSession(t){let r=this.jupyterAdapter.getNotebookSession(t);if(r){let n=r.session;return{session_id:n.sessionId,file_id:n.fileId,connected:r.isConnected(),synced:r.isSynced()}}}_getCollaborators(t){return[]}async getNotebookStatus(t){try{let r=await this.jupyterAdapter.createNotebookSession(t);await r.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(r.session.fileId);let n=r.getYNotebook().toJSON(),{ServerConnection:s}=await Promise.resolve().then(()=>Ee(wt(),1)),{URLExt:i}=await Promise.resolve().then(()=>Ee(qe(),1)),a=s.makeSettings({baseUrl:this.jupyterAdapter.baseUrl}),o=i.join(a.baseUrl,"/api/contents",t),l={method:"GET"},c=this.jupyterAdapter.token;c&&(l.headers={...l.headers,Authorization:`token ${c}`});let u;try{u=await s.makeRequest(o,l,a)}catch(g){throw G.error("Network error in getNotebookStatus:",g),new Error(`Network error: ${g instanceof Error?g.message:String(g)}`)}let d=await u.text(),f=null;if(d.length>0)try{f=JSON.parse(d)}catch(g){G.error("Not a JSON response body in getNotebookStatus:",g),G.error("Response:",u)}if(!u.ok)throw new Error(`Server returned ${u.status}: ${f?.message||d}`);let h={path:t,cell_count:n.cells.length,last_modified:f.last_modified},p=await r.getKernelConnection();return p&&(h.kernel={id:p.id,name:p.name}),{content:[{type:"text",text:JSON.stringify(h,null,2)}]}}catch(r){throw G.error("Failed to get notebook status:",r),new Error(`Failed to get notebook status: ${r instanceof Error?r.message:String(r)}`)}}_truncateText(t,r){return t.length<=r?{text:t,truncated:!1}:{text:t.substring(0,r)+"... [truncated]",truncated:!0}}_processCellOutputs(t,r){let n=[],s=[];for(let i of t){let a=i;if(a.output_type==="execute_result"||a.output_type==="display_data"){let o={data:{},metadata:a.metadata||{},execution_count:a.execution_count};for(let[l,c]of Object.entries(a.data||{}))if(typeof c=="string"){let u=this._truncateText(c,r);o.data[l]=u.text,u.truncated?s.push(!0):s.push(!1)}else o.data[l]=c,s.push(!1);n.push(o)}else if(a.output_type==="error"){let o={name:a.ename||"Error",value:a.evalue||"",traceback:a.traceback||[]},l=this._truncateText(o.value,r);o.value=l.text,l.truncated?s.push(!0):s.push(!1);let c=[],u=!1;for(let d of o.traceback){let f=this._truncateText(d,r);c.push(f.text),f.truncated&&(u=!0)}o.traceback=c,u&&s.push(!0),n.push(o)}else if(a.output_type==="stream"){let o={data:{"text/plain":a.text||""},metadata:{}},l=this._truncateText(String(o.data["text/plain"]),r);o.data["text/plain"]=l.text,s.push(l.truncated),n.push(o)}else s.push(!1)}return{outputs:n,truncated:s}}async readNotebookCells(t,r,n=2048){try{let s=await this.jupyterAdapter.createNotebookSession(t);await s.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(s.session.fileId);let i=s.getYNotebook().toJSON(),a=r||[{start:0,end:i.cells.length}],o=[],l=!1;for(let u of a){let d=Math.max(0,u.start),f=Math.min(i.cells.length,u.end||i.cells.length);for(let h=d;h<f;h++){let p=i.cells[h],g=this._truncateText(Array.isArray(p.source)?p.source.join(""):p.source||"",n),y={index:h,id:String(p.id||`cell-${h}`),cell_type:p.cell_type,source:g.text,metadata:p.metadata||{}};if(g.truncated?(y.truncated={source:!0},l=!0):y.truncated={source:!1},p.cell_type==="code"&&(p.execution_count!==null&&p.execution_count!==void 0&&(y.execution_count=Number(p.execution_count)),p.outputs&&Array.isArray(p.outputs)&&p.outputs.length>0)){let{outputs:v,truncated:P}=this._processCellOutputs(p.outputs,n);y.outputs=v,y.truncated?y.truncated.outputs=P:y.truncated={source:!1,outputs:P},P.some(E=>E)&&(l=!0)}o.push(y)}}return{content:[{type:"text",text:JSON.stringify({path:t,cells:o,truncated:l,max_cell_data:n},null,2)}]}}catch(s){throw G.error("Failed to read notebook cells:",s),new Error(`Failed to read notebook cells: ${s instanceof Error?s.message:String(s)}`)}}async modifyNotebookCells(t,r,n,s=2e3){try{let i=await this.jupyterAdapter.createNotebookSession(t);await i.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(i.session.fileId);let a=i.getYNotebook(),o=[];a.transact(()=>{for(let c of r){let u=Math.max(0,c.range.start),d=Math.min(a.cells.length,c.range.end||a.cells.length);for(let f=u;f<d;f++){let h=a.getCell(f);h.setSource(c.content),h.cell_type==="code"&&o.push(h)}}});let l=[];if(n!==!1){let c=await i.ensureKernelConnection();for(let u of o){let d=await Vi(u,c,s);l.push({outputs:d.outputs,truncated:d.truncated,original_size:d.originalSize})}}return{content:[{type:"text",text:JSON.stringify({message:`Successfully modified ${r.length} cell ranges${n!==!1?" and executed cells":""}`,modified_ranges:r.length,executed:n!==!1,execution_results:n!==!1?l:void 0},null,2)}]}}catch(i){throw G.error("Failed to modify notebook cells:",i),new Error(`Failed to modify notebook cells: ${i instanceof Error?i.message:String(i)}`)}}async createNotebook(t){try{let{ServerConnection:r}=await Promise.resolve().then(()=>Ee(wt(),1)),{URLExt:n}=await Promise.resolve().then(()=>Ee(qe(),1)),s=r.makeSettings({baseUrl:this.jupyterAdapter.baseUrl}),i=n.join(s.baseUrl,"/api/contents",t);if(!t.toLowerCase().endsWith(".ipynb"))throw new Error("Notebook file path must end with .ipynb extension");let o={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"notebook",content:{cells:[],metadata:{},nbformat:4,nbformat_minor:5},format:"json"})},l=this.jupyterAdapter.token;l&&(o.headers={...o.headers,Authorization:`token ${l}`});let c=await r.makeRequest(i,o,s);if(!c.ok){let u="";try{u=` - Response body: ${await c.text()}`}catch{u=" - Could not read response body"}throw new Error(`Server returned ${c.status}: ${c.statusText}${u}`)}return{content:[{type:"text",text:`Successfully created empty notebook at ${t}`}]}}catch(r){throw G.error("Failed to create notebook:",r),new Error(`Failed to create notebook: ${r instanceof Error?r.message:String(r)}`)}}async insertNotebookCells(t,r,n,s,i=2e3){try{let a=n.map(d=>({cell_type:d.type||"code",source:d.content})),o=await this.jupyterAdapter.createNotebookSession(t);await o.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(o.session.fileId);let l=o.getYNotebook(),c=[];l.transact(()=>{l.insertCells(r,a);for(let d=0;d<a.length;d++){let f=r+d,h=l.cells[f];h&&h.cell_type==="code"&&c.push(h)}});let u=[];if(s!==!1){let d=await o.ensureKernelConnection();for(let f of c){let h=await Vi(f,d,i);u.push({outputs:h.outputs,truncated:h.truncated,original_size:h.originalSize})}}return{content:[{type:"text",text:JSON.stringify({message:"Successfully inserted cells",executed:s!==!1,execution_results:s!==!1?u:void 0},null,2)}]}}catch(a){throw G.error("Failed to insert notebook cells:",a),new Error(`Failed to insert notebook cells: ${a instanceof Error?a.message:String(a)}`)}}async deleteNotebookCells(t,r){try{let n=await this.jupyterAdapter.createNotebookSession(t);await n.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(n.session.fileId);let s=n.getYNotebook(),i=[...r].sort((o,l)=>l.start-o.start),a=0;return s.transact(()=>{for(let o of i){let l=Math.max(0,o.start-a),c=Math.min(s.cells.length,(o.end||s.cells.length)-a),u=c-l;u>=1&&(s.deleteCellRange(l,c),a+=u)}}),{content:[{type:"text",text:JSON.stringify({message:`Successfully deleted ${a} cells`},null,2)}]}}catch(n){throw G.error("Failed to delete notebook cells:",n),new Error(`Failed to delete notebook cells: ${n instanceof Error?n.message:String(n)}`)}}async restartNotebookKernel(t,r,n,s){try{let i=await this.jupyterAdapter.createNotebookSession(t);return this.jupyterAdapter.updateSessionActivity(i.session.fileId),await i.restartKernel(s,r,n),{content:[{type:"text",text:JSON.stringify({message:"Successfully restarted notebook kernel",cleared_outputs:!!r,executed_cells:n!==!1},null,2)}]}}catch(i){throw G.error("Failed to restart notebook kernel:",i),new Error(`Failed to restart notebook kernel: ${i instanceof Error?i.message:String(i)}`)}}async listAvailableKernels(){try{let{ServerConnection:t}=await Promise.resolve().then(()=>Ee(wt(),1)),{URLExt:r}=await Promise.resolve().then(()=>Ee(qe(),1)),n=t.makeSettings({baseUrl:this.jupyterAdapter.baseUrl}),s=r.join(n.baseUrl,"/api/kernelspecs"),i={method:"GET"},a=this.jupyterAdapter.token;a&&(i.headers={...i.headers,Authorization:`token ${a}`});let o;try{o=await t.makeRequest(s,i,n)}catch(d){throw G.error("Network error in listAvailableKernels:",d),new Error(`Network error: ${d instanceof Error?d.message:String(d)}`)}let l=await o.text(),c=null;if(l.length>0)try{c=JSON.parse(l)}catch(d){G.error("Not a JSON response body in listAvailableKernels:",d),G.error("Response:",o)}if(!o.ok)throw new Error(`Server returned ${o.status}: ${c?.message||l}`);let u=[];if(c&&c.kernelspecs){let d=c.kernelspecs;for(let[f,h]of Object.entries(d))u.push({name:f,display_name:h.display_name,language:h.language,path:h.resource_dir})}return{content:[{type:"text",text:JSON.stringify({kernels:u},null,2)}]}}catch(t){throw G.error("Failed to list available kernels:",t),new Error(`Failed to list available kernels: ${t instanceof Error?t.message:String(t)}`)}}async assignNotebookKernel(t,r){try{let n=await this.jupyterAdapter.createNotebookSession(t);this.jupyterAdapter.updateSessionActivity(n.session.fileId);let s=await n.getKernelConnection(r);return s?{content:[{type:"text",text:JSON.stringify({success:!0,message:`Successfully assigned kernel '${r}' to notebook '${t}'`,kernel_name:r,notebook_path:t,kernel_id:s.id,kernel_display_name:s.name},null,2)}]}:{content:[{type:"text",text:JSON.stringify({success:!1,message:`Failed to assign kernel '${r}' to notebook '${t}'. Could not establish kernel connection.`,kernel_name:r,notebook_path:t},null,2)}]}}catch(n){return G.error("Failed to assign notebook kernel:",n),{content:[{type:"text",text:JSON.stringify({success:!1,message:`Failed to assign kernel '${r}' to notebook '${t}': ${n instanceof Error?n.message:String(n)}`,kernel_name:r,notebook_path:t},null,2)}]}}}async executeNotebookCells(t,r,n=2e3){try{let s=await this.jupyterAdapter.createNotebookSession(t);await s.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(s.session.fileId);let i=s.getYNotebook(),a=await s.ensureKernelConnection(),o=[];for(let c of r){let u=Math.max(0,c.start),d=Math.min(i.cells.length,c.end||i.cells.length);for(let f=u;f<d;f++){let h=i.getCell(f);h.cell_type==="code"&&o.push(h)}}let l=[];for(let c of o){let u=await Vi(c,a,n);l.push({outputs:u.outputs,truncated:u.truncated,original_size:u.originalSize})}return{content:[{type:"text",text:JSON.stringify({message:`Successfully executed ${r.length} cell ranges`,executed_ranges:r.length,executed_cells:o.length,execution_results:l},null,2)}]}}catch(s){throw G.error("Failed to execute notebook cells:",s),new Error(`Failed to execute notebook cells: ${s instanceof Error?s.message:String(s)}`)}}};var Ut=Ee(wt(),1),Ks=Ee(qe(),1);var Lu=class{jupyterAdapter;constructor(t){this.jupyterAdapter=t}async listDocuments(t){try{let r=Ut.ServerConnection.makeSettings({baseUrl:this.jupyterAdapter.baseUrl}),n=t||"",s=Ks.URLExt.join(r.baseUrl,"/api/contents",n),i={method:"GET"},a=this.jupyterAdapter.token;a&&(i.headers={...i.headers,Authorization:`token ${a}`});let o=await Ut.ServerConnection.makeRequest(s,i,r);if(!o.ok)throw new Error(`Server returned ${o.status}: ${o.statusText}`);let l=await o.json(),c=this.jupyterAdapter.baseUrl,u=l.content.map(d=>{let f;return d.type==="notebook"?f=`${c}/notebooks/${d.path}`:d.type==="file"?f=`${c}/edit/${d.path}`:f=`${c}/tree/${d.path}`,{name:d.name,path:d.path,type:d.type,created:d.created,last_modified:d.last_modified,size:d.size,writable:d.writable,url:f}});return{content:[{type:"text",text:JSON.stringify(u,null,2)}]}}catch(r){throw G.error("Failed to list documents:",r),new Error(`Failed to list documents: ${r instanceof Error?r.message:String(r)}`)}}async createDocument(t,r,n){try{let s=Ut.ServerConnection.makeSettings({baseUrl:this.jupyterAdapter.baseUrl}),i=Ks.URLExt.join(s.baseUrl,"/api/contents",t),o={type:r||"markdown"};if(n!==void 0&&(o.content=n,o.format="text"),t.toLowerCase().endsWith(".ipynb"))throw new Error("Cannot create .ipynb files with create_document. Use create_notebook tool instead.");let l={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)},c=this.jupyterAdapter.token;c&&(l.headers={...l.headers,Authorization:`token ${c}`});let u=await Ut.ServerConnection.makeRequest(i,l,s);if(!u.ok){let d="";try{d=` - Response body: ${await u.text()}`}catch{d=" - Could not read response body"}throw new Error(`Server returned ${u.status}: ${u.statusText}${d}`)}return{content:[{type:"text",text:`Successfully created document at ${t}`}]}}catch(s){throw G.error("Failed to create document:",s),new Error(`Failed to create document: ${s instanceof Error?s.message:String(s)}`)}}async getDocumentInfo(t,r=!1,n=32768){try{let s=Ut.ServerConnection.makeSettings({baseUrl:this.jupyterAdapter.baseUrl}),i=Ks.URLExt.join(s.baseUrl,"/api/contents",t),a={method:"GET"},o=this.jupyterAdapter.token;o&&(a.headers={...a.headers,Authorization:`token ${o}`});let l=await Ut.ServerConnection.makeRequest(i,a,s);if(!l.ok){let p="";try{p=` - Response body: ${await l.text()}`}catch{p=" - Could not read response body"}throw new Error(`Server returned ${l.status}: ${l.statusText}${p}`)}let c=await l.json(),u=this.jupyterAdapter.baseUrl,d;c.type==="notebook"?d=`${u}/notebooks/${c.path}`:c.type==="file"?d=`${u}/edit/${c.path}`:d=`${u}/tree/${c.path}`;let f={name:c.name,path:c.path,type:c.type,created:c.created,last_modified:c.last_modified,size:c.size,writable:c.writable,mimetype:c.mimetype,format:c.format,url:d},h=[{type:"text",text:JSON.stringify(f,null,2)}];if(r&&typeof c.content=="string"){let p=c.content,g=p.length,y={content_length:g};if(g>n){let v=`

...[CONTENT TRUNCATED]`;p=p.substring(0,n-v.length)+v,y.truncated=!0}else y.truncated=!1;h.push({type:"text",text:JSON.stringify(y,null,2)}),h.push({type:"text",text:p})}return{content:h}}catch(s){throw G.error("Failed to get document info:",s),new Error(`Failed to get document info: ${s instanceof Error?s.message:String(s)}`)}}async deleteDocument(t){try{let r=Ut.ServerConnection.makeSettings({baseUrl:this.jupyterAdapter.baseUrl}),n=Ks.URLExt.join(r.baseUrl,"/api/contents",t),s={method:"DELETE"},i=this.jupyterAdapter.token;i&&(s.headers={...s.headers,Authorization:`token ${i}`});let a=await Ut.ServerConnection.makeRequest(n,s,r);if(!a.ok){let o="";try{o=` - Response body: ${await a.text()}`}catch{o=" - Could not read response body"}throw new Error(`Server returned ${a.status}: ${a.statusText}${o}`)}return{content:[{type:"text",text:`Successfully deleted document at ${t}`}]}}catch(r){throw G.error("Failed to delete document:",r),new Error(`Failed to delete document: ${r instanceof Error?r.message:String(r)}`)}}async renameDocument(t,r){try{let n=Ut.ServerConnection.makeSettings({baseUrl:this.jupyterAdapter.baseUrl}),s=Ks.URLExt.join(n.baseUrl,"/api/contents",t),a={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:r})},o=this.jupyterAdapter.token;o&&(a.headers={...a.headers,Authorization:`token ${o}`});let l=await Ut.ServerConnection.makeRequest(s,a,n);if(!l.ok){let c="";try{c=` - Response body: ${await l.text()}`}catch{c=" - Could not read response body"}throw new Error(`Server returned ${l.status}: ${l.statusText}${c}`)}return{content:[{type:"text",text:`Successfully renamed document from ${t} to ${r}`}]}}catch(n){throw G.error("Failed to rename document:",n),new Error(`Failed to rename document: ${n instanceof Error?n.message:String(n)}`)}}async copyDocument(t,r){try{let n=Ut.ServerConnection.makeSettings({baseUrl:this.jupyterAdapter.baseUrl}),s=Ks.URLExt.join(n.baseUrl,"/api/contents",r),a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({copy_from:t})},o=this.jupyterAdapter.token;o&&(a.headers={...a.headers,Authorization:`token ${o}`});let l=await Ut.ServerConnection.makeRequest(s,a,n);if(!l.ok){let c="";try{c=` - Response body: ${await l.text()}`}catch{c=" - Could not read response body"}throw new Error(`Server returned ${l.status}: ${l.statusText}${c}`)}return{content:[{type:"text",text:`Successfully copied document from ${t} to ${r}`}]}}catch(n){throw G.error("Failed to copy document:",n),new Error(`Failed to copy document: ${n instanceof Error?n.message:String(n)}`)}}async overwriteDocument(t,r,n){try{let s=Ut.ServerConnection.makeSettings({baseUrl:this.jupyterAdapter.baseUrl}),i=Ks.URLExt.join(s.baseUrl,"/api/contents",t),o={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:r,format:"text",type:n})},l=this.jupyterAdapter.token;l&&(o.headers={...o.headers,Authorization:`token ${l}`});let c=await Ut.ServerConnection.makeRequest(i,o,s);if(!c.ok){let u="";try{u=` - Response body: ${await c.text()}`}catch{u=" - Could not read response body"}throw new Error(`Server returned ${c.status}: ${c.statusText}${u}`)}return{content:[{type:"text",text:`Successfully modified document at ${t}`}]}}catch(s){throw G.error("Failed to modify document:",s),new Error(`Failed to modify document: ${s instanceof Error?s.message:String(s)}`)}}async insertDocumentText(t,r,n){try{if(t.toLowerCase().endsWith(".ipynb"))throw new Error("Cannot insert text into notebook files. Use notebook tools instead.");let s=await this.jupyterAdapter.createDocumentSession(t);return await s.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(s.session.fileId),s.insertText(r,n),{content:[{type:"text",text:`Successfully inserted text at position ${r} in document ${t} using RTC`}]}}catch(s){throw G.error("Failed to insert document text:",s),new Error(`Failed to insert document text: ${s instanceof Error?s.message:String(s)}`)}}async deleteDocumentText(t,r,n){try{if(t.toLowerCase().endsWith(".ipynb"))throw new Error("Cannot delete text from notebook files. Use notebook tools instead.");let s=await this.jupyterAdapter.createDocumentSession(t);return await s.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(s.session.fileId),s.deleteText(r,n),{content:[{type:"text",text:`Successfully deleted ${n} characters from position ${r} in document ${t} using RTC`}]}}catch(s){throw G.error("Failed to delete document text:",s),new Error(`Failed to delete document text: ${s instanceof Error?s.message:String(s)}`)}}async replaceDocumentText(t,r,n,s){try{if(t.toLowerCase().endsWith(".ipynb"))throw new Error("Cannot replace text in notebook files. Use notebook tools instead.");let i=await this.jupyterAdapter.createDocumentSession(t);return await i.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(i.session.fileId),i.replaceText(r,n,s),{content:[{type:"text",text:`Successfully replaced ${n} characters with new text at position ${r} in document ${t} using RTC`}]}}catch(i){throw G.error("Failed to replace document text:",i),new Error(`Failed to replace document text: ${i instanceof Error?i.message:String(i)}`)}}async getDocumentContent(t,r=32768){try{if(t.toLowerCase().endsWith(".ipynb"))throw new Error("Cannot get content from notebook files using this method. Use notebook tools instead.");let n=await this.jupyterAdapter.createDocumentSession(t);await n.ensureSynchronized(),this.jupyterAdapter.updateSessionActivity(n.session.fileId);let s=n.getContent(),i=s.length,a={content_length:i};if(i>r){let o=`

...[CONTENT TRUNCATED]`;s=s.substring(0,r-o.length)+o,a.truncated=!0}else a.truncated=!1;return{content:[{type:"text",text:JSON.stringify(a,null,2)},{type:"text",text:s}]}}catch(n){throw G.error("Failed to get document content:",n),new Error(`Failed to get document content: ${n instanceof Error?n.message:String(n)}`)}}async endDocumentSession(t){try{return await this.jupyterAdapter.endDocumentSession({path:t})}catch(r){throw G.error("Failed to end document session:",r),new Error(`Failed to end document session: ${r instanceof Error?r.message:String(r)}`)}}async queryDocumentSession(t){try{return await this.jupyterAdapter.queryDocumentSession({path:t})}catch(r){throw G.error("Failed to query document session:",r),new Error(`Failed to query document session: ${r instanceof Error?r.message:String(r)}`)}}};var qu=class{jupyterAdapter;constructor(t){this.jupyterAdapter=t}async getBaseUrl(){try{let t=this.jupyterAdapter.baseUrl;return{content:[{type:"text",text:JSON.stringify({base_url:t},null,2)}]}}catch(t){throw G.error("Failed to get base URL:",t),new Error(`Failed to get base URL: ${t instanceof Error?t.message:String(t)}`)}}async nbPathFromUrl(t){try{if(!t)throw new Error("URL is required");let r=this.jupyterAdapter.baseUrl,n;try{n=new URL(t)}catch{throw new Error(`Invalid URL provided: ${t}`)}let s=n.pathname,i;try{i=new URL(r)}catch{throw new Error(`Invalid base URL: ${r}`)}let a=i.pathname;if(n.protocol!==i.protocol)throw new Error(`URL protocol does not match the JupyterLab base URL protocol: ${i.protocol}`);if(n.host!==i.host)throw new Error(`URL host does not match the JupyterLab base URL host: ${i.host}`);let o=a.replace(/\/$/,""),l=s.replace(/\/$/,"");if(!l.startsWith(o))throw new Error(`URL path does not match the JupyterLab base URL path: ${a}`);let c=l.substring(o.length);c.startsWith("/")&&(c=c.substring(1));let u=["tree/","notebooks/","edit/","view/","lab/tree/"];for(let f of u)if(c.startsWith(f)){c=c.substring(f.length);break}let d;try{d=decodeURIComponent(c)}catch{throw new Error(`Failed to decode URL path: ${c}`)}return{content:[{type:"text",text:JSON.stringify({original_url:t,base_url:r,notebook_path:d},null,2)}]}}catch(r){throw G.error("Failed to extract notebook path from URL:",r),new Error(`Failed to extract notebook path from URL: ${r instanceof Error?r.message:String(r)}`)}}};var $u=class{server;jupyterAdapter;notebookTools;documentTools;urlTools;constructor(t,r,n){this.server=new _l({name:r||"jupyterlab-rtc-mcp",version:n||"0.1.0"},{capabilities:{tools:{}}}),this.jupyterAdapter=new Uu(t),this.urlTools=new qu(this.jupyterAdapter),this.notebookTools=new Nu(this.jupyterAdapter),this.documentTools=new Lu(this.jupyterAdapter),this.registerURLTools(),this.registerNotebookTools(),this.registerDocumentTools()}registerURLTools(){this.server.tool("get_base_url","Get the base URL of the JupyterLab server",{},async()=>await this.urlTools.getBaseUrl()),this.server.tool("nb_path_from_url","Extract the notebook path from a full JupyterLab URL with proper URL decoding",{url:m.string().describe("Full JupyterLab URL to a notebook")},async({url:t})=>await this.urlTools.nbPathFromUrl(t))}registerNotebookTools(){this.server.tool("query_nb_sessions","Query the status of real-time collaboration sessions for notebooks in a directory",{root_path:m.string().optional().describe("Directory path to search for notebook sessions (default: lab root directory)")},async({root_path:t})=>await this.jupyterAdapter.queryNotebookSessions({root_path:t})),this.server.tool("end_nb_session","End a real-time collaboration session for a notebook",{path:m.string().describe("Path to the notebook file")},async({path:t})=>await this.jupyterAdapter.endNotebookSession({path:t})),this.server.tool("list_nbs","List all notebook files under specified directory, recursively, with RTC session and collaborator information",{path:m.string().optional().describe("Directory path to search for notebooks (default: root)")},async({path:t})=>await this.notebookTools.listNotebooks(t)),this.server.tool("create_notebook","Create a new empty notebook in JupyterLab",{path:m.string().describe("Path for the new notebook file (must end with .ipynb)")},async({path:t})=>await this.notebookTools.createNotebook(t)),this.server.tool("get_nb_stat","Get status information about a notebook",{path:m.string().describe("Path to the notebook file")},async({path:t})=>await this.notebookTools.getNotebookStatus(t)),this.server.tool("read_nb_cells","Read multiple cells by specifying ranges with formal output schema and truncation support",{path:m.string().describe("Path to the notebook file"),ranges:m.array(m.object({start:m.number().describe("Starting cell index"),end:m.number().optional().describe("Ending cell index (exclusive)")})).optional().describe("Array of cell ranges to read"),max_cell_data:m.number().default(2048).describe("Maximum size in characters for cell source and output data (default: 2048)")},async({path:t,ranges:r,max_cell_data:n})=>await this.notebookTools.readNotebookCells(t,r,n)),this.server.tool("modify_nb_cells","Modify multiple cells by specifying ranges, execute them if not disabled",{path:m.string().describe("Path to the notebook file"),modifications:m.array(m.object({range:m.object({start:m.number().describe("Starting cell index"),end:m.number().optional().describe("Ending cell index (exclusive)")}),content:m.string().describe("New content for the cells")})).describe("Array of cell modifications"),exec:m.boolean().default(!0).describe("Whether to execute the modified cells"),max_cell_output_size:m.number().default(2e3).describe("Maximum size in characters for cell output data when executing cells (default: 2000)")},async({path:t,modifications:r,exec:n,max_cell_output_size:s})=>await this.notebookTools.modifyNotebookCells(t,r,n,s)),this.server.tool("insert_nb_cells","Insert multiple cells at specified location, execute them if not disabled",{path:m.string().describe("Path to the notebook file"),position:m.number().describe("Position to insert the cells"),cells:m.array(m.object({type:m.enum(["code","markdown"]).default("code").describe("Cell type"),content:m.string().describe("Cell content")})).describe("Array of cells to insert"),exec:m.boolean().default(!0).describe("Whether to execute the inserted cells"),max_cell_output_size:m.number().default(2e3).describe("Maximum size in characters for cell output data when executing cells (default: 2000)")},async({path:t,position:r,cells:n,exec:s,max_cell_output_size:i})=>await this.notebookTools.insertNotebookCells(t,r,n,s,i)),this.server.tool("delete_nb_cells","Delete multiple cells by specifying ranges",{path:m.string().describe("Path to the notebook file"),ranges:m.array(m.object({start:m.number().describe("Starting cell index"),end:m.number().optional().describe("Ending cell index (exclusive)")})).describe("Array of cell ranges to delete")},async({path:t,ranges:r})=>await this.notebookTools.deleteNotebookCells(t,r)),this.server.tool("execute_nb_cells","Execute multiple cells by specifying ranges",{path:m.string().describe("Path to the notebook file"),ranges:m.array(m.object({start:m.number().describe("Starting cell index"),end:m.number().optional().describe("Ending cell index (exclusive)")})).describe("Array of cell ranges to execute"),max_cell_output_size:m.number().default(2e3).describe("Maximum size in characters for cell output data when executing cells (default: 2000)")},async({path:t,ranges:r,max_cell_output_size:n})=>await this.notebookTools.executeNotebookCells(t,r,n)),this.server.tool("restart_nb_kernel","Restart the kernel of a specified notebook",{path:m.string().describe("Path to the notebook file"),clear_outputs:m.boolean().default(!1).describe("Whether to clear cell contents after restart"),exec:m.boolean().default(!0).describe("Whether to execute cells after restart"),kernel_name:m.string().optional().describe("Name of the kernel to use (from list_available_kernels)")},async({path:t,clear_outputs:r,exec:n,kernel_name:s})=>await this.notebookTools.restartNotebookKernel(t,r,n,s)),this.server.tool("list_available_kernels","List all available kernels on the JupyterLab server",{},async()=>await this.notebookTools.listAvailableKernels()),this.server.tool("assign_nb_kernel","Assign a specific kernel to a notebook",{path:m.string().describe("Path to the notebook file"),kernel_name:m.string().describe("Name of the kernel to assign (from list_available_kernels)")},async({path:t,kernel_name:r})=>await this.notebookTools.assignNotebookKernel(t,r))}registerDocumentTools(){this.server.tool("list_documents","List available documents in JupyterLab",{path:m.string().optional().describe("Path to list documents from (default: root)")},async({path:t})=>await this.documentTools.listDocuments(t)),this.server.tool("create_document","Create a new text document in JupyterLab (markdown, txt, rst, etc.)",{path:m.string().describe("Path for the new document"),type:m.enum(["markdown","txt","rst"]).default("markdown").describe("Document type (markdown, txt, rst, etc.)"),content:m.string().optional().describe("Initial content for the document")},async({path:t,type:r,content:n})=>await this.documentTools.createDocument(t,r,n)),this.server.tool("get_document_info","Get information about a document",{path:m.string().describe("Path to the document"),include_content:m.boolean().default(!1).describe("Whether to include document content"),max_content:m.number().default(32768).describe("Maximum content length to return (default: 32KB)")},async({path:t,include_content:r,max_content:n})=>await this.documentTools.getDocumentInfo(t,r,n)),this.server.tool("delete_document","Delete a document in JupyterLab",{path:m.string().describe("Path to the document to delete")},async({path:t})=>await this.documentTools.deleteDocument(t)),this.server.tool("rename_document","Rename a document in JupyterLab",{path:m.string().describe("Current path to the document"),newPath:m.string().describe("New path for the document")},async({path:t,newPath:r})=>await this.documentTools.renameDocument(t,r)),this.server.tool("copy_document","Copy a document in JupyterLab",{path:m.string().describe("Path to the document to copy"),copyPath:m.string().describe("Path for the copied document")},async({path:t,copyPath:r})=>await this.documentTools.copyDocument(t,r)),this.server.tool("overwrite_document","Overwrite the entire content of a document",{path:m.string().describe("Path to the document to overwrite"),content:m.string().describe("New content for the document"),type:m.enum(["markdown","txt","rst"]).default("markdown").describe("Document type (markdown, txt, rst, etc.)")},async({path:t,content:r,type:n})=>await this.documentTools.overwriteDocument(t,r,n)),this.server.tool("get_document_content","Get document content using real-time collaboration",{path:m.string().describe("Path to the document"),max_content:m.number().default(32768).describe("Maximum content length to return (default: 32KB)")},async({path:t,max_content:r})=>await this.documentTools.getDocumentContent(t,r)),this.server.tool("insert_document_text","Insert text at a specific position in a document using real-time collaboration",{path:m.string().describe("Path to the document"),position:m.number().describe("Position to insert the text (0-based)"),text:m.string().describe("Text to insert")},async({path:t,position:r,text:n})=>await this.documentTools.insertDocumentText(t,r,n)),this.server.tool("delete_document_text","Delete text from a specific position in a document using real-time collaboration",{path:m.string().describe("Path to the document"),position:m.number().describe("Starting position to delete from (0-based)"),length:m.number().describe("Number of characters to delete")},async({path:t,position:r,length:n})=>await this.documentTools.deleteDocumentText(t,r,n)),this.server.tool("replace_document_text","Replace text in a specific range in a document using real-time collaboration",{path:m.string().describe("Path to the document"),position:m.number().describe("Starting position to replace from (0-based)"),length:m.number().describe("Number of characters to replace"),text:m.string().describe("Replacement text")},async({path:t,position:r,length:n,text:s})=>await this.documentTools.replaceDocumentText(t,r,n,s)),this.server.tool("end_document_session","End a real-time collaboration session for a document",{path:m.string().describe("Path to the document")},async({path:t})=>await this.documentTools.endDocumentSession(t)),this.server.tool("query_document_session","Query the status of a real-time collaboration session for a document",{path:m.string().describe("Path to the document")},async({path:t})=>await this.documentTools.queryDocumentSession(t))}async connect(t){await this.server.connect(t)}getServer(){return this.server}getJupyterLabAdapter(){return this.jupyterAdapter}};function XA(){let e=process.argv.slice(2),t={sessionTimeout:300*1e3};for(let r=0;r<e.length;r++)if(e[r]==="--session-timeout"){let s=parseInt(e[r+1],10);(isNaN(s)||s<1)&&(G.error(`Invalid session timeout: ${e[r+1]}. Must be a positive number of minutes`),process.exit(1)),t.sessionTimeout=s*60*1e3,r++}return t}async function eM(){let e=XA(),t=new $u(e.sessionTimeout);try{let r=new Jo;await t.connect(r),G.info("JupyterLab RTC MCP Server started successfully with stdio transport")}catch(r){G.error("Failed to start stdio transport server",r),process.exit(1)}}eM().catch(e=>{G.error("Failed to start JupyterLab RTC MCP Server",e),process.exit(1)});
/*! Bundled license information:

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

tough-cookie/dist/cookie/cookie.js:
  (*!
   * Copyright (c) 2015-2020, Salesforce.com, Inc.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice,
   * this list of conditions and the following disclaimer.
   *
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   * this list of conditions and the following disclaimer in the documentation
   * and/or other materials provided with the distribution.
   *
   * 3. Neither the name of Salesforce.com nor the names of its contributors may
   * be used to endorse or promote products derived from this software without
   * specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
   * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
   * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
   * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
   * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
   * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
   * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   * POSSIBILITY OF SUCH DAMAGE.
   *)
*/
